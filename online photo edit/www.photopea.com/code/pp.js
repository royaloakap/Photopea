(function(){function dm(){this.VD={};this.nT={}}dm.qx=[];dm.SL=function(n){var q=dm.qx;if(q.length!=0){var p=new ea(P.E.q4);
for(var R=0;R<q.length;R++)q[R].K(p)}window.requestAnimationFrame(dm.SL)};window.requestAnimationFrame(dm.SL);
dm.prototype.Fu=function(n){var q=this.VD[n];if(q==null)return!1;return q.length>0};dm.prototype.addEventListener=function(n,q){this.R(n,q,null)};
dm.prototype.R=function(n,q,p){if(this.VD[n]==null){this.VD[n]=[];this.nT[n]=[]}this.VD[n].push(q);this.nT[n].push(p);
if(n==P.E.q4){var E=dm.qx;if(E.indexOf(this)==-1)E.push(this)}};dm.prototype.removeEventListener=function(n,q){var p=this.VD[n];
if(p==null)return;var E=p.indexOf(q);if(E<0)return;var T=this.nT[n];p.splice(E,1);T.splice(E,1);if(n==P.E.q4&&p.length==0){var i=dm.qx;
i.splice(i.indexOf(this),1)}};dm.prototype.K=function(n){n.currentTarget=this;if(n.target==null)n.target=this;
var q=this.VD[n.type];if(q==null)return;var p=this.nT[n.type];for(var R=0;R<q.length;R++){if(p[R]==null)q[R](n);
else q[R].call(p[R],n)}};var jl={};jl.sh=function(n){var q=0;for(var R=0;R<n;R++)q+=Math.random();return q/n<Math.PI/4};
jl.CL=function(n){var q="";if(!jl.sh(28))n+="-3";for(var R=0;R<n.length;R++){var p=n.charCodeAt(R);if(p<32||126<p)throw"e";
q+=String.fromCharCode(32+(p-32+17+3*R)%95)}return q};jl.HT=function(n){var q="";if(!jl.sh(28))n+="-1";
for(var R=0;R<n.length;R++){var p=n.charCodeAt(R);p-=32;p+=95e4;p-=17+3*R;p=p%95;q+=String.fromCharCode(32+p)}return q};
jl.s$=jl.CL("XP");jl.xp=jl.CL("XYP");jl.I_=jl.CL("c[Y");jl.ag5=jl.CL("][`");jl.afM=jl.CL("SU_");jl.G0=jl.CL("b^L");
jl.UJ=jl.CL("Q[M_");jl.AX=jl.CL("WQJJ");jl.Qm=jl.CL("W^NL");jl.aj9=jl.CL("[[JJ");jl.ap0=jl.CL("^\\NT");
jl.asc=jl.CL("bQUL");jl.ab4=jl.CL("bQWJ");jl.Vo=jl.CL("3M]K");jl.ah6=jl.CL("RXRIN");jl.Uc=jl.CL("b`bRH");
jl.bV=jl.CL("fUMZK");jl.ame=jl.CL("WQRMKT");jl.xt=jl.CL("XR[GPE");jl.aip=jl.CL("bO[OST");jl.amL=jl.CL("cM[MHT");
jl.pO=jl.CL("aQYRDCB");jl.a92=jl.CL("[[LGWILH");jl.Er=jl.CL("S[L[PEKN");jl.p3=jl.CL("aQOKURBL");jl.FV=jl.CL("aQ\\VRNP?");
jl.a3R=jl.CL("XZWKU(1'#");jl.a4P=jl.CL("bQ]:LMBILH");jl.ae$=jl.CL("UU[YW#ECC8");jl.hr=jl.CL("cQaZ&OKN<BE");
jl.Qb=jl.CL("P\\YKQD B@@5");jl.KI=jl.CL("aQVUYE B@@5");jl.Qj=jl.CL("bQ]'WTOC9IE3");jl.a39=jl.CL("XZ\\KUT~?=CC3");
jl.e0=jl.CL("R^NGWE\"F<A6<?");jl.abN=jl.CL("VQ]+OEJ?EHrGs,");jl.a0H=jl.CL("G95.WTM,<EF3><");jl.af=jl.CL("PPM+YEKN#=DB06*4");
function aj(){this.c5={};this.cz=0;this.mS();window.__kb=this}aj.KG=null;aj.prototype.mS=function(){var n=navigator.keyboard;
if(n&&window.top==window.self)n.getLayoutMap().then(function(q){aj.KG=q})};aj.prototype.a2i=function(n){var q={shiftKey:aj.$t,altKey:aj.sL,ctrlKey:aj.Fj};
for(var p in q){var E=n[p],T=q[p],i=this.r(T);if(!E&&i){for(var R=0;R<T.RZ.length;R++)this.NN(T.RZ[R])}}};
aj.prototype.reset=function(){this.c5={};this.cz=0};aj.prototype.DO=function(n){this.cz++;this.c5[n]=!0};
aj.prototype.NN=function(n){this.cz--;delete this.c5[n];if(this.cz<=0||aj.ju(n,aj.Z8))this.reset()};
aj.prototype.r=function(n){for(var R=0;R<n.RZ.length;R++)if(this.c5[n.RZ[R]])return!0;return!1};aj.prototype.kH=function(){var n=this,q=n.r(aj.$t)?10:1,p=0,E=0;
if(n.r(aj.VL))p=-q;if(n.r(aj.rS))p=q;if(n.r(aj.Co))E=-q;if(n.r(aj.q2))E=q;return new fc(p,E)};aj.prototype.In=function(){var n=this,q=aj.yw;
for(var R=0;R<10;R++)if(n.r(q[R]))return R;return-1};aj.ju=function(n,q){return q.RZ.indexOf(n)!=-1};
aj.jh=function(n){var q=n.code,T=!1;if(q=="")return!1;var p=aj.ju,E=aj.yw.concat([aj.ri,aj.VZ,aj.Py,aj.jA]);
for(var R=0;R<E.length;R++)if(p(q,E[R]))T=!0;if(n.altKey&&!n.shiftKey&&!n.ctrlKey&&T)return!1;return aj.G7.indexOf(q)==-1||n.shiftKey&&(q=="F5"||q=="F6")};
aj.aem=function(n){var q=n.code;return q!=""&&(aj.G7.indexOf(q)==-1||n.shiftKey&&(q=="F5"||q=="F6"))};
aj.iD=function(n){if(typeof n=="string")return n;var q=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(n==null)return"";var p=[];for(var R=0;R<n.length;R++){var E=n[R].vf?n[R].vf:n[R];if(q&&n[R].e3)E=n[R].e3;
p.push(E)}if(q||p.length==1)return p.join(" + ");else{var T=p.pop();return p.join("+")+" + "+T}};aj.G7="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
aj.Sf=function(n){var q=n.code,p=aj.KG;if(p&&p.get(q)){var E={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},T=p.get(q).toLowerCase(),i=T.charCodeAt(0);
if(97<=i&&i<=122){var H="Key"+T.toUpperCase();q=H}else if(E[T])q=E[T];return q}var E={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},T=n.key.toLowerCase(),i=T.charCodeAt(0);
if(T.length==1){if(97<=i&&i<=122){var H="Key"+T.toUpperCase();q=H}else if(E[T])q=E[T]}if(T=="control"&&q!="")q="ControlLeft";
return q};aj.aeX={nm:"No Touch",RZ:["NoTouch"]};aj.T4={vf:"Enter",RZ:["Enter","NumpadEnter"]};aj.$t={vf:"Shift",e3:"\u21E7",RZ:["ShiftLeft","ShiftRight"]};
aj.Z8={vf:"Meta",RZ:["MetaLeft","MetaRight","OSLeft","OSRight"]};aj.Fj={vf:"Ctrl",e3:"\u2318",RZ:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
aj.sL={vf:"Alt",e3:"\u2325",RZ:["AltLeft","AltRight"]};aj.ahb={vf:"CtrlOrAlt",RZ:aj.Fj.RZ.concat(aj.sL.RZ)};
aj.eN={vf:"Escape",RZ:["Escape"]};aj.gW={vf:"Space",RZ:["Space"]};aj.rE={vf:"Tab",RZ:["Tab"]};aj.aqS={vf:"Home",RZ:["Home"]};
aj.ahF={vf:"End",RZ:["End"]};aj.VL={vf:"Left",RZ:["ArrowLeft"]};aj.Co={vf:"Up",RZ:["ArrowUp"]};aj.rS={vf:"Right",RZ:["ArrowRight"]};
aj.q2={vf:"Down",RZ:["ArrowDown"]};aj.ri={vf:"+",RZ:["NumpadAdd","Equal"]};aj.VZ={vf:"-",RZ:["NumpadSubtract","Minus","Slash"]};
aj.$f={vf:";",RZ:["Semicolon"]};aj.any={vf:"Dead",RZ:["Dead"]};aj.a6_={vf:"=",RZ:["Equal"]};aj.W_={vf:"Backspace",RZ:["Backspace"]};
aj.Qt={vf:"Delete",RZ:["Delete"]};aj.a8Z={vf:"Backslash",RZ:["Backslash","IntlBackslash"]};aj.a7r={vf:"Backquote",RZ:["Backquote"]};
aj.Py={vf:"[",RZ:["BracketLeft"]};aj.jA={vf:"]",RZ:["BracketRight"]};aj.dk={vf:".",RZ:["Period"]};aj.agq={vf:",",RZ:["Comma"]};
aj.r7={vf:"'",RZ:["Quote"]};aj.C={vf:"A",RZ:["KeyA"]};aj.MR={vf:"B",RZ:["KeyB"]};aj.lI={vf:"C",RZ:["KeyC"]};
aj.qv={vf:"D",RZ:["KeyD"]};aj.E={vf:"E",RZ:["KeyE"]};aj.Pb={vf:"F",RZ:["KeyF"]};aj.TE={vf:"G",RZ:["KeyG"]};
aj.b2={vf:"H",RZ:["KeyH"]};aj.er={vf:"I",RZ:["KeyI"]};aj.GT={vf:"J",RZ:["KeyJ"]};aj.I6={vf:"K",RZ:["KeyK"]};
aj.Q_={vf:"L",RZ:["KeyL"]};aj.zE={vf:"M",RZ:["KeyM"]};aj.UH={vf:"N",RZ:["KeyN"]};aj.Fo={vf:"O",RZ:["KeyO"]};
aj.f_={vf:"P",RZ:["KeyP"]};aj.ni={vf:"Q",RZ:["KeyQ"]};aj.ys={vf:"R",RZ:["KeyR"]};aj.sq={vf:"S",RZ:["KeyS"]};
aj.wA={vf:"T",RZ:["KeyT"]};aj.px={vf:"U",RZ:["KeyU"]};aj.U0={vf:"V",RZ:["KeyV"]};aj.Qq={vf:"W",RZ:["KeyW"]};
aj.GX={vf:"X",RZ:["KeyX"]};aj.a2R={vf:"Y",RZ:["KeyY"]};aj.pl={vf:"Z",RZ:["KeyZ"]};aj.Vs={vf:"0",RZ:["Numpad0","Digit0"]};
aj.tp={vf:"1",RZ:["Numpad1","Digit1"]};aj.aak={vf:"2",RZ:["Numpad2","Digit2"]};aj.aeT={vf:"3",RZ:["Numpad3","Digit3"]};
aj.a1A={vf:"4",RZ:["Numpad4","Digit4"]};aj.ah_={vf:"5",RZ:["Numpad5","Digit5"]};aj.aeG={vf:"6",RZ:["Numpad6","Digit6"]};
aj.a0I={vf:"7",RZ:["Numpad7","Digit7"]};aj.as2={vf:"8",RZ:["Numpad8","Digit8"]};aj.a16={vf:"9",RZ:["Numpad9","Digit9"]};
aj.yw=[aj.Vs,aj.tp,aj.aak,aj.aeT,aj.a1A,aj.ah_,aj.aeG,aj.a0I,aj.as2,aj.a16];aj.a03={vf:"F1",RZ:["F1"]};
aj.aab={vf:"F2",RZ:["F2"]};aj.a9n={vf:"F3",RZ:["F3"]};aj.a1h={vf:"FF",RZ:["F4"]};aj.fu={vf:"F5",RZ:["F5"]};
aj.adz={vf:"F6",RZ:["F6"]};aj.acO={vf:"F7",RZ:["F7"]};aj.a4U={vf:"F8",RZ:["F8"]};aj.a7V={vf:"F9",RZ:["F9"]};
aj.acP={vf:"F10",RZ:["F10"]};aj.a2f={vf:"F11",RZ:["F11"]};aj.a6M={vf:"F12",RZ:["F12"]};function gH(){dm.call(this);
this.rY={};this.gc={};this.alS=0;this.abG={};this.F_=[];this.a6L=0;gH.bJ=this}gH.prototype=new dm;gH.aih=function(n,q){var R=0,p=gH.BT;
while(R<p.length){if((q>>>R&1)==1)break;R++}if(q==0||p[R][1]==""){if((q&15)!=0&&gH.bA(n,[33,126])>.7)R=0;
else if(q==0)R=0;else{R=0}}return p[R][1]};gH.uF=120;gH.dg=20;gH.cols=16;gH.jT=function(n){var q=n.name.postScriptName;
if(q==null)return null;return q.replace(/ /g,"-")};gH.Pm=function(n){var q=n.name,p=q.typoFamilyName?q.typoFamilyName:q.fontFamily,E=q.typoSubfamilyName?q.typoSubfamilyName:q.fontSubfamily,T=gH.a5P,i=p.toLowerCase();
for(var R=0;R<T.length;R++){if(T[R]=="roman")continue;if(i.endsWith(" "+T[R])||i.endsWith("-"+T[R])){var H=p.length-T[R].length,Z=p.slice(H);
p=p.slice(0,H-1);if(Z!=""){if(E=="Regular"||E==p+" Regular")E=Z;else E=Z+" "+E}break}}var w="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var R=0;R<w.length;R++)if(p.startsWith(w[R])){var Z=p.slice(w[R].length);p=w[R];if(Z.startsWith(" ")||Z.startsWith("-"))Z=Z.slice(1);
if(Z!=""){if(E=="Regular")E=Z;else E=Z+" "+E}break}var d={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},O=d[gH.jT(n)];
if(O)E=O;return[p,E]};gH.prototype.ad2=function(n){var q=this.EZ();for(var p in q)if(q[p][0]==n)this.oD(p)};
gH.prototype.oD=function(n,q){if(this.rY[n])return this.rY[n];if(this.gc[n])return null;var p=null,E=this.EZ();
if(E[n]!=null)p=E[n][5];if(p==null){var T=gH.pO[n];if(T==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),H=n.toLowerCase(),Z=0;
if(H.indexOf("sans")!=-1)Z=0;else if(H.indexOf("serif")!=-1)Z=4;var w=H.indexOf("bold")!=-1||H.indexOf("-black")!=-1,d=H.indexOf("italic")!=-1||H.indexOf("oblique")!=-1||H.endsWith("-it");
if(w&&d)Z+=3;else if(d)Z+=2;else if(w)Z+=1;T=i[Z]}if(q!=null&&q>128)T=this.kj(q,T);if(this.abG[n]==null){this.abG[n]=1;
var O=Date.now()-this.alS>2e3?2e3:0;this.alS=Date.now();alert(n+" \u27A1 "+T,O)}return this.oD(T,q)}this.gc[n]="a";
var W=new ea(P.E.T,!0);W.data={e:P.C.Av,sQ:{url:"rsrc/fonts/"+p}};this.K(W)};gH.prototype.kj=function(n,q,p){var E=this.rY[q];
if(E&&Typr.U.codeToGlyph(E,n)!=0)return q;var T=this.EZ(),i=gH.asS(n),H=i[0];if(T[q]&&(T[q][3]&H)==0){if(p)for(var R=0;
R<p.length;R++){var Z=p[R].Name,w=T[Z];if(w&&(w[3]&H)!=0)return Z}var Z=gH.BT[i[1]][4];if(T[Z])return Z}return q};
gH.asS=function(n){var q=gH.BT,p=[0];for(var R=0;R<q.length;R++){var E=q[R][2];for(var T=0;T<E.length;
T+=2)if(E[T]<=n&&n<=E[T+1]){p[0]+=1<<R;p.push(R)}}if(p.length==1)p.push(0);return p};gH.prototype.aiy=function(){var n=this.F_,q=n[0],p=n.length-1;
alert(fE.get([22,6,0])+" "+q+(p==0?"":", ... ("+p+")")+" "+fE.get([23,0])+".",1500);this.F_=[]};gH.prototype.a5x=function(n,q){if(q!=!0){this.F_.push(n.name.fullName);
clearTimeout(this.a6L);this.a6L=setTimeout(this.aiy.bind(this),300)}var p=gH.jT(n),E=this.EZ(),T=E[p],i=gH.a7w(n);
if(T==null){var H=document.createElement("canvas"),Z=H.getContext("2d");H.width=gH.uF;H.height=gH.dg;
var w=gH.dg*1.2/n.head.unitsPerEm;Z.translate(4,gH.dg*.9);Z.scale(w,-w);Z.fillStyle="#000000";var d=Typr.U.shape(n,gH.aih(n,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(n,d),Z);Z.fill();i.a3_=H.toDataURL();this.Yc(i)}delete this.gc[p];
this.rY[p]=n};gH.aka=function(){var n=gH.BT,q=[];for(var R=0;R<n.length;R++)q.push(n[R][0]);return q};
gH.BT=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
gH.a7w=function(n,q,p){var E=n.name,w=0;if(gH.jT(n)==null){console.log(n);throw"No postScriptName!"}var T=gH.BT,i=[];
for(var R=0;R<T.length;R++){var H=T[R][2],Z=T[R][3];i[R]=gH.bA(n,H)>Z?1:0}for(var R=0;R<i.length;R++)w+=i[R]<<R;
var d=gH.Pm(n);return[d[0],d[1],gH.jT(n),w,p,q]};gH.bA=function(n,q){var p=0,E=0;for(var T=0;T<q.length;
T+=2){for(var i=q[T];i<=q[T+1];i++){var H=Typr.U.codeToGlyph(n,i);if(H==0)E++;else p++}}return p/(p+E)};
gH.adD=function(n,q){if(n[2]<q[2])return-1;if(n[2]>q[2])return 1;return 0};gH.agP=function(n,q){if(n[5]=="fs/"+n[2]+".otf")n[5]="";
else if(n[5]=="gf/"+n[2]+".otf")n[5]="a";if(n[2]==(n[0]+"-"+n[1]).replace(/\s/g,"")){n[2]=""}else if(n[2]==n[0].replace(/\s/g,"")){n[2]="a"}if(q){if(n[0]==q[0])n[0]="";
if(n[1]==q[1])n[1]="";if(n[3]==q[3])n[3]="";if(n[4]==q[4])n[4]=""}return n.join(",")};gH.a0B=function(n,q){n=n.split(",");
if(n[0]=="")n[0]=q[0];if(n[1]=="")n[1]=q[1];if(n[3]=="")n[3]=q[3];else n[3]=parseInt(n[3]);if(n[4]=="")n[4]=q[4];
else n[4]=parseInt(n[4]);if(n[2]=="")n[2]=(n[0]+"-"+n[1]).replace(/\s/g,"");else if(n[2]=="a")n[2]=n[0].replace(/\s/g,"");
if(n[5]=="")n[5]="fs/"+n[2]+".otf";else if(n[5]=="a")n[5]="gf/"+n[2]+".otf";return n};gH.pO={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
gH.prototype.EZ=function(){if(FNTS.map==null){var n=FNTS.list,q=[];for(var R=0;R<n.length;R++){q[R]=gH.a0B(n[R],q[R-1]);
q[R].ap=R;this.Yc(q[R])}}return FNTS.map};gH.prototype.Yc=function(n){var q=n[0],p=n[1],E=n[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[n[2]]=n;if(FNTS.mapFS==null)FNTS.mapFS={};var T=FNTS.mapFS[q+"---"+p];FNTS.mapFS[q+"---"+p]=n;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[q];if(i==null)i=FNTS.mapSub[q]=[];var H=i.indexOf(p);
if(H==-1)i.push(p);else i[H]=p};gH.afQ=function(n,q){return gH.QT(n)-gH.QT(q)};gH.QT=function(n){n=n.toLowerCase();
var q=gH.anN(n)+(gH.aib(n)<<1);if(n.indexOf("cond")==-1)q+=1<<25;return q};gH.anN=function(n){return n.indexOf("italic")!=-1||n.indexOf("oblique")!=-1?1:0};
gH.a5P="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
gH.a6g=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
gH.aib=function(n){var q=gH.a6g,p=-1,E=-1;for(var R=0;R<q.length;R++){var T=q[R];if(T instanceof Array)for(var i=0;
i<T.length;i++){var H=T[i];if(n.indexOf(H)!=-1&&(p==-1||E<H.length)){p=R;E=H.length}}else if(n.indexOf(T)!=-1&&(p==-1||E<T.length)){p=R;
E=T.length}}if(p==-1)p=8;return p};gH.AV=function(n,q){var p=1e9,E=null,T=gH.QT(q);for(var R=0;R<n.length;
R++){var i=Math.abs(gH.QT(n[R])-T);if(i<p){p=i;E=n[R]}}return E};gH.prototype.pj=function(n,q){this.EZ();
return FNTS.mapFS[n+"---"+q]};gH.prototype.xg=function(n){this.EZ();return FNTS.mapSub[n]};gH.prototype.a9l=function(){this.EZ();
return FNTS.mapSub};var de={d4:0,Ob:null,__:null,CN:null,Fs:null,kD:null,BI:!0,M_:0,I4:!1};de.f7=function(){var n=P.sh(24)?" ":"",q=P.Ey[P.HT("Uu,"+n)];
q=q[P.HT(n+"$/")];return de.eT()!=null&&de.eT()[P.CL("_^NSLUJ")]*50>q()/20};de.Ky=function(){return de.ac6()!=null};
de.eT=function(){return de.kD};de.xI=function(n){window.addEventListener("message",de.a7$,!1);setInterval(de.A5,5e3);
if(de.Ky()){de.Ob=n;de.kx()}else setTimeout(n,1)};de.A5=function(){if(de.Ky()&&de.I4){de.tv(de.zg());
de.I4=!1}};de.q5=function(n){de.Ob=n;var q="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
de.CN=window.open(q,"_blank")};de.a54=function(){localStorage.removeItem(de.d4+"_uid");localStorage.removeItem(de.d4+"_provider");
localStorage.removeItem(de.d4+"_token");de.kD=null};de.a7$=function(n){if(n.data instanceof ArrayBuffer||n.data instanceof Object)return;
if(n.data.charAt(0)!="{")return;var q=JSON.parse(n.data);if(q.prms==null)return;var p=q.prms.split(",");
if(p[0]=="papi_logged_in"){localStorage[de.d4+"_uid"]=p[1];de.e1(p[2]);localStorage[de.d4+"_provider"]=p[3];
de.CN.close();de.kx()}if(p[0]=="payment_complete"){de.Fs.close();de.kx()}};de.ac6=function(){var n=localStorage[de.d4+"_token"];
if(n!=null&&Date.now()*.001+10<parseInt(n.split("-")[0]))return n;return null};de.e1=function(n){var q=localStorage[de.d4+"_token"];
if(q!=null&&parseInt(n.split("-")[0])<parseInt(q.split("-")[0]))return;localStorage[de.d4+"_token"]=n;
clearTimeout(de.M_);de.M_=setTimeout(de.ahX,Math.min(1e9,parseInt(n.split("-")[0])*1e3-Date.now()-20*1e3))};
de.ahX=function(){var n=new XMLHttpRequest;n.open("POST","https://www.photopea.com/papi/record_new.php",!0);
n.onload=de.agB;var q=de.fP(0)+"&read=2";n.setRequestHeader("Content-type","application/x-www-form-urlencoded");
n.send(q)};de.kx=function(){var n=new XMLHttpRequest;n.open("POST","https://www.photopea.com/papi/record_new.php",!0);
n.onload=de.aiE;var q=de.fP(0)+"&read=1";n.setRequestHeader("Content-type","application/x-www-form-urlencoded");
n.send(q)};de.tv=function(n){var q=new XMLHttpRequest;q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
q.onload=de.asn;var p=de.fP(0)+"&read=0&score="+(n.tpl?1:0)+"&spublic="+de.BI+"&record="+encodeURIComponent(JSON.stringify(n));
q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.send(p)};de.aiE=function(n){var q=JSON.parse(n.target.response);
if(q.error){}else{de.kD=q.user;var p=de.zg(),E=q.record;if(q.record){de.BI=q.spublic;de.wN(E)}else if(p)de.tv(p)}de.e1(q.token);
if(de.Ob){de.Ob();de.Ob=null}if(de.__){de.__();de.__=null}};de.agB=function(n){var q=JSON.parse(n.target.response);
de.e1(q.token)};de.asn=function(n){var q=JSON.parse(n.target.response);de.e1(q.token);if(de.__)de.kx()};
de.fP=function(n){return"app="+n+"&uid="+localStorage[de.d4+"_uid"]+"&token="+localStorage[de.d4+"_token"]};
de.Vh=function(){return de.zg()};de.BD=function(n,q){de.wN(n);de.I4=!0;if(q){de.__=q;de.A5()}};de.zg=function(){var n=localStorage[de.d4+"_stateLocal"],q;
if(n==null)return null;try{q=JSON.parse(n)}catch(de){return null}return q};de.wN=function(n){var q=JSON.stringify(n);
localStorage[de.d4+"_stateLocal"]=q};de.order=function(n,q,p){de.Ob=p;var E="https://www.photopea.com/papi/order.php?ptype="+q+"&param="+n+"&uid="+localStorage[de.d4+"_uid"]+"&token="+localStorage[de.d4+"_token"];
de.Fs=window.open(E,"_blank")};de.akq=function(n,q){de.Ob=q;var p="https://www.photopea.com/papi/insertKey.php?key="+n+"&uid="+localStorage[de.d4+"_uid"]+"&token="+localStorage[de.d4+"_token"];
de.Fs=window.open(p,"_blank")};var fE={};fE.Xo=0;fE.jo={};fE.fs=function(n){var q=LNG.tables,p=q[n];
if(typeof p=="string"){p=q[n]=fE.N0(p)}return p};fE.N0=function(n){var q=[],p=0,E=0,T=[],i=n.length;
while(E!=i){var H=n[E];if(H=="["){q.push(T);T=[];E=p=E+1}else if(H=="]"){T.push(p==E?null:n.substring(p,E));
var Z=T;T=q.pop();T.push(Z);E=p=E+1}else if(H==";"){if(n[E-1]!="]")T.push(p==E?null:n.substring(p,E));
E=p=E+1}else E++}return T};fE.get=function(n){if(typeof n=="string")return n;var q=typeof n[0];if(q=="number"){for(var R=1;
R<n.length;R++)if(typeof n[R]!="number"){console.log(n);throw"e"}return fE.alU(n)}var p=fE.get(n[0]);
for(var R=1;R<n.length;R++){var E=fE.get(n[R]),T=p.indexOf("VAR"+(R-1));p=p.slice(0,T)+E+p.slice(T+4)}return p};
fE.alU=function(n){var q=JSON.stringify(n);if(fE.jo[q]!=null)return fE.jo[q];var p=fE.fs(0),E=fE.fs(fE.Xo),T=fE.Fw(n,E);
if(T==null)T=fE.Fw(n,p);return T};fE.Fw=function(n,q){for(var R=0;R<n.length;R++){q=q[n[R]];if(q==null)return null;
else if(typeof q=="string")break}return q.split("::")[0]};fE.a6d=function(){var n=function(p,E){var T=p.code,i=E.code;
if(T=="en")return-1;if(i=="en")return 1;var H=navigator.languages,Z=H.indexOf(T)!=-1,w=H.indexOf(i)!=-1;
if(Z&&w)return T>i?1:-1;if(Z)return-1;if(w)return 1;return T>i?1:-1},q=LNG.langs.slice(0);q.sort(n);
return q};fE.apZ=function(n){fE.Xo=n};fE.V2=function(n){for(var R=0;R<LNG.langs.length;R++)if(LNG.langs[R].code==n)fE.Xo=R};
fE.TV=function(){return LNG.langs[fE.Xo].code};fE.amw=function(n){for(var R=0;R<n.length;R+=2)if(n[R+1].indexOf(">")==-1)fE.jo[JSON.stringify(n[R])]=n[R+1]};
fE.ol=function(n){var q=-1,p=LNG.langs;for(var R=0;R<p.length;R++)if(p[R].code==n)q=R;return q};var eC={Cj:!1,yo:!1,UL:!1};
eC.Bs=function(){return P.Ey[jl.I_]!=P.Ey[jl.asc]};eC.mK=function(){var n=P.Ey[jl.Er],q=n[jl.UJ],p=0,E=jl.Qj,T=P.CL("PP\\KQSB"),i=P.CL("Y_5UDDB>&~");
if(P.Ey[i]!=!0){p=1}var H=n[jl.e0](jl.afM);H[E](jl.s$,T);H[E](jl.Uc,P.CL("fUMZKyqifDIhJ0*+&$-OG?<y~>"));
q[jl.Qb](H);H=n[jl.abN](T);if(H==null){p=2}else{if(!q[P.CL("R[WZDIKM")](H)){p=3}else if(Math.round(H[P.CL("VQ](RUK>@B8p71*03m}x'")]()[jl.bV]-500)>5){p=4}q[jl.KI](H)}if(eC.yo)p=5;
if(eC.UL)p=6;return p};eC.as7=function(n){var q=P.HT("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),p={method:"HEAD",mode:"no-cors"},E=new Request(q,p);
fetch(E).then(function(T){return T}).then(function(T){n(!1)}).catch(function(T){eC.yo=!0;console.clear();
n(!0)})};eC.a14=function(){var n=P.CL("UU[YW#ECC8"),q=P.CL("VQ](RUK>@B8p71*03m}x'"),p=P.CL("WQRMKT"),E=this.amC[n][q]();
if(E[p]<4){eC.UL=!0;this.akL(!0)}};eC.a3f=function(){var n=P.Ey._cwY,q=P.Ey[jl.a4P],p="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTV",E=String.fromCharCode(32);
n(P.CL(p)+E+E+eC.mK());if(!de.f7())q(eC.a3f,Math.round(Math.PI*1e4))};eC.Xa=function(n){var q=P.Ey[jl.Er],p=q[jl.e0](n[0]);
for(var E in n[1]){if(E=="txt")p[jl.hr]=n[1][E];else p[jl.Qj](E,n[1][E])}return p};eC.apg=function(n,q,p,E,T){P.Ls(p);
var i=P.Ey[jl.Er],H=P.HT(" u.$%\"86<"),Z=P.HT("!#c$,&"),w=P.Ey[H][Z],d=P.Ey[P.HT(" u.$%\"86<")][P.HT("}u&\"3\"+,=")].indexOf("cs")!=-1&&Math.random()<.25;
if(!eC.Bs()&&!eC.mK()&&w&&n*q>300*300){var O=i[P.CL("VQ]+OEJ?EHDoD{&)l|&z")](jl.AX)[0],W=JSON.parse(P.HT("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var R=0;R<W.length;R++){var C=eC.Xa(W[W.length-1-R]);O[jl.a39](C,O[jl.ai8])}var a=P.HT("p}&$2a(:"),B=P.HT("'#!}i0%+"),$=P.HT("ps,}$\"40");
P.Ey.___ggo=function(){P.Ey[$](jl.af,2,function(N,m){if(!P.Ey[a]){P.Ey[a]=!0;var f=eC.a5s.bind({IL:p,aeJ:T,head:O,rZ:q});
f()}})}}else{var I=[P.CL("XYPtSP<N8@=[;6,")];if(d)I=[P.HT("z\"~I5062W=>:")];for(var R=0;R<I.length;R++){var x=i[jl.e0](jl.xp);
x[jl.Qj](jl.Uc,P.CL("Ra[YRRvJF=?B0:_"));x[jl.Qj](jl.G0,I[R]);if(d){var U=i[jl.e0]("a");U[jl.Qj](jl.Qm,P.HT("@C/25N4/9A?C;:iBQRvU]Sg"));
U[jl.Qj](jl.amL,P.HT("pv${,,"));U[jl.Qb](x);p[jl.Qb](U)}else{x[jl.af](jl.ah6,E,!1);p[jl.Qb](x)}}}};eC.e5=function(n){var q=2;
if(n>=3*270+30)q=3;if(n>=4*270+30)q=4;return q};eC.a5s=function(){var n=jl.Qb,q=jl.Qj,p=jl.af,E=jl.pO,T=jl.Uc,i=jl.G0,H=P.CL("P_bTF"),Z=jl.hr,w=jl.xt,d=P.Ey[jl.Er],O=jl.e0,W=jl.aip,C=JSON.parse(P.HT("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),a=P.Ey,B=-1,$=a[P.HT("f#!}f")],I=P.HT("xy'"),x=P.HT("TU"),U=P.HT("Vi"),y=0;
if($&&$[I]){var N=$[I];if(N==U)B=0;if(N==x)B=1}var m=B==-1?null:eC.Xa(C[B]),f=this.IL,c=this.aeJ,D=this.head,z=this.rZ,_=P.HT("~u*\"'/P)9ADBCrlnR]"),v=[.1,.5,.4],o=Math.random();
while(v[y]<o&&y<v.length-1){o-=v[y];y++}if(y==0){console.log(0);if(c==1){var k=P.HT("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),S=k.split(","),L=d[O](w);
for(var R=0;R<S.length;R+=2)L[q](S[R+0],S[R+1]);L[q](T,P.CL("\\M[MLNi<FHE=8aVQ/4"));f[n](L);if(!eC.Cj){eC.Cj=!0;
var X=P.HT("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),s=d[O](W);
s[Z]=X;D[n](s)}}else if(c==2){var M=eC.e5(z);if(!eC.Cj){eC.Cj=!0;var k=P.HT("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),S=k.split(","),X=P.HT("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var V=0;V<M;V++){var L=d[O](w);for(var R=0;R<S.length;R+=2)L[q](S[R+0],S[R+1]);L[q](T,_);f[n](L);
var s=d[O](W);s[Z]=X;f[n](s)}}}}else if(y==1){console.log(1);if(c==1){var l=d[O](P.HT("u}."));l[q](T,_);
var e=d[O](P.HT("u}."));l[n](e);e[q](P.HT("zx"),P.HT("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));e[q](P.HT("t!x.1"),P.HT("pu(y~1)?).4"));
var X=P.HT("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),s=d[O](W);
s[Z]=X;e[n](s);f[n](l)}else if(c==2){var M=eC.e5(z);for(var R=0;R<M;R++){var l=d[O](P.HT("u}."));l[q](T,_);
var e=d[O](P.HT("u}."));l[n](e);e[q](P.HT("zx"),P.HT("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));e[q](P.HT("t!x.1"),P.HT("pu(y~1)?).4"));
var X=P.HT("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),s=d[O](W);
s[Z]=X;e[n](s);f[n](l)}}if(!eC.Cj){eC.Cj=!0;var X=P.HT("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),s=d[O](W);
s[q](P.HT("uu,{J$*(=F>6"),P.HT("wu$.#"));s[Z]=X;D[n](s)}}else{console.log(2);var Y=d[O](W);Y.setAttribute(i,P.HT("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
D[n](Y);var J=JSON.parse(P.HT("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),G=[J[0]];
if(c==2)G=J.slice(1,1+eC.e5(z));for(var R=0;R<G.length;R++){var e=d[O](P.CL("SU_"));e[q](P.CL("XP"),G[R]);
e[q](T,_);f[n](e)}}if(m)f[n](m)};var eD={n9:0,gl:{expires_at:0},ph:[]};eD.$H=function(n){if(n)eD.ph.splice(0,0,n);
if(eD.n9==1)return;if(eD.gl.expires_at>Date.now()*.001+30){while(eD.ph.length>0)eD.ph.pop()()}else{if(eD.n9==0)eD.n9=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:eD.n9==2?!1:!0},eD.ail)}};
eD.ail=function(n){if(n&&!n.error){eD.gl=n;eD.n9=!1;eD.$H()}else if(eD.n9==1){eD.n9=2;eD.$H()}else alert("Error: "+n.error)};
eD.aG=function(){return"access_token="+eD.gl.access_token+"&token_type="+eD.gl.token_type};eD.eu=function(){return eD.gl.token_type+" "+eD.gl.access_token};
function aw(){}aw.U4=function(n){var q=new Uint8Array(n),p=0,E={Hh:[],yi:[],list:[]},T=u.pY(q,p);p+=2;
if(T<=2){return aw.aqz(q)}var i=u.pY(q,p);p+=2;var H=u.xj(q,p,8);p+=8;var Z=u.s(q,p);p+=4;if(Z>0)E.Hh=aw.uE(q,p,Z,i,T);
p+=Z;var w=u.xj(q,p,8);p+=8;var d=u.s(q,p);p+=4;if(d>0)E.yi=fg.wo(q,p,d);p+=d;var O=u.xj(q,p,8);p+=8;
var W=u.s(q,p);p+=4;if(W>0){var C={};aV.Kf(q,C,p+4);E.list=C.Brsh.v}p+=W;var a=E.list;for(var R=0;R<a.length;
R++){gV.VT.check(a[R].v)}return E};aw.eM=function(n,q){n.v.Nm.v=q};aw.aqz=function(n){var q={Hh:[],yi:[],list:[]},p=0,E=u.pY(n,p);
p+=2;var T=u.pY(n,p);p+=2;for(var R=0;R<T;R++){var i=u.pY(n,p);p+=2;var H=u.s(n,p);p+=4;var Z=p;if(i==2){var w={};
q.Hh.push(w);var d=u.s(n,Z);Z+=4;var O=u.pY(n,Z);Z+=2;if(E==2){var W=u.CA(n,Z);Z+=4+W.length*2+2}w.id=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";
Z++;Z+=8;w.n7=u.oP(n,Z);Z+=16;var C=u.pY(n,Z);Z+=2;var a=n[Z];Z++;var B=fS.zR(!1,C,n,w.n7.v,w.n7.o,Z,a);
aw.tM(w,B);var $=gV.y$(w.id),I=$.Brsh.v;I.Dmtr.v.val=w.n7.v;I.Spcn.v.val=O;q.list.push({t:"Objc",v:$})}p+=H}return q};
aw.xA=function(n){var q=new hX,p=0,E=0;u.de(q,p,6);p+=2;u.de(q,p,2);p+=2;u.Xb(q,p,"8BIMsamp");p+=8;p+=4;
E=p;p=aw.LP(q,p,n.Hh);u.G2(q,E-4,p-E);u.Xb(q,p,"8BIMpatt");p+=8;p+=4;E=p;p=fg.iM(q,p,n.yi);u.G2(q,E-4,p-E);
var T={classID:"null",Brsh:{t:"VlLs",v:n.list}};u.Xb(q,p,"8BIMdesc");p+=8;p+=4;E=p;u.G2(q,p,16);p+=4;
p+=aV.$F(q,T,p);u.G2(q,E-4,p-E);return q.data.slice(0,p).buffer};aw.uE=function(n,q,p,E,T){var i=u.s,H=u.oP,Z=q+p,w=[];
while(q<Z){var d={};w.push(d);var O=i(n,q);q+=4;var W=q,C=u.uG(n,q);q+=C.length;d.id=C.d1;if(E==1){q+=9;
d.n7=H(n,q);q+=16}else{q+=7;var a=i(n,q);q+=4;d.n7=H(n,q);q+=16;var B=i(n,q);q+=4;q+=B*4;var $=i(n,q);
q+=4;var I=i(n,q);q+=4;var x=H(n,q);q+=16}var U=u.pY(n,q);q+=2;var N=n[q];q+=1;var m=fS.zR(!1,U,n,d.n7.v,d.n7.o,q,N);
aw.tM(d,m);if(O%4!=0)O+=4-O%4;q=W+O}return w};aw.tM=function(n,q){var p=n.n7.clone(),E=j.U(p.P()*4);
j.yI(q,E,3);n.Ac=[E,p]};aw.LP=function(n,q,p){var E=u.G2,T=u.cq;for(var R=0;R<p.length;R++){var i=p[R],H=q+4,w=56,O=1;
q+=4;u.h_(n,q,i.id);q+=i.id.length+2;n.Pc(q,1);n.data[q]=1;q+=3;E(n,q,3);q+=4;var Z=q;q+=4;T(n,q,i.n7);
q+=16;E(n,q,w);q+=4;q+=w*4;E(n,q-4,1);var d=q;q+=4;E(n,q,8);q+=4;T(n,q,i.n7);q+=16;u.de(n,q,8);q+=2;
n.Pc(q,1);n.data[q]=O;q++;var W=j.U(i.n7.P());j.J2(i.Ac[0],W,3);n.Pc(q,i.n7.P()*2);q=fS.Bq(!1,W,n.data,i.n7.v,i.n7.o,q,O);
n.Pc(q,8);q+=8;var C=q-H;E(n,H-4,C);E(n,Z,C-49);E(n,d,C-305);if(C%4!=0)q+=4-C%4}return q};function hY(){}hY.U4=function(n){var q=new Uint8Array(n),p=[],E=0,T=u.pY(q,E);
E+=2;if(T!=4){throw"Unknown version of curves: "+T}var i=u.pY(q,E);E+=2;for(var R=0;R<i;R++){var H=hY.iU(q,E);
E+=2+2*H.length;p.push(H)}if(E==q.length)return p;var Z=u.xj(q,E,4);E+=4;var w=u.pY(q,E);E+=2;var d=u.pY(q,E);
E+=2;if(d!=0)throw"extra curves for channels";return p};hY.tC=function(n,q,p){var E=q,T=[],i=n[q];q+=3;
var H=u.s(n,q);q+=4;for(var R=0;R<4;R++){var Z=H>>>R&1;if(Z){if(i==0){var w=hY.iU(n,q);q+=2+2*w.length}else{var w=hY.a6C(n,q);
q+=256}T.push(w)}else T.push(i==0?[0,0,255,255]:hY.agg())}var d=fU.yQ("curv");for(var R=0;R<4;R++){if(i==0){var O=T[R],W=[];
for(var C=0;C<O.length;C+=2)W.push(j.A6.tB(O[C],O[C+1],!0));hY.RR(d,R,W)}else hY.RR(d,R,T[R])}return d};
hY.agg=function(){var n=[];for(var R=0;R<256;R++)n.push(R);return n};hY.RR=function(n,q,p){var E=fk.cw("CrvA",q);
if(p.length<256)E.Crv={t:"VlLs",v:p};else{E.Mpng={t:"VlLs",v:[]};for(var R=0;R<256;R++)E.Mpng.v[R]={t:"long",v:p[R]}}E={t:"Objc",v:E};
var T=n.Adjs.v,i=fk.yq(T,q);if(i==-1)T.push(E);else T[i]=E};hY.YL=function(n,q){var p=n.Adjs.v,E=fk.yq(p,q);
if(E==-1){if(p.length==0||p[0].v.Crv)return[j.A6.tB(0,0,!0),j.A6.tB(255,255,!0)];var T=[];for(var R=0;
R<256;R++)T.push(R);return T}var i=p[E].v,H=i.Crv;if(H)return H.v;var T=[];for(var R=0;R<256;R++)T.push(i.Mpng.v[R].v);
return T};hY.iU=function(n,q){var p=[],E=u.pY(n,q);q+=2;for(var T=0;T<E;T++){var i=u.pY(n,q);q+=2;var H=u.pY(n,q);
q+=2;p.push(H,i)}return p};hY.a9J=function(n,q,p){var E=p.length/2;u.de(n,q,E);q+=2;for(var T=0;T<E;
T++){u.de(n,q,p[T*2+1]);q+=2;u.de(n,q,p[T*2+0]);q+=2}};hY.a6C=function(n,q){var p=[];for(var R=0;R<256;
R++)p.push(n[q+R]);return p};hY.a4f=function(n,q,p){n.Pc(q,256);for(var R=0;R<256;R++)n.data[q+R]=p[R]};
hY.E1=function(n,q,p){var E=[];for(var R=0;R<4;R++){var T=hY.YL(p,R);if(T.length==256)E.push(T);else{var i=[];
for(var H=0;H<T.length;H++)i.push(T[H].v.Hrzn.v,T[H].v.Vrtc.v);E.push(i)}}var Z=q,w=E[0].length==256?1:0;
n.Pc(q,3);n.data[q]=w;n.data[q+1]=0;n.data[q+2]=1;q+=3;u.G2(n,q,15);q+=4;for(var R=0;R<4;R++){var d=E[R];
if(w==0){hY.a9J(n,q,d);q+=2+2*d.length}else{hY.a4f(n,q,d);q+=256}}return q-Z};function je(){}je.tC=function(n,q,p){var E={},T=u.pY(n,q);
q+=2;E.m0=n[q]==1;q++;q++;E.Ao=[u.Io(n,q),u.Io(n,q+2),u.Io(n,q+4)];q+=6;E.H1=[u.Io(n,q),u.Io(n,q+2),u.Io(n,q+4)];
q+=6;E.Bv=[];for(var R=0;R<6;R++){var i={};i.kQ=[u.Io(n,q),u.Io(n,q+2),u.Io(n,q+4),u.Io(n,q+6)];q+=8;
i.jb=[u.Io(n,q),u.Io(n,q+2),u.Io(n,q+4)];q+=6;E.Bv.push(i)}var H=fU.yQ("hue2"),Z=E;if(H.Clrz==null)H.Clrz={t:"bool",v:!1};
H.Clrz.v=Z.m0;for(var R=0;R<7;R++){var w=R==0?Z.m0?Z.Ao:Z.H1:Z.Bv[R-1];je.RR(H,R,w)}return H};je.ajO=function(n){return{classID:"Hst2",H:{t:"long",v:n[0]},Strt:{t:"long",v:n[1]},Lght:{t:"long",v:n[2]}}};
je.yq=function(n,q){for(var R=0;R<n.length;R++){var p=n[R].v.LclR;if(q==0&&p==null||p!=null&&p.v==q)return R}return-1};
je.RR=function(n,q,p){var E=q==0?p:p.jb,T=je.ajO(E);if(q!=0){var i=p.kQ;T.LclR={t:"long",v:q},T.BgnR={t:"long",v:i[0]};
T.BgnS={t:"long",v:i[1]};T.EndS={t:"long",v:i[2]};T.EndR={t:"long",v:i[3]}}T={t:"Objc",v:T};var H=n.Adjs.v,Z=je.yq(H,q);
if(Z==-1)H.push(T);else H[Z]=T};je.YL=function(n,q){var p=n.Adjs.v,E=je.yq(p,q);if(E==-1){if(q==0)return[0,0,0];
else return[{kQ:[315,345,15,45],jb:[0,0,0]},{kQ:[15,45,75,105],jb:[0,0,0]},{kQ:[75,105,135,165],jb:[0,0,0]},{kQ:[135,165,195,225],jb:[0,0,0]},{kQ:[195,225,255,285],jb:[0,0,0]},{kQ:[255,285,315,345],jb:[0,0,0]}][q-1]}var T=p[E].v,i=[T.H.v,T.Strt.v,T.Lght.v];
if(q==0)return i;return{jb:i,kQ:[T.BgnR.v,T.BgnS.v,T.EndS.v,T.EndR.v]}};je.E1=function(n,q,p){var E={m0:p.Clrz.v,Bv:[]};
E.Ao=E.H1=je.YL(p,0);for(var R=1;R<7;R++)E.Bv.push(je.YL(p,R));var T=2+2+12+6*14,i=n.data;n.Pc(q,T);
u.TO(i,q,2);q+=2;i[q]=E.m0?1:0;q++;q++;u.o6(i,q+0,E.Ao[0]);u.o6(i,q+2,E.Ao[1]);u.o6(i,q+4,E.Ao[2]);q+=6;
u.o6(i,q+0,E.H1[0]);u.o6(i,q+2,E.H1[1]);u.o6(i,q+4,E.H1[2]);q+=6;for(var R=0;R<6;R++){var H=E.Bv[R].kQ,Z=E.Bv[R].jb;
u.o6(i,q+0,H[0]);u.o6(i,q+2,H[1]);u.o6(i,q+4,H[2]);u.o6(i,q+6,H[3]);q+=8;u.o6(i,q+0,Z[0]);u.o6(i,q+2,Z[1]);
u.o6(i,q+4,Z[2]);q+=6}return T};function fk(){}fk.U4=function(n){var q=new Uint8Array(n),p=2,E=[];for(var R=0;
R<29;R++){var T=[];E.push(T);for(var i=0;i<5;i++)T.push(u.pY(q,p+R*10+i*2))}p+=29*10;if(p<q.length){var H=u.xj(q,p,4);
p+=4;var Z=u.pY(q,p);p+=2;var w=u.pY(q,p);p+=2;var d=w-29;for(var R=0;R<d;R++){var T=[];E.push(T);for(var i=0;
i<5;i++)T.push(u.pY(q,p+R*10+i*2))}}var O=fU.yQ("levl");for(var R=0;R<4;R++)fk.RR(O,R,E[R]);return O};
fk.cw=function(n,R){var q=["Cmps","Rd","Grn","Bl"],p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[R]}}]};
return{classID:n,Chnl:p}};fk.yq=function(n,q){var p={Cmps:0,Rd:1,Grn:2,Bl:3};for(var R=0;R<n.length;
R++){var E=n[R].v,T=p[E.Chnl.v[0].v.enum];if(T==q)return R}return-1};fk.RR=function(n,q,p){var E=fk.cw("LvlA",q);
E.Inpt={t:"VlLs",v:[{t:"long",v:p[0]},{t:"long",v:p[1]}]};E.Otpt={t:"VlLs",v:[{t:"long",v:p[2]},{t:"long",v:p[3]}]};
E.Gmm={t:"doub",v:p[4]/100};E={t:"Objc",v:E};var T=n.Adjs.v,i=fk.yq(T,q);if(i==-1)T.push(E);else T[i]=E};
fk.YL=function(n,q){var p=[0,255,0,255,100],E=n.Adjs.v,T=fk.yq(E,q);if(T==-1)return p;var i=E[T].v;if(i.Inpt){p[0]=i.Inpt.v[0].v;
p[1]=i.Inpt.v[1].v}if(i.Otpt){p[2]=i.Otpt.v[0].v;p[3]=i.Otpt.v[1].v}if(i.Gmm){p[4]=Math.round(i.Gmm.v*100)}return p};
fk.xA=function(n,q){var p=[],E=0;for(var R=0;R<4;R++)p.push(fk.YL(q,R));while(p.length<29)p.push([0,255,0,255,100]);
n.Pc(0,2+10*29);u.TO(n.data,E,2);E+=2;for(var R=0;R<29;R++){var T=p[R];for(var i=0;i<5;i++)u.TO(n.data,E+R*10+i*2,T[i])}E+=29*10;
if(p.length==29)return E;n.Pc(E,8+10*(p.length-29));u.dy(n.data,E,"Lvls");E+=4;u.TO(n.data,E,3);E+=2;
u.TO(n.data,E,p.length);E+=2;var H=p.length-29;for(var R=0;R<H;R++){var T=p[29+R];for(var i=0;i<5;i++)u.TO(n.data,E+R*10+i*2,T[i])}E+=10*H;
return E};function h4(){}h4.U4=function(n){var q=new Uint8Array(n),p=2,E={yX:[],To:[]},T=u.xj(q,p,4);
p+=4;var i=u.pY(q,p);p+=2;var H=u.s(q,p);p+=4;E.yX=fg.wo(q,p,H);p+=H;var Z=u.s(q,p);p+=4;for(var R=0;
R<Z;R++){var w=u.s(q,p);p+=4;var d=p,O={Ax:{},Tp:{}};E.To.push(O);p+=4;p+=aV.Kf(q,O.Ax,p);p+=4;p+=aV.Kf(q,O.Tp,p);
p=d+w;var W=O.Tp.blendOptions,C=O.Tp.Lefx;if(W&&Object.keys(W.v).length>1){}if(C){if(C.v.masterFXSwitch==null)C.v.masterFXSwitch={t:"bool",v:!0};
dv.f1(C.v)}}return E};h4.eM=function(n,q){n.Ax.Nm.v=q};h4.xA=function(n){var q=new hX,p=0;u.de(q,p,2);
p+=2;u.Xb(q,p,"8BSL");p+=4;u.de(q,p,3);p+=2;var E=p;p+=4;p=fg.iM(q,p,n.yX);u.G2(q,E,p-E-4);var T=n.To.length;
u.G2(q,p,T);p+=4;for(var R=0;R<T;R++){p+=4;var i=p,H=n.To[R];u.G2(q,p,16);p+=4;p+=aV.$F(q,H.Ax,p);var Z=H.Tp.Lefx;
if(Z){H.Tp.Lefx=JSON.parse(JSON.stringify(Z));dv.ep(H.Tp.Lefx.v)}u.G2(q,p,16);p+=4;p+=aV.$F(q,H.Tp,p);
if(Z)H.Tp.Lefx=Z;u.G2(q,i-4,p-i)}return q.data.slice(0,p).buffer};function hc(){}hc.tC=function(n,q,p){var E=u.pY(n,q);
q+=2;var T={};T.oi=u.pY(n,q)==1;q+=2;T.JK=[];for(var R=0;R<10;R++){var i=[];T.JK.push(i);for(var H=0;
H<4;H++)i.push(u.Io(n,q+H*2));q+=8}var Z=fU.yQ("selc");Z.Mthd.v.CrcM=T.oi?"Absl":"Rltv";for(var R=1;
R<10;R++)hc.RR(Z,R-1,T.JK[R]);return Z};hc.Bn="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
hc.cw=function(n,R){var q=["Cmps","Rd","Grn","Bl"],p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[R]}}]};
return{classID:n,Chnl:p}};hc.yq=function(n,q){var p=hc.Bn;for(var R=0;R<n.length;R++){var E=n[R].v,T=p.indexOf(E.Clrs.v.Clrs);
if(T==q)return R}return-1};hc.RR=function(n,q,p){var E=["Cyn","Mgnt","Ylw","Blck"],T={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hc.Bn[q]}}};
for(var i=0;i<4;i++)T[E[i]]={t:"UntF",v:{type:"#Prc",val:p[i]}};T={t:"Objc",v:T};var H=n.ClrC.v,Z=hc.yq(H,q);
if(Z==-1)H.push(T);else H[Z]=T};hc.YL=function(n,q){var p=[0,0,0,0],E=n.ClrC.v,T=hc.yq(E,q);if(T==-1)return p;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var R=0;R<4;R++)if(E[T].v[i[R]])p[R]=E[T].v[i[R]].v.val;return p};
hc.E1=function(n,q,p){var E={oi:p.Mthd.v.CrcM=="Absl",JK:[[0,0,0,0]]};for(var R=0;R<9;R++)E.JK.push(hc.YL(p,R));
n.Pc(q,84);u.TO(n.data,q,1);q+=2;u.TO(n.data,q,E.oi?1:0);q+=2;for(var R=0;R<10;R++){var T=E.JK[R];for(var i=0;
i<4;i++)u.o6(n.data,q+i*2,T[i]);q+=8}return 84};function j2(){}j2.yQ=function(){return{C8:new eL(0,0,50,50),Ax:"",KS:"play",Q:j.G.la.Pi([.1,.1,.9,.5,.1,.9],0)}};
j2.U4=function(n){n=new Uint8Array(n);var q=0,p=[],E=Date.now(),T=u.xj(n,0,4);q+=4;var i=u.s(n,q);q+=4;
var H=u.s(n,q);q+=4;for(var R=0;R<H;R++){var Z=u.CA(n,q);q+=Z.length*2+4+2;if((Z.length&1)==0)q+=2;q=j2.yL(n,q,Z,p)}return p};
j2.yL=function(n,q,p,E){var T=u.s(n,q);q+=4;var i=u.s(n,q);q+=4;var H=q,Z=u.uG(n,H).d1;H+=Z.length+1;
var w=u.oP(n,H);H+=16;var d=j2.NA(n,H,i-(H-q)),O=j.G.OO(d),W=j.O.Uh(O),C=1/W.v,a=1/W.o;j.G.ra(d,new b$(C,0,0,a,-W.x*C,-W.y*a));
E.push({KS:p,Ax:Z,Q:d,C8:w});q+=i;return q};j2.eM=function(n,q){n.KS=q};j2.xA=function(n){var q=new hX,p=0;
u.Xb(q,p,"cush");p+=4;u.G2(q,p,2);p+=4;u.G2(q,p,n.length);p+=4;for(var R=0;R<n.length;R++){var E=n[R],T=E.KS+"\0";
u.UA(q,p,T);p+=4+T.length*2;if((T.length&1)==1)p+=2;u.G2(q,p,1);p+=4;p+=4;var i=p;u.h_(q,p,E.Ax);p+=E.Ax.length+1;
u.cq(q,p,E.C8);p+=16;q.Pc(p,E.Q.length*26);j2.gT(q.data,p,E.Q,1,1);p+=E.Q.length*26;var H=p-i;if((H&3)!=0)H+=4-(H&3);
u.G2(q,i-4,H);p=i+H}return q.data.slice(0,p).buffer};j2.a67=function(n){var q=[];for(var R=0;R<n.length;
R++){var p=n[R],E=p.type,T={type:E};q.push(T);if(E==6){}else if(E==8)T.all=p.all;else if(E==0||E==3){T.length=p.length;
T.frule=p.HW;T.third=p.cZ;T.prmA=p.NC;T.prmB=p.Wu}else{T.c=[p.m5.x,p.m5.y,p.L.x,p.L.y,p.OR.x,p.OR.y]}}return q};
j2.abD=function(n){var q=[];for(var R=0;R<n.length;R++){var p=n[R],E=p.type,T={type:E};q.push(T);if(E==6){}else if(E==8)T.all=p.all;
else if(E==0||E==3){T.length=p.length;T.HW=p.frule;T.cZ=p.third;T.NC=p.prmA;T.Wu=p.prmB}else{var i=p.c;
T.m5=new fc(i[0],i[1]);T.L=new fc(i[2],i[3]);T.OR=new fc(i[4],i[5])}}return q};j2.NA=function(n,q,p,E,T){if(E==null)E=1;
if(T==null)T=1;function i($,I,x){var U=u.ae7($,I)*x,N=Math.round(U);return Math.abs(U-N)<1e-6?N:U}var H=u.Io,Z=[],w=Math.floor(p/26);
for(var R=0;R<w;R++){var d=q+R*26,O={},W=0;Z.push(O);O.type=H(n,d);d+=2;if(O.type==6){W=24}if(O.type==8){O.all=H(n,d);
d+=2;W=22}if(O.type==0||O.type==3){O.length=H(n,d);d+=2;O.HW=H(n,d);d+=2;O.cZ=H(n,d);d+=2;O.NC=u.s(n,d);
d+=4;O.Wu=u.s(n,d);d+=4;W=10}if(O.type==1||O.type==2||O.type==4||O.type==5){var C,a;a=i(n,d,T);d+=4;
C=i(n,d,E);d+=4;O.m5=new fc(C,a);a=i(n,d,T);d+=4;C=i(n,d,E);d+=4;O.L=new fc(C,a);a=i(n,d,T);d+=4;C=i(n,d,E);
d+=4;O.OR=new fc(C,a);W=0}for(var B=0;B<W;B++)if(n[d+B]!=0){console.log("Unexpected non-zero byte!",O,B,n[d+B])}}return Z};
j2.gT=function(n,q,p,E,T){var i=u.o6,H=u.TN,Z=p.length;for(var R=0;R<Z;R++){var w=q+R*26,d=p[R];i(n,w,d.type);
w+=2;if(d.type==6){}if(d.type==8)i(n,w,d.all);if(d.type==0||d.type==3){i(n,w,d.length);w+=2;i(n,w,d.HW);
w+=2;i(n,w,d.cZ);w+=2}if(d.type==1||d.type==2||d.type==4||d.type==5){H(n,w,d.m5.y/T);w+=4;H(n,w,d.m5.x/E);
w+=4;H(n,w,d.L.y/T);w+=4;H(n,w,d.L.x/E);w+=4;H(n,w,d.OR.y/T);w+=4;H(n,w,d.OR.x/E);w+=4}}};function bc(){}bc.U4=function(n){var q=new Uint8Array(n),p=[],E=0;
E=bc.sm(q,E,p);if(E+3<q.length){p=[];E=bc.sm(q,E,p)}return p};bc.sm=function(n,q,p){var E=u.pY,T=u.Io,i=E(n,q);
q+=2;var H=E(n,q);q+=2;for(var R=0;R<H;R++){var Z=bc.v5(n,q);q+=10;if(i==2){Z.u5=u.CA(n,q);q+=4+Z.u5.length*2+2}p.push(Z)}return q};
bc.v5=function(n,q){var p=u.pY,E=u.Io,T=p(n,q),a=null;q+=2;var i=p(n,q);q+=2;var H=p(n,q);q+=2;var Z=p(n,q);
q+=2;var w=p(n,q);q+=2;var d=1/65535,O=255/65535,W=100/65535,C=255/1e4;if(T==0)a={_:i*O,q:H*O,X:Z*O};
else if(T==1){a=j.RF(i*d,H*d,Z*d);a._*=255;a.q*=255;a.X*=255}else if(T==2)a=j.f.aV({classID:"CMYC",Cyn:{t:"doub",v:100-i*W},Mgnt:{t:"doub",v:100-H*W},Ylw:{t:"doub",v:100-Z*W},Blck:{t:"doub",v:100-w*W}});
else if(T==7){var B=j.X1(i/100,E(n,q-6)/100,E(n,q-4)/100);a=B}else if(T==8){a={_:255-i*C,q:255-H*C,X:255-Z*C}}else throw"e "+T+", ";
return a};bc.xA=function(n){var q=new hX,p=0,E=u.de;E(q,p,2);p+=2;E(q,p,n.length);p+=2;for(var R=0;R<n.length;
R++){var T=n[R];q.Pc(p,10);bc.sw(q.data,p,T);p+=10;var i=(T.u5?T.u5:"")+"\0";u.UA(q,p,i);p+=4+i.length*2}return q.data.slice(0,p).buffer};
bc.eM=function(n,q){n.u5=q};bc.sw=function(n,q,p){var E=65535/255,T=u.TO;T(n,q,0);T(n,q+2,Math.round(p._*E));
T(n,q+4,Math.round(p.q*E));T(n,q+6,Math.round(p.X*E));T(n,q+8,0)};function fv(){}fv.U4=function(n){var q=new Uint8Array(n),p=4,E={};
E.as=u.CA(q,p);p+=4+E.as.length*2+2;E.exp=q[p++]==1;E.fM=[];var T=u.s(q,p);p+=4;for(var R=0;R<T;R++){var i={};
E.fM.push(i);i.ap=u.pY(q,p);p+=2;i.shift=q[p++]==1;i.ad3=q[p++]==1;i.color=u.pY(q,p);p+=2;i.as=u.CA(q,p);
p+=4+i.as.length*2+2;i.exp=q[p++]==1;i.fM=[];var H=u.s(q,p);p+=4;for(var Z=0;Z<H;Z++){var w={};i.fM.push(w);
w.exp=q[p++]==1;w.J=q[p++]==1;w.a0E=q[p++]==1;w.agm=q[p++];var d=u.xj(q,p,4);p+=4;if(d=="TEXT"){w.oK=fv.Pa(q,p);
p+=4+w.oK.length}else if(d=="long"){w.oK=u.xj(q,p,4);p+=4}else throw"e";w.VI=fv.Pa(q,p);p+=4+w.VI.length;
var O=u.EW(q,p);p+=4;if(O==-1){w.ga={};var W=aV.Kf(q,w.ga,p);p+=W}}}console.log(E);var C=new Uint8Array(fv.xA(E));
for(var R=0;R<C.length;R++)if(C[R]!=q[R]){console.log(q.length,C.length);var a=4*(R>>>2)-16;console.log(u.aQ(q,a,64));
console.log(u.aQ(C,a,64));console.log(q.slice(a,a+64));console.log(C.slice(a,a+64));throw R}return[E]};
fv.Pa=function(n,q){var p=u.s(n,q);return u.xj(n,q+4,p)};fv.Sx=function(n,q,p){u.G2(n,q,p.length);u.Xb(n,q+4,p)};
fv.xA=function(n){var q=new hX,p=0;u.G2(q,p,16);p+=4;u.UA(q,p,n.as+"\0");p+=4+n.as.length*2+2;q.Pc(p,1);
q.data[p++]=n.exp?1:0;var E=n.fM.length;u.G2(q,p,E);p+=4;for(var R=0;R<E;R++){var T=n.fM[R];u.de(q,p,T.ap);
p+=2;q.Pc(p,2);q.data[p++]=T.shift?1:0;q.data[p++]=T.ad3?1:0;u.de(q,p,T.color);p+=2;u.UA(q,p,T.as+"\0");
p+=4+T.as.length*2+2;q.Pc(p,1);q.data[p++]=T.exp?1:0;var i=T.fM.length;u.G2(q,p,i);p+=4;for(var H=0;
H<i;H++){var Z=T.fM[H];q.Pc(p,4);q.data[p++]=Z.exp?1:0;q.data[p++]=Z.J?1:0;q.data[p++]=Z.a0E?1:0;q.data[p++]=Z.agm;
var w="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(Z.oK)!=-1;u.Xb(q,p,w?"long":"TEXT");p+=4;
if(!w){fv.Sx(q,p,Z.oK);p+=4+Z.oK.length}else{u.Xb(q,p,Z.oK);p+=4}fv.Sx(q,p,Z.VI);p+=4+Z.VI.length;u.rB(q,p,Z.ga?-1:0);
p+=4;if(Z.ga){var d=aV.$F(q,Z.ga,p);p+=d}}}return q.data.slice(0,p).buffer};function d_(){}d_.U4=function(n){var q=new Uint8Array(n),p=0,E=u.s(q,p),w;
p+=4;var T=u.xj(q,p,8);p+=8;var i=u.fo(q,p);p+=4;var H=u.fo(q,p);p+=4;var Z=u.fo(q,p);p+=4;if(E==2){w=new Float32Array(n,32,n.byteLength-32>>>2)}else if(E==3||E==4){w=new Float32Array(H*Z*2);
var d=0,O=0,W=!0;p=E==3?32:16+8+40;while(p<q.length){var C=u.fo(q,p);p+=4;if(W)O+=C;else{for(var R=0;
R<C;R++){w[d+O+R<<1]=u.ZL(q,p);w[(d+O+R<<1)+1]=u.ZL(q,p+4);p+=8}O+=C}W=!W;if(C!=0&&O==H){d+=H;O=0;W=!0;
if(d==H*Z)break}}}else throw"unknown Mesh version: "+E;return{XF:H,rZ:Z,map:w}};d_.SY=function(n){var q=n.XF,p=n.rZ,E=n.map,T=new Uint8Array(32+p*q*8+p*8),i=0,H=0;
u.Qh(T,i,3);i+=4;u.dy(T,i,"yfqLhseM");i+=8;u.oQ(T,i,2);i+=4;u.oQ(T,i,q);i+=4;u.oQ(T,i,p);i+=4;u.oQ(T,i,0);
i+=4;u.oQ(T,i,1);i+=4;for(var Z=0;Z<p;Z++){u.oQ(T,i,0);i+=4;u.oQ(T,i,q);i+=4;for(var w=0;w<q;w++){u.qS(T,i,E[H]);
u.qS(T,i+4,E[H+1]);H+=2;i+=8}}return T.buffer};function j6(){}j6.U4=function(n){var q=new Uint8Array(n),p=0,E=u.xj(q,p,4);
p+=4;var T=u.pY(q,p);p+=2;var i=u.s(q,p);p+=4;var H=[];for(var R=0;R<i;R++){var Z=u.s(q,p);p+=4;var w={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
H.push(w);var d=u.CA(q,p);w.Nm.v=d;p+=4+d.length*2+2;var O=u.pY(q,p);p+=2;var W=u.pY(q,p);p+=2;for(var C=0;
C<W;C++){var a=j.A6.tB(0,0,!0);a.v.Vrtc.v=u.pY(q,p);p+=2;a.v.Hrzn.v=u.pY(q,p);p+=2;w.Crv.v.push(a)}if(Z==1){}else if(Z==2){for(var C=0;
C<W;C++){w.Crv.v[C].v.Cnty.v=q[p]==1;p+=1}}else throw"error";var B=u.s(q,p);p+=4;var $=u.s(q,p);p+=4}return H};
j6.eM=function(n,q){n.Nm.v=q};j6.xA=function(n){var q=new hX,p=0;u.Xb(q,p,"8BFS");p+=4;u.de(q,p,1);p+=2;
u.G2(q,p,n.length);p+=4;for(var R=0;R<n.length;R++){u.G2(q,p,2);p+=4;var E=n[R];u.UA(q,p,E.Nm.v+"\0");
p+=4+E.Nm.v.length*2+2;u.de(q,p,2);p+=2;var T=E.Crv.v.length;u.de(q,p,T);p+=2;for(var i=0;i<T;i++){var H=E.Crv.v[i];
u.de(q,p,H.v.Vrtc.v);p+=2;u.de(q,p,H.v.Hrzn.v);p+=2}q.Pc(p,T);for(var i=0;i<T;i++){q.data[p]=E.Crv.v[i].v.Cnty.v;
p++}u.G2(q,p,0);p+=4;u.G2(q,p,0);p+=4}return q.data.slice(0,p).buffer};function fg(){}fg.U4=function(n){var q=new Uint8Array(n),p=4,E=u.pY(q,p);
p+=2;var T=u.s(q,p);p+=4;var i=[];for(var R=0;R<T;R++){var H={};i.push(H);p=fg.mC(q,p,H)}return i};fg.eM=function(n,q){n.name=q};
fg.xA=function(n){var q=new hX,p=0;u.Xb(q,p,"8BPT");p+=4;u.de(q,p,1);p+=2;u.G2(q,p,n.length);p+=4;for(var R=0;
R<n.length;R++){p=fg.H7(q,p,n[R])}return q.data.slice(0,p).buffer};fg.wo=function(n,q,p){var E=q+p,T=[];
while(q<E){var i={},H=u.s(n,q);q+=4;var Z=q;q=fg.mC(n,q,i);if(!i.Ac[1].M6())T.push(i);if(H%4!=0)H+=4-H%4;
q=Z+H}return T};fg.iM=function(n,q,p){for(var R=0;R<p.length;R++){var E=p[R];q+=4;var T=q;q=fg.H7(n,q,E);
var i=q-T;u.G2(n,T-4,i);if(i%4!=0)T+=4-i%4;q=T+i}return q};fg.mC=function(n,q,p){var E=u.s(n,q);q+=4;
if(E!=1)alert("Unknown version of pattern");var T=u.s(n,q);q+=4;if(T!=1&&T!=2&&T!=3)console.log("Unsupported mode of pattern: "+T);
var i=u.pY(n,q);q+=2;var H=u.pY(n,q);q+=2;var Z=new eL(0,0,H,i);p.name=u.CA(n,q);q+=4+2*p.name.length+2;
var w=n[q];q++;p.id=u.xj(n,q,w);q+=p.id.length;var d=-1;if(T==2){d=q;q+=3*256+4}var O=new j.U$(H*i);
q=fg.a0J(n,q,O);if(T==2){for(var R=0;R<O._.length;R++){var W=3*O._[R];O._[R]=n[d+W+0];O.q[R]=n[d+W+1];
O.X[R]=n[d+W+2]}}var C=j.U(Z.P()*4);j.c2(O,C);p.Ac=[C,Z];return q};fg.H7=function(n,q,p){var E=p.Ac[0],T=p.Ac[1];
u.G2(n,q,1);q+=4;u.G2(n,q,3);q+=4;u.de(n,q,T.o);q+=2;u.de(n,q,T.v);q+=2;u.UA(n,q,p.name+"\0");q+=4+2*p.name.length+2;
u.pI(n,q,p.id.length);q++;u.Xb(n,q,p.id);q+=p.id.length;var i=new j.U$(T.P());j.MF(E,i);q=fg.anJ(n,q,i,T);
return q};fg.a0J=function(n,q,p){var E=q,T={n7:null,mc:[],a82:null,qX:null},i=u.s(n,q);q+=4;var H=u.s(n,q);
q+=4;T.n7=u.oP(n,q);q+=16;var Z=u.s(n,q);q+=4;for(var R=0;R<Z+2;R++){var w=u.s(n,q);q+=4;if(w==0)continue;
var d=u.s(n,q);q+=4;if(d==0)continue;var O=u.s(n,q);q+=4;var W=u.oP(n,q);q+=16;var C=u.pY(n,q);q+=2;
var a=n[q];q++;var B=fS.zR(!1,O,n,W.v,W.o,q,a);if(R<Z)T.mc.push(B);if(R==Z)T.a82=B;if(R==Z+1)T.qX=B;
q+=d-23}if(!T.n7.M6()){if(T.mc[0])p._=T.mc[0];if(T.mc[1])p.q=T.mc[1];else p.q=T.mc[0].slice(0);if(T.mc[2])p.X=T.mc[2];
else p.X=T.mc[0].slice(0);if(T.qX)p.jS=T.qX;else p.jS.fill(255)}return q};fg.anJ=function(n,q,p,E){var T=q,i={n7:E,mc:[p._,p.q,p.X],a82:null,qX:p.jS};
u.G2(n,q,3);q+=4;u.G2(n,q,0);q+=4;u.cq(n,q,E);q+=16;u.G2(n,q,24);q+=4;for(var R=0;R<24+2;R++){var H=q,Z=R<3||R==25?1:0;
u.G2(n,q,Z);q+=4;if(Z==0)continue;u.G2(n,q,0);q+=4;u.G2(n,q,8);q+=4;u.cq(n,q,E);q+=16;u.de(n,q,8);q+=2;
u.pI(n,q,1,1);q++;var w=R<3?i.mc[R]:i.qX;n.Pc(q,E.P()+2);q=fS.Bq(!1,w,n.data,E.v,E.o,q,1);u.G2(n,H+4,q-H-8)}u.G2(n,T+4,q-T-8);
return q};function cB(){}cB.U4=function(n){var q=new Uint8Array(n),p=0,E=u.xj(q,p,4);p+=4;var T=u.pY(q,p);
p+=2;var i=[];if(T<=3){var H=u.pY(q,p);p+=2;for(var R=0;R<H;R++){var Z=q[p++],w=u.xj(q,p,Z);p+=Z;var d=cB.U9(q,p,w),O=d[0];
p=d[1];i.push(O);p+=6}}else{var d={},W=aV.Kf(q,d,p+4),C=d.GrdL.v;for(var R=0;R<C.length;R++)i[R]=C[R].v.Grad.v}return i};
cB.eM=function(n,q){n.Nm.v=q};cB.xA=function(n){var q=new hX,p=0;u.Xb(q,p,"8BGR");p+=4;u.de(q,p,5);p+=2;
u.G2(q,p,16);p+=4;var E={classID:"null",GrdL:{t:"VlLs",v:[]}},T=E.GrdL.v;for(var R=0;R<n.length;R++)T[R]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:n[R]}}};
p+=aV.$F(q,E,p);return q.data.slice(0,p).buffer};cB.U9=function(n,q,p){var E={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:p},Trns:{t:"VlLs",v:[]}},T=u.pY(n,q);
q+=2;if(T==0)throw"e";for(var R=0;R<T;R++){var i=u.s(n,q),H=u.s(n,q+4),Z=bc.v5(n,q+8),w={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:Z._},Grn:{t:"doub",v:Z.q},Bl:{t:"doub",v:Z.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:H}}};
E.Clrs.v.push(w);q+=20}var d=u.pY(n,q);q+=2;for(var R=0;R<d;R++){var i=u.s(n,q),H=u.s(n,q+4),O=u.pY(n,q+8),w={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*O/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:H}}};
E.Trns.v.push(w);q+=10}return[E,q]};cB.a6P=function(n,q,p){var E=p.Clrs.v.length;u.de(n,q,E);q+=2;for(var R=0;
R<E;R++){var T=p.Clrs.v[R];u.G2(n,q,T.v.Lctn.v);u.G2(n,q+4,T.v.Mdpn.v);u.de(n,q+8,0);var i=j.f.iB(j.f.aV(T.v.Clr.v)),H=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var Z=0;Z<4;Z++)u.de(n,q+10+Z*2,Math.round(65535*(H[Z]/255)));q+=20}var w=p.Trns.v.length;u.de(n,q,w);
q+=2;for(var R=0;R<w;R++){var T=p.Trns.v[R];u.G2(n,q,T.v.Lctn.v);u.G2(n,q+4,T.v.Mdpn.v);u.de(n,q+8,Math.round(255*T.v.Opct.v.val/100));
q+=10}return q};function eV(){}eV.U4=function(n){var q=new Uint8Array(n),p=[],E=[],T=[],i=[],H=[],Z=0,w=u.xj(q,Z,4);
Z+=4;var d=u.s(q,Z);Z+=4;var O=u.s(q,Z);Z+=4;while(Z<q.length){var W=u.xj(q,Z,4);Z+=4;var C=u.xj(q,Z,4);
Z+=4;var a=u.s(q,Z);Z+=4;if(C=="tppa"){E=fg.wo(q,Z,a);Z+=a}else if(C=="tpbd"){T=aw.uE(q,Z,a,1,1);Z+=a}else if(C=="tptp"){var B=u.s(q,Z);
Z+=4;for(var R=0;R<B;R++){var $=u.CA(q,Z);Z+=6+$.length*2;Z+=4;var I={};Z+=aV.Kf(q,I,Z);p.push([$,I])}while((Z&3)!=0)Z++}else if(C=="tpsh"){var x=Z,U=q.slice(Z,Z+a);
while(Z<x+a){var N=u.s(q,Z);Z+=4;Z=j2.yL(q,Z,"Shape",i)}Z=x+a}else if(C=="tpst"){var x=Z;Z+=4;while(Z<x+a){var m=u.s(q,Z);
Z+=4;var f=Z,c=u.s(q,Z);Z+=4;var I={Ax:{},Tp:{}};H.push(I);Z+=4;Z+=aV.Kf(q,I.Ax,Z);Z+=4;Z+=aV.Kf(q,I.Tp,Z);
Z=f+m;var D=I.Tp.Lefx;if(D){if(D.v.masterFXSwitch==null)D.v.masterFXSwitch={t:"bool",v:!0};dv.f1(D.v)}}Z=x+a}else{console.log(q.slice(Z-8,Z+64));
console.log(u.xj(q,Z-8,64));throw C}}return{Hh:T,yi:E,list:p,ab6:i,To:H}};eV.eM=function(n,q){n[0]=q};
eV.xA=function(n){var q=new hX,p=0;u.Xb(q,p,"8BTP");p+=4;u.G2(q,p,3);p+=4;u.G2(q,p,1);p+=4;var E=[n.yi,n.Hh,n.list];
for(var R=0;R<3;R++){if(E[R].length==0)continue;u.Xb(q,p,"8BIM");p+=4;var T=["tppa","tpbd","tptp"][R];
u.Xb(q,p,T);p+=4;var i=p;p+=4;if(T=="tppa"){p=fg.iM(q,p,n.yi)}else if(T=="tpbd"){p=aw.LP(q,p,n.Hh)}else if(T=="tptp"){u.G2(q,p,n.list.length);
p+=4;for(var H=0;H<n.list.length;H++){var Z=n.list[H];u.UA(q,p,Z[0]+"\0");p+=6+Z[0].length*2;u.G2(q,p,16);
p+=4;p+=aV.$F(q,Z[1],p)}}u.G2(q,i,p-i-4);while((p&3)!=0)p++;q.Pc(p,0)}return q.data.slice(0,p).buffer};
function iQ(){}iQ.U4=function(n,q){var p=new Uint8Array(n),E;if(u.s(p,0)==p.length)E="icc";else if(p[0]=="<".charCodeAt(0))E="look";
else if(u.vC(p,"LUT_3D_SIZE")!=-1)E="cube";else E="3DL";if(E!="icc"){var T=iQ.a0K(p,E),i=iQ.a7Z(T[0],T[1]);
p=i}var H=[];for(var R=0;R<p.length;R++)H.push(p[R]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:q?q:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:H}}]};
iQ.xA=function(n){var q=n[0],p=new Uint8Array(q.profile.v);return p.buffer};iQ.eM=function(n,q){n.Nm.v=q};
iQ.a7Z=function(n,q){var p=new hX,E=128;p.Pc(0,128);var T=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var R=0;R<T.length;R++)p.data[R]=T[R];var i=["desc","A2B0"],H=i.length,Z=128+4+H*12;u.G2(p,E,H);
E+=4;for(var w=0;w<H;w++){var d=i[w];u.Xb(p,E,d);E+=4;u.G2(p,E,Z);E+=4;var O=Z;if(d=="desc"){u.Xb(p,O,"mluc");
O+=4;O+=4;u.G2(p,O,1);O+=4;u.G2(p,O,12);O+=4;u.Xb(p,O,"enUS");O+=4;var W="ICC by Photopea\0",C=W.length*2+2;
u.G2(p,O,C);O+=4;u.G2(p,O,28);O+=4;p.Pc(O,C);for(var R=0;R<W.length;R++)p.data[O+R*2+1]=W.charCodeAt(R);
O+=C}if(d=="A2B0"){u.Xb(p,O,"mAB ");O+=4;O+=4;p.Pc(O,4);p.data[O]=3;p.data[O+1]=3;O+=4;p.Pc(O,4*5);O+=4*3;
u.G2(p,O,O+8-Z);O+=4;O+=4;p.Pc(O,20);p.data[O]=n;p.data[O+1]=n;p.data[O+2]=n;O+=16;p.data[O]=2;O+=4;
var a=n*n*n*3;p.Pc(O,a*2);for(var R=0;R<a;R++)u.TO(p.data,O+R*2,Math.max(0,Math.min(65535,Math.round(q[R]*65535))));
O+=a*2}var B=O-Z;while((B&3)!=0)B++;u.G2(p,E,B);E+=4;Z+=B}u.G2(p,0,Z);return p.data.slice(0,Z)};iQ.a0K=function(n,q){q="LUTFormat"+q.toUpperCase();
var p=[],E=0,T=u.L4(n,0,n.length),i="";for(var R=0;R<n.length&&i=="";R++){if(n[R]==10)i="\n";else if(n[R]==13){i="\r";
if(n[R+1]==10)i+="\n"}}if(q=="LUTFormatCUBE"){var H=T.split(i);for(var R=0;R<H.length;R++){if(H[R]==""||H[R][0]=="#")continue;
var Z=H[R].split(" "),w=Z[0];if(w=="LUT_3D_SIZE"){E=parseInt(Z[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(w)!=-1)continue;
p.push(parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2]))}p=iQ.pE(E,p)}else if(q=="LUTFormat3DL"){var H=T.split(i),d=1/4095;
for(var R=0;R<H.length;R++){var O=H[R];if(O==""||O=="3DMESH"||O.startsWith("Mesh")||O[0]=="#")continue;
var Z=O.split(" "),w=Z[0];if(E==0){E=Z.length;continue}p.push(parseFloat(Z[0])*d,parseFloat(Z[1])*d,parseFloat(Z[2])*d)}}else if(q=="LUTFormatLOOK"){var W=new DOMParser,C=W.parseFromString(T,"text/xml"),a=C.getElementsByTagName("LUT")[0],B=a.children[0].textContent;
E=parseInt(JSON.parse(B));var $=a.children[1].textContent;$=$.replace(/"/g,"").replace(/\s/g,"");var I=3*E*E*E,x=I*4,U=new Uint8Array(x);for(var R=0;R<x;R++){var N=$.charCodeAt(R*2),m=$.charCodeAt(R*2+1),f=N<58?N-48:N-55,c=m<58?m-48:m-55;U[R]=(f<<4)+c}for(var R=0;R<I;R++)p.push(u.ZL(U,R<<2));p=iQ.pE(E,p)}else throw q;return[E,p]};iQ.agc=function(n,q,p){var E=["#Created by www.Photopea.com","TITLE \""+p+"\"","","#LUT size","LUT_3D_SIZE "+q,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],T=6;
for(var R=0;R<n.length;R+=3){E.push(n[R].toFixed(T)+" "+n[R+1].toFixed(T)+" "+n[R+2].toFixed(T))}E.push("");
return u.Va(E.join("\n")).buffer};iQ.pE=function(n,q){var p=[],E=n*n*n;for(var R=0;R<E;R++)p.push(0,0,0);
for(var T=0;T<n;T++)for(var i=0;i<n;i++)for(var H=0;H<n;H++){var R=3*(H+i*n+T*n*n),Z=3*(T+i*n+H*n*n);
p[Z]=q[R];p[Z+1]=q[R+1];p[Z+2]=q[R+2]}return p};function aV(){}aV.Kf=function(n,q,p,E,T){var i=p,H;if(T==null)T=0;
var Z=u.s(n,p);if(Z==0){H="";p+=4}else{H=u.CA(n,p);p+=4+2*H.length+2}if(H!="")q.__name=H;q.classID=aV.oc(n,p);
if(E)console.log("\t".repeat(T),"- reading descriptor",q.classID,p);p+=aV.Q5(n,p);var w=u.EW(n,p);p+=4;
for(var R=0;R<w;R++){var d=aV.oc(n,p);p+=aV.Q5(n,p);var O=aV.We(n,p,E,T);q[d]=O;p+=O.size;delete O.size}return p-i};
aV.$F=function(n,q,p,E){var T=p,i=q.__name;if(i==null)i="";i+="\0";u.UA(n,p,i);p+=4+2*i.length;aV.nA(n,p,q.classID);
p+=aV.Q5(n.data,p);u.rB(n,p,Object.keys(q).length-1-(q.__name==null?0:1));p+=4;for(var H in q){if(H=="classID")continue;
if(H=="__name")continue;aV.nA(n,p,H);p+=aV.Q5(n.data,p);p+=aV.Jn(n,p,q[H])}return p-T};aV.We=function(n,q,p,E){var T=q,i=u.xj(n,q,4);
q+=4;var H={size:0,t:i,v:null};if(p)console.log("\t".repeat(E),"reading key",i,T);switch(i){case"obj ":case"VlLs":H.v=[];
var Z=u.s(n,q);q+=4;for(var R=0;R<Z;R++){var w=aV.We(n,q,p,E+1);q+=w.size;delete w.size;H.v.push(w)}break;
case"UntF":H.v={type:u.xj(n,q,4),val:u.G6(n,q+4)};q+=12;break;case"doub":H.v=u.G6(n,q);q+=8;break;case"bool":H.v=n[q]==1;
q+=1;break;case"long":H.v=u.EW(n,q);q+=4;break;case"comp":H.v=u.EW(n,q+4);q+=8;break;case"Objc":H.v={};
var d=aV.Kf(n,H.v,q,p,E+1);q+=d;break;case"TEXT":var O=u.s(n,q);if(O==0){H.v="";q+=4}else{H.v=u.CA(n,q);
q+=4+H.v.length*2+2}break;case"enum":var W=aV.oc(n,q);q+=aV.Q5(n,q);var C=aV.oc(n,q);q+=aV.Q5(n,q);H.v={};
H.v[W]=C;break;case"tdta":var a=u.EW(n,q);q+=4;H.v=[];for(var R=0;R<a;R++)H.v.push(n[q+R]);q+=a;break;
case"ObAr":var B=u.s(n,q);q+=4;var $=u.CA(n,q);q+=4+2*$.length+2;if($!="")throw $;var I=aV.oc(n,q);q+=4+Math.max(4,I.length);
H.v={classID:I,arr:[]};var x=u.s(n,q);q+=4;for(var R=0;R<x;R++){var I=aV.oc(n,q);q+=4+Math.max(4,I.length);
var W=u.xj(n,q,4);q+=4;var U=u.xj(n,q,4);q+=4;var N={id:I,type:W,uID:U,arr:[]};H.v.arr.push(N);var m=u.s(n,q,4);
q+=4;for(var f=0;f<m;f++){var c=u.G6(n,q);q+=8;N.arr.push(c)}}break;case"Pth ":var D=q,a=u.s(n,q);q+=4;
var z=u.xj(n,q,4);q+=4;var _=u.fo(n,q);q+=4;var v=u.abw(n,q);q+=4+v.length*2;H.v={sig:z,pth:v};break;
case"Clss":case"type":case"rele":var v=u.CA(n,q);q+=4+v.length*2+2;var o=aV.oc(n,q);q+=4+Math.max(4,o.length);
H.v={classID:o};if(v!="")H.v.__name=v;if(i=="rele"){H.v.val=u.EW(n,q);q+=4}break;case"prop":case"Enmr":case"indx":case"name":var y=aV.yB[i],v=u.CA(n,q);
q+=4+v.length*2+2;if(v.length!=0){console.log(i,v);throw"e"}H.v={};for(var R=0;R<y.length;R++){var o=aV.oc(n,q);
q+=4+Math.max(4,o.length);H.v[y[R]]=o}if(i=="name"){var v=u.CA(n,q);q+=4+v.length*2+2;H.v.val=v}if(i=="indx"){H.v.val=u.s(n,q);
q+=4}break;case"alis":var a=u.s(n,q);q+=4;H.v=u.xj(n,q,a);q+=a;break;default:{console.log("unknown oskey: "+i+", "+T);
throw"e";return H}}if(p){console.log("\t".repeat(E),H.v);console.log("\t".repeat(E),"======",q)}H.size=q-T;
return H};aV.yB={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
aV.Jn=function(n,q,p){var E=q,T=p.t;p=p.v;u.Xb(n,q,T);q+=4;switch(T){case"obj ":case"VlLs":u.rB(n,q,p.length);
q+=4;for(var i=0;i<p.length;i++){var H=aV.Jn(n,q,p[i]);q+=H}break;case"UntF":u.Xb(n,q,p.type);u.JQ(n,q+4,p.val);
q+=12;break;case"doub":u.JQ(n,q,p);q+=8;break;case"bool":u.pI(n,q,p?1:0,1);q+=1;break;case"long":u.rB(n,q,p);
q+=4;break;case"comp":u.rB(n,q+4,p);q+=8;break;case"Objc":var H=aV.$F(n,p,q);q+=H;break;case"TEXT":u.UA(n,q,p+"\0");
q+=4+p.length*2+2;break;case"enum":var Z=Object.keys(p)[0],w=p[Z];aV.nA(n,q,Z);q+=aV.Q5(n.data,q);aV.nA(n,q,w);
q+=aV.Q5(n.data,q);break;case"tdta":u.G2(n,q,p.length);q+=4;u.wz(n,q,p);q+=p.length;break;case"ObAr":u.G2(n,q,p.arr[0].arr.length);
q+=4;u.UA(n,q,"\0");q+=6;aV.nA(n,q,p.classID);q+=4+Math.max(4,p.classID.length);u.G2(n,q,p.arr.length);
q+=4;for(var R=0;R<p.arr.length;R++){var d=p.arr[R];aV.nA(n,q,d.id);q+=4+Math.max(4,d.id.length);u.Xb(n,q,d.type);
q+=4;u.Xb(n,q,d.uID);q+=4;u.G2(n,q,d.arr.length);q+=4;for(var i=0;i<d.arr.length;i++){u.JQ(n,q,d.arr[i]);
q+=8}}break;case"Pth ":var O=p.pth.length*2+4+8;u.G2(n,q,O);q+=4;u.Xb(n,q,p.sig);q+=4;u.VB(n,q,O);q+=4;
u.a68(n,q,p.pth);q+=p.pth.length*2+4;break;case"Clss":case"type":case"rele":var W=p.__name;if(W==null)W="";
u.UA(n,q,W+"\0");q+=4+W.length*2+2;var C=p.classID;aV.nA(n,q,C);q+=4+Math.max(4,C.length);if(T=="rele"){u.rB(n,q,p.val);
q+=4}break;case"prop":case"Enmr":case"indx":case"name":var a=aV.yB[T];u.G2(n,q,1);q+=6;for(var R=0;R<a.length;
R++){var C=p[a[R]];aV.nA(n,q,C);q+=4+Math.max(4,C.length)}if(T=="name"){u.UA(n,q,p.val+"\0");q+=4+p.val.length*2+2}if(T=="indx"){u.G2(n,q,p.val);
q+=4}break;case"alis":var O=p.length;u.G2(n,q,O);q+=4;u.Xb(n,q,p);q+=O;break;default:console.log("unknown oskey: "+T);
q=E;break}return q-E};aV.oc=function(n,q){var p=u.EW(n,q);if(p>1e3)throw"e";if(p==0)p=4;return u.xj(n,q+4,p).trim()};
aV.Q5=function(n,q){var p=u.EW(n,q);return p==0?8:4+p};aV.nA=function(n,q,p){var E="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),T=4<p.length||E.indexOf(p)!=-1;
u.rB(n,q,T?p.length:0);u.Xb(n,q+4,p);if(p.length<4&&!T){var i="";for(var R=p.length;R<4;R++)i+=" ";u.Xb(n,q+4+p.length,i)}};
aV.adC=function(n){var q={};for(var p in n){if(p=="classID")q[p]=n[p];else if(p=="__name")q[p]=n[p];
else q[p]=aV.A8(n[p])}return q};aV.A8=function(n){if(n.UG=="Objc")return aV.adC(n.v);else if(n.UG=="VlLs"){var q=[];
for(var R=0;R<n.v.length;R++)q.push(aV.A8(n.v[R]));return q}else if(n.UG=="UntF")return n.v.val;else return n.v};
function dv(){}dv.WO=function(n,q,p,E,T,i){while(q<p){var H=u.xj(n,q,4);q+=4;if(H!="8BIM"&&H!="8B64"){console.log("layer information signature error! "+H,"PSB = "+T);
alert("Error in PSD file: wrong signature.");return p}var Z=u.xj(n,q,4);q+=4;var w=u.s(n,q);q+=4;var d=T&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Z)!=-1;
if(d){w=w<<32|u.EW(n,q);q+=4}var O=["lrFX","PlLd"];if(O.indexOf(Z)!=-1){if(w%4!=0)w+=4-w%4;q+=w;continue}switch(Z){case"iOpa":E[Z]=n[q];
break;case"brst":E[Z]=[1,1,1];for(var R=0;R<w;R+=4)E[Z][u.s(n,q+R)]=0;break;case"knko":E[Z]=n[q];break;
case"infx":E[Z]=n[q];break;case"clbl":E[Z]=n[q];break;case"lmgm":E[Z]=n[q];break;case"vmgm":E[Z]=n[q];
break;case"lyid":E[Z]=u.s(n,q);break;case"lsct":E[Z]={type:u.s(n,q)};if(w>=12)E[Z].Nl=u.xj(n,q+8,4);
break;case"lsdk":E.lsct={type:u.s(n,q)};break;case"lyvr":E[Z]=u.s(n,q);break;case"lnsr":var W={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
E[Z]=u.xj(n,q,4);break;case"lspf":E[Z]=u.s(n,q);break;case"lclr":E[Z]=u.pY(n,q);break;case"luni":E[Z]=u.XR(n,q);
break;case"fxrp":E[Z]=new fc(u.G6(n,q),u.G6(n,q+8));break;case"artb":case"artd":E[Z]={};aV.Kf(n,E[Z],q+4);
break;case"SoCo":E[Z]={};aV.Kf(n,E[Z],q+4);break;case"GdFl":E[Z]={};aV.Kf(n,E[Z],q+4);dv.i6(E[Z],Z);
break;case"PtFl":E[Z]={};aV.Kf(n,E[Z],q+4);dv.i6(E[Z],Z);break;case"CgEd":var C=E.brit=fU.yQ("brit"),a={};
aV.Kf(n,a,q+4);C.Brgh.v=a.Brgh?a.Brgh.v:0;C.Cntr.v=a.Cntr?a.Cntr.v:0;C.useLegacy.v=a.useLegacy?a.useLegacy.v:0;
break;case"brit":if(E.brit==null){var C=E.brit=fU.yQ("brit"),a={};C.Brgh.v=u.Io(n,q);C.Cntr.v=u.Io(n,q+2);
C.useLegacy.v=!1}break;case"levl":var B=n.buffer.slice(q,q+w);E[Z]=fk.U4(B);break;case"curv":E[Z]=hY.tC(n,q,w);
break;case"expA":var $=u.pY(n,q),I=E[Z]=fU.yQ("expA");I.Exps.v=u.A3(n,q+2);I.Ofst.v=u.A3(n,q+6);I.gammaCorrection.v=u.A3(n,q+10);
break;case"vibA":E[Z]={};aV.Kf(n,E[Z],q+4);break;case"hue2":E[Z]=je.tC(n,q,w);break;case"blnc":var I=E[Z]=fU.yQ(Z);
I.PrsL.v=n[q+18]==1;var x=["ShdL","MdtL","HghL"];for(var R=0;R<3;R++)for(var U=0;U<3;U++)I[x[R]].v[U].v=u.Io(n,q+R*6+U*2);
break;case"blwh":var N={};aV.Kf(n,N,q+4);var I=fU.yQ(Z),m="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<m.length;R++){I[m[R]]=N[m[R]];delete N[m[R]]}E[Z]=I;break;case"phfl":var I=E[Z]=fU.yQ(Z),f=I.Clr.v,$=u.pY(n,q);
if($==3){var c=[u.s(n,q+2),u.s(n,q+6),u.s(n,q+10)],D=32768,z=j.JY(c[0]/D,c[1]/D,c[2]/D);f.Lmnc.v=z.Q_;
f.A.v=z.jS;f.B.v=z.X}if($==2){var _=u.pY(n,q+2);if(_!=7)throw"e";f.Lmnc.v=u.Io(n,q+4)/100;f.A.v=u.Io(n,q+6)/100;
f.B.v=u.Io(n,q+8)/100}var v=q+2+($==3?12:10);I.Dnst.v=u.s(n,v);v+=4;I.PrsL.v=n[v]==1;break;case"mixr":var o={Mx:u.pY(n,q+2)==1,k:[]};
for(var R=0;R<20;R++)o.k.push(u.Io(n,q+4+R*2));E[Z]=iJ.dJ(o);break;case"clrL":case"rplc":E[Z]={};aV.Kf(n,E[Z],q+6);
break;case"nvrt":E[Z]={};break;case"post":E[Z]=fU.yQ("post");E[Z].Lvls.v=u.pY(n,q);break;case"thrs":E[Z]=fU.yQ("thrs");
E[Z].Lvl.v=u.pY(n,q);break;case"grdm":var y={rev:n[q+2]==1,adQ:n[q+3]==1},k=q+4,S=u.XR(n,k);k+=4+S.length*2;
var L=cB.U9(n,k,S),X=L[0];k=L[1];var s=u.pY(n,k);k+=2;X.Intr.v=u.pY(n,k);k+=2;var M=u.pY(n,k);k+=2;y.mode=u.pY(n,k);
k+=2;y.ot=u.s(n,k);k+=4;y.ac2=u.pY(n,k)==1;k+=2;y.apF=u.pY(n,k)==1;k+=2;y.a0U=u.s(n,k);k+=4;y.ahO=u.pY(n,k);
k+=2;y.iv=[];for(var R=0;R<4;R++)y.iv.push(u.pY(n,k+R*2));k+=8;y.Kx=[];for(var R=0;R<4;R++)y.Kx.push(u.pY(n,k+R*2));
k+=8;var V=u.pY(n,k);k+=2;var l=fU.yQ("grdm");l.Rvrs.v=y.rev;l.Grad.v=X;E[Z]=l;break;case"selc":E[Z]=hc.tC(n,q,w);
break;case"vmsk":case"vsms":var e=E.vmsk=new g.Xg,Y=u.EW(n,q+4),J=(Y>>0&1)==1;e.$g=(Y>>1&1)==0;e.isEnabled=(Y>>2&1)==0;
e.Q=j2.NA(n,q+8,w-8,i.v,i.o);break;case"shmd":E[Z]={};var G=u.s(n,q),v=q+4;for(var R=0;R<G;R++){var H=u.xj(n,v,4);
v+=4;var F=u.xj(n,v,4);v+=4;var b=n[v];v++;if(Math.max(n[v],n[v+1],n[v+2])!=0)throw"e";v+=3;var h=u.s(n,v);
v+=4;if(F=="cust"||F=="cmls"||F=="extn"||F=="mlst"){var bj=u.s(n,v);if(bj!=16)v+=4;if(u.s(n,v)==16){var N={};
aV.Kf(n,N,v+4,!1);E[Z][F]=N;if(F=="cmls")i1.ZW.agO(E[Z][F])}}else{console.log("unknown shmd key: "+F+", size: "+h)}v+=h}break;
case"shpa":var $=u.s(n,q),i4=u.s(n,q+4);if(i4!=0)console.log("some patterns present!");break;case"TySh":var t=E[Z]={},$=u.pY(n,q);
t.B=u.kw(n,q+2);var aG=u.pY(n,q+2+48);t.hW={};var Q=aV.Kf(n,t.hW,q+56),jd=hx.wh();for(var bP in jd)if(t.hW[bP]==null)t.hW[bP]=jd[bP];
t.vX={};var gz=aV.Kf(n,t.vX,q+56+Q+6);t.i0=u.a6r(n,q+56+Q+6+gz);t.Bd=eK.U4(t.hW.EngineData.v);hx.asq(t.Bd.EngineDict.StyleRun.RunArray);
if(t.Bd.ResourceDict==null)t.Bd.ResourceDict=JSON.parse(JSON.stringify(t.Bd.DocumentResources));delete t.hW.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var fZ=u.s(n,q),dt=u.s(n,q+4);E.lmfx={};var Q=aV.Kf(n,E.lmfx,q+8);
dv.f1(E.lmfx);break;case"FMsk":E[Z]=u.WB(n,q,w);break;case"Txt2":E[Z]={};E[Z].raw=u.WB(n,q,w);E[Z].w$=ju.U4(E[Z].raw);
break;case"Patt":E[Z]=fg.wo(n,q,w);break;case"SoLd":var a9=u.xj(n,q,4),bi=u.s(n,q+4),az=u.s(n,q+8);E[Z]={};
var hd=aV.Kf(n,E[Z],q+12);if(E[Z].nonAffineTransform==null)E[Z].nonAffineTransform=JSON.parse(JSON.stringify(E[Z].Trnf));
if(E[Z].Impr==null)E[Z].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var bi=u.s(n,q);
E[Z]={};var hd=aV.Kf(n,E[Z],q+4);break;case"vscg":var F=u.xj(n,q,4),bi=u.s(n,q+4);E[F]={};var hd=aV.Kf(n,E[F],q+8);
dv.i6(E[F],F);break;case"vogk":var aB=u.s(n,q),bi=u.s(n,q+4);E[Z]={};var hd=aV.Kf(n,E[Z],q+8);E[Z]=E[Z].keyDescriptorList.v;
for(var R=0;R<E[Z].length;R++){}break;case"lnk2":case"lnkD__":case"lnk3__":E[Z]=[];var k=q;while(k<q+w){var cv=new g.i2;
E[Z].push(cv);var M=u.w_(n,k);k+=8;var c$=k;cv.type=u.xj(n,k,4);k+=4;if(cv.type!="liFD"){alert("Unknown Linked Layer type: "+cv.type);
break;throw cv.type}cv.Tx=u.s(n,k);k+=4;var cT=u.uG(n,k);k+=1+cT.d1.length;cv.l5=cT.d1;cv.KF=u.CA(n,k);
k+=4+cv.KF.length*2+2;cv.a5=u.xj(n,k,4);k+=4;cv.xr=u.xj(n,k,4);k+=4;var fp=u.w_(n,k);k+=8;cv.open=n[k];
k+=1;if(cv.open!=0){var cD={},Q=aV.Kf(n,cD,k+4);if(Q%4!=0)Q+=4-Q%4;console.log(cD);k+=Q+4}cv.open=0;
cv.raw=u.WB(n,k,fp);k=c$+M;if(M%4!=0)k+=4-M%4}break;case"FEid":var k=q;E[Z]=[];var f_=k+w,$=u.s(n,k);
k+=4;while(k<f_){k+=4;var M=u.s(n,k);k+=4;var L={};E[Z].push(L);L.id=u.uG(n,k).d1;k+=L.id.length+1;var $=u.s(n,k);
k+=4;k+=4;var f9=u.s(n,k);k+=4;L.rect=u.oP(n,k);k+=16;var dO=u.s(n,k);k+=4;var a6=u.s(n,k);k+=4;var hb=new j.U$(0);
for(var R=0;R<a6+2;R++){var jr=u.s(n,k);k+=4;if(jr!=0){k+=4;var dh=u.s(n,k),jq=null;k+=4;if(R<3||R==25)jq=fS.zn(!0,dO,n,L.rect.v,L.rect.o,k,dh);
if(R==0)hb._=jq;if(R==1)hb.q=jq;if(R==2)hb.X=jq;if(R==25)hb.jS=jq;k+=dh}}L.buffer=j.U(L.rect.P()*4);
j.c2(hb,L.buffer);j.x0(L);var g3=n[k];k++;if(g3!=0){L.w=new g.JI;L.w.rect=u.oP(n,k);k+=16;k+=4;var c6=u.s(n,k);
k+=4;L.w.channel=fS.zn(!0,dO,n,L.w.rect.v,L.w.rect.o,k,c6);L.w.color=255;L.w.aA();k+=c6}if(M%4!=0)k+=4-M%4}break;
case"Lr16":di.F$(i,n,q);break;default:break}var cd="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(cd.indexOf(Z)==-1)if(w%4!=0)console.log("size not multiple of 4!!!",Z);if(Z!="luni"&&Z!="TySh"&&Z!="tySh"&&Z!="lfx2")if(w%4!=0)w+=4-w%4;
q+=w}var jn=[];for(var R=0;R<jn.length;R++)delete E[jn[R]];return q};dv.Nw=function(n,q,p,E,T){for(var i in p)if(p[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete p[i]}for(var i in p){var H=E&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,w=0;
u.Xb(n,q,H?"8B64":"8BIM");q+=4;var Z=q;u.Xb(n,q,i);q+=4;u.rB(n,q,0);q+=H?8:4;switch(i){case"iOpa":u.pI(n,q,p[i],1);
w=4;break;case"brst":w=0;for(var R=0;R<3;R++)if(p[i][R]==0){u.G2(n,q+w,R);w+=4}break;case"knko":u.pI(n,q,p[i],1);
w=4;break;case"infx":u.pI(n,q,p[i],1);w=4;break;case"clbl":u.pI(n,q,p[i],1);w=4;break;case"lmgm":u.pI(n,q,p[i],1);
w=4;break;case"vmgm":u.pI(n,q,p[i],1);w=4;break;case"lyid":u.G2(n,q,p[i]);w=4;break;case"lsct":u.G2(n,q,p[i].type);
w=4;if(p[i].Nl){u.Xb(n,q+4,"8BIM");u.Xb(n,q+8,p[i].Nl);w=12}break;case"lyvr":u.G2(n,q,p[i]);w=4;break;
case"lnsr":u.Xb(n,q,p[i]);w=4;break;case"lspf":u.G2(n,q,p[i]);w=4;break;case"lclr":u.de(n,q,p[i]);w=8;
break;case"luni":u.UA(n,q,p[i]);w=4+2*p[i].length;break;case"fxrp":u.JQ(n,q,p[i].x);u.JQ(n,q+8,p[i].y);
w=16;break;case"artb":case"artd":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;break;case"SoCo":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;
break;case"GdFl":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;break;case"PtFl":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;
break;case"CgEd":var d={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},O=d,W=p[i];
O.Brgh.v=W.Brgh.v;O.Cntr.v=W.Cntr.v;O.useLegacy.v=W.useLegacy.v;u.G2(n,q,16);w=aV.$F(n,d,q+4)+4;break;
case"brit":n.Pc(q,8);w=8;break;case"levl":var C=new hX;w=fk.xA(C,p[i]);u.wz(n,q,C.data);break;case"curv":w=hY.E1(n,q,p[i]);
break;case"expA":w=14;n.Pc(q,14);u.TO(n.data,q,1);u.RP(n.data,q+2,p[i].Exps.v);u.RP(n.data,q+6,p[i].Ofst.v);
u.RP(n.data,q+10,p[i].gammaCorrection.v);break;case"vibA":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;break;case"hue2":w=je.E1(n,q,p[i]);
break;case"blnc":w=19;n.Pc(q,w);var a=["ShdL","MdtL","HghL"];for(var R=0;R<3;R++){var B=p[i][a[R]].v;
for(var $=0;$<3;$++)B.push(u.o6(n.data,q+R*6+$*2,B[$].v))}n.data[q+18]=p[i].PrsL.v?1:0;break;case"blwh":var d={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},I="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<I.length;R++){d[I[R]]=p[i][I[R]]}u.G2(n,q,16);w=aV.$F(n,d,q+4)+4;break;case"phfl":u.de(n,q,2);
var x=p[i].Clr.v;u.de(n,q+2,7);u.de(n,q+4,Math.round(x.Lmnc.v*100));u.de(n,q+6,Math.round(x.A.v*100));
u.de(n,q+8,Math.round(x.B.v*100));u.de(n,q+10,0);var U=q+2+10;n.Pc(U,5);u.Qh(n.data,U,p[i].Dnst.v);U+=4;
n.data[U]=p[i].PrsL.v?1:0;U++;w=U-q;break;case"mixr":w=44;n.Pc(q,w);var N=iJ.TW(p[i]);u.TO(n.data,q,1);
u.TO(n.data,q+2,N.Mx?1:0);for(var R=0;R<20;R++)u.o6(n.data,q+4+R*2,N.k[R]);break;case"clrL":case"rplc":u.de(n,q,1);
u.G2(n,q+2,16);w=aV.$F(n,p[i],q+6)+6;break;case"nvrt":w=0;break;case"post":u.de(n,q,p[i].Lvls.v);w=2;
break;case"thrs":u.de(n,q,p[i].Lvl.v);w=2;break;case"grdm":var m={rev:p[i].Rvrs.v,adQ:!1,mode:0,ot:867527939,ac2:!1,apF:!0,a0U:2048,ahO:3,iv:[0,0,0,0],Kx:[32768,32768,32768,32768]},f=p[i].Grad.v;
n.Pc(q,4);u.TO(n.data,q,1);n.data[q+2]=m.rev?1:0;n.data[q+3]=m.adQ?1:0;var c=q+4;u.UA(n,c,f.Nm.v);c+=4+f.Nm.v.length*2;
c=cB.a6P(n,c,f);u.de(n,c,2);c+=2;u.de(n,c,f.Intr.v);c+=2;u.de(n,c,32);c+=2;u.de(n,c,m.mode);c+=2;u.G2(n,c,m.ot);
c+=4;u.de(n,c,m.ac2?1:0);c+=2;u.de(n,c,m.apF?1:0);c+=2;u.G2(n,c,m.a0U);c+=4;u.de(n,c,m.ahO);c+=2;for(var R=0;
R<4;R++)u.de(n,c+R*2,m.iv[R]);c+=8;for(var R=0;R<4;R++)u.de(n,c+R*2,m.Kx[R]);c+=8;c+=2;w=c-q;break;case"selc":w=hc.E1(n,q,p[i]);
break;case"FMsk":u.wz(n,q,p[i]);w=p[i].length;break;case"Txt2":var D=new hX,z=ju.SY(p[i].w$,D),_=j.U(z,!0);
for(var R=0;R<z;R++)_[R]=D.data[R];u.wz(n,q,_);w=_.length;break;case"vmsk":var v=p[i],o=0;u.G2(n,q,3);
if(!v.$g)o+=1<<1;if(!v.isEnabled)o+=1<<2;u.G2(n,q+4,o);w=8;var y=v.Q.length;n.Pc(q+8,y*26);j2.gT(n.data,q+8,v.Q,T.v,T.o);
w+=y*26;break;case"shmd":u.G2(n,q,Object.keys(p[i]).length);var U=q+4;for(var k in p[i]){u.Xb(n,U,"8BIM");
U+=4;u.Xb(n,U,k);U+=4;u.G2(n,U,0);U+=4;u.G2(n,U,0);U+=4;u.G2(n,U,16);U+=4;var S=aV.$F(n,p[i][k],U);if(S%4!=0)S+=4-S%4;
u.G2(n,U-8,S+4);U+=S}w=U-q;break;case"TySh":var U=q;u.cv(n,U,1);U+=2;var L=p[i],D=new hX;L.Bd.DocumentResources=JSON.parse(JSON.stringify(L.Bd.ResourceDict));
var z=eK.SY(L.Bd,D),_=j.U(z,!0);for(var R=0;R<z;R++)_[R]=D.data[R];L.hW.EngineData={t:"tdta",v:_};var X=L.Bd.EngineDict.Editor.Text;
L.hW.Txt.v=X.substring(0,X.length-1);u.adE(n,U,L.B);U+=48;u.cv(n,U,50);U+=2;u.G2(n,U,16);U+=4;U+=aV.$F(n,L.hW,U);
u.cv(n,U,1);U+=2;u.G2(n,U,16);U+=4;U+=aV.$F(n,L.vX,U);u.a5K(n,U,L.i0);U+=16;w=U-q;break;case"lmfx":u.G2(n,q,0);
u.G2(n,q+4,16);var d=JSON.parse(JSON.stringify(p[i])),s=!1;dv.ep(d);for(var R=0;R<iq.Da.length;R++)if(d[iq.Da[R]]!=null)s=!0;
u.Xb(n,Z,s?"lmfx":"lfx2");w=aV.$F(n,d,q+8)+8;break;case"Patt":var U=fg.iM(n,q,p[i]);w=U-q;break;case"SoLd":u.Xb(n,q,"soLD");
u.G2(n,q+4,4);u.G2(n,q+8,16);w=aV.$F(n,p[i],q+12)+12;break;case"vstk":case"pths":u.G2(n,q,16);w=aV.$F(n,p[i],q+4)+4;
break;case"vscg__":u.Xb(n,q,p[i].key);u.G2(n,q+4,16);w=aV.$F(n,p[i].k,q+8)+8;break;case"vogk":u.G2(n,q,1);
u.G2(n,q+4,16);j.k4.ag0(p[i]);for(var R=0;R<p[i].length;R++){var M=p[i][R].v.keyOriginResolution;if(M)M.v=T.xm}var V={classID:"null",keyDescriptorList:{t:"VlLs",v:p[i]}};
w=aV.$F(n,V,q+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var c=q;for(var R=0;R<p[i].length;R++){var l=p[i][R],e=c;
u.Xl(n,c,0);c+=8;u.Xb(n,c,l.type);c+=4;u.G2(n,c,l.Tx);c+=4;n.Pc(c,1);n.data[c]=l.l5.length;c++;u.Xb(n,c,l.l5);
c+=l.l5.length;u.UA(n,c,l.KF+"\0");c+=4+l.KF.length*2+2;u.Xb(n,c,l.a5);c+=4;u.Xb(n,c,l.xr);c+=4;u.Xl(n,c,l.raw.length);
c+=8;n.Pc(c,1);n.data[c]=l.open;c++;u.wz(n,c,l.raw);c+=l.raw.length;u.G2(n,c,1);c+=4;c+=11;var Y=c-e-8;
u.Xl(n,e,Y);if(Y%4!=0){n.Pc(c,4-Y%4);c+=4-Y%4}}w=c-q;break;case"FEid":var c=q;u.G2(n,c,3);c+=4;for(var J=0;
J<p[i].length;J++){var G=p[i][J];c+=4;var F=c;c+=4;u.h_(n,c,G.id);c+=G.id.length+1;u.G2(n,c,1);c+=4;
var b=j.U(G.rect.P()),h=G.rect.AL(new eL(0,0,T.v,T.o)),bj=j.U(h.P());c+=4;var i4=c;c+=4;u.cq(n,c,h);
c+=16;u.G2(n,c,8);c+=4;u.G2(n,c,24);c+=4;for(var R=0;R<24+2;R++){var t=-1;if(R==0)t=0;if(R==1)t=1;if(R==2)t=2;
if(R==25)t=3;u.G2(n,c,t!=-1?1:0);c+=4;if(t!=-1){j.J2(G.buffer,b,t);j.cg(b,G.rect,bj,h);c+=4;var aG=c;
c+=4;n.Pc(c,h.P()+2);c=fS.hh(!0,bj,n.data,h.v,h.o,c,3);u.G2(n,aG,c-(aG+4))}}u.G2(n,i4,c-(i4+4));n.Pc(c,1);
n.data[c]=G.w?1:0;c++;if(G.w!=null){var Q=h,jd=j.U(Q.P());jd.fill(G.w.color);j.cg(G.w.channel,G.w.rect,jd,Q);
u.cq(n,c,Q);c+=16;c+=4;var bP=c;c+=4;n.Pc(c,Q.P()+2);c=fS.hh(!0,jd,n.data,Q.v,Q.o,c,3);u.G2(n,bP,c-(bP+4))}var Y=c-(F+4);
u.G2(n,F,Y);if(Y%4!=0)c+=4-Y%4}w=c-q;break;default:console.log("unknown layer tag: "+i+", size: "+w);
q-=12;continue}var gz=["Txt2","artd","extd","pths"];if(gz.indexOf(i)==-1)if(w%4!=0)w+=4-w%4;if(H)u.Xl(n,q-8,w);
else u.G2(n,q-4,w);if(i!="luni"&&i!="TySh")if(w%4!=0)w+=4-w%4;q+=w}return q};dv.f1=function(n){for(var R=0;
R<iq.order.length;R++){var q=iq.order[R],p=iq.Da[R];if(n[p]==null)n[p]={t:"VlLs",v:[]};if(n[q]!=null){n[p].v.push(n[q]);
delete n[q]}var E=[];for(var T=0;T<n[p].v.length;T++){var i=n[p].v[T];if(i.v.present==null||i.v.present.v==!0)E.push(i)}n[p].v=E}};
dv.ep=function(n){for(var R=0;R<iq.order.length;R++){var q=iq.order[R],p=iq.Da[R],E=n[p].v.length;if(E==0){delete n[p];
continue}if(E==1){n[q]=n[p].v[0];delete n[p];continue}}};dv.i6=function(n,q){if(q=="GdFl"){if(n.Angl==null)n.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(n.Algn==null)n.Algn={v:!0,t:"bool"};if(n.Scl==null)n.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(n.Ofst==null)n.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(n.Rvrs==null)n.Rvrs={v:!1,t:"bool"};if(n.Dthr==null)n.Dthr={v:!1,t:"bool"}}if(q=="PtFl"){if(n.Algn==null)n.Algn={v:!0,t:"bool"};
if(n.Scl==null)n.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(n.phase==null)n.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
dv.clone=function(n,q){var p={};if(n=="TySh"){p.B=q.B.clone();p.hW=JSON.parse(JSON.stringify(q.hW));
p.vX=JSON.parse(JSON.stringify(q.vX));p.i0=q.i0.clone();p.Bd=JSON.parse(JSON.stringify(q.Bd));if(q.add)p.add={vmsk:q.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(q.add.vogk))};
return p}else if(n=="fxrp")return q.clone();else if(n=="vmsk")return q.clone();else return JSON.parse(JSON.stringify(q))};
function e$(n,q){}e$.U4=function(n,q,p,E){E=e$.a69(n,q,p,E);return E};e$.SY=function(n,q,p,E,T){E=e$.a2u(n,q,p,E,T);
return E};e$.a69=function(n,q,p,E){var T=E;n.rect=u.oP(p,E);E+=16;var i=u.pY(p,E);E+=2;n.Qw=[];var H=q.uM;
for(var R=0;R<i;R++){n.Qw[R]={id:u.Io(p,E),length:(H?u.w_:u.s)(p,E+2)};E+=H?10:6}var Z=u.xj(p,E,4);E+=4;
if(Z!="8BIM"){console.log("Invalid Blend mode signature: "+Z);alert("Error in Photoshop file: wrong signature.");
throw"e"}n.Nl=u.xj(p,E,4);E+=4;n.opacity=p[E];E+=1;n.PJ=p[E]==1;E+=1;n.GZ=p[E];E+=1;if(p[E]!=0)console.log("error in filler!");
E+=1;var w=u.s(p,E);E+=4;var d=E;E=e$.asx(n,p,E);E=e$.aqU(n,p,E);var O=u.uG(p,E);n.name=O.d1;E+=O.length;
if(O.length%4!=0)E+=4-O.length%4;E=dv.WO(p,E,d+w,n.add,H,q);if(n.add.lsct){if(n.add.lsct.Nl)n.Nl=n.add.lsct.Nl;
n.add.lsct=n.add.lsct.type}return E};e$.a2u=function(n,q,p,E,T){var i=E;u.cq(p,E,n.rect);E+=16;var H=n.At();
u.de(p,E,H.length);E+=2;var Z=q.uM;T.push(E);for(var R=0;R<H.length;R++){u.cv(p,E,H[R]);if(Z)u.Xl(p,E+2,0);
else u.G2(p,E+2,0);E+=Z?10:6}u.Xb(p,E,"8BIM");E+=4;u.Xb(p,E,n.Nl);E+=4;u.pI(p,E,n.opacity,1);E+=1;u.pI(p,E,n.PJ?1:0,1);
E+=1;u.pI(p,E,n.GZ,1);E+=1;u.pI(p,E,0,1);E+=1;var w=E;u.G2(p,E,0);E+=4;var d=E;E=e$.ar2(n,p,E);E=e$.a1b(n,p,E);
var O=u.h_(p,E,n.name.slice(0,255));E+=O;if(O%4!=0)E+=4-O%4;if(n.add.lsct){n.add.lsct={type:n.add.lsct};
if(n.Nl=="pass"){n.add.lsct.Nl="pass";n.Nl="norm"}}if(n.Nl=="pass")n.add.lsct={type:n.add.lsct,Nl:"pass"};
if(n.add.brit)n.add.CgEd=n.add.brit;E=dv.Nw(p,E,n.add,Z,q);delete n.add.CgEd;if(n.add.lsct){if(n.add.lsct.Nl)n.Nl=n.add.lsct.Nl;
n.add.lsct=n.add.lsct.type}var W=E-d;u.G2(p,w,W);return E};e$.asx=function(n,q,p){var E=u.s(q,p);p+=4;
if(E==0)return p;var T=p;n.w=new g.JI;n.w.rect=u.oP(q,p);p+=16;n.w.color=q[p];p+=1;var i=e$.t_(n.w,q,p);
p+=1;if(i){var H=!1,Z=255,w=0,d=255,O=0;for(var R=0;R<n.Qw.length;R++)if(n.Qw[R].id==-3)H=!0;if(H){n.y9=e$.wD(q,p);
p+=18}var W=p,C=q[p];p++;if(C>>0&1){Z=q[p];p++}if(C>>1&1){w=u.G6(q,p);p+=8}if(C>>2&1){d=q[p];p++}if(C>>3&1){O=u.G6(q,p);
p+=8}if((p-W&1)==1)p++;n.PR=[Z,w,d,O]}else{if(E==20)p+=2;else{n.y9=e$.wD(q,p);p+=18}}return T+E};e$.ar2=function(n,q,p){u.G2(q,p,0);
p+=4;if(n.w==null)return p;var E=n.u1(),T=n.add.vmsk,i=p,H=!0;u.G2(q,p,0);u.cq(q,p,n.w.rect);p+=16;u.pI(q,p,n.w.color);
p+=1;e$.BU(n.w,q,p,H);p+=1;if(H){if(n.y9){e$.ap_(q,p,n.y9);p+=18}u.pI(q,p,15);p+=1;u.pI(q,p,E?E.Cm:255);
p+=1;u.JQ(q,p,E?E.pR:0);p+=8;u.pI(q,p,T?T.Cm:255);p+=1;u.JQ(q,p,T?T.pR:0);p+=8;p++}u.G2(q,i-4,p-i);return p};
e$.wD=function(n,q){var p=new g.JI;e$.t_(p,n,q);q+=1;p.color=n[q];q+=1;p.rect=u.oP(n,q);q+=16;return p};
e$.ap_=function(n,q,p){e$.BU(p,n,q,!1);q+=1;u.pI(n,q,p.color);q+=1;u.cq(n,q,p.rect);q+=16};e$.t_=function(n,q,p){var E=q[p];
n.$g=(E>>0&1)==0;n.isEnabled=(E>>1&1)==0;n.DM=(E>>3&1)==1;return E>>4&1};e$.BU=function(n,q,p,E){var T=0;
if(!n.$g)T+=1<<0;if(!n.isEnabled)T+=1<<1;if(n.DM)T+=1<<3;if(E)T+=1<<4;u.pI(q,p,T)};e$.aqU=function(n,q,p){var E=u.s(q,p);
p+=4;if(E==0)return p;if(E!=5*8)console.log("unexpected Layer Blending Ranges content, size:",E);for(var R=0;
R<E;R++)n.tA[R]=q[p+R];return p+40};e$.a1b=function(n,q,p){u.G2(q,p,n.tA.length);p+=4;q.Pc(p,40);for(var R=0;
R<40;R++){q.data[p+R]=n.tA[R]}return p+40};function fS(){}fS.U4=function(n,q,p,E){E=fS.a15(q.uM,q.j$,q.$m,n,p,E);
return E};fS.xA=function(n,q,p,E,T,i){E=fS.aaM(n,q,p,E,T,i);return E};fS.a15=function(n,q,p,E,T,i){var H=E.Qw,Z={},w=i;
for(var R=0;R<H.length;R++){var d=H[R],O=d.id,W=d.length,C;if(O==-3)C=E.y9.rect;else if(O==-2)C=E.w.rect;
else C=E.rect;var a=fS.zn(n,q,T,C.v,C.o,i,W);i+=W;if(O==-3)E.y9.channel=a;else if(O==-2)E.w.channel=a;
else Z["c"+O]=a}var B=new j.U$(0);B.jS=null;if(p==3){B._=Z.c0;B.q=Z.c1;B.X=Z.c2;B.jS=Z["c-1"]}else if(p==1){B._=Z.c0;
B.q=Z.c0;B.X=Z.c0;B.jS=Z["c-1"]}else if(p==4){var $=Z.c0,I=Z.c1,x=Z.c2,U=Z.c3,N=$.length,m=1/255;for(var R=0;
R<N;R++){var f=$[R],c=I[R],D=x[R],z=U[R]*m;$[R]=Math.round(f*z);I[R]=Math.round((.2*f+.8*c)*z);x[R]=Math.round((.2*c+.8*D)*z)}B._=$;
B.q=I;B.X=x;B.jS=Z["c-1"];console.log("converting from CMYK to RGB")}if(B._==null)B._=j.U(0);if(B.jS==null&&B._!=null){B.jS=B._.slice(0);
B.jS.fill(255)}if(B.q==null)B.q=B._.slice(0);if(B.X==null)B.X=B._.slice(0);E.buffer=j.U(Math.max(0,E.rect.P()*4));
j.c2(B,E.buffer);return i};fS.aaM=function(n,q,p,E,T,i){var H=q.At(),Z=new j.U$(q.rect.P());j.MF(q.buffer,Z);
for(var R=0;R<H.length;R++){var w=H[R],d,O;if(w==-3)d=q.y9.rect;else if(w==-2)d=q.w.rect;else d=q.rect;
if(w==-3)O=q.y9.channel;if(w==-2)O=q.w.channel;if(w==-1)O=Z.jS;if(w==0)O=Z._;if(w==1)O=Z.q;if(w==2)O=Z.X;
p.Pc(E,d.P()*3+4);var W=E;E=fS.hh(n,O,p.data,d.v,d.o,E,i[1]?3:1);var C=E-W;if(n)u.A9(p.data,T+R*10+2,C);
else u.Qh(p.data,T+R*6+2,C)}return E};fS.zn=function(n,q,p,E,T,i,H){var Z=u.pY(p,i);i+=2;return fS.zR(n,q,p,E,T,i,Z,H-2)};
fS.hh=function(n,q,p,E,T,i,H){u.o6(p,i,H);i+=2;i=fS.Bq(n,q,p,E,T,i,H);return i};fS.zR=function(n,q,p,E,T,i,H,Z){var w,d=E*T*(q>>>3),O=d&3,W=d+(O==0?0:4-O);
if(Z<=0){return j.U(W)}if(H>3){console.log("unknown compression: "+H,E,T,E*T,Z);H=0}if(H==0){if(i+W<=p.length)w=p.slice(i,i+W);
else{w=j.U(d);for(var R=0;R<d;R++)w[R]=p[i+R]}i+=d}else if(H==1){w=j.U(d);var C=n?4:2,a=fS.HH(p,w,E,T,i,i+C*T,C);
i+=C*T+a}else if(H==2||H==3){var B=new Uint8Array(p.buffer,i+2,Z-6),$=pako.inflateRaw(B);if(H==3){if(q==8)for(var I=0;
I<T;I++){var x=I*E+1,U=x+E-1,N=$[x-1];for(var m=x;m<U;m++){N+=$[m];$[m]=N&255}}else for(var I=0;I<T;
I++){var x=I*E+1,U=x+E-1,N=$[2*x-2]<<8|$[2*x-1];for(var m=x;m<U;m++){var f=m<<1;N+=$[f]<<8|$[f+1];$[f]=N>>>8;
$[f+1]=N&255}}}if($.length==W)w=$;else{w=j.U(W);for(var R=0;R<$.length;R++)w[R]=$[R]}}if(q==16){var c=j.U(E*T);
for(var R=0;R<d;R+=2)c[R>>>1]=w[R];w=c}return w};fS.Bq=function(n,q,p,E,T,i,H){var Z=E*T;if(H==0)for(var R=0;
R<Z;R++)p[i++]=q[R];else if(H==1){var w=n?4:2,d=fS.RC(q,p,E,T,i,i+w*T,w);i+=w*T+d}else if(H==2||H==3){if(H==3){var O=new Uint8Array(q.length);
for(var W=0;W<T;W++){var C=W*E+1,a=C+E-1,B=q[C-1];O[C-1]=B;for(var $=C;$<a;$++){O[$]=q[$]+(256-B)&255;
B=q[$]}}q=O}p[i]=120;p[i+1]=156;i+=2;var I=pako.deflateRaw(q,{abI:4});u.ve(p,i,I);i+=I.length+4}else console.log("Unknown compression: "+H);
return i};fS.HH=function(n,q,p,E,T,i,H){if(!(n instanceof Uint8Array)||!(q instanceof Uint8Array))throw"e";
var Z=i,w=E|0;if(H==2)for(var R=0;R<w;R++){var d=u.pY(n,T+(R<<1));fS.$u(n,i,d,q,R*p,p);i+=d}else for(var R=0;
R<w;R++){var d=u.s(n,T+(R<<2));fS.$u(n,i,d,q,R*p,p);i+=d}return i-Z};fS.RC=function(n,q,p,E,T,i,H){var Z=i;
if(H==2)for(var R=0;R<E;R++){var w=fS.xE(n,R*p,p,q,i);u.TO(q,T+R*2,w);i+=w}else for(var R=0;R<E;R++){var w=fS.xE(n,R*p,p,q,i);
u.Qh(q,T+R*4,w);i+=w}return i-Z};fS.xE=function(n,q,eR,p,E){var T,i,H,Z,w,e8,d;Z=q+eR;for(H=q,i=E;eR>0;
H=T,eR-=e8){d=eR<128?eR:128;if(H<=Z-3&&n[H+1]==n[H+0]&&n[H+2]==n[H+0]){for(T=H+3;T<H+d&&n[T]==n[H+0];
)++T;e8=T-H;p[i++]=1+256-e8;p[i++]=n[H+0]}else{for(T=H;T<H+d;)if(T<=Z-3&&n[T+1]==n[T+0]&&n[T+2]==n[T+0])break;
else++T;e8=T-H;p[i++]=e8-1;for(var R=0;R<e8;R++)p[i+R]=n[H+R];i+=e8}}return i-E};fS.$u=function(n,q,p,E,T,i){for(var H=0;
H<p;){var eR=n[q++];if(eR>=128){var Z=n[q++],w=T+(257-eR);E.fill(Z,T,w);T=w;H+=2}else{for(var R=0;R<=eR;
R++)E[T+R]=n[q+R];q+=eR+1;T+=eR+1;H+=1+1+eR}}};function di(){}di.WE=function(n,q,p){return;var E="",T=q;
while(T!=0){var i=T%1e3+"";while(i.length<3)i="0"+i;E=(E==""?i:i+" ")+E;T=Math.floor(T/1e3)}while(E.startsWith("0")&&E!="0")E=E.slice(1);
while(E.length<11)E=" "+E;console.log("===",E,"\t".repeat(n),": "+p)};di.U4=function(n,q){q.uM=!1;q.j$=8;
var p=new Uint8Array(n),E=0,T=0,G,gz=!1,fZ=!0,dt=!1,a9=0,bZ=0;T=di.LO(q,p,E);di.WE(0,T-E,"PSD Header");
E=T;T=di.apN(q,p,E);di.WE(0,T-E,"Color Mode Data");E=T;T=di.a09(q,p,E);di.WE(0,T-E,"Image Resources");
E=T;T=di.a7i(q,p,E);di.WE(0,T-E,"Layer And Mask Info");E=T;T=di.a1r(q,p,E);di.WE(0,T-E,"Merged Image");
E=T;if(q.h.length==0){var i=q.Je();i.WR("Background");q.h.push(i);i.buffer=q.buffer.slice(0);i.rect=new eL(0,0,q.v,q.o)}if(q.i$.r1005){q.xm=u.a7z(q.i$.r1005,0)}if(q.i$.r1026){var p=q.i$.r1026;
for(var R=0;R<p.length;R+=2){var T=q.h[R>>>1];if(T)T.tS=u.pY(p,R)}}if(q.i$.r1072){var p=q.i$.r1072;for(var R=0;
R<p.length;R++){var T=q.h[R];if(T)T.fK=p[R]==1}}if(q.i$.r1032){var p=q.i$.r1032,H=u.s(p,12);for(var R=0;
R<H;R++){var Z=p[16+R*5+4],w=u.EW(p,16+R*5)/32;q.lA.push([Z,w])}}delete q.i$.r1036;delete q.i$.r1039;
if(q.i$.r1050){var d=u.s,O=q.i$.r1050,W=u.s(O,0);if(W==6){var C=4,a=u.oP(O,C);C+=16;var B=u.XR(O,C);
C+=4+B.length*2;var $=d(O,C);C+=4;var I=q.D0;for(var R=0;R<$;R++){var x=A.QI.e_(),N;I.push(x);x=x.v;
x.sliceID.v=d(O,C);C+=4;x.groupID.v=d(O,C);C+=4;var U=d(O,C);C+=4;if(U==1){N=d(O,C);C+=4}var B=u.XR(O,C);
C+=4+B.length*2;var m=d(O,C);C+=4;var f=[d(O,C),d(O,C+4),d(O,C+8),d(O,C+12)];C+=16;A.QI.fb(I,I.length-1,f);
var c=x.url.v=u.XR(O,C);C+=4+c.length*2;var D=x.null.v=u.XR(O,C);C+=4+D.length*2;var z=x.Msge.v=u.XR(O,C);
C+=4+z.length*2;var _=x.altTag.v=u.XR(O,C);C+=4+_.length*2;x.cellTextIsHTML.v=O[C]==1;C++;var v=x.cellText.v=u.XR(O,C);
C+=4+v.length*2;var o=d(O,C);C+=4;var y=d(O,C);C+=4;var k=O.slice(C,C+4);C+=4;if(U!=2)I.pop()}}else if(W==8){var S={};
aV.Kf(O,S,8,!1);var O=q.D0=S.slices.v;for(var R=0;R<O.length;R++){if(O[R].v.origin.v.ESliceOrigin!="userGenerated"){O.splice(R,1);
R--}}}}if(q.i$.r1058){var L=q.i$.r1058,X=UTIF.decode(L.buffer,{parseMN:!1,debug:!1});cm.tQ(X[0],q.Sm);
delete q.i$.r1058}if(q.i$.r1060){var s=u.L4(q.i$.r1060);cm.mR(s,q.Sm);delete q.i$.r1060}if(q.i$.r1065){var p=q.i$.r1065;
q.ev={};aV.Kf(p,q.ev,4,!1)}if(q.i$.r1069){var p=q.i$.r1069,M=[];for(var R=2;R<p.length;R+=4){var N=u.s(p,R);
for(var V=0;V<q.h.length;V++){var T=q.h[V];if(T.add.lyid==N&&T.add.lsct!=3)M.push(V)}}q.p=M}if(q.i$.r1025){var l=q.i$.r1025;
delete q.i$.r1025;var e=j2.NA(l,0,l.length,q.v,q.o),Y=new g.Xg;Y.Q=e;q.kA[0]=gd.f$("Working Path",{vmsk:Y})}var J=q.add.pths;
delete q.add.pths;var F=q.i$.r3000;if(F){G={};aV.Kf(F,G,4,!1);delete q.i$.r3000}for(var b=0;b<=997;b++){var h="r"+(2e3+b),l=q.i$[h];
if(l==null)break;var e=j2.NA(l,0,l.length,q.v,q.o),bj=J?J.pathList.v[b].v.pathUnicodeName.v:"Path "+b,i4=G?G.keyRootDescriptorList.v[b].v.keyDescriptorList.v:g.J0(e),Y=new g.Xg;
Y.Q=e;q.kA[b+1]=gd.f$(bj,{vmsk:Y,vogk:i4});delete q.i$[h]}delete q.uM;var t=new eL(0,0,q.v,q.o),aG=q.add.Txt2,Q=aG;
if(Q){Q=Q.w$;if(Q._DocumentResources==null)Q=dH.KR(Q)}if(aG&&aG.w$._DocumentResources!=null){var jd="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),bP=aG.w$._DocumentResources._TextFrameSet._Resources;
for(var R=0;R<bP.length;R++){}}for(var R=0;R<q.h.length;R++){var T=q.h[R],bi=T.add.lsct,az=T.add.vmsk,hd=T.u1();
if(bi==fX.ct){a9++;T.add.lspf=0}else if(bi==fX.eV||bi==fX.Ku)a9--;if(T.name==""){T.name="Layer "+(R+1);
dt=!0}if(dt&&T.z7()&&T.Nl=="norm")T.Nl="pass";if(T.Sr()&&T.vr(q).w){var aB=T.vr(q);aB.w.isEnabled=T.add.SoLd.filterFX.v.filterMaskEnable.v}if(az&&T._m()){var cv=iq.DL.default;
if(T.add.vstk==null)T.add.vstk=JSON.parse(JSON.stringify(cv));else{var c$="strokeStyleLineDashSet";if(T.add.vstk[c$]==null)T.add.vstk[c$]=JSON.parse(JSON.stringify(cv[c$]))}T.add.vstk.strokeStyleResolution.v=q.xm}if(az&&(T.add.vogk==null||j.G.ji(az.Q)!=T.add.vogk.length))T.J0();
if(T.add.SoLd&&T.rect.M6()){console.log("redrawing smart instance");T.Ze(q)}if(hd==null&&T.w!=null){if(T.w.DM==!1){T.w.DM=!0;
T.y9=T.w.clone()}}hd=T.u1();if(T.PR){var cv=T.PR,Y=az;if(hd){hd.Cm=cv[0];hd.pR=cv[1]}if(Y){Y.Cm=cv[2];
Y.pR=cv[3]}T.PR=null}if(hd!=null&&az!=null&&(hd.pR+az.pR!=0||hd.Cm+az.Cm!=2*255))T.VA(q);else if(az!=null&&!T._m())T.VA();
var cT=T.add.artb;if(cT&&cT.artboardBackgroundType==null)cT.artboardBackgroundType={t:"long",v:1};if(cT&&a9!=0)delete T.add.artb;
var fp=T.add.vstk;if(T._m()&&(T.rect.M6()||az&&az.pR!=0||fp&&!fp.fillEnabled.v&&(!fp.strokeEnabled.v||fp.strokeStyleLineWidth.v.val==0)))T.$k(q);
if(T.add.TySh){gz=!0;if(!T.rect.M6())fZ=!1}if(T.add.TySh&&Q){var cD=T.add.TySh.hW.TextIndex.v;if(cD==-1)continue;
var f_=T.add.TySh.Bd,f9=hx.my(f_),dO=Q._DocumentObjects._TextObjects;if(dO.length<=cD){console.log("Txt2 incomplete");
continue}var a6=dO[cD]._Model,hb=a6._StyleRun?a6._StyleRun._RunArray:[],jr=f_.ResourceDict.StyleSheetSet[0].StyleSheetData.FontSize;
if(jr==null)jr=12;var dh=f_.EngineDict.StyleRun.RunArray;for(var jq=0;jq<dh.length;jq++){var g3=dh[jq].StyleSheet.StyleSheetData;
if(hb[jq]==null)continue;var c6=hb[jq]._RunData._StyleSheet._Features;if(c6&&c6._BaselineDirection)g3.BaselineDirection=parseInt(c6._BaselineDirection.slice(1))}var cd=f_.EngineDict.ParagraphRun.RunArray,jn=a6._ParagraphRun._RunArray;
if(jn==null)jn=[];var cV=Math.min(jn.length,cd.length);for(var V=0;V<cV;V++){var fM=cd[V].ParagraphSheet.Properties,bE=Q._DocumentResources._ParagraphSheetSet._Resources,gU=jn[V]._RunData._ParagraphSheet;
if(typeof gU=="string")gU=bE[parseInt(gU.slice(1))]._Resource;var g6=gU._Parent==null?gU:bE[parseInt(gU._Parent.slice(1))]._Resource;
gU=gU._Features;g6=g6._Features;var cu=gU._ParagraphDirection;if(cu==null)cu=g6._ParagraphDirection;
if(cu)fM._Direction=parseInt(cu.slice(1));if(gU._ComposerEngine)fM._ComposerEngine=parseInt(gU._ComposerEngine.slice(1))}var f5=Q._DocumentResources,iP=f5._TextFrameSet._Resources,id=iP[cD]._Resource,aY=id._Data,fT=new b$(1,0,0,1,0,0);
if(id._0){var h8=parseFloat(id._0[0].slice(1)),jf=parseFloat(id._0[1].slice(1));fT.translate(h8,jf)}if(f9){fT.translate(f9[0],f9[1]);
hx.XM(f_,[0,0,f9[2]-f9[0],f9[3]-f9[1]])}else{if(id._Bezier&&id._Bezier._Points){var e=id._Bezier._Points,h8=parseFloat(e[0].slice(1)),jf=parseFloat(e[1].slice(1));
if(h8!=0||jf!=0){fT.translate(h8,jf)}}}if(id._Data&&id._Data._FrameMatrix){var h2=id._Data._FrameMatrix;
h2=h2.map(function(eG){return parseFloat(eG.slice(1))});fT.concat(new b$(h2[0],h2[1],h2[2],h2[3],h2[4],h2[5]))}fT.concat(T.add.TySh.B);
T.add.TySh.B=fT;var m=aY._Type?parseInt(aY._Type.slice(1)):0;if(m==2||m==1&&aY._PathData._Spacing=="i-3"){var e9=function(eG){return parseFloat(eG.slice(1))},e=id._Bezier._Points.map(e9);
if(f9)j.O.B(e,new b$(1,0,0,1,-f9[0],-f9[1]),e);var jt=aY._PathData?aY._PathData._Reversed:!1;f_.Curve={Points:e,TextOnPathTRange:aY._TextOnPathTRange.map(e9),Reversed:jt==null?!1:jt};
T.add.TySh.add={vmsk:new g.Xg,vogk:null};hx.D6(T.add.TySh)}if(aY._LineOrientation=="i2")f_._LineOrientation=2}}i1.ZW.oq(q,!0);
var ed={},ji=[];for(var R=0;R<q.h.length;R++){var a4=q.h[R].add.lyid;if(a4==null)continue;var bZ=Math.max(bZ,a4);
if(ed[a4]!=null)ji.push(R);else ed[a4]=!0}for(var R=0;R<ji.length;R++)q.h[ji[R]].add.lyid=bZ+1+R};di.SY=function(n,q,p){i1.ZW.XY(n);
i1.ZW.oq(n,!1);n.uM=p[3]==!0;var E=[],T=[],B=0,I=1,c=16,b=0;for(var R=0;R<n.h.length;R++){var i=n.h[R];
if(i.Sr()&&i.vr(n).w){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.vr(n).w.isEnabled}if(i.add.TySh){var H=i.add.TySh.Bd,Z=hx.d_(H);
i.add.TySh.hW.TextIndex={t:"long",v:E.length};E.push(H);if(Z==2)hx.Od(i.add.TySh)}var w=i.add.vstk;if(w)w.strokeStyleResolution.v=n.xm;
if(i._m()||p[2]&&i.add.SoLd){T[R]=[i.rect,i.buffer];i.rect=new eL;i.buffer=j.U(0);if(i.add.SoLd){var d=i.vr(n);
if(d!=null){T[R].push(d.buffer);d.buffer=j.U(d.buffer.length)}}}}if(E.length>0){var O=n.add.Txt2?n.add.Txt2.w$:null;
n.add.Txt2={};n.add.Txt2.w$=hM.aoT(E,null,O)}var W=[n.add.lnk2,n.add.FEid,n.add.Patt],C=n.a4L(n.h);n.X3(C);
n.i$.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);u.sI(n.i$.r1005,0,n.xm);u.sI(n.i$.r1005,8,n.xm);
if(n.ew()){n.i$.r1022=new Uint8Array([0,3+n.v4.length-1,0])}else delete n.i$.r1022;var a=new Uint8Array(n.h.length*2),$=new Uint8Array(n.h.length);
for(var R=0;R<n.h.length;R++){var i=n.h[R],x=i.tS,U=i.fK?1:0;u.TO(a,R*2,x);$[R]=U;if(x>B)B=x;if(U==0)I=0}if(B>0)n.i$.r1026=a;
if(I<1)n.i$.r1072=$;var N=n.lA,m=N.length,f=n.i$.r1032=j.U(16+5*m,!0);u.Qh(f,0,1);u.Qh(f,4,576);u.Qh(f,8,576);
u.Qh(f,12,m);for(var R=0;R<m;R++){u.RN(f,c,Math.round(N[R][1]*32));f[c+4]=N[R][0];c+=5}var D=j.yz(n.buffer),z=[];
if(D)z.push({name:"Transparency",Q9:{_:255,q:0,X:0},Lm:100,hw:1});z=z.concat(n.v4);delete n.i$.r1045;
delete n.i$.r1006;delete n.i$.r1077;var _=new hX;c=0;var v=new Uint8Array(4+z.length*13);v[3]=1;for(var R=0;
R<z.length;R++){var o=z[R],k=o.name+"\0";u.UA(_,c,k);c+=4+k.length*2;var S=4+R*13;bc.sw(v,S,o.Q9);v[S+11]=o.Lm;
v[S+12]=o.hw}n.i$.r1045=_.data.slice(0,c);n.i$.r1077=v;for(var R=0;R<n.D0.length;R++)n.D0[n.D0.length-R-1].v.sliceID.v=2+R*3;
var L={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:n.D0}},_=new hX;
u.G2(_,0,8);u.G2(_,4,16);var X=aV.$F(_,L,8);n.i$.r1050=_.data.slice(0,X+8);var _=new hX;u.G2(_,0,16);
var X=aV.$F(_,n.ev,4);n.i$.r1065=_.data.slice(0,X+4);var s=n.p;f=n.i$.r1069=j.U(2+s.length*4,!0);u.TO(f,0,s.length);
for(var R=0;R<s.length;R++)u.Qh(f,2+4*R,n.h[s[R]].add.lyid);delete n.i$.r1058;delete n.i$.r1060;if(Object.keys(n.Sm).length!=0){var M=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
cm.Mf(n.Sm,M[0],p[0]&&p[1]);n.i$.r1058=new Uint8Array(UTIF.encode(M));var V=cm.Qe(n.Sm);n.i$.r1060=u.Va(V)}var l=[],e=[];
for(var R=0;R<n.kA.length;R++){var Y=n.kA[R],J=Y.add.vmsk.Q;if(R==0&&J.length==2)continue;var G=j.U(J.length*26);
j2.gT(G,0,J,n.v,n.o);var F=R==0?1025:2e3+R-1;n.i$["r"+F]=G;if(R!=0){l.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Y.name}}});
e.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Y.add.vogk}}})}}if(l.length!=0){n.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:l}};
e={classID:"null",keyRootDescriptorList:{t:"VlLs",v:e}};var _=new hX;u.G2(_,0,16);var X=aV.$F(_,e,4);
n.i$.r3000=_.data.slice(0,X+4)}else{delete n.add.pths;delete n.i$.r3000}b=di.aja(n,q,b,3+z.length);b=di.acM(n,q,b);
b=di.a7_(n,q,b);b=di.a2o(n,q,b,p,D);b=di.aq6(n,q,b,p[0],D);var h=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var R=0;R<h.length;R++)delete n.i$["r"+h[R]];for(var R=0;R<n.h.length;R++){var i=n.h[R];if(i._m()||p[2]&&i.add.SoLd){i.rect=T[R][0];
i.buffer=T[R][1];if(T[R][2]){var d=i.vr(n);T[R].push(d.buffer);d.buffer=T[R][2]}}}n.X3(W);i1.ZW.oq(n,!0);
delete n.uM;return b};di.LO=function(n,q,p){var E=u.xj(q,p,4);p+=4;if(E!="8BPS")alert("invalid header signature: "+E);
var T=u.pY(q,p);p+=2;n.uM=T==2;if(T!=1&&T!=2)alert("invalid version: "+T);p+=6;n.HB=u.pY(q,p);p+=2;n.o=u.EW(q,p);
p+=4;n.v=u.EW(q,p);p+=4;n.j$=u.pY(q,p);p+=2;n.$m=u.pY(q,p);p+=2;return p};di.aja=function(n,q,p,E){q.Pc(0,64);
u.dy(q.data,p,"8BPS");p+=4;u.TO(q.data,p,n.uM?2:1);p+=2;u.Qh(q.data,p,0);p+=4;u.TO(q.data,p,0);p+=2;
u.TO(q.data,p,E);p+=2;u.RN(q.data,p,n.o);p+=4;u.RN(q.data,p,n.v);p+=4;u.TO(q.data,p,8);p+=2;u.TO(q.data,p,3);
p+=2;return p};di.apN=function(n,q,p){var E=u.EW(q,p);p+=4;if(E!=0)n._U=q.slice(p,p+E);p+=E;return p};
di.acM=function(n,q,p){u.rB(q,p,0);p+=4;return p};di.a09=function(n,q,p){var E=u.s(q,p),T=0;p+=4;var i=[];
while(T<E){var H=u.xj(q,p+T,4);T+=4;var Z=u.pY(q,p+T);T+=2;var w=u.uG(q,p+T);T+=w.length;if(H!="8BIM"){i.push(Z);
console.log("Unknown Image Resources signature: "+H+", ID: "+Z)}var d=u.s(q,p+T);T+=4;if(n.i$["r"+Z]!=null)console.log("--- two resources with same ID");
n.i$["r"+Z]=u.WB(q,p+T,d);T+=d+(d&1)}for(var R=0;R<i.length;R++)delete n.i$["r"+i[R]];return p+E};di.a7_=function(n,q,p){var E=p,H=0;
p+=4;var T=[];for(var i in n.i$){T.push(parseInt(i.slice(1)))}T.sort(function(W,C){return W-C});for(var R=0;
R<T.length;R++){u.Xb(q,p+H,"8BIM");H+=4;var Z=T[R];u.de(q,p+H,Z);H+=2;var w=u.h_(q,p+H,"");H+=w;var d=n.i$["r"+Z],O=d.length;
u.G2(q,p+H,O);H+=4;u.wz(q,p+H,d);H+=O;if(O%2==1)H++}u.G2(q,E,H);return p+H};di.a7i=function(n,q,p){var E=p,T,i,H=n.uM?8:4;
if(n.uM)T=u.w_(q,p);else T=u.s(q,p);p+=H;if(T==0)return E+H;i=di.arQ(n,q,p);di.WE(1,i-p,"Layer Info");
p=i;i=di.a2t(n,q,p);di.WE(1,i-p,"Global Layer Mask Info");p=i;i=dv.WO(q,p,E+H+T,n.add,n.uM,n);di.WE(1,i-p,"Project Add Info");
p=i;return E+H+T};di.a2o=function(n,q,p,E,T){var i=p;u.G2(q,p,0);p+=4;if(n.uM){u.G2(q,p,0);p+=4}p=di.agw(n,q,p,E,T);
p=di.arW(n,q,p);p=dv.Nw(q,p,n.add,n.uM,n);if(n.uM)u.Xl(q,i,p-i-8);else u.G2(q,i,p-i-4);return p};di.arQ=function(n,q,p){var E,T=n.uM?8:4;
if(n.uM)E=u.w_(q,p);else E=u.s(q,p);p+=T;if(E!=0)di.F$(n,q,p);return p+E};di.F$=function(n,q,p){var E=u.Io(q,p);
p+=2;var T=Math.abs(E);for(var R=0;R<T;R++){var i=new g;p=e$.U4(i,n,q,p);n.h[R]=i}var H=new eL(0,0,n.v,n.o);
for(var R=0;R<T;R++){var Z=n.h[R],w=Z.u1(),d=fS.U4(Z,n,q,p);if(d-p>8)di.WE(2,d-p,"Lay: "+Z.getName());
p=d;di.CX(Z,H);if(w)di.CX(w,H)}};di.CX=function(n,q){var p=n.rect.P(),E=n.rect.O1(q),T=E.P()/p;if(p>2e3*3e3&&T<.5){if(n.buffer){var i=j.U(E.P()*4);
j.hk(n.buffer,n.rect,i,E);n.buffer=i;n.rect=E}else{var i=j.U(E.P());j.cg(n.channel,n.rect,i,E);n.channel=i;
n.rect=E}alert("Removing hidden parts of layers")}};di.agw=function(n,q,p,E,T){var i=p,H=n.uM;p+=H?8:4;
p=di.Nd(n,q,p,E,T);var Z=p-i-(H?8:4);if(Z%2!=0)Z++;if(H)u.Xl(q,i,Z);else u.G2(q,i,Z);return i+Z+(H?8:4)};
di.Nd=function(n,q,p,E,T){var i=n.h.length;u.cv(q,p,T?-i:i);p+=2;var H=[];for(var R=0;R<i;R++)p=e$.SY(n.h[R],n,q,p,H);
for(var R=0;R<i;R++)p=fS.xA(n.uM,n.h[R],q,p,H[R],E);return p};di.a2t=function(n,q,p){var E=u.s(q,p);
p+=4;p+=E;return p};di.arW=function(n,q,p){var E=u.G2(q,p,0);p+=4;return p};di.a1r=function(n,q,p){var E=n.$m,T="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],H,$;
if(E!=3){if(E==1||E==2||E==4)alert("Project will be converted from "+T[E]+" to "+T[3]+" mode.");else{alert("Color mode "+T[E]+" is not supported yet :(")}}if(n.i$.r1045){H=[];
var Z=n.i$.r1045,w=0;while(w<Z.length){var d=u.CA(Z,w);H.push(d);w+=4+2+d.length*2}}var O=i[E]+(H==null||H[0]=="Transparency"?1:0),W=n.v,C=n.o,a=W*C,B=u.pY(q,p);
p+=2;n.buffer=j.U(a*4);j.nz(n.buffer,4278190080);var I=p;for(var x=0;x<n.HB;x++){if(B==0){$=fS.zR(n.uM,n.j$,q,W,C,p,B);
p+=a*(n.j$>>>3)}else if(B==1){$=j.U(a);var U=n.uM?4:2;if(x==0)p+=n.HB*C*U;p+=fS.HH(q,$,W,C,I+x*C*U,p,U)}else{console.log("unknown compression of image data: ",B);
return}if(x<O){j.yI($,n.buffer,x);if(n.HB==1&&x==0){j.yI($,n.buffer,1);j.yI($,n.buffer,2)}}else{var N=new g.JI,m=x-O,f=x-i[n.$m];
N.name=H?H[f]:"Alpha";if(N.name=="Quick Mask"){N.Fk=!0;n.z1.push(m)}N.rect=new eL(0,0,W,C);N.channel=$;
N.color=0;N.aA();n.v4[m]=N;if(n.i$.r1077){var Z=n.i$.r1077.slice(4+f*13);N.Q9=bc.v5(Z,0);N.Lm=Z[11];
N.hw=Z[12];if(N.hw==2)N.Fk=!0}}}n.HB=4;if(n.$m==2)for(var R=0;R<a;R++){var c=R*4,D=n.buffer[c];n.buffer[c]=n._U[0+D];
n.buffer[c+1]=n._U[256+D];n.buffer[c+2]=n._U[512+D]}return p};di.aq6=function(n,q,p,E,T){var i=1,H=16,Z=n.v,w=n.o,O,W;
u.de(q,p,i);p+=2;var d=Z*w;if(!E){W=new j.U$(Z*w);j.MF(n.buffer,W);var C=W._,a=W.q,B=W.X,$=W.jS;for(var R=0;
R<d;R++){var I=$[R]*(1/255);C[R]=~~(C[R]*I+255*(1-I));a[R]=~~(a[R]*I+255*(1-I));B[R]=~~(B[R]*I+255*(1-I))}}else O=j.U(d);
var x=[O,O,O];if(!E)x=[W._,W.q,W.X];if(T)x.push(E?O:W.jS);for(var R=0;R<n.v4.length;R++){x.push(n.v4[R].YH(new eL(0,0,n.v,n.o)))}var U=p;
for(var N=0;N<x.length;N++){q.Pc(p,Z*w+4);O=x[N];if(i==0||i==2||i==3)p=fS.Bq(n.uM,O,q.data,Z,w,p,i);
else{var m=n.uM?4:2;if(N==0)p+=x.length*w*m;var f=p;p+=fS.RC(O,q.data,Z,w,U+N*w*m,p,m)}}return p};function eK(){}eK.U4=function(n){var q={};
eK.P7(n,q,0,0);return q};eK.SY=function(n,q){var p=0;p=eK.z4(n,q,p,0);return p};eK.P7=function(n,q,p,E){while(n[p]!="<".charCodeAt(0))p++;
p+=2;while(!0){if(n[p]=="/".charCodeAt(0)){p++;var T=u.indexOf(n," ".charCodeAt(0),p,p+50),i=u.indexOf(n,"\n".charCodeAt(0),p,p+50);
if(i==-1)i=Infinity;if(T==-1)T=Infinity;var H=Math.min(i,T),Z=u.xj(n,p,H-p),w=eK.sC(n,H+1,E+1,Z);q[Z]=w.k;
p=H+1;p+=w.size}else if(n[p]==">".charCodeAt(0)){p+=2;break}else{var d=n[p];if(d==10||d==9||d==32)p++;
else{console.log("unknown byte: "+d+", char: "+String.fromCharCode(d),p);p++}}}return p};eK.z4=function(n,q,p,E){u.Xb(q,p,"<<\n");
p+=3;var T=eK.aaP;for(var i in n){u.pI(q,p,"\t".charCodeAt(0),E+1);p+=E+1;u.Xb(q,p,"/"+i);p+=1+i.length;
if(T(n[i])||n[i]instanceof Array){u.Xb(q,p," ");p++}else{u.Xb(q,p,"\n");p++;u.pI(q,p,"\t".charCodeAt(0),E+1);
p+=E+1}p=eK.CD(n[i],q,p,E+1);u.Xb(q,p,"\n");p++}u.pI(q,p,"\t".charCodeAt(0),E);p+=E;u.Xb(q,p,">>");p+=2;
return p};eK.sC=function(n,q,p,E){var T=q,i={size:0,k:0};while(!0){while(n[q]==" ".charCodeAt(0)||n[q]=="\t".charCodeAt(0)||n[q]=="\n".charCodeAt(0))q++;
if(n[q]=="<".charCodeAt(0)){i.k={};q=eK.P7(n,i.k,q,p+1);break}else if(n[q]=="(".charCodeAt(0)){q+=3;
var H=q;while(!0){if(n[H-1]!="\\".charCodeAt(0)&&n[H]==")".charCodeAt(0)&&(n[H+1]=="\n".charCodeAt(0)||n[H+1]==" ".charCodeAt(0)))break;
else H++}i.k=u.P5(n,q,H);q=H+2;break}else if(n[q]=="[".charCodeAt(0)){q++;i.k=[];while(n[q]==" ".charCodeAt(0)||n[q]=="\t".charCodeAt(0)||n[q]=="\n".charCodeAt(0))q++;
while(n[q]!="]".charCodeAt(0)){var Z=eK.sC(n,q,p+1,E);i.k.push(Z.k);q+=Z.size;while(n[q]==" ".charCodeAt(0)||n[q]=="\t".charCodeAt(0)||n[q]=="\n".charCodeAt(0))q++}q++;
break}else{var w=u.indexOf(n," ".charCodeAt(0),q,q+50),d=u.indexOf(n,"\n".charCodeAt(0),q,q+50);if(d==-1)d=Infinity;
if(w==-1)w=Infinity;var O=u.xj(n,q,Math.min(w,d)-q).trim(),W=parseFloat(O);if(!isNaN(W)){i.k=parseFloat(O);
q=Math.min(w,d)+1;break}else if(O=="true"||O=="false"){i.k=O=="true";q=Math.min(w,d)+1;break}else if(O=="null"||O=="NaN"||O=="undefined"){i.k=0;
q=Math.min(w,d)+1;break}else{console.log("unknown identifier: "+O);throw"e"}q=Math.min(w,d)+1}}i.size=q-T;
return i};eK.CD=function(n,q,p,E){if(n instanceof Array){var T=n.length==0||typeof n[0]=="number";if(T){u.Xb(q,p,"[ ");
p+=2;for(var R=0;R<n.length;R++){var i=n[R]+" ";u.Xb(q,p,i);p+=i.length}u.Xb(q,p,"]");p+=1}else{u.Xb(q,p,"[\n");
p+=2;for(var R=0;R<n.length;R++){u.pI(q,p,"\t".charCodeAt(0),E);p+=E;p=eK.CD(n[R],q,p,E);u.Xb(q,p,"\n");
p++}u.pI(q,p,"\t".charCodeAt(0),E);p+=E;u.Xb(q,p,"]");p+=1}}else if(n instanceof Object){p=eK.z4(n,q,p,E)}else if(typeof n=="string"){u.Xb(q,p,"(");
p++;u.pI(q,p,254);p++;u.pI(q,p,255);p++;p=u.nD(q,p,n);u.Xb(q,p,")");p+=1}else{var i=n+"";u.Xb(q,p,i);
p+=i.length}return p};eK.aaP=function(n){var q=typeof n;return q=="string"||q=="number"||q=="boolean"};
function ju(){}ju.U4=function(n){var q={};ju.Df(n,q,0,0);return q};ju.SY=function(n,q){var p=0;u.Xb(q,p," ");
p++;p=ju.r3(n,q,p,0);p--;q.Pc(p,2);q.data[p]=q.data[p+1]=0;p+=2;return p};ju.P7=function(n,q,p,E){while(n[p]!="<".charCodeAt(0)){p++;
console.log("\u0161ipka")}p+=2;p=ju.Df(n,q,p,E);return p};ju.z4=function(n,q,p,E){u.Xb(q,p,"<< ");p+=3;
p=ju.r3(n,q,p,E);u.Xb(q,p,">>");p+=2;return p};ju.Zs=function(n){return n==9||n==10||n==32};ju.Df=function(n,q,p,E){while(!0){while(ju.Zs(n[p])||n[p]==0)p++;
if(p>=n.length)break;if(n[p]=="/".charCodeAt(0)){p++;var T=p;while(!ju.Zs(n[T]))T++;var i=u.xj(n,p,T-p);
p=T+1;var H=ju.sC(n,p,E,i);q["_"+i]=H.k;p+=H.size}else if(n[p]==">".charCodeAt(0)){p+=2;break}else{var Z=n[p];
console.log(u.xj(n,p,p+100));console.log("unknown byte: "+Z+", char: "+String.fromCharCode(Z)+", offset: "+p);
p++;throw"e";return-1}}return p};ju.r3=function(n,q,p,E){for(var T in n){var i=T.substring(1,T.length);
u.Xb(q,p,"/"+i);p+=1+i.length;u.Xb(q,p," ");p++;p=ju.CD(n[T],q,p,E+1);u.Xb(q,p," ");p++}return p};ju.sC=function(n,q,p,E){var T=q,i={type:"",size:0,k:0};
while(ju.Zs(n[q]))q++;if(n[q]=="<".charCodeAt(0)){i.type="Object";i.k={};q=ju.P7(n,i.k,q,p+1)}else if(n[q]=="(".charCodeAt(0)){i.type="String";
q++;if(n[q]==")".charCodeAt(0)){i.k="s";q++}else{q+=2;var H=q,Z=0;while(!0){if(n[H]==")".charCodeAt(0)&&n[H-1]!="\\".charCodeAt(0))break;
else H+=1}i.k="s"+u.P5(n,q,H);q=H+2}}else if(n[q]=="[".charCodeAt(0)){q++;i.k=[];i.type="Array";while(ju.Zs(n[q]))q++;
while(n[q]!="]".charCodeAt(0)){var w=ju.sC(n,q,p+1,E);if(w==-1)return-1;i.k.push(w.k);q+=w.size;delete w.size;
while(ju.Zs(n[q]))q++}q++}else{var d=q;while(!ju.Zs(n[d]))d++;var O=u.xj(n,q,d-q),W=parseFloat(O);if(!isNaN(W)&&O.indexOf(".")!=-1){i.type="Float";
var C=parseFloat(O);i.k="f"+C}else if(!isNaN(W)&&O.indexOf(".")==-1){i.type="Integer";i.k="i"+parseInt(O)}else if(O=="true"||O=="false"){i.type="Boolean";
i.k=O=="true"}else if(O.charAt(0)=="/"){i.type="BString";i.k=O}else if(O=="NaN"){i.type="Float";i.k="f0"}else{console.log("unknown value",JSON.stringify(O));
throw"e"}q=d+1}i.size=q-T;return i};ju.a73=function(n){if(n==Math.round(n))return n+".0";var q=n.toFixed(5);
if(0<n&&n<1)q=q.substring(1,q.length);if(-1<n&&n<0)q="-"+q.substring(2,q.length);return q};ju.CD=function(n,q,p,E){var T=typeof n=="string"?n.charAt(0):"";
if(n instanceof Array){u.Xb(q,p,"[ ");p+=2;for(var R=0;R<n.length;R++){p=ju.CD(n[R],q,p,E);u.Xb(q,p," ");
p++}u.Xb(q,p,"]");p+=1}else if(n instanceof Object){p=ju.z4(n,q,p,E)}else if(T=="s"){u.Xb(q,p,"(");p++;
u.pI(q,p,254);p++;u.pI(q,p,255);p++;p=u.nD(q,p,n.substring(1));u.Xb(q,p,")");p++}else if(T=="/"){u.Xb(q,p,n);
p+=n.length}else if(T=="f"){var i=parseFloat(n.substring(1)),H=ju.a73(i);u.Xb(q,p,H);p+=H.length}else if(T=="i"){u.Xb(q,p,n.substring(1));
p+=n.length-1}else{var H=n+"";u.Xb(q,p,H);p+=H.length}return p};function fc(n,q){if(!n)n=0;if(!q)q=0;
this.x=n;this.y=q}fc.prototype.add=function(n){return new fc(this.x+n.x,this.y+n.y)};fc.prototype.clone=function(){return new fc(this.x,this.y)};
fc.prototype.xw=function(n){this.x=n.x;this.y=n.y};fc.prototype.rv=function(n){return this.x==n.x&&this.y==n.y};
fc.prototype.normalize=function(n){var q=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=n/q;this.y*=n/q};
fc.prototype.offset=function(n,q){this.x+=n;this.y+=q};fc.prototype.Gw=function(n,q){this.x=n;this.y=q};
fc.prototype.NH=function(n){return new fc(this.x-n.x,this.y-n.y)};fc.vu=function(n,q){return fc.ao8(n.x,n.y,q.x,q.y)};
fc.OQ=function(n,q,p){return new fc(n.x+p*(q.x-n.x),n.y+p*(q.y-n.y))};fc.a7h=function(n,q){return new fc(n*Math.cos(q),n*Math.sin(q))};
fc.ao8=function(n,q,p,E){return Math.sqrt((p-n)*(p-n)+(E-q)*(E-q))};fc.pG={};fc.Kt={};fc.pG.create=function(){var n=new Float32Array(4);
return n};fc.Kt.create=function(n){var q=new Float32Array(16);q[0]=q[5]=q[10]=q[15]=1;if(n)fc.Kt.set(n,q);
return q};fc.pG.add=function(n,q,p){p[0]=n[0]+q[0];p[1]=n[1]+q[1];p[2]=n[2]+q[2];p[3]=n[3]+q[3]};fc.pG.set=function(n,q){q[0]=n[0];
q[1]=n[1];q[2]=n[2];q[3]=n[3]};fc.Kt.set=function(n,q){q[0]=n[0];q[1]=n[1];q[2]=n[2];q[3]=n[3];q[4]=n[4];
q[5]=n[5];q[6]=n[6];q[7]=n[7];q[8]=n[8];q[9]=n[9];q[10]=n[10];q[11]=n[11];q[12]=n[12];q[13]=n[13];q[14]=n[14];
q[15]=n[15]};fc.Kt.multiply=function(n,q,p){var E=n[0],T=n[1],i=n[2],H=n[3],Z=n[4],w=n[5],d=n[6],O=n[7],W=n[8],C=n[9],a=n[10],B=n[11],$=n[12],I=n[13],x=n[14],U=n[15],N=q[0],m=q[1],f=q[2],c=q[3];
p[0]=N*E+m*Z+f*W+c*$;p[1]=N*T+m*w+f*C+c*I;p[2]=N*i+m*d+f*a+c*x;p[3]=N*H+m*O+f*B+c*U;N=q[4];m=q[5];f=q[6];
c=q[7];p[4]=N*E+m*Z+f*W+c*$;p[5]=N*T+m*w+f*C+c*I;p[6]=N*i+m*d+f*a+c*x;p[7]=N*H+m*O+f*B+c*U;N=q[8];m=q[9];
f=q[10];c=q[11];p[8]=N*E+m*Z+f*W+c*$;p[9]=N*T+m*w+f*C+c*I;p[10]=N*i+m*d+f*a+c*x;p[11]=N*H+m*O+f*B+c*U;
N=q[12];m=q[13];f=q[14];c=q[15];p[12]=N*E+m*Z+f*W+c*$;p[13]=N*T+m*w+f*C+c*I;p[14]=N*i+m*d+f*a+c*x;p[15]=N*H+m*O+f*B+c*U;
return p};fc.Kt.inverse=function(n,q){var p=n[0],E=n[1],T=n[2],i=n[3],H=n[4],Z=n[5],w=n[6],d=n[7],O=n[8],W=n[9],C=n[10],a=n[11],B=n[12],$=n[13],I=n[14],x=n[15],U=p*Z-E*H,N=p*w-T*H,m=p*d-i*H,f=E*w-T*Z,c=E*d-i*Z,D=T*d-i*w,z=O*$-W*B,_=O*I-C*B,v=O*x-a*B,o=W*I-C*$,y=W*x-a*$,k=C*x-a*I,S=U*k-N*y+m*o+f*v-c*_+D*z;
if(!S){return null}S=1/S;q[0]=(Z*k-w*y+d*o)*S;q[1]=(T*y-E*k-i*o)*S;q[2]=($*D-I*c+x*f)*S;q[3]=(C*c-W*D-a*f)*S;
q[4]=(w*v-H*k-d*_)*S;q[5]=(p*k-T*v+i*_)*S;q[6]=(I*m-B*D-x*N)*S;q[7]=(O*D-C*m+a*N)*S;q[8]=(H*y-Z*v+d*z)*S;
q[9]=(E*v-p*y-i*z)*S;q[10]=(B*c-$*m+x*U)*S;q[11]=(W*m-O*c-a*U)*S;q[12]=(Z*_-H*o-w*z)*S;q[13]=(p*o-E*_+T*z)*S;
q[14]=($*N-B*f-I*U)*S;q[15]=(O*f-W*N+C*U)*S;return q};fc.Kt.ajC=function(n,q,p){var E=q[0],T=q[1];p[0]=E*n[0]+T*n[4]+n[12];
p[1]=E*n[1]+T*n[5]+n[13]};fc.Kt.a6h=function(n,q,p){var E=q[0],T=q[1],i=q[2],H=q[3];p[0]=n[0]*E+n[4]*T+n[8]*i+n[12]*H;
p[1]=n[1]*E+n[5]*T+n[9]*i+n[13]*H;p[2]=n[2]*E+n[6]*T+n[10]*i+n[14]*H;p[3]=n[3]*E+n[7]*T+n[11]*i+n[15]*H};
function b$(n,q,p,E,T,i){if(typeof n==="undefined"){n=1;q=0;p=0;E=1;T=0;i=0}this.jS=n;this.X=q;this.kr=p;
this.FF=E;this.R_=T;this.so=i}b$.prototype.SD=function(){return Math.sqrt(Math.abs(this.jS*this.FF-this.X*this.kr))};
b$.prototype.it=function(){var n=this,q=function(p){return Math.abs(p)<1e-9?0:p};n.jS=q(n.jS);n.X=q(n.X);
n.kr=q(n.kr);n.FF=q(n.FF);n.R_=q(n.R_);n.so=q(n.so)};b$.prototype.i1=function(n){return new fc(n.x*this.jS+n.y*this.kr+this.R_,n.x*this.X+n.y*this.FF+this.so)};
b$.prototype.translate=function(n,q){this.R_+=n;this.so+=q};b$.prototype.rotate=function(n){var q=new b$(Math.cos(n),-Math.sin(n),Math.sin(n),Math.cos(n),0,0);
this.concat(q)};b$.prototype.scale=function(n,q){var p=new b$(n,0,0,q,0,0);this.concat(p)};b$.prototype.concat=function(n){this.xw(new b$(this.jS*n.jS+this.X*n.kr,this.jS*n.X+this.X*n.FF,this.kr*n.jS+this.FF*n.kr,this.kr*n.X+this.FF*n.FF,this.R_*n.jS+this.so*n.kr+n.R_,this.R_*n.X+this.so*n.FF+n.so))};
b$.prototype.z3=function(){var n=this.jS*this.FF-this.X*this.kr;this.xw(new b$(this.FF/n,-this.X/n,-this.kr/n,this.jS/n,(this.kr*this.so-this.FF*this.R_)/n,(this.X*this.R_-this.jS*this.so)/n))};
b$.prototype.clone=function(){return new b$(this.jS,this.X,this.kr,this.FF,this.R_,this.so)};b$.prototype.xw=function(n){this.jS=n.jS;
this.X=n.X;this.kr=n.kr;this.FF=n.FF;this.R_=n.R_;this.so=n.so};function u(){}u.aaF=function(eR){var n="";
for(var R=3;R>=0;R--)n+=String.fromCharCode(eR>>R*8&255);return n};u.abh=function(n){var eR=0;for(var R=n.length-1;
R>=0;R--)eR|=n.charCodeAt(R)<<(3-R)*8;return eR};u.indexOf=function(n,q,p,E){if(p==null)p=0;if(E==null)E=n.length;
E=Math.min(E,n.length);for(var R=p;R<E;R++)if(n[R]==q)return R;return-1};u.vC=function(n,q,p){if(p==null)p=0;
var E=q.length,T=n.length-E;if(typeof q=="string"){var i=[];for(var R=0;R<E;R++)i.push(q.charCodeAt(R));
q=i}if(q.length>0){var H=q[0];for(var R=p;R<T;R++)if(n[R]==H){var Z=!0;for(var w=1;w<E;w++)if(q[w]!=n[R+w]){Z=!1;
break}if(Z)return R}}return-1};u.P5=function(n,q,p){var E=[],i="";while(q<p){var T=n[q++];if(T=="\\".charCodeAt(0))E.push(n[q++]);
else E.push(T)}for(var R=0;R<E.length;R+=2)i+=String.fromCharCode(E[R]<<8|E[R+1]);return i};u.arf=function(n,q,p){var E=new Uint8Array(2);
for(var R=0;R<p.length;R++){u.TO(E,0,p.charCodeAt(R));if(E[0]==")".charCodeAt(0)||E[0]=="(".charCodeAt(0)||E[0]=="\\".charCodeAt(0)){n[q]="\\".charCodeAt(0);
q++}n[q]=E[0];q++;if(E[1]==")".charCodeAt(0)||E[1]=="(".charCodeAt(0)||E[1]=="\\".charCodeAt(0)){n[q]="\\".charCodeAt(0);
q++}n[q]=E[1];q++}return q};u.nD=function(n,q,p){n.Pc(q,4*p.length);return u.arf(n.data,q,p)};u.Uu=function(n,q,p){var E="";
for(var R=0;R<p;R++){var T=n[q++]|n[q++]<<8;E+=String.fromCharCode(T)}return E};u.rA=function(n,q,p){var E="";
for(var R=0;R<p;R++){var T=n[q++]<<8|n[q++];E+=String.fromCharCode(T)}return E};u.ah4=function(n,q,p){for(var R=0;
R<p.length;R++){var E=p.charCodeAt(R);u.qg(n,q+2*R,E)}};u._S=function(n,q,p){for(var R=0;R<p.length;
R++){var E=p.charCodeAt(R);u.TO(n,q+2*R,E)}};u.a9G=function(n,q,p){n.Pc(q,2*p.length);u._S(n.data,q,p)};
u.asC=function(n,R,q){var p=[],E=0,T=0;q+=R;while(R<q){E=n[R++];if((E&128)==0)T=E;else if((E&224)==192){T=(E&31)<<6;
E=n[R++];T|=E&63}else if((E&240)==224){T=(E&15)<<12;E=n[R++];T|=(E&63)<<6;E=n[R++];T|=E&63}else if((E&248)==240){T=(E&7)<<18;
E=n[R++];T|=(E&63)<<12;E=n[R++];T|=(E&63)<<6;E=n[R++];T|=E&63}else throw"e";p.push(T)}return p};u.xv=window.TextDecoder?new window.TextDecoder("utf8"):null;
u.L4=function(n,q,p){if(q==null)q=0;if(p==null)p=n.length;if(u.xv&&q==0&&p==n.length)return u.xv.decode(n);
var E=u.asC(n,q,p),T=E.length;for(var R=0;R<T;R++)E[R]=String.fromCharCode(E[R]);return E.join("")};
u.Uf=window.TextEncoder?new window.TextEncoder("utf8"):null;u.Va=function(n){if(u.Uf)return u.Uf.encode(n);
var q=new Uint8Array(n.length*4),p=u.qm(n,q,0);return q.slice(0,p)};u.qm=function(n,q,p){var E=n.length,R=0;
for(var T=0;T<E;T++){var i=n.charCodeAt(T);if((i&4294967295-(1<<7)+1)==0){q[p+R]=i;R++}else if((i&4294967295-(1<<11)+1)==0){q[p+R]=192|i>>6;
q[p+R+1]=128|i>>0&63;R+=2}else if((i&4294967295-(1<<16)+1)==0){q[p+R]=224|i>>12;q[p+R+1]=128|i>>6&63;
q[p+R+2]=128|i>>0&63;R+=3}else if((i&4294967295-(1<<21)+1)==0){q[p+R]=240|i>>18;q[p+R+1]=128|i>>12&63;
q[p+R+2]=128|i>>6&63;q[p+R+3]=128|i>>0&63;R+=4}else throw"e"}return R};u.B4=function(n,q){var p=u.s(n,q),E=u.L4(n,q+4,p-1);
return{dd:E,Nb:4+p}};u.abw=function(n,q){var p=u.fo(n,q),E=u.Uu(n,q+4,p);return E};u.XR=function(n,q){var p=u.s(n,q),E=u.rA(n,q+4,p);
return E};u.CA=function(n,q){var p=u.s(n,q),E=u.rA(n,q+4,p-1);return E};u.acd=function(n,q,p){u.oQ(n,q,p.length);
q+=4;u.ah4(n,q,p)};u.abx=function(n,q,p){u.Qh(n,q,p.length);q+=4;u._S(n,q,p)};u.UA=function(n,q,p){n.Pc(q,4+2*p.length);
u.abx(n.data,q,p)};u.a68=function(n,q,p){n.Pc(q,4+2*p.length);u.acd(n.data,q,p)};u.aQ=function(n,q,p){var E=[];
for(var R=0;R<p;R++)E.push(String.fromCharCode(n[q+R]));return E};u.a4m=function(n,q,p){var E=!1,T=n.length-p.length;
for(var R=q;R<T;R++){for(var i=0;i<p.length;i++){if(n[R+i]!=p.charCodeAt(i))break;if(i==p.length-1)return R}}};
u.xj=function(n,q,p){var E="";for(var R=0;R<p;R++)E+=String.fromCharCode(n[q+R]);return E};u.dy=function(n,q,p){for(var R=0;
R<p.length;R++)n[q+R]=p.charCodeAt(R)};u.Xb=function(n,q,p){n.Pc(q,p.length);u.dy(n.data,q,p)};u.a6Q=function(n,q,p){var E="";
for(var R=0;R<p;R++){var T=n[q+R];if(T<10)E+="  ";else if(T<100)E+=" ";E+=T+", "}return E};u.pY=function(n,q){return n[q]<<8|n[q+1]};
u.TO=function(n,q,eR){n[q]=eR>>8&255;n[q+1]=eR&255};u.de=function(n,q,eR){n.Pc(q,4);u.TO(n.data,q,eR)};
u.a7z=function(n,q){var p=u.pY(n,q),E=u.pY(n,q+2);return p+E*(1/65536)};u.sI=function(n,q,eR){var p=Math.floor(eR),E=Math.floor((eR-p)*65536);
u.TO(n,q,p);u.TO(n,q+2,E)};u.ML=function(n,q){return n[q+1]<<8|n[q]};u.qg=function(n,q,eR){n[q+1]=eR>>8&255;
n[q]=eR&255};u.ZE=function(n,q,eR){n.Pc(q,4);u.qg(n.data,q,eR)};u.Io=function(n,q){u.UI[0]=n[q+1];u.UI[1]=n[q];
return u.a7[0]};u.Hw=function(n,q){u.UI[0]=n[q];u.UI[1]=n[q+1];return u.a7[0]};u.o6=u.TO;u.cv=u.de;u.EW=function(n,q){u.ZI[0]=n[q+3];
u.ZI[1]=n[q+2];u.ZI[2]=n[q+1];u.ZI[3]=n[q];return u._X[0]};u.RN=function(n,q,eR){u._X[0]=eR;n[q+3]=u.ZI[0];
n[q+2]=u.ZI[1];n[q+1]=u.ZI[2];n[q+0]=u.ZI[3]};u.rB=function(n,q,eR){n.Pc(q,4);u.RN(n.data,q,eR)};u.AA=function(n,q,p,E){p[E+0]=n[q+0];
p[E+1]=n[q+1];p[E+2]=n[q+2];p[E+3]=n[q+3]};u.fo=function(n,q){u.AA(n,q,u.ZI,0);return u.Z1[0]};u.oQ=function(n,q,eR){u.Z1[0]=eR;
u.AA(u.ZI,0,n,q)};u.VB=function(n,q,eR){n.Pc(q,4);u.oQ(n.data,q,eR)};u.c9=function(n,q){u.AA(n,q,u.ZI,0);
return u._X[0]};u.a59=function(n,q,eR){u._X[0]=eR;u.AA(u.ZI,0,n,q)};u.aa7=function(n,q,eR){n.Pc(q,4);
u.a59(n.data,q,eR)};u.s=function(n,q){var p=n[q]*(256*256*256)+(n[q+1]<<16|n[q+2]<<8|n[q+3]);return p};
u.Qh=function(n,q,eR){n[q]=eR>>24&255;n[q+1]=eR>>16&255;n[q+2]=eR>>8&255;n[q+3]=eR>>0&255};u.G2=function(n,q,eR){n.Pc(q,4);
u.Qh(n.data,q,eR)};u.w_=function(n,q){return u.s(n,q)<<32|u.s(n,q+4)};u.A9=function(n,q,eR){u.Qh(n,q,eR>>16>>16);
u.Qh(n,q+4,eR&4294967295)};u.Xl=function(n,q,eR){n.Pc(q,8);u.A9(n.data,q,eR)};u.G6=function(n,q){var p=new Uint8Array(8);
for(var R=0;R<8;R++)p[R]=n[q+7-R];var E=new Float64Array(p.buffer);return E[0]};u.uq=function(n,q){var p=new Uint8Array(8);
for(var R=0;R<8;R++)p[R]=n[q+R];var E=new Float64Array(p.buffer);return E[0]};u.Et=function(n,q,eR){var p=new Float64Array(1);
p[0]=eR;var E=new Uint8Array(p.buffer);for(var R=0;R<4;R++){var T=E[R];E[R]=E[7-R];E[7-R]=T}for(var R=0;
R<8;R++)n[q+R]=E[R]};u.JQ=function(n,q,eR){n.Pc(q,8);u.Et(n.data,q,eR)};u.A3=function(n,q){u.ZI[0]=n[q+3];
u.ZI[1]=n[q+2];u.ZI[2]=n[q+1];u.ZI[3]=n[q+0];return u.wx[0]};u.ZL=function(n,q){u.ZI[0]=n[q+0];u.ZI[1]=n[q+1];
u.ZI[2]=n[q+2];u.ZI[3]=n[q+3];return u.wx[0]};u.RP=function(n,q,eR){u.wx[0]=eR;n[q+0]=u.ZI[3];n[q+1]=u.ZI[2];
n[q+2]=u.ZI[1];n[q+3]=u.ZI[0]};u.ap7=function(n,q,eR){n.Pc(q,4);u.RP(n.data,q,eR)};u.qS=function(n,q,eR){u.wx[0]=eR;
n[q+0]=u.ZI[0];n[q+1]=u.ZI[1];n[q+2]=u.ZI[2];n[q+3]=u.ZI[3]};u.apw=function(n,q,eR){n.Pc(q,4);u.qS(n.data,q,eR)};
u.ae7=function(n,q){var p=u.EW(n,q),E=p*(1/(1<<24));return E};u.TN=function(n,q,p){var E=Math.floor(p*(1<<24));
u.RN(n,q,E)};u.acp=function(n,q,p){n.Pc(q,4);u.TN(n.data,q,p)};u.uG=function(n,q){var p=n[q],E=u.xj(n,q+1,p);
p+=1-p%2;return{d1:E,length:p+1}};u.anV=function(n,q,p){var E=p.length;n[q]=E;u.dy(n,q+1,p);if(E%2==0){n[q+1+E]=0;
++E}return E+1};u.h_=function(n,q,p){n.Pc(q,p.length+2);return u.anV(n.data,q,p)};u.kw=function(n,q){var p=new b$;
p.jS=u.G6(n,q+0*8);p.X=u.G6(n,q+1*8);p.kr=u.G6(n,q+2*8);p.FF=u.G6(n,q+3*8);p.R_=u.G6(n,q+4*8);p.so=u.G6(n,q+5*8);
return p};u.rp=function(n,q,p){u.Et(n,q+0*8,p.jS);u.Et(n,q+1*8,p.X);u.Et(n,q+2*8,p.kr);u.Et(n,q+3*8,p.FF);
u.Et(n,q+4*8,p.R_);u.Et(n,q+5*8,p.so)};u.adE=function(n,q,p){n.Pc(q,48);u.rp(n.data,q,p)};u.a6r=function(n,q){var p=u.A3(n,q),E=u.A3(n,q+4),T=u.A3(n,q+8),i=u.A3(n,q+12);
return new eL(p,E,T-p,i-E)};u.acA=function(n,q,p){u.RP(n,q,p.x);u.RP(n,q+4,p.y);u.RP(n,q+8,p.x+p.v);
u.RP(n,q+12,p.y+p.o)};u.a5K=function(n,q,p){n.Pc(q,16);u.acA(n.data,q,p)};u.oP=function(n,q){var p=u.EW(n,q),E=u.EW(n,q+4),T=u.EW(n,q+8),i=u.EW(n,q+12);
return new eL(E,p,i-E,T-p)};u.Jj=function(n,q,p){u.RN(n,q,p.y);u.RN(n,q+4,p.x);u.RN(n,q+8,p.y+p.o);u.RN(n,q+12,p.x+p.v)};
u.cq=function(n,q,p){n.Pc(q,16);u.Jj(n.data,q,p)};u.WB=function(n,q,p){var E=new Uint8Array(p);for(var R=0;
R<p;R++)E[R]=n[q+R];return E};u.ve=function(n,q,p){n.set(p,q)};u.wz=function(n,q,p){n.Pc(q,p.length);
u.ve(n.data,q,p)};u.apq=function(n,q,p,eR){if(!eR)eR=1;for(var R=0;R<eR;R++)n[q+R]=p};u.pI=function(n,q,p,eR){if(!eR)eR=1;
n.Pc(q,eR);u.apq(n.data,q,p,eR)};u.a7=new Int16Array(1);u.UI=new Uint8Array(u.a7.buffer);u._X=new Int32Array(1);
u.Z1=new Uint32Array(u._X.buffer);u.ZI=new Uint8Array(u._X.buffer);u.wx=new Float32Array(u._X.buffer);
function eL(n,q,p,E){if(!n)n=0;if(!q)q=0;if(!p)p=0;if(!E)E=0;this.x=n;this.y=q;this.v=p;this.o=E}eL.prototype.P=function(){return this.v*this.o};
eL.prototype.clone=function(){return new eL(this.x,this.y,this.v,this.o)};eL.prototype.contains=function(n,q){return n>=this.x&&n<=this.x+this.v&&(q>=this.y&&q<=this.y+this.o)};
eL.prototype.Z4=function(n){return this.contains(n.x,n.y)};eL.prototype.Gf=function(n){return this.x<=n.x&&this.y<=n.y&&n.x+n.v<=this.x+this.v&&n.y+n.o<=this.y+this.o};
eL.prototype.xw=function(n){this.x=n.x;this.y=n.y;this.v=n.v;this.o=n.o};eL.prototype.rv=function(n){return this.x==n.x&&this.y==n.y&&this.v==n.v&&this.o==n.o};
eL.prototype.ZU=function(n,q){this.x-=n;this.y-=q;this.v+=2*n;this.o+=2*q};eL.prototype.akf=function(n){this.ZU(n.x,n.y)};
eL.prototype.O1=function(n){var q=Math.max(this.x,n.x),p=Math.max(this.y,n.y),E=Math.min(this.x+this.v,n.x+n.v),T=Math.min(this.y+this.o,n.y+n.o);
if(E<q||T<p)return new eL;else return new eL(q,p,E-q,T-p)};eL.prototype.Y9=function(n){if(n.y+n.o<this.y||n.x>this.x+this.v||n.y>this.y+this.o||n.x+n.v<this.x)return!1;
return!0};eL.prototype.M6=function(){return this.v<=0||this.o<=0};eL.prototype.offset=function(n,q){this.x+=n;
this.y+=q};eL.prototype.Qs=function(n){this.offset(n.x,n.y)};eL.prototype.a6y=function(){this.x=this.y=this.v=this.o=0};
eL.prototype.Gw=function(n,q,p,E){this.x=n;this.y=q;this.v=p;this.o=E};eL.prototype.AL=function(n){if(this.M6())return n.clone();
if(n.M6())return this.clone();var q=this.clone();q.apM(n);return q};eL.j7=new Float32Array(2);eL.prototype.apM=function(n){if(n.M6())return;
if(this.M6()){this.xw(n);return}this.Om(n.x,n.y);this.Om(n.x+n.v,n.y+n.o)};eL.prototype.Om=function(n,q){var p=Math.min(this.x,n),E=Math.min(this.y,q);
this.v=Math.max(this.x+this.v,n)-p;this.o=Math.max(this.y+this.o,q)-E;this.x=p;this.y=E};eL.prototype.agA=function(n,q){this.x=n;
this.y=q;this.v=this.o=0};function js(){}js.U4=function(n,q){var p=new Uint8Array(n),E=0,T=u.xj(p,E,9),Z=4,w=100;
E+=9;var i=u.xj(p,E,4);E+=4;E++;q.v=u.s(p,E);E+=4;q.o=u.s(p,E);E+=4;var H=u.s(p,E);E+=4;if(H!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){w=u.s(p,E);E+=4;if(parseInt(i.slice(1))>=7){w=w}else alert("Unknown XCF version: "+i);
Z=8}var d={};E=js.Ii(p,E,d);var O=[];E=js.ly(p,E,O,Z);var W=[];E=js.ly(p,E,W,Z);q.ll=0;for(var R=0;R<O.length;
R++)js.alQ(p,O[R],q,d,Z,w);while(q.ll>0){q.h.push(q.Ch());q.ll--}q.h.reverse();delete q.ll;q.buffer=j.U(q.v*q.o*4);
if(q.h.length==0)console.log("No layers!!!");for(var R=0;R<W.length;R++){var C=js.ul(p,W[R],d,Z,w);if(C.fj[bo.ahL])q.$={channel:C.Jf,rect:new eL(0,0,q.v,q.o)}}};
js.alQ=function(n,q,p,E,T,i){var H=p.Je(),Z=u.s(n,q),W=0;q+=4;var w=u.s(n,q);q+=4;H.rect=new eL(0,0,Z,w);
var d=u.s(n,q);q+=4;var O=u.B4(n,q);q+=O.Nb;H.WR(O.dd);var C={};q=js.Ii(n,q,C);if(C[bo.Bi]){var a=C[bo.Bi];
W=a.length/4-1}if(C[bo.NX]){H.rect.x=u.EW(C[bo.NX],0);H.rect.y=u.EW(C[bo.NX],4)}if(C[bo.Uk]){H.opacity=u.s(C[bo.Uk],0)}if(C[bo.aqk]){H.add.lsct=fX.eV;
H.rect=new eL(0,0,0,0);H.buffer=j.U(0);H.GZ=24}if(C[bo.Fc]){var B=u.s(C[bo.Fc],0);H.Nl=bo.akt[B];if(H.z7()&&H.Nl=="norm")H.Nl="pass"}if(C[bo.Zp]){if(u.s(C[bo.Zp],0)==0)H.GZ+=2}if(C[bo.qZ]){var $=u.s(C[bo.qZ],0);
H.add.lsct=$&1==1?fX.eV:fX.Ku}if(C[bo.YY]){var I=C[bo.YY];for(var x in I){var U=I[x];if(x=="gimp-text-layer"){var N=js.aoa(U),m=N.text,f=N.font,c=N.color,D=N["font-size"];
if(m==null&&N.markup){var z=new DOMParser,_=z.parseFromString(N.markup,"image/svg+xml");while(_.firstChild!=null&&_.firstChild.tagName!=null){_=_.firstChild;
var v=_.getAttribute("font"),o=_.getAttribute("foreground"),y=_.getAttribute("size");if(v!=null)f=v;
if(o!=null){o=CSS.v5(o);c=[1,o._/255,o.q/255,o.X/255]}if(y!=null){D=""+parseFloat(y)/245}}m=_.textContent}H.add.lnsr="rend";
H.add.TySh=hx.sB(0,0);H.add.TySh.i0=new eL(0,0,100,100);H.add.TySh.B=new b$(1,0,0,1,H.rect.x,H.rect.y);
var k=H.add.TySh.Bd;hx.V8(k,0,m);var S=hx.o1(k,0,0),L=N.justify,X=N["line-spacing"];if(c)S.h9.FillColor={Type:1,Values:[1,parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])]};
if(D){D=Math.round(parseFloat(D));S.h9.FontSize=D;H.add.TySh.B.so+=Math.min(17,D*.17)}if(X){X=Math.round(parseFloat(X)+S.h9.FontSize*1.2);
S.h9.Leading=X;S.h9.AutoLeading=!1}if(L)S.yA.Justification=["left","right","center","fill"].indexOf(L);
if(f&&f!="Sans-serif"){var s=f.toLowerCase(),M="bold italic semi extra regular condensed light".split(" "),V=s.length;
for(var R=0;R<M.length;R++){var l=s.indexOf(M[R]);if(l!=-1&&l<V&&s[l-1]==" ")V=l}if(V!=s.length)f=f.slice(0,V-1).split(" ").join("")+"-"+f.slice(V).split(" ").join("");
hx.cl(S,f)}hx.X6(k,0,m.length,S);var e=N["box-width"],Y=N["box-height"],J=e?parseFloat(e):H.rect.v,G=Y?parseFloat(Y):H.rect.o;
hx.vF(k,1);hx.XM(k,[0,0,Math.ceil(J),Math.ceil(G)])}else console.log("Unknown property "+x)}}while(p.ll>W){p.h.push(p.Ch());
p.ll--}p.ll=W;if(H.add.lsct==fX.eV||H.add.lsct==fX.Ku)p.ll++;var F=T==4?u.s:u.w_;if(H.pp()){H.buffer=j.U(H.rect.P()*4);
var b=new j.U$(H.rect.P()),h=F(n,q);q+=T;var bj=F(n,q);q+=T;js.G4(n,h,b,E,T,i);j.c2(b,H.buffer);if(bj!=0){H.w=new g.JI;
H.w.color=0;H.w.rect=H.rect.clone();H.w.channel=js.ul(n,bj,E,T,i).Jf;if(C[bo.Z6])H.w.isEnabled=u.s(C[bo.Z6],0)==1}}p.h.push(H)};
js.aoa=function(n){var q="("+u.L4(n,0,n.length-1)+")",p=[],E={};js.nM(q,1,p);js.a2W(p,E);return E};js.a2W=function(n,q){for(var R=0;
R<n.length;R++){var p=n[R],E=p[0];if(p.length==2)q[E]=p[1];else q[E]=p.slice(1)}};js.nM=function(n,q,p){while(!0){if(q>=n.length)throw"e";
var E=n.charAt(q);q++;if(E=="("){var T=[];q=js.nM(n,q,T);p.push(T)}else if(E==" "||E=="\n"||E=="\r"){}else if(E==")")return q;
else if(E=="\""){var i=q;while(!0){var H=n[q];q++;if(H=="\"")break;if(H=="\\")q++}p.push(JSON.parse(n.slice(i-1,q)))}else{var i=q-1;
while(n[q]!=" "&&n[q]!=")")q++;p.push(n.slice(i,q))}}};js.ul=function(n,q,p,E,T){var i=u.s(n,q);q+=4;
var H=u.s(n,q);q+=4;var Z=u.B4(n,q);q+=Z.Nb;var w={};q=js.Ii(n,q,w);var d=new j.U$(i*H),O=E==4?u.s:u.w_,W=O(n,q);
q+=E;js.G4(n,W,d,p,E,T);return{Jf:d._,fj:w}};js.G4=function(n,q,p,E,T,i){var H=u.s(n,q);q+=4;var Z=u.s(n,q);
q+=4;var w=u.s(n,q);q+=4;var d=T==4?u.s:u.w_,O=d(n,q);q+=T;js.a11(n,O,p,E,w,T,i)};js.a11=function(n,q,p,E,T,i,H){var Z=u.s(n,q),O=0,R=0;
q+=4;var w=u.s(n,q);q+=4;var d=new eL(0,0,Z,w);if(H==100||H==150)O=1;else if(H==200||H==250)O=2;else if(H==300||H==350)O=4;
else if(H==500||H==550)O=2;else if(H==600||H==650)O=4;else if(H==700||H==750)O=8;else{alert("unsupported bit depth "+H);
throw"e"}var W=T/O,O=Math.round(T/W),C=[];q=js.ly(n,q,C,i);var a=new j.U$(64*64*O),B=new eL,$=E[bo.a3m][0],I=[a._,a.q,a.X,a.jS];
if(W==3)a.jS.fill(255);var x=Date.now();for(var U=0;U<w;U+=64)for(var N=0;N<Z;N+=64){var m=Math.min(Z-N,64),f=Math.min(w-U,64),c=m*f;
B.Gw(N,U,m,f);js.ann(n,C[R++],c*O,$,W,I);if(H==100||H==150){}else if(H==250){for(var D=0;D<W;D++){var z=I[D];
for(var _=0;_<c;_++){var v=z[_]<<8|z[c+_];z[_]=Math.min(v>>>8,255)}}}else if(H==600){var o=js.am5(),y=new Uint32Array(1),k=new Float32Array(y.buffer);
for(var D=0;D<W;D++){var z=I[D];for(var _=0;_<c;_++){y[0]=z[_]<<24|z[c+_]<<16|z[(c<<1)+_]<<8|z[(c<<1)+c+_]<<0;
var S=k[0];if(S<0)S=0;else if(S>1)S=1;z[_]=o[~~(.5+S*1e3)]}}}else console.log("unknown data format",H);
j.Ap(a,B,p,d)}};js.am5=function(){var n=js.aln;if(n!=null)return n;n=js.aln=new Uint8Array(1001);for(var R=0;
R<1001;R++)n[R]=~~(.49+255*j.E3(R*.001));return n};js.ann=function(n,q,p,E,T,i){if(E==1){for(var H=0;
H<T;H++){var Z=i[H],w=0;while(w<p){var eR=n[q];q++;if(eR<127){var d=n[q];q++;eR++;for(var R=0;R<eR;R++)Z[w+R]=d}else if(eR==127){var O=n[q];
q++;var W=n[q];q++;var d=n[q];q++;eR=O<<8|W;for(var R=0;R<eR;R++)Z[w+R]=d}else if(eR==128){var O=n[q];
q++;var W=n[q];q++;eR=O<<8|W;for(var R=0;R<eR;R++)Z[w+R]=n[q+R];q+=eR}else{eR=256-eR;for(var R=0;R<eR;
R++)Z[w+R]=n[q+R];q+=eR}w+=eR}}}else if(E==2){var C=pako.inflate(n.slice(q)),a=Math.round(C.length/p);
for(var R=0;R<p;R++){var B=R*a;i[0][R]=C[B];i[1][R]=C[B+1];i[2][R]=C[B+2];i[3][R]=a==3?255:C[B+3]}}else alert("Unknown compression "+E)};
js.ly=function(n,q,p,E){var T=E==4?u.s:u.w_;while(!0){var i=T(n,q);q+=E;if(i==0)break;else p.push(i)}return q};
js.Ii=function(n,q,p){while(!0){var E=u.s(n,q);q+=4;var T=u.s(n,q);q+=4;if(E==bo.ajw)break;else if(E==bo.YY)p[E]=js.a56(n,q,q+T);
else p[E]=u.WB(n,q,T);q+=T}return q};js.a56=function(n,q,p){var E={};while(q<p){var T=u.B4(n,q);q+=T.Nb;
var i=u.s(n,q);q+=4;if(i!=1)console.log("unknown flags",i);var H=u.s(n,q);q+=4;E[T.dd]=u.WB(n,q,H);q+=H}return E};
var bo={ajw:0,a9v:1,aqO:2,a9h:3,ahL:4,aqu:5,Uk:6,Fc:7,Zp:8,a1T:9,arO:10,Z6:11,arJ:12,a24:13,a5o:14,NX:15,a5N:16,a3m:17,a2A:18,amo:19,arm:20,YY:21,a9i:22,aqd:23,aj1:24,a4A:25,a6W:26,alN:27,asG:28,aqk:29,Bi:30,qZ:31,a61:32,amK:33,ai6:34,aos:35,ah5:36,a0g:37,aad:38,akl:0,agF:1,afB:2,a8$:3,ak3:1,apl:2,amu:0,akX:1,a5b:1};
bo.akt="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var g0=function(){var n=!1,q,p,N;function E(){var c=u.xj(q,p,4);p+=4;return c[3]+c[2]+c[1]+c[0]}function T(){var c=u.xj(q,p,4);
p+=4;return c}function i(){var c=q[p];p+=1;return c}function H(){var c=u.ML(q,p);p+=2;return c}function Z(){var c=u.fo(q,p);
p+=4;return c}function w(){var c=u.c9(q,p);p+=4;return c}function d(){var c=u.fo(q,p);p+=8;return c}function O(){var c=u.ZL(q,p);
p+=4;return c}function W(){var c=u.uq(q,p);p+=8;return c}function C(){var c=u.ML(q,p),D=u.L4(q,p+2,c);
p+=2+c;return D}function a(){var c=u.fo(q,p),D=u.L4(q,p+4,c);p+=4+c;return D}function B(c){p=c;var D=[];
while(p!=0){var z=T();if(z!="#FT4"&&z!="#FT3"&&z!="#FT2")throw z;var _=d(),v=d(),o=d(),y=d(),k=d(),S=Z(),L=Z(),X=Z(),s=H(),M=i(),V={};
D.push(V);for(var R=0;R<S;R++){var l=Z(),e=i();if(e!=0&&e!=1&&e!=2)throw e;var Y=[];if(e==0||e==1){var J=d(),G=d(),F=d(),b=Z(),h=i(),bj=Z(),i4=z!="#FT4"?0:Z(),t=null;
if(z=="#FAT"||z=="#FT2"){switch(h){case 1:h=1;break;case 2:h=65;break;case 3:h=129;break;case 4:h=193;
break;default:h=0;break}}if(e==0)t=C();Y=[J,G,F,h,t]}V["i"+l]=[e,Y]}for(var R=0;R<s;R++){var aG=H(),Q=H(),jd=d(),bP=u.xj(q,p,aG);
p+=aG}p=_}D.reverse();for(var gz=1;gz<D.length;gz++){var V=D[gz],fZ=D[gz]=JSON.parse(JSON.stringify(D[gz-1]));
for(var dt in V){var a9=V[dt];if(a9[0]==0)fZ[dt]=a9;else if(a9[0]==1){a9[1][4]=fZ[dt][1][4];fZ[dt]=a9}else if(a9[0]==2)delete fZ[dt]}}var bi=D.pop(),az=[];
for(var dt in bi)az.push(bi[dt][1]);az.sort(function(hd,aB){return hd[0]-aB[0]});return az}function $(c,D,z,_){while(p<q.length){var v=i(),S=null;
if(v==0){if(_){var o=i();if(o!=2){var y=E()}if(o==0)p+=4;_=!1;continue}else{break}}var k=E();if(n)console.log("  ".repeat(D),v,v&127,k,c._type);
if(v>127)S=I(v,D,z);else S=x(v,D,z);c[k]=S}}function I(c,D,z){var _=[];c=c&127;if(c==43)p+=4;var v=Z();
if(c==50){var o=E(),y=H();if(y!=1)throw"e";for(var R=0;R<v;R++){var k={_status:"NotShared",_type:o};
_.push(k);var S=i();if(S!=1)throw S;$(k,D+1,z)}}else for(var R=0;R<v;R++){_.push(x(c,D,z));if(c==42)c=2}return _}function x(c,D,z){var _=null;
if(c==49){_={};var v=i();if(v!=0){var o=Z();if(z==null){_._id=o;_._status=["Shared","Link"][v-1]}if(z&&v==2)_=z[o];
if(v==1){if(z)z[o]=_;var y=i(),k=!1;if(y>1)throw y;_._type=E();if(n)console.log("  ".repeat(D),"new",_._type,y,p);
if(y==0){while(!0){var S=H();if(S!=0&&S!=1&&S!=2&&S!=4)throw S;if(q[p]!=0){k=!0;break}var L=H();if(L==512)break;
var X=E();if(L==256)break}}$(_,D+1,z,k)}}}else if(c==50){_={_status:"NotShared"};if(i()==1){_._type=E();
p+=2;$(_,D+1,z)}}else if(c==1)_={type:"byte",value:i()};else if(c==2)_={type:"uint16",value:H()};else if(c==3)_={type:"uint32",value:Z()};
else if(c==4)_={type:"uint64",value:d()};else if(c==7)_={type:"int32",value:w()};else if(c==8)_={type:"int64",value:d()};
else if(c==9)_={type:"float32",value:O()};else if(c==10)_={type:"float64",value:W()};else if(c==21)_={type:"Vec2i",value:[Z(),Z()]};
else if(c==23)_={type:"Vec4i",value:[Z(),Z(),Z(),Z()]};else if(c==33)_={type:"Vec4f",value:[O(),O(),O(),O()]};
else if(c==36)_={type:"Vec2",value:[W(),W()]};else if(c==38)_={type:"Vec4",value:[W(),W(),W(),W()]};
else if(c==40)_={type:"Vec6",value:[W(),W(),W(),W(),W(),W()]};else if(c==41)_={type:"bool",value:i()!=0};
else if(c==42)_={type:"Enum",value:Z()};else if(c==43)_={type:"string",value:a()};else if(c==44){var s=H();
_={type:"curv16",value:[W(),s==12?[i(),i(),i(),i()]:[Z(),Z()]]}}else if(c==45){var s=Z();_={type:"buff",value:q.slice(p,p+s)};
p+=s}else if(c==47){_={type:"uint32",value:Z()}}else if(c==48){var M=[],V=H();if(V!=1)throw V;if(q[p]==135){var l=I(i(),D+1,z),e=I(i(),D+1,z),Y=I(i(),D+1,z);
M=[l,e,Y]}else{var J=1;if(q[p]==3){i();J=Z()}for(var R=0;R<J;R++){if(i()!=41)throw"e";var o=i();if(o!=0&&o!=1)throw o;
if(i()!=172)throw"e";var G=Z(),F=H(),b=[];M.push(b);if(F!=18)throw F;if(G>2e3)throw G;for(var h=0;h<G;
h++)b.push([W(),W(),i(),i()])}}p++;_={type:"curve",value:M}}else if(c==51){_={type:"EmbeddedData"};_[E()]=a()}else if(c==52)_={type:"uint32",value:Z()};
else if(c==56)_={type:"Color32",value:[i(),i(),i(),i()]};else if(c==68)_={type:"ColorRGBA",value:[O(),O(),O(),O()]};
else if(c==72)_={type:"ColorCMYK",value:[O(),O(),O(),O(),O()]};else{throw c}return c==49||c==50||c==51?_:_.value}function U(c){var D=0,z=c.length;
for(var R=0;R<z;R++)c[R]=D=D+c[R]&255}function m(c){q=c;p=4;var D=Z(),z=T();if(z!="nsrP")throw z;var z=T();
if(z!="#Inf")throw z;var _=d();N=d();var v=d(),o=d(),y=d(),k=Z(),S=Z(),z=T();if(z!="Prot")throw z;var k=Z(),L=B(_),X={},s=Date.now();
for(var M=0;M<L.length;M++){var V=L[M],l=V[3],F=null;p=V[0];var z=T();if(z!="#Fil")throw z;var e=l>>>5&1,Y=l&3,J=l&192;
switch(J){case 64:J=1;e=0;break;case 128:J=2;break;case 192:J=3;break;default:J=0;e=0}var G=new Uint8Array(q.buffer,p,V[2]);
if(Y==0)F=G;else if(Y==1)F=pako.inflate(G);else if(Y==2)F=al.fd.jX(G,V[1]);else throw Y;if(e==0){if(J==1)U(F);
if(J==2)throw"e"}else throw e;X[V[4]]=F}return X}function f(c){var D=m(new Uint8Array(c));q=D["doc.dat"];
p=16;var z={};$(z,0,[]);return[D,z,N]}return{a4i:f}}();function cj(){}cj.U4=function(){function n(a,B){var $=Date.now(),I=g0.a4i(a),x=I[0],U=I[1],N=I[2],m=U.DocR,f=m.DfSz,c=m.Chld;
if(c.length!=1)throw"e";var D=c[0],z=D.SprB;c=D.Chld;B.v=~~z[2];B.o=~~z[3];B.buffer=j.U(B.v*B.o*4);var _=[0,{}];
for(var R=0;R<c.length;R++)T(c[R],B,x,new b$,_);B.R$(_[0]);console.log(Date.now()-$,"Document created");
$=Date.now()}function q(a){return new b$(a[0],a[3],a[1],a[4],a[2],a[5])}function p(a,B){var $=B.Xfrm;
$=$?q($):new b$;$.concat(a);return $}function E(a){var B={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[a];
return B?B:"norm"}function T(a,B,$,I,x){var U=a._type,N=a.Chld,m=B.Je();m.WR(a.Desc==null||a.Desc==""?U=="Grup"?"Folder":"Layer":a.Desc);
m.c4(a.Visi);m.opacity=Math.round(255*a.Opac);if(a.FOpc!=1)m.add.iOpa=Math.round(255*a.FOpc);var f=a.Blnd;
if(f!=null)m.Nl=E(f);var c=p(I,a),D=U=="ShpN"||U=="PCrv";if(N){B.h.push(B.Ch());m.add.lsct=fX.eV;m.Nl="pass";
m.GZ=24;if(U=="ShpN"){var z=a.ShpB;m.O$(new eL(z[0]+c.R_,z[1]+c.so,z[2]-z[0],z[3]-z[1]));x[0]++;m.add.artb.Clr={t:"Objc",v:j.f.iB({_:255,q:255,X:255})}}for(var R=0;
R<N.length;R++)T(N[R],B,$,c,x)}else if(U=="Rstr"||U=="ImgN"||U=="MRst"){var _=a.Bitm,v=_.Bckg,o=Date.now(),y;
if(v==null){y=d(_,$,x[1]);m.rect=y[2].clone();m.buffer=y[1].slice(0);m.rect.x+=c.R_;m.rect.y+=c.so}if(v||c.SD()!=1){var k,S=0,L=0;
if(v){var X=$[v.Data],s=u.vC(X,"ataD")+4,M=u.fo(X,s);s+=4;k=X.slice(s,s+M)}else{S=m.rect.x-c.R_;L=m.rect.y-c.so;
if(y[3]==null)y[3]=new Uint8Array(al.vE("PNG").U7([[m.buffer.buffer]],m.rect.v,m.rect.o));k=y[3].slice(0)}var V=B.YC(k,m.getName(),0,0);
V.GZ=m.GZ;V.opacity=m.opacity;m=V;var l=new b$;l.translate(S,L);l.concat(c);var e=m.rect.clone();e.x=e.y=0;
var Y=j.O.aS(e).W;j.O.B(Y,l,Y);m.add.SoLd.Trnf=A.Z.g8(Y);m.add.SoLd.nonAffineTransform=A.Z.g8(Y);m.Ze(B,!1)}}else if(U=="TxtA"||U=="TxtF"){m.add.lnsr="rend";
m.add.TySh=hx.sB(0,0);m.add.TySh.i0=new eL(0,0,100,100);var J=a.TxtH.FrmB,G=new b$,bj=0;G.translate(J[0],J[1]);
G.concat(c);m.add.TySh.B=G;var F=m.add.TySh.Bd,b=a.StSt,h=b.Blok;if(h.length!=1)throw"e";for(var i4=0;
i4<h.length;i4++){var t=h[i4],aG=bj,Q=0,jd=t.Glyp.Utf8;jd=jd.replace(/\u2028/g,"\n");jd=jd.replace(/\u2029/g,"\n");
jd=jd.slice(0,jd.length-1);hx.V8(F,bj,jd);bj+=jd.length;var bP=t.GAtt.Runs,gz=t.PAtt.Runs[0],fZ=gz.Item.Ints[0];
for(var dt=0;dt<bP.length;dt++){var a9=bP[dt],bi=a9.Indx,az=a9.Item,hd=az.Objs,aB=hx.o1(F,aG,1);aB.yA.Justification=fZ==0?0:fZ==1?2:1;
hx.cl(aB,az.DFnt.Post);aB.h9.FontSize=az.Doub[0];for(var R=0;R<hd.length;R++){var cv=hd[R];if(cv._type=="FDsc"){var c$=cv.FDeF;
if(c$._type=="FilS"){var cT=w(c$.Colr);aB.h9.FillColor={Type:1,Values:[1,cT[0],cT[1],cT[2]]}}}}hx.X6(F,aG+Q,aG+Math.min(bi,jd.length),aB);
Q=bi}}hx.vF(F,1);hx.XM(F,[0,0,Math.round(J[2]-J[0]),Math.round((J[3]-J[1])*1.2)]);B.pL=!0}else if(D){m.GZ|=16;
var fp=m.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));m.add.vstk.strokeEnabled.v=!1;m.add.vogk=[];
var cD=m.add.vmsk=i(a);j.G.ra(cD.Q,c);if(a.BFFl){var f_=a.BFFl[0].FDeF,f9=f_._type;if(f9=="FilS")m.add.SoCo={classID:"null",Clr:Z(f_.Colr)};
else if(f9=="FilG"){var dO=m.add.GdFl=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]);H(f_,dO)}else if(f9=="FilN"){m.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}};
fp.fillEnabled.v=!1}else console.log(f9)}if(a.LILn){var a6=a.LILn[0].LDeL,hb=a6.Wght;if(hb!=0){fp.strokeEnabled.v=!0;
fp.strokeStyleLineWidth.v.val=hb;var f_=a.LIFl[0].FDeF,f9=f_._type;if(f9=="FilS")fp.strokeStyleContent.v.Clr=Z(f_.Colr);
else if(f9=="FilN")fp.strokeEnabled.v=!1}}m.VA(B)}else console.log(U);var jr=a.AdCh,dh=[];if(jr)for(var R=0;
R<jr.length;R++){var jq=jr[R],g3=jq._type;if(g3=="ShpN"||g3=="PCrv"){var cD=m.add.vmsk=i(jq),c6=p(c,jq);
j.G.ra(cD.Q,c6);m.VA(B)}else if(jq.AdjP){var cd=jq.AdjP,jn=cd._type,cV={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jn];
if(cV==null){console.log(cd);continue}var fM=fU.ah(cV,{});dh.push(fM);var bE=fM.v.Fltr.v;if(jn=="LevP"){var gU=fk.YL(bE,0);
gU[0]=cd.OutB*255;gU[1]=cd.OutW*255;fk.RR(bE,0,gU)}else if(jn=="WhBP"){var gU=fk.YL(bE,2);gU[4]=100+cd.WBTi*20;
fk.RR(bE,2,gU);var gU=fk.YL(bE,3);gU[4]=100+cd.WBTi*200;fk.RR(bE,3,gU)}else if(jn=="HSSP"){var gU=je.YL(bE,0);
gU[0]=Math.round(cd.HueA*256);gU[1]=Math.round(cd.SatA*256);gU[2]=Math.round(cd.LumA*256);je.RR(bE,0,gU)}else if(jn=="RecP"){bE.Clrz.v=!0;
var gU=je.YL(bE,0);gU[0]=Math.round(cd.RecH*100);gU[1]=Math.round(cd.RecS*100);gU[2]=Math.round(cd.RecL*100);
je.RR(bE,0,gU)}else if(jn=="B&CP"){bE.Brgh.v=Math.round(cd.Brig*100);bE.Cntr.v=Math.round(cd.Ctrs*100-100)}else if(jn=="PosP"){bE.Lvls.v=cd.Post}else if(jn=="VibP"){bE.vibrance.v=cd.Vibr-100;
bE.Strt.v=Math.round(cd.Satu*100)}else if(jn=="ExpP"){bE.Exps.v=cd.Expo;bE.gammaCorrection.v=cd.Gamm/2.2}else if(jn=="ThrP"){bE.Lvl.v=Math.round(cd.Thre*255)}else if(jn=="CrvP"){var g6=cd.Mast["Cnt "],cu=cd.Mast.Vals,gU=hY.YL(bE,0),f5=gU[0];
for(var iP=0;iP<g6;iP++){var id=gU[iP]=JSON.parse(JSON.stringify(f5));id.v.Hrzn.v=Math.round(cu[iP]*255);
id.v.Vrtc.v=Math.round(cu[4+iP]*255)}hY.RR(bE,0,gU)}}else console.log(jq)}if(dh.length!=0){m.add.SoLd.filterFX=fU.u4();
B.O8({id:m.add.SoLd.placed.v,rect:new eL,buffer:j.U(1),w:new g.JI});m.add.SoLd.filterFX.v.filterFXList.v=dh;
m.Ze(B,!1)}var aY=a.FiEf;if(aY&&aY.length!=0){var fT=m.add.lmfx=JSON.parse(iq.default);for(var R=0;R<iq.order.length;
R++)fT[iq.Da[R]]={t:"VlLs",v:[]};for(var h8=0;h8<aY.length;h8++){var jf=aY[h8],h2=jf._type,e9={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[h2],dO=e9?JSON.parse(iq.FT[iq.order.indexOf(e9)]):null;
if(h2=="ColO"){dO.Clr=Z(jf.Colr)}else if(h2=="GrdO"){H(jf.GrFl.FDeF,dO)}else if(h2=="Shad"||h2=="InnS"||h2=="OutG"||h2=="InnG"){dO.Clr=Z(jf.Colr);
dO.blur.v.val=Math.round(jf.Radi/2.4);if(jf.Offs!=null){dO.Dstn.v.val=jf.Offs;dO.lagl.v.val=Math.round(180-jf.Angl*180/Math.PI);
dO.uglg.v=!1}}else if(h2=="Strk"){dO.Clr=Z(jf.Colr);dO.Sz.v.val=Math.round(jf.Radi)}else if(h2=="PhgB"||h2=="BevE"){dO.blur.v.val=Math.round(jf.Radi);
if(h2=="BevE")dO.bvlS.v.BESl="PlEb"}else if(h2=="Gaus"){if(D&&jf.Enab){m.add.vmsk.pR=jf.Radi/2.4;m.add.vmsk.zK=!0;
m.VA(B)}}if(e9){dO.enab.v=jf.Enab;if(dO.Md&&jf.BlnM!=null)dO.Md.v.BlnM=d3.g6(E(jf.BlnM));if(dO.Opct&&jf.Opac!=null)dO.Opct.v.val=Math.round(jf.Opac*100);
var jt=iq.Da[iq.order.indexOf(e9)];fT[jt].v.unshift({t:"Objc",v:dO})}}}B.h.push(m)}function i(a){var B=new g.Xg,$=a._type;
if($=="PCrv"){var I=a.Crvs.Data,x=[],U=[];for(var R=0;R<I.length;R++){var N=I[R];if(N.length%3!=1){N=N.slice(1,N.length-1)}for(var m=0;
m<N.length;m++){var f=N[m],c=f[2];if(c!=0)x.push(m==0?"M":"C");U.push(f[0],f[1])}}B.Q=j.O.zt({W:U,F:x},!0)}else{var D=a.ShpB,z=a.Shpe,_=z._type,v=D[2]-D[0];
if(_=="ShpE"){B.Q=j.G.la.OG(D[0],D[1],D[2]-D[0],D[3]-D[1])}else if(_=="ShNR"){var o=[0,0,0,0];if(z.CTyp){o=z.ShCR.slice(0);
for(var R=0;R<4;R++)o[R]*=D[2]-D[0]}B.Q=j.G.la.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],o)}else if(_=="ShpT"){B.Q=j.O.zt({F:["M","L","L","Z"],W:[D[0],D[3],D[2],D[3],D[0]+v*.5,D[1]]},!0)}else if(_=="ShTz"){B.Q=j.O.zt({F:["M","L","L","L","Z"],W:[D[0]+v*z.PosL,D[1],D[0]+v*z.PosR,D[1],D[2],D[3],D[0],D[3]]},!0)}else{console.log("--",_);
B.Q=j.G.la.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],[0,0,0,0])}}return B}function H(a,B){var $=a.Grad,I=$.Cols;
B.Type.v.GrdT=a.Type==0?"Lnr":"Rdl";var x=[];for(var R=0;R<I.length;R++){var U=w(I[R]);x.push([$.Posn[R][0],U])}B.Grad.v.Intr.v=0;
j.f.Rj(x,B.Grad.v);var N=$.Posn,m=new fc(N[0][0],N[0][1]),f=new fc(N[1][0],N[1][1]);if(a.Type==0)m=new fc((m.x+f.x)/2,(m.y+f.y)/2);
j.f.hp(m,f,new eL(0,0,1,1),B)}function Z(a){var B=w(a);return{t:"Objc",v:j.f.iB({_:B[0]*255,q:B[1]*255,X:B[2]*255})}}function w(a){var B=a._col,$=a._type;
if($=="HSLA"){var I=j.G5(B[0],B[1],B[2]);return[I._,I.q,I.X,B[3]]}else if($=="RGBA")return B;else if($=="CMYK"){var x=1-B[3];
return[(1-B[0])*x,(1-B[1])*x,(1-B[2])*x]}else{console.log(B);throw $}}function d(a,B,$){var I=a.Frmt,o="";
if(I!=0&&I!=6)throw I;var x=a.BmpW,U=a.BmpH,N=I==0?4:1,m=Math.ceil(x/256),f=Math.ceil(U/256),c=new eL(0,0,m,f),D=new eL;
for(var R=0;R<N;R++){var z=new Uint8Array(a["Sta"+(R+1)]),_=j.YA(z,c);D=D.AL(_)}var v=[];for(var R=0;
R<N;R++){var z=new Uint8Array(a["Sta"+(R+1)]),y=j.U(D.P());j.cg(z,c,y,D);v[R]=[];for(var k=0;k<y.length;
k++)v[R][k]=y[k];o+=JSON.stringify(v[R])+","+JSON.stringify(a["Idx"+(R+1)])+","}if($[o]==null){var S=D.v*256,L=D.o*256,X=new Array(N);
for(var R=0;R<N;R++){var z=X[R]=new Uint8Array(S*L);O(z,a["Idx"+(R+1)],v[R],B,S,L)}var s=j.U(S*L*4);
if(I==0)j.c2({_:X[0],q:X[1],X:X[2],jS:X[3]},s);else{s.fill(255);j.s0(X[0],s)}var M=new eL(0,0,S,L),V={buffer:s,rect:M};
j.x0(V);$[o]=[V.rect,V.buffer]}var _=$[o][2]=$[o][0].clone();_.x+=D.x*256;_.y+=D.y*256;return $[o]}function O(a,B,$,I,x,U){var N=0,m=x>>>8,f=U>>>8;
for(var c=0;c<f;c++)for(var D=0;D<m;D++){var z=D*256,_=c*256,v=c*m+D,o=_*x+z,y=$[v];if(y<=1)W(a,o,0,x,256,256);
else if(y==2)W(a,o,4294967295,x,256,256);else if(y==4){var k=B[N];N++;var S=I[k.Data.DatI],L=k.Rect;
if(L==null)L=[0,0,256,256];W(a,o,0,x,256,256);C(a,(_+L[1])*x+z+L[0],S,L[1]*256+L[0],x,256,L[2]-L[0],L[3]-L[1])}else console.log(y)}}function W(a,B,$,I,x,U){var N=B+I*U;
for(;B<N;B+=I){var m=B+x;for(var f=B;f<m;f++){a[f]=$}}}function C(a,B,$,I,x,U,N,m){var f=B+x*m,c=I+U*m;
for(;B<f&&I<c;B+=x,I+=U){for(var R=0;R<N;R++)a[B+R]=$[I+R]}}return n}();function dg(){}dg.U4=function(n,q){var p=dg,E=h6.parse(n),i=0;
if(E.pages.length>1)console.log(E.pages.length,"pages");var T=[],H=new eL;for(var Z=0;Z<E.pages.length;
Z++){var w=E.pages[Z],d=w.layers,O=p.Uh(d,Z),C=!1;if(O.P()>8e3*8e3||O.v>3e4||O.o>3e4){p.kS(d,!0);var W=p.Uh(d,Z);
if(W.P()>=O.P())p.kS(d,!1)}O=p.Uh(d,Z);for(var a=0;a<d.length;a++){var B=d[a];if(p.bn(B)=="artboard")C=!0}if(!C){console.log("no artboard");
var $={};for(var I in w)$[I]=w[I];$._class="group";w.layers=[$]}T.push(O.clone());if(O.M6())continue;
O.x=0;O.y=i;i+=O.o+200;H=H.AL(O)}var x={};if(E.foreignSymbols)for(var R=0;R<E.foreignSymbols.length;
R++){var U=E.foreignSymbols[R].symbolMaster;x[U.symbolID]={n3:U}}p.Sk(E.pages,x,q);for(var N in x){var B=x[N].n3,m=p.Xh(B.layers)}var f=dg.nZ(H,8192*8192);
q.pL=!0;q.v=Math.round(H.v/f);q.o=Math.round(H.o/f);q.buffer=j.U(q.v*q.o*4);q.R$(E.pages[0].layers.length);
q.Q1={};q.w7=[];i=0;for(var Z=0;Z<E.pages.length;Z++){var c=E.pages[Z],O=T[Z],D=new b$(f,0,0,f,O.x,O.y-i);
p.al(c.layers,q,D,E,x,{},[]);i+=O.o+200}delete q.Q1;delete q.w7;if(f!=1)alert("File scaled down "+f+"x");
q.a7B()};dg.ab8=0;dg.bn=function(n){return n._class?n._class:n.$class};dg.nZ=function(n,q){var p=1;while(Math.round(n.v/p)*Math.round(n.o/p)>q||Math.max(Math.round(n.v/p),Math.round(n.o/p))>3e4)p++;
if(p!=1&&!window.confirm("Your image is quite large ("+n.v+" x "+n.o+" px).\n"+"Press OK to scale it down "+p+"x, or Cancel to keep the size."))p=1;
return p};dg.Uh=function(n,q){var p=[],E=dg;for(var T=0;T<n.length;T++){var i=n[T],H=E.oP(i.frame);if(q==0||E.bn(i)=="artboard")p.push(H)}return j.rect.Yg(p)};
dg.kS=function(n,q){var p=[],E=dg;for(var T=0;T<n.length;T++){var i=n[T],H=E.oP(i.frame);H.v+=150;H.o+=150;
p.push(H)}var Z=j.rect.Yg(p);j.rect.anB(p,q);var w=j.rect.Yg(p);if(w.P()*1.5<Z.P()||Z.v>3e4&&w.v<=3e4||Z.o>3e4&&w.o<=3e4){alert("Re-arranging artboards");
for(var T=0;T<n.length;T++){var d=p[T],i=n[T],O=i.frame;O.x=d.x;O.y=d.y}}};dg.Sk=function(n,q,p){var E=dg;
for(var T=0;T<n.length;T++){var i=n[T],H=E.bn(i);if(["page","artboard","group"].indexOf(H)!=-1)E.Sk(i.layers,q,p);
else if(H=="symbolMaster")q[i.symbolID]={n3:i}}};dg.Xh=function(n){var q=dg;for(var p=0;p<n.length;p++){var E=n[p],T=q.bn(E),i=null;
if(["page","artboard","group"].indexOf(T)!=-1)i=q.Xh(E.layers);if(T=="symbolMaster"||T=="symbolInstance")i=E;
if(i!=null)return i}return null};dg.al=function(n,q,p,E,T,i,H){var Z=dg,w=[];for(var d=0;d<n.length;
d++){var O=n[d],W=O.frame?Z.oP(O.frame):null,C=O.style,x="",D=null,z=!1;if(C==null){console.log("no styles")}var a=Z.hK(O,p),B=Z.bn(O),$=B=="shapeGroup"||B=="shapePath"||B=="rectangle"||B=="oval"||B=="triangle"||B=="polygon",I=["page","artboard","group"].indexOf(B)!=-1;
if(B=="shapeGroup"){for(var R=0;R<O.layers.length;R++)if(Z.bn(O.layers[R])=="shapeGroup")I=!0}var U=O.exportOptions;
if(U){var N=U.exportFormats;if(N==null)N=U.sizes;if(B!="artboard"&&(N&&N.length!=0)){var m=N[0].scale}}var f=q.Je();
f.c4(O.isVisible);var c=O.name;if(!(typeof c=="string"))c=B;f.WR(x+c.slice(0,250));if(C!=null)D=Z.alG(E,q,C,W,a,f.getName(),$||B=="artboard"||I);
if(B=="rectangle"&&C&&C.fills&&C.fills[0]){var _=C.fills[0];if(_.fillType==4&&_.patternFillType>1&&_.image!=null)z=!0}if(O.shouldBreakMaskChain){while(w.length!=0)Z.vH(w.pop(),q)}if(I){f.add.lsct=O.layerListExpandedType==2?fX.eV:fX.Ku;
f.Nl="pass";f.GZ=24;f.c4(O.isVisible);q.h.push(q.Ch());if(B=="artboard"){var v=W.clone(),o=a.SD();v.x=-Math.floor(a.R_/o);
v.y=-Math.floor(a.so/o);v.v=Math.floor(v.v/o);v.o=Math.floor(v.o/o);f.O$(v);var y=O.backgroundColor,k=y?{_:255*y.red,q:255*y.green,X:255*y.blue}:{_:255,q:255,X:255};
f.add.artb.Clr={t:"Objc",v:j.f.iB(k)};f.add.artb.artboardBackgroundType={t:"long",v:4}}Z.al(O.layers,q,a,E,T,i,H)}else if($&&!z){f.add.vmsk=new g.Xg;
f.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));f.add.vstk.strokeEnabled.v=!1;f.add.vogk=[];var S=D!=null&&D.frameFXMulti.v.length==1,L=C?C.fills:null,X=C?Z.Ra(E,L,W,a,f.getName(),q,Z.U8(H,O.do_objectID+"_image")):[];
if(X.length==0){if(S)f.add.vstk.fillEnabled.v=!1;else f.add.iOpa=0;f.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}}}else{var s=X[0],M=null,V=null;
if(s.type=="SoFi"){M="SoCo";V=iq.zo}if(s.type=="GrFl"){M="GdFl";V=iq.kb}if(s.type=="patternFill"){M="PtFl";
V=iq.fi}if(M!=null){f.add[M]={classID:"null"};for(var R=0;R<V.length;R++){var l=V[R];f.add[M][l]=s.k.v[l]}var e=s.k.v.Opct.v.val;
if(S&&e==0)f.add.vstk.fillEnabled.v=!1;else f.add.iOpa=Math.round(255*e/100)}}f.GZ|=16;f.add.vmsk.Q=Z.hu(O.layers?O.layers:[O],O.layers?a:p,f.add.vogk);
var Y=C?C.blur:null;if(Y&&Y.isEnabled&&Y.type<=1)f.add.vmsk.pR=Y.radius;if(f.add.vmsk.Q.length==2){console.log("shape with no content:",f.getName())}if(S){var J=D.frameFXMulti.v[0].v,G=f.add.vstk,F=C.borders[0];
D.frameFXMulti.v=[];cU.Vr(J,G);var b=C.borderOptions,h=C.miterLimit;if(b){var bj=b.dashPattern;G.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.DL.jY[b.lineCapStyle];
G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.DL.join[b.lineJoinStyle];if(bj)G.strokeStyleLineDashSet.v=cU.Wv(bj,1/J.Sz.v.val);
if(h!=null)G.strokeStyleMiterLimit.v=h}}f.VA(q)}else if(B=="bitmap"||z){if(!z&&O.image==null)continue;
var i4=z?C.fills[0]:null,t=z?i4.image.bdata:O.image.bdata,aG=q.YC(t,f.getName(),0,0);aG.GZ=f.GZ;f=aG;
var Y=C?C.blur:null,Q=C?C.colorControls:null;if(Y||Q){f.add.SoLd.filterFX=fU.u4();q.O8({id:f.add.SoLd.placed.v,rect:new eL,buffer:j.U(1),w:new g.JI});
var L=f.add.SoLd.filterFX.v.filterFXList.v;if(Y){var jd=fU.ah("GsnB",{});jd.v.enab.v=Y.isEnabled;jd.v.Fltr.v.Rds.v.val=Y.radius;
L.push(jd)}if(Q){var bP=Q.brightness,gz=Q.contrast,fZ=Q.hue,dt=Q.saturation;if(fZ!=0||dt!=1){var jd=fU.ah("hue2",{});
jd.v.enab.v=Q.isEnabled;je.RR(jd.v.Fltr.v,0,[Math.round(fZ*180/Math.PI),Math.round((dt-1)*100),0]);L.push(jd)}if(bP!=0||gz!=1){var jd=fU.ah("brit",{});
jd.v.enab.v=Q.isEnabled;gz=gz-1;if(gz>0)gz/=2;var a9=jd.v.Fltr.v;a9.Brgh.v=Math.round(bP*255);a9.Cntr.v=Math.round(gz*255);
a9.useLegacy.v=!0;L.push(jd)}}}if(z){var bi=i4.patternFillType;if(bi==3){var az=f.rect.v/f.rect.o,hd=W.v/W.o;
if(az<hd){a.translate(-(W.v*(1-az/hd))/2,0);a.scale(hd/az,1)}else{a.translate(0,-(W.o*(1-hd/az))/2);
a.scale(1,az/hd)}}}W.x=W.y=0;var aB=j.O.aS(W).W;a.z3();j.O.B(aB,a,aB);f.add.SoLd.Trnf=A.Z.g8(aB);f.add.SoLd.nonAffineTransform=A.Z.g8(aB);
f.Ze(q,!1)}else if(B=="text"){if(O.attributedString==null)continue;var cv=a.clone(),c$,cT,dO=0;cv.z3();
cv.jS=cv.FF=Math.min(cv.jS,cv.FF);f.add.lnsr="rend";f.add.TySh=hx.sB(0,0);f.add.TySh.i0=new eL(0,0,W.v,W.o);
f.add.TySh.B=cv;var fp=O.attributedString;if(fp.archivedAttributedString)fp=fp.archivedAttributedString;
var cD=fp.NSString;if(cD==null)cD=fp.string;if(cD==null)cD="";if(cD["NS.string"])cD=cD["NS.string"];
if(i[O.do_objectID]!=null)cD=i[O.do_objectID];var f_=Z.U8(H,O.do_objectID+"_stringValue");if(f_)cD=f_.value;
if(fp.attributes!=null){c$=[];cT=[];var f9=fp.attributes;for(var R=0;R<f9.length;R++){c$.push(f9[R].length,R);
cT.push(f9[R].attributes)}}else if(fp.NSAttributeInfo==null){c$=[cD.length,0];cT=[fp.NSAttributes]}else{c$=fp.NSAttributeInfo["NS.data"];
cT=fp.NSAttributes;c$=dg.a4k(c$,cT)}for(var R=0;R<c$.length;R+=2)dO+=c$[R];if(dO!=cD.length){while(dO>cD.length){c$[c$.length-2]--;
dO--;if(c$[c$.length-2]==0){c$.pop();c$.pop()}}c$[c$.length-2]+=cD.length-dO}cD=cD.replace(/\u2028/g,"\n");
cD=cD.replace(/\u2029/g,"\n");cD=cD.replace(/\r/g,"\n");var a6=f.add.TySh.Bd;hx.V8(a6,0,cD);if(cD!=""){var hb=O.textBehaviour,jr=C.textStyle,dh=jr?jr.verticalAlignment:0,jq=Z.ag$(a6,c$,cT,cD),o=cv.SD(),g3=hx.o1(a6,0,1),jn=0;
if(g3.h9.Font){var c6=g3.GF[g3.h9.Font].Name;if(c6=="FontAwesome"||c6=="Ionicons")jq*=.87}var cd=g3.h9.AutoLeading?0:g3.h9.Leading*.6,cV=Math.max(jq,cd)*o,fM=W.v,bE=W.o;
if(hb==0){hx.vF(a6,0);var gU=hx.oG(g3.yA);if(gU==1)jn=fM*o;if(gU==2)jn=fM*o*.5;if(dh==0)cV*=1;else cV*=.9}else{hx.vF(a6,1);
hx.XM(a6,[0,0,Math.round(fM),Math.round(bE)]);if(hb==2&&dh==0)cV=cV*.2;else if(hb==2&&dh==1){cV=o*.5*(bE-g3.h9.FontSize)}else if(hb==1&&dh==0)cV=cV*.2;
else cV=cV*.35}f.add.TySh.B.translate(jn,cV)}}else if(B=="symbolInstance"||B=="symbolMaster"){var g6=O.symbolID;
if(i[O.do_objectID])g6=i[O.do_objectID].symbolID;var cu=Z.U8(H,O.do_objectID+"_symbolID");if(cu)g6=cu.value;
if(g6=="")continue;var f5={};for(var l in i)f5[l]=i[l];if(O.overrides)for(var l in O.overrides)f5[l]=O.overrides[l];
var iP=H.slice(0);if(O.overrideValues)iP=iP.concat(O.overrideValues);var id=T[g6];if(id==null){console.log("Unknown master master",O.symbolID);
continue}var aY=dg.oP(id.n3.frame),fT=aY.v/W.v,h8=aY.o/W.o,jf=a.clone();jf.scale(fT,h8);f.add.lsct=fX.Ku;
f.Nl="pass";f.GZ=24;f.c4(O.isVisible);q.h.push(q.Ch());var h2=id.n3;if(q.w7.indexOf(h2)==-1){q.w7.push(h2);
Z.al(h2.layers,q,jf,E,T,f5,iP);q.w7.pop()}}else if(B=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+B,O);continue}if(C&&C.contextSettings){var e9=C.contextSettings,jt=e9.blendMode;
if(jt<Z.PO.length){f.Nl=d3.hd[d3.Uc.indexOf(Z.PO[jt])];if(I&&f.Nl=="norm")f.Nl="pass"}f.opacity=Math.round(f.opacity*e9.opacity)}if(D!=null){f.add.lmfx=D}q.h.push(f);
if(O.hasClippingMask&&n.length>1){w.push(f);q.h.push(q.Ch())}}while(w.length!=0)Z.vH(w.pop(),q)};dg.U8=function(n,q){for(var R=0;
R<n.length;R++)if(n[R].overrideName.startsWith(q))return n[R]};dg.a4k=function(n,q){var p=0,E=[];while(p+1<n.length){var T=n[p];
p++;if(T>127){T+=128*(n[p]-1);p++;if(n[p-1]>127){T+=128*(n[p]-1);p++}}var i=n[p];p++;E.push(T,i)}return E};
dg.ag$=function(n,q,p,E){var T=dg,i=0,O=0,W=0;for(var R=0;R<E.length;R++){var H=E.charCodeAt(R),Z=1473<=H&&H<=1479||1488<=H&&H<=1514||1520<=H&&H<=1524,w=1569<=H&&H<=1594||1600<=H&&H<=1749;
if(Z||w)i++}var d=i>E.length/2;for(var R=0;R<q.length;R+=2){var C=q[R],f=14,c="DejaVuSans";if(C==0)continue;
var a=q[R+1],B=p[a],$=hx.o1(n,O,O+C-1),I=B.NSColor;if(I==null){var I=B.MSAttributedStringColorDictionaryAttribute;
if(I==null)I=B.MSAttributedStringColorAttribute;if(I==null)I="0 0 0";else I=[I.red,I.green,I.blue].join(" ")}else if(T.bn(I)=="MSArchivedColor")I=I.dr+" "+I.dg+" "+I.db;
else if(I.NSRGB){I=I.NSRGB;I=u.xj(I,0,I.length-1)}else if(I.NSCMYK){I=I.NSCMYK;I=u.xj(I,0,I.length-1);
I=I.split(" ").map(parseFloat);var x=1-I[0],U=1-I[1],N=1-I[2],m=1-I[3];I=x*m+" "+U*m+" "+N*m}else if(I.NSWhite){I="1 1 1"}I=I.split(" ");
$.h9.FillColor={Type:1,Values:[1,parseFloat(I[0]),parseFloat(I[1]),parseFloat(I[2])]};var D=B.MSAttributedStringFontAttribute;
if(B.NSFont){f=B.NSFont.NSSize;c=B.NSFont.NSName}else if(D){if(D.attributes){D=D.attributes;f=D.size;
c=D.name}else{var z=D.NSFontDescriptorAttributes;if(z==null)z=D.UIFontDescriptorAttributes;D=z;f=D.NSFontSizeAttribute;
c=D.NSFontNameAttribute}if(c==null)c="DejaVuSans"}var W=Math.max(W,f);$.h9.FontSize=Math.round(f);hx.cl($,c);
var _=B.NSKern;if(_==null)_=B.kerning;if(_!=null)$.h9.Tracking=Math.round(1e3*_/f);if(B.NSUnderline!=null)$.h9.Underline=B.NSUnderline>0;
var v=B.NSStrikethrough;if(v==null)v=B.strikethroughStyle;if(v!=null)$.h9.Strikethrough=v>0;if(B.MSAttributedStringTextTransformAttribute==1)$.h9.FontCaps=2;
var o=B.NSParagraphStyle;if(o==null)o=B.paragraphStyle;if(o){var k=o.paragraphSpacing;if(k!=null){$.yA.SpaceAfter=k}var S=o.NSAlignment;
if(S==null)S=o.alignment;if(S!=null){var L=0;if(!1){}else if(S==1)L=1;else if(S==2)L=2;else if(S==4)L=0;
else{L=S;console.log("unknown align",S)}if(d&&L<2)L=1-L;$.yA.Justification=L}var X=o.NSMinLineHeight;
if(X==null)X=o.minimumLineHeight;if(X!=null){$.h9.AutoLeading=!1;$.h9.Leading=X}}$.yA._Direction=d?1:0;
hx.X6(n,O,O+C,$);O+=C}return W};dg.alG=function(n,q,p,E,T,i,H){var Z=dg,w=JSON.parse(iq.default),d=!1;
for(var R=0;R<iq.order.length;R++)w[iq.Da[R]]={t:"VlLs",v:[]};var O=p.fills,W=Z.Ra(n,O,E,T,i,q);for(var C=0;
C<2;C++){var a=p[["shadows","innerShadows"][C]];if(a==null)continue;var B=["DrSh","IrSh"][C],$=iq.Da[iq.order.indexOf(B)];
for(var R=0;R<a.length;R++){var I=a[R];if(!I.isEnabled)continue;if(I.contextSettings.opacity==0||I.color.alpha==0)continue;
var x=JSON.parse(iq.FT[iq.order.indexOf(B)]);w[$].v.unshift({t:"Objc",v:x});d=!0;x.Clr.v=Z.v5(I.color);
x.blur.v.val=Math.round(I.blurRadius/T.SD());var U=T.clone();U.R_=U.so=0;U.z3();var N=U.i1(new fc(I.offsetX,I.offsetY)),m=Math.sqrt(N.x*N.x+N.y*N.y);
x.Dstn.v.val=Math.round(m);x.lagl.v.val=Math.round(Math.atan2(N.y,-N.x)*(180/Math.PI));if(x.layerConceals)x.layerConceals.v=W.length!=0;
Z.yT(I,x)}}var f=p.borders;if(f!=null&&(W.length==0||p.blur==null||!p.blur.isEnabled))for(var R=0;R<f.length;
R++){var c=f[R];if(!c.isEnabled)continue;var x=JSON.parse(iq.FT[iq.order.indexOf("FrFX")]),$=iq.Da[iq.order.indexOf("FrFX")];
w[$].v.unshift({t:"Objc",v:x});d=!0;x.Clr.v=Z.v5(c.color);if(c.fillType!=0&&c.gradient){var D=Z.Yj(c.gradient,E,T,i),z=["Type","Angl","Ofst","Scl"];
for(var R=0;R<z.length;R++)x[z[R]]=D[z[R]];x.Grad.v=D.Grad.v;x.PntT.v.FrFl="GrFl"}x.Sz.v.val=c.thickness/T.SD();
x.Styl.v.FStl=["CtrF","InsF","OutF"][c.position];Z.yT(c,x)}for(var R=H?1:0;R<W.length;R++){var _=W[R],$=iq.Da[iq.order.indexOf(_.type)];
w[$].v.unshift(_.k);d=!0}return d?w:null};dg.Ra=function(n,q,p,E,T,i,H){if(q==null)return[];var Z=dg,w=[];
for(var R=0;R<q.length;R++)if(q[R].isEnabled)w.push(q[R]);q=w;var d=[];for(var R=0;R<q.length;R++){var O=q[R],W=null,C=null;
if(O.fillType==0){W="SoFi";var a=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);C={t:"Objc",v:a};C.v.Clr.v=Z.v5(O.color)}else if(O.fillType==1){W="GrFl";
C={t:"Objc",v:Z.Yj(O.gradient,p,E,T)}}else if(O.fillType==4&&O.image!=null){var B=O.image;if(H)B=H.value;
var $=al.Y3(B.bdata.buffer);if($!=null&&$!="pdf"&&$!="eps"){var I,c=0,D=0,z=0;if(i.Q1[B.key])I=i.Q1[B.key];
else{var x=al.vE($).es(B.bdata)[0],U=x.Yd.clone();I={};I.id=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";I.name="someImage";
I.Ac=[new Uint8Array(x.data),U];i.J1(I);i.Q1[B.key]=I}var N=I.Ac[1],a=JSON.parse(iq.FT[iq.order.indexOf("patternFill")]);
W="patternFill";C={t:"Objc",v:a};var m=O.patternFillType,f=O.patternTileScale;a.Algn.v=!0;a.Ptrn.v.Idnt.v=I.id;
if(m==0){c=f*N.v/Math.min(N.v,N.o);D=-E.R_;z=-E.so}else{c=Math.max(p.v/N.v,p.o/N.o);D=-E.R_-(N.v*c-p.v)/2;
z=-E.so-(N.o*c-p.o)/2}a.Scl.v.val=100*c*(1/E.SD());a.phase.v.Hrzn.v=Math.round(D/E.SD());a.phase.v.Vrtc.v=Math.round(z/E.SD())}}else if(O.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",O.fillType);
if(W!=null){Z.yT(O,C.v);d.push({type:W,k:C})}}return d};dg.a5R=function(n){var q=dg,p=new eL(0,0,1,1);
n=n.slice(0);while(!0){var E=!1;for(var R=0;R<n.length-1;R++){var T=n[R],i=n[R+1],H=null,Z=T.contextSettings;
if(T.fillType==0&&(Z==null||Z.opacity==1&&Z.blendMode==0)&&T.color.alpha==1){var w="norm",d=1,Z=i.contextSettings;
if(Z){d=Z.opacity;w=d3.JM(q.PO[Z.blendMode])}if(i.fillType==0){H=JSON.parse(JSON.stringify(i));q.NU(H.color,T.color,H.color,p,w,d)}if(i.fillType==1){H=JSON.parse(JSON.stringify(i));
var O=H.gradient.stops;for(var W=0;W<O.length;W++)q.NU(O[W].color,T.color,O[W].color,p,w,d)}if(H!=null&&H.contextSettings){var Z=H.contextSettings;
Z.opacity=1;Z.blendMode=0}}if(H!=null){n.splice(R,0,H);E=!0;break}}if(!E||n.length<2)break}return n};
dg.NU=function(n,q,p,E,T,i){var H=dg,Z=j.U(4);H.cj(n,Z);var w=j.U(4);H.cj(q,w);j.a.Ef(T,Z,E,w,E,E,i);
H.a7s(w,p)};dg.cj=function(n,q){q[0]=255*n.red;q[1]=255*n.green;q[2]=255*n.blue;q[3]=255*n.alpha};dg.a7s=function(n,q){q.red=n[0]/255;
q.green=n[1]/255;q.blue=n[2]/255;q.alpha=n[3]/255};dg.vH=function(n,q){n=n.clone();n.GZ=24;n.WR("Mask by "+n.getName());
q.h.push(n);n.add.lsct=fX.eV;n.add.lyid=q.x3();delete n.add.lmfx;delete n.add.SoCo;delete n.add.GdFl;
delete n.add.PtFl;delete n.add.iOpa;if(n.add.vmsk)n.add.vmsk.zK=!0;n.VA(q);if((n.GZ&16)==16)n.GZ-=16;
if((n.GZ&2)==2)n.GZ-=2;n.Nl="pass";n.opacity=255};dg.PO="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
dg.Yj=function(n,q,p,E){p=p.clone();p.z3();p.R_=p.so=0;var T=p.SD(),C=0,a=0;p.scale(1/T,1/T);var i=dg,H=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),Z=H.Grad.v;
Z.Intr.v=0;if(n==null)return H;var w=n.gradientType,d=i.fA(n.from),O=i.fA(n.to);d.offset(-.5,-.5);O.offset(-.5,-.5);
d=p.i1(d);O=p.i1(O);var W=Math.atan2(-(O.y-d.y),O.x-d.x);H.Type.v.GrdT=["Lnr","Rdl","Angl"][w];H.Scl.v.val=100*fc.vu(d,O);
if(w==0){H.Angl.v.val=180/Math.PI*W;H.Scl.v.val=100*fc.vu(d,O);C=(d.x+O.x)/2;a=(d.y+O.y)/2}if(w==1){H.Scl.v.val=200*fc.vu(d,O);
C=d.x;a=d.y}if(w==2){H.Angl.v.val=180/Math.PI*(W-Math.PI/2)}var B=H.Ofst.v;B.Hrzn.v.val=C*100;B.Vrtc.v.val=a*100;
var $=[];for(var R=0;R<n.stops.length;R++){var I=n.stops[R],x=I.color;$.push([I.position,x?[x.red,x.green,x.blue]:[0,0,0],x.alpha])}j.f.Rj($,Z);
return H};dg.yT=function(n,q){var p=dg,E=1,T=n.contextSettings;if(T!=null){q.Md.v.BlnM=p.PO[T.blendMode];
E*=T.opacity}else q.Md.v.BlnM=p.PO[0];q.enab.v=n.isEnabled;if(q.uglg!=null)q.uglg.v=!1;if(n.color!=null)E*=n.color.alpha;
q.Opct.v.val=Math.round(E*100)};dg.v5=function(n){return j.f.iB(n?{_:n.red*255,q:n.green*255,X:n.blue*255}:{_:0,q:0,X:0})};
dg.hu=function(n,q,p){var E=dg,T=[{type:6},{type:8,all:0}];for(var i=0;i<n.length;i++){var H=n[i],Z=H.booleanOperation,w=0,d=H._class,$=!1;
if(d=="group"||d=="text"||d=="symbolInstance"||d=="slice"){console.log(d+" inside ShapeGroup");continue}if(Z==-1)w=0;
else if(Z==0)w=1;else if(Z==1)w=2;else if(Z==2)w=3;else if(Z==3)w=0;if(i==0)w=1;var O=dg.oP(H.frame),W=E.hK(H,q),C=H.path?H.path:H,a=[{type:0,length:0,HW:w,cZ:2,NC:0,Wu:0}],B=C.points;
for(var R=0;R<B.length;R++){var I=B[R],x=E.fA(I.curveTo),U=E.fA(I.point),N=E.fA(I.curveFrom);$=$||I.hasCurveFrom&&!N.rv(U)||I.hasCurveTo&&!x.rv(U)}var m=[];
if(!$){var f=[],eR=B.length;if(eR==0)continue;for(var R=0;R<eR;R++){m[R]=B[R].cornerRadius;var I=E.fA(B[R].point);
f.push(I.x,I.y)}W.scale(1/O.v,1/O.o);W.z3();j.O.B(f,W,f);var c=j.G.Rk(f,m);a=a.concat(c);a[0].length=a.length-1}else{var D=B.length;
a[0].length=D;for(var R=0;R<D;R++){var I=B[R],z=I.curveMode,_=E.fA(I.point);a[1+R]={type:z==2||z==4?1:2,m5:I.hasCurveTo?E.fA(I.curveTo):_.clone(),L:_,OR:I.hasCurveFrom?E.fA(I.curveFrom):_.clone()}}W.scale(1/O.v,1/O.o);
W.z3();j.G.ra(a,W);var m=[];for(var R=0;R<D;R++){var I=B[R],z=I.curveMode,v=I.cornerRadius;if(z==1&&v!=0)m.push(v);
else m.push(0)}}if(!C.isClosed)for(var R=0;R<a.length;R++)a[R].type+=3;T=T.concat(a);var o=j.k4.Ji(),y=E.bn(H);
if(W.X==0&&W.kr==0){var k=W.R_,S=W.so,L=k+W.jS,X=S+W.FF,s=[k,S,L,X];if(y=="rectangle"&&m.length==4)o=j.k4.$L(2,s,m);
if(y=="oval")o=j.k4.$L(5,s)}p.push(o)}return T};dg.hK=function(n,q){var p=q.clone(),E=n.frame?dg.oP(n.frame):null;
if(E)p.translate(-E.x-E.v/2,-E.y-E.o/2);if(n.isFlippedHorizontal)p.scale(-1,1);if(n.isFlippedVertical)p.scale(1,-1);
p.rotate(-n.rotation*(Math.PI/180));if(E)p.translate(E.v/2,E.o/2);return p};dg.fA=function(n){n=n.slice(1,n.length-1).split(",");
return new fc(parseFloat(n[0]),parseFloat(n[1]))};dg.oP=function(n){return new eL(n.x,n.y,n.width,n.height)};
dg.Jj=function(n){return{_class:"rect",constrainProportions:!1,x:n.x,y:n.y,width:n.v,height:n.o}};function av(){}av.U4=function(n,q){var p=Date.now(),E=av,T=UZIP.parse(n),i=JSON.parse(u.L4(T.manifest)),H=JSON.parse(u.L4(T["resources/graphics/graphicContent.agc"])).resources,Z=[],w=i.children;
for(var R=0;R<w.length;R++){var d=w[R];if(d.name=="artwork"){var O=d.children;for(var W=0;W<O.length;
W++)if(O[W]["uxdesign#bounds"]){var C=O[W],a=JSON.parse(u.L4(T["artwork/"+C.path+"/graphics/graphicContent.agc"]));
if(a.children.length!=1)throw"e";C._node=a.children[0];Z.push(C)}}}var B=[],$=new eL;for(var R=0;R<Z.length;
R++){var C=Z[R],I=dg.oP(C["uxdesign#bounds"]);B.push(I);$=$.AL(I)}var x=dg.nZ($,8192*8192);q.pL=!0;q.v=Math.round($.v/x);
q.o=Math.round($.o/x);q.buffer=j.U(q.v*q.o*4);q.R$(Z.length);var U=new b$(x,0,0,x,$.x,$.y);q.Q1={};for(var R=0;
R<Z.length;R++){var C=Z[R],I=dg.oP(C["uxdesign#bounds"]),N=C._node,m=U.clone(),f=I.clone(),c=m.SD();
m.translate(-I.x,-I.y);f.x=-Math.floor(m.R_/c);f.y=-Math.floor(m.so/c);f.v=Math.floor(f.v/c);f.o=Math.floor(f.o/c);
m.translate(I.x,I.y);av.tI(N,q,m,H,T,f);var D=q.h[q.h.length-1];D.WR(C.name);D.O$(f);if(R!=Z.length-1)D.add.lsct=fX.Ku}delete q.Q1};
av.kw=function(n){if(n==null)return new b$;return new b$(n.a,n.b,n.c,n.d,n.tx,n.ty)};av.tI=function(n,q,p,E,T,i){var H=av,Z=n.type,w=n[Z],d=n.style,O=H.kw(n.transform),B,$="none",I,x="none",U,N;
O.z3();var W=p.clone();W.concat(O);var C=q.Je(),a=n.name;C.WR(a?a.slice(0,250):"Layer");if(n.visible!=null)C.c4(n.visible);
if(d){B=d.stroke;$=B?B.type:"none";I=d.fill;x=I?I.type:"none";U=d.filters;N=d.clipPath;if(N&&E.clipPaths[N.ref])N=E.clipPaths[N.ref].children;
else N=null;if(d.opacity)C.opacity=Math.round(255*d.opacity);if(x=="solid"&&I.color.alpha)C.opacity=Math.round(C.opacity*I.color.alpha);
if(U){C.add.lmfx=H.ar6(U);for(var R=0;R<U.length;R++)if(U[R].type=="uxdesign#blur"){var m=U[R],f=m.params,c=f.brightnessAmount;
if(c==null)c=0;c=Math.abs(c/100);if((m.visible==null||m.visible==!0)&&f.backgroundEffect)C.opacity=Math.round(C.opacity*(c+(1-c)*f.fillOpacity))}}if(x=="pattern"&&I.pattern.meta.ux.uid=="")x="none"}if(N==null&&n.meta&&n.meta.ux&&n.meta.ux.clipPathResources)N=n.meta.ux.clipPathResources.children;
if(Z=="artboard"||Z=="group"){if(N){var D=N[0],z=D.shape,_=z!=null&&z.type=="rect"&&z.width*z.height>1e6;
if(D.type!="text"&&!_){if(z){var O=H.kw(D.transform);O.z3();var v=W.clone();v.concat(O);C.add.vmsk=new g.Xg;
C.add.vmsk.Q=H.hu(z);v=v.clone();v.z3();j.G.ra(C.add.vmsk.Q,v);C.VA(q)}}else if(!_)alert("Clipping by text has been ignored")}C.add.lsct=fX.eV;
C.Nl="pass";C.GZ=24;if(n.visible!=null)C.c4(n.visible);q.h.push(q.Ch());var o=w.children,y=I;if(y)y=y.color;
if(y)y=y.value;if(I){if(Z=="artboard"&&x=="solid"){C.O$(new eL(0,0,10,10));C.add.artb.Clr={t:"Objc",v:j.f.iB({_:y.r,q:y.g,X:y.b})};
C.add.artb.artboardBackgroundType={t:"long",v:4}}else{var k=q.Je();k.WR("BACKGROUND");k.GZ|=16;k.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));
k.add.vmsk=new g.Xg;k.add.vmsk.Q=H.hu({type:"rect",x:i.x,y:i.y,width:i.v,height:i.o});H.s5(I,x,W,i,i,k,q,E,T);
k.VA(q);q.h.push(k)}}for(var R=0;R<o.length;R++){av.tI(o[R],q,W,E,T,i)}}else if(Z=="shape"&&n.shape.type=="rect"&&(n.shape.r==null||n.shape.r==0)&&x=="pattern"&&Math.abs(n.shape.width/n.shape.height-I.pattern.width/I.pattern.height)<.01){var S=I.pattern,L=S.meta.ux,X=L.uid,s=T["resources/"+X];
if(s==null){console.log(S);return}var M=q.YC(s,C.getName(),0,0);M.GZ=C.GZ;M.opacity=C.opacity;C=M;var V=j.O.aS(new eL(0,0,S.width,S.height)).W,l=new b$;
l.scale(S.width/n.shape.width,S.height/n.shape.height);if(L.offsetX)l.translate(-L.offsetX*S.width,0);
if(L.offsetY)l.translate(0,-L.offsetY*S.height);W.concat(l);W.z3();j.O.B(V,W,V);C.add.SoLd.Trnf=A.Z.g8(V);
C.add.SoLd.nonAffineTransform=A.Z.g8(V);C.Ze(q,!1)}else if(Z=="shape"){C.GZ|=16;C.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));
C.add.vmsk=new g.Xg;C.add.vmsk.Q=H.hu(w);var e=j.G.Sc(C.add.vmsk.Q,null),v=W.clone();v.z3();j.G.ra(C.add.vmsk.Q,v);
var Y=j.G.Sc(C.add.vmsk.Q,null);if($=="none"){}else{var J=B.color.value,G,F;G="SoFi";var b=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);
F={t:"Objc",v:b};F.v.Clr.v=j.f.iB({_:J.r,q:J.g,X:J.b});var h=B.align,bj=B.cap;if(h==null)h="center";
var i4=C.add.vstk;i4.strokeEnabled.v=!0;i4.strokeStyleLineWidth.v.val=B.width;if(h)i4.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[["inside","center","outside"].indexOf(h)];
if(bj)i4.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.DL.jY[["butt","round","square"].indexOf(bj)];
var t=["SoFi","GrFl","patternFill"].indexOf(G),aG=[iq.zo,iq.kb,iq.fi][t];i4.strokeStyleContent.v={classID:iq.DL.LK[0]};
var Q=i4.strokeStyleContent.v={classID:iq.DL.LK[t]};for(var R=0;R<aG.length;R++)Q[aG[R]]=F.v[aG[R]]}if(U)for(var R=0;
R<U.length;R++)if(U[R].type=="uxdesign#blur"&&U[R].visible){var jd=U[R];C.add.vmsk.pR=jd.params.blurAmount}H.s5(I,x,W,e,Y,C,q,E,T);
C.VA(q)}else if(Z=="text"&&n.text){var bP=n.text,gz=bP.frame,fZ=d.font,dt=d.textAttributes,O=W.clone(),cv=0;
O.z3();C.add.lnsr="rend";C.add.TySh=hx.sB(0,0);C.add.TySh.i0=new eL(0,0,100,100);C.add.TySh.B=O;var a9=C.add.TySh.Bd,bi=bP.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
hx.V8(a9,0,bi);if(bi!=""){var az=hx.o1(a9,0,1),hd=fZ.postscriptName;if(hd==null)hd=fZ.family;hx.cl(az,hd);
az.h9.FontSize=Math.round(fZ.size);if(I){var J=I.color.value;az.h9.FillColor={Type:1,Values:[1,J.r/255,J.g/255,J.b/255]}}if(dt){if(dt.paragraphAlign)az.yA.Justification=["left","right","center"].indexOf(dt.paragraphAlign);
if(dt.letterSpacing)az.h9.Tracking=Math.round(dt.letterSpacing);if(dt.lineHeight){az.h9.AutoLeading=!1;
az.h9.Leading=Math.round(dt.lineHeight)}}hx.X6(a9,0,bi.length,az)}var aB=n.meta.ux.rangedStyles;if(aB)for(var R=0;
R<aB.length;R++){var w=aB[R],c$=Math.min(w.length,bi.length-cv),az=hx.o1(a9,cv,cv+c$),hd=w.postscriptName;
if(hd==null)hd=w.family;if(hd!=null)hx.cl(az,hd);var cT=w.textScript,fp=w.underline,cD=w.fontSize,m=w.fill,f_=w.textTransform;
if(cT&&cT!="none")az.h9.FontBaseline=cT=="superscript"?1:2;if(fp!=null)az.h9.Underline=fp;if(cD!=null)az.h9.FontSize=Math.round(cD);
if(f_!=null)az.h9.FontCaps=f_=="uppercase"?2:0;if(m!=null){var f9=m.value;az.h9.FillColor={Type:1,Values:[1,(f9>>>16&255)/255,(f9>>>8&255)/255,(f9>>>0&255)/255]}}hx.X6(a9,cv,cv+c$,az);
cv+=c$}if(gz.type=="area"||gz.type=="autoHeight"){var dO=gz.width,a6=gz.height;hx.vF(a9,1);hx.XM(a9,[0,0,dO,a6!=null?a6:dO*2])}}else console.log(Z,n);
q.h.push(C)};av.hu=function(n){var q=n.type,p=[{type:6},{type:8,all:0}];if(q=="rect"){var E=n.r,T=n.x,i=n.y,H=n.width,Z=n.height;
if(E==null)p=j.G.la.Rect(T,i,H,Z,0);else{var w=j.G.Rk([T,i,T+H,i,T+H,i+Z,T,i+Z],E,!1);p.push({type:0,HW:1,length:w.length,NC:0,Wu:0,cZ:1});
p=p.concat(w)}}else if(q=="circle"){var E=n.r;p=j.G.la.OG(n.cx-E,n.cy-E,2*E,2*E)}else if(q=="ellipse"){var d=n.rx,O=n.ry;
p=j.G.la.OG(n.cx-d,n.cy-O,2*d,2*O)}else if(q=="path"||q=="compound"){var W=Typr.U.SVGToPath(n.path);
p=j.O.zt({F:W.cmds,W:W.crds},!1)}else if(q=="line"){var C=n.x1,a=n.x2,B=n.y1,$=n.y2;p=p.concat([{type:0,HW:1,length:2,NC:0,Wu:0,cZ:1}]).concat(j.G.Rk([C,B,a,$],0,!0))}else if(q=="polygon"){var I=n.points,w=[];
for(var R=0;R<I.length;R++)w.push(I[R].x,I[R].y);p=p.concat(j.G.la.Pi(w,0,!1).slice(2))}else console.log(q,n);
return p};av.ar6=function(n){var q=JSON.parse(iq.default);for(var R=0;R<iq.order.length;R++)q[iq.Da[R]]={t:"VlLs",v:[]};
for(var R=0;R<n.length;R++){var p=n[R],E=p.type,T=p.params,i=p.visible;if(E=="dropShadow"){var H=iq.Da[iq.order.indexOf("DrSh")],Z=JSON.parse(iq.FT[iq.order.indexOf("DrSh")]);
q[H].v.unshift({t:"Objc",v:Z});var w=T.dropShadows;if(w.length!=1)throw"e";var d=w[R],O=d.color,W=O.value,C=d.dx,a=d.dy;
Z.Clr.v=j.f.iB({_:W.r,q:W.g,X:W.b});Z.Opct.v.val=Math.round((O.alpha!=null?O.alpha:1)*100);Z.uglg.v=!1;
Z.enab.v=i!=null?i:!0;Z.lagl.v.val=Math.round(180/Math.PI*Math.atan2(a,-C));Z.Dstn.v.val=Math.round(Math.sqrt(C*C+a*a));
Z.blur.v.val=Math.round(d.r*2.3)}}return q};av.s5=function(n,q,p,E,T,i,H,Z,w){var d=av;if(q=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}}}else{var O,W,C;if(q=="solid"){var a=n.color.value;
O="SoCo";W=iq.zo;var B=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);C={t:"Objc",v:B};C.v.Clr.v=j.f.iB({_:a.r,q:a.g,X:a.b})}else if(q=="gradient"){O="GdFl";
W=iq.kb;var B=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),$=B.Grad.v,m,f,c;$.Intr.v=0;var I=n[q],x=I.ref?Z.gradients[I.ref]:I.meta.ux.gradientResources,U=["linear","radial"].indexOf(x.type),N=x.stops;
B.Type.v.GrdT=["Lnr","Rdl","Angl"][U];if(U==0){var m=new fc(I.x1,I.y1),f=new fc(I.x2,I.y2);m.x=f.x+.5*(m.x-f.x);
m.y=f.y+.5*(m.y-f.y)}else{var m=new fc(I.cx,I.cy),f=new fc(I.cx+I.r,I.cy)}c=T;if(I.units=="objectBoundingBox"){var D=new b$(E.v,0,0,E.o,E.x,E.y);
m=D.i1(m);f=D.i1(f)}var D=d.kw(I.transform);m=D.i1(m);f=D.i1(f);D=p.clone();D.z3();m=D.i1(m);f=D.i1(f);
j.f.hp(m,f,c,B);var z=[];for(var R=0;R<N.length;R++){var _=N[R],v=_.color,a=v.value,o=v.alpha;if(o==null)o=1;
z.push([_.offset,[a.r/255,a.g/255,a.b/255],o])}j.f.Rj(z,$);C={t:"Objc",v:B}}else if(q=="pattern"){O="PtFl";
W=iq.fi;var B=JSON.parse(iq.FT[iq.order.indexOf("patternFill")]),s,Y=1,J=0,G=0,F=1;C={t:"Objc",v:B};
var y=n[q],k=y.meta.ux,S=k.uid,L=w["resources/"+S].buffer,X=al.Y3(L);if(H.Q1[S])s=H.Q1[S];else{var M=new eL(0,0,y.width,y.height),V;
if(M.M6()){M=new eL(0,0,1,1);V=new ArrayBuffer(4)}else{var l=al.vE(X);if(l.ZX){var e=new gd;l.es(L,e);
V=e.Zk().buffer}else V=l.es(L)[0].data}s={};s.id=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";s.name="someImage";
s.Ac=[new Uint8Array(V),M];H.J1(s);H.Q1[S]=s}var M=s.Ac[1];B.Algn.v=!0;B.Ptrn.v.Idnt.v=s.id;if(k.scaleBehavior=="cover"){Y=F*Math.max(T.v/M.v,T.o/M.o);
var b=Y;if(k.scale!=null)Y*=k.scale;J=T.x-(M.v*Y-T.v)/2;G=T.y-(M.o*Y-T.o)/2;if(k.offsetX!=null)J+=k.offsetX*M.v*b;
if(k.offsetY!=null)G+=k.offsetY*M.o*b}else if(k.scaleBehavior=="fill"){Y=F*Math.min(T.v,T.o)/Math.max(M.v,M.o);
J=T.x-(M.v*Y-T.v)/2;G=T.y-(M.o*Y-T.o)/2}else throw"Unknown scale behaviour";B.Scl.v.val=100*Y;B.phase.v.Hrzn.v=Math.round(J);
B.phase.v.Vrtc.v=Math.round(G)}else console.log(q);if(O!=null){i.add[O]={classID:"null"};for(var R=0;
R<W.length;R++){var h=W[R];i.add[O][h]=C.v[h]}}}};function ai(){}ai.U4=function(n,q,p){n=new Uint8Array(n);
var E=u.L4(n,0,n.length),T=new DOMParser,i=T.parseFromString(E,"image/svg+xml"),H=i.getElementsByTagName("style")[0],a=1;
if(H)H=Typr.U.SVG.cssMap(H.textContent);else H={};var Z=i.firstChild;while(Z.tagName!="svg")Z=Z.nextSibling;
var w=new eL(0,0,100,100),d=Z.getAttribute("viewBox"),O=Z.getAttribute("width"),W=Z.getAttribute("height");
if(d){var C=ai.hG(d);w.x=C[0];w.y=C[1];w.v=C[2];w.o=C[3]}else if(O!=null||W!=null){w.v=O!=null?parseFloat(O):parseFloat(W);
w.o=W!=null?parseFloat(W):parseFloat(O)}w=j.O.Xf(w);while(p&&Math.max(w.v*a,w.o*a)<Math.max(p[0],p[1]))a++;
while(p==null&&Math.max(w.v,w.o)*a>8192)a*=.5;q.pL=!0;q.v=~~(w.v*a);q.o=~~(w.o*a);q.buffer=j.U(q.v*q.o*4);
var B=new b$(a,0,0,a,-w.x*a,-w.y*a),$={Tp:ai.oO(Z),ai2:H};ai.F$(i,Z.children,q,B,$,new b$,0);if(q.h.length==0){var I=q.Je();
I.WR("Layer");q.h.push(I)}};ai.hG=function(n){var q=" ";if(n.indexOf(",")!=-1)q=",";return n.split(q).map(parseFloat)};
ai.F$=function(n,q,p,E,T,i,H){var Z=ai,w=["display","opacity","fill-opacity"];for(var d=0;d<q.length;
d++){var O=q[d],W=O.tagName,C=O.getAttribute("id"),a=Z.oO(O,T.ai2),$=13,m=1,D="clip-path",z=null;for(var B in T.Tp)if(w.indexOf(B)==-1&&a[B]==null)a[B]=T.Tp[B];
if(a["font-size"])$=Z.u7(a["font-size"],$);if(O.getAttribute("dx"))E.R_+=Z.u7(O.getAttribute("dx"),$);
if(O.getAttribute("dy"))E.so+=Z.u7(O.getAttribute("dy"),$);var I=Z.cM(O);I.concat(E);var x=O.getAttribute("visibility"),U=a.display,N=p.Je();
if(x=="hidden"||U=="none")N.c4(!1);N.WR(C!=null?C.split(":::")[0]:"Layer");if(a.opacity)m*=parseFloat(a.opacity);
if(a["fill-opacity"]){var f=parseFloat(a["fill-opacity"]);if(f!=0)m*=f}N.opacity=Math.round(255*m);if(a["mix-blend-mode"]){var c=d3.Zo.indexOf(a["mix-blend-mode"]);
if(c!=-1)N.Nl=d3.hd[c]}if(O.getAttribute(D)==null)D="mask";if(O.getAttribute(D)!=null){var _=O.getAttribute(D);
_=_.slice(4,_.length-1);var v=n.getElementById(_.slice(1));if(v){var o=v.children;z=p.Je();z.WR("Clip-Path"+(C?": "+C:""));
z.add.lsct=H<2?fX.eV:fX.Ku;z.Nl="pass";z.GZ=24;var y=z.add.vmsk=new g.Xg;p.h.push(p.Ch());var k=[];if(v.getAttribute(D)){var _=v.getAttribute(D);
_=_.slice(4,_.length-1);k=n.getElementById(_.slice(1)).children}for(var R=0;R<o.length;R++){var S=Z.cM(o[R]);
S.concat(I);var L=Z.hu(n,o[R],!1).slice(2);j.G.ra(L,S);y.Q=y.Q.concat(L)}for(var R=0;R<k.length;R++){var S=Z.cM(o[R]);
S.concat(I);var L=Z.hu(n,k[R],!1).slice(2);for(var X=0;X<L.length;X++)if(L[R].HW!=null)L[R].HW=3;j.G.ra(L,S);
y.Q=y.Q.concat(L)}z.J0();z.VA();H++}}if(W=="g"||W=="a"||W=="svg"||W=="switch"||(W=="text"||W=="textPath")&&O.children.length>0){if(W=="text")i=Z._1(O,i);
var s=O.getAttribute("viewBox"),M=O.getAttribute("width"),V=O.getAttribute("height");if(s&&M&&V){var l=ai.hG(s),e=Z._1(O),Y=new b$;
Y.translate(-l[0],-l[1]);Y.scale(parseFloat(M)/l[2],parseFloat(V)/l[3]);Y.translate(e.R_,e.so);Y.concat(I);
I=Y}var J=O.children.length,G=T.Tp;T.Tp=a;var F=W!="text"&&W!="textPath"||J>1;if(F){var b=N.Fp();N.add.lsct=H<2&&b&&(C==null||!C.endsWith(":::"))?fX.eV:fX.Ku;
N.Nl="pass";N.GZ=24;N.c4(b);p.h.push(p.Ch())}Z.F$(n,O.children,p,I,T,i,H+1);if(F)p.h.push(N);else{var h=p.h[p.h.length-1];
h.opacity=N.opacity;h.Nl=N.Nl}T.Tp=G}else if(W=="use"){var Y=Z._1(O);Y.concat(I);var bj=Z.wl(O),i4=n.getElementById(bj.slice(1)),G=T.Tp;
T.Tp=a;Z.F$(n,[i4],p,Y,T,i,H+1);T.Tp=G}else if(W=="path"||W=="rect"||W=="circle"||W=="ellipse"||W=="polygon"||W=="polyline"||W=="line"){N.GZ|=16;
N.add.vmsk=new g.Xg;N.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));N.add.vstk.strokeEnabled.v=!1;
var t=N.add.vstk,y=N.add.vmsk,aG=a.fill,Q=aG=="none"||a["fill-opacity"]&&parseFloat(a["fill-opacity"])==0;
y.Q=Z.hu(n,O,a["fill-rule"]=="evenodd",Q);j.G.ra(y.Q,I);var jd=j.G.Sc(y.Q),bP=a.stroke,gz=a["stroke-width"],fZ=a["stroke-dasharray"],dt=a["stroke-linejoin"],a9=a["stroke-linecap"],bi=a["paint-order"];
if(bP==null||bP=="none"||bP=="null"){}else{var az=Z.jc(n,bP,I,jd),hd=["SoFi","GrFl","patternFill"].indexOf(az.type),aB=az.k.v.Opct.v,cT=1;
if(aB.val!=100){N.opacity=Math.round(N.opacity*aB.val/100);aB.val=100}var cv=[iq.zo,iq.kb,iq.fi][hd],c$=t.strokeStyleContent.v={classID:iq.DL.LK[hd]};
for(var R=0;R<cv.length;R++)c$[cv[R]]=az.k.v[cv[R]];gz=gz?parseFloat(gz):1;if(bi&&bi.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){cT=2;
gz/=2}t.strokeEnabled.v=!0;if(dt)t.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.DL.join[["miter","round","bevel"].indexOf(dt)];
if(a9)t.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.DL.jY[["butt","round","square"].indexOf(a9)];
t.strokeStyleLineWidth.v.val=gz*A.Z.SD(I);t.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[cT];
t.strokeStyleOpacity.v.val=100*(a["stroke-opacity"]?parseFloat(a["stroke-opacity"]):1);if(fZ!=null&&fZ!="none")t.strokeStyleLineDashSet.v=cU.Wv(fZ.split(",").map(parseFloat),1/gz)}if(Q){N.add.vstk.fillEnabled.v=!1;
N.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}}}else{var az=Z.jc(n,aG,I,jd),fp=null,cD=null;
if(az.type=="SoFi"){fp="SoCo";cD=iq.zo}if(az.type=="GrFl"){fp="GdFl";cD=iq.kb}if(az.type=="patternFill"){fp="PtFl";
cD=iq.fi}if(fp!=null){N.add[fp]={classID:"null"};for(var R=0;R<cD.length;R++){var B=cD[R];N.add[fp][B]=az.k.v[B]}}}if(a.filter&&a.filter!="none"){var f_=a.filter;
f_=f_.slice(5,f_.length-1);if(n.getElementById(f_)){var f9=n.getElementById(f_).children[0];if(f9.tagName=="feGaussianBlur"){N.add.vmsk.pR=parseFloat(f9.getAttribute("stdDeviation"))*A.Z.SD(I)}}}N.J0();
N.VA(p);p.h.push(N)}else if((W=="text"||W=="tspan")&&O.textContent!=""){i=Z._1(O,i);var Y=i.clone(),cd=0;
Y.concat(I);if(O.children.length>0){var dO=Z.oO(O.children[0],T.ai2);for(var B in dO)if(w.indexOf(B)==-1)a[B]=dO[B]}var a6=a["xml:space"],hb=O.textContent;
if(a6=="preserve")hb=hb.replace(/\t/g," ").replace(/\n/g," ");if(C==null)N.WR(hb);N.add.lnsr="rend";
N.add.TySh=hx.sB(0,0);N.add.TySh.i0=new eL(0,0,100,100);N.add.TySh.B=Y.clone();var jr=N.add.TySh.Bd;
hx.V8(jr,0,hb);var aG=a.fill,dh=a["font-weight"],jq=a["font-family"],g3=a["text-decoration"],bP=a.stroke,gz=a["stroke-width"],c6=a["dominant-baseline"];
if(c6=="text-before-edge")cd=$;else if(c6=="middle")cd=$/2;else if(c6=="hanging")cd=$;if(cd!=0)N.add.TySh.B.translate(0,cd);
var jn=hx.o1(jr,0,1);if(aG&&aG!="none"){var cV=CSS.v5(aG);jn.h9.FillColor={Type:1,Values:[1,cV._/255,cV.q/255,cV.X/255]}}if(g3=="underline")jn.h9.Underline=!0;
jn.h9.FontSize=Math.round($);hx.cl(jn,"LiberationSans");if(dh=="bold")hx.cl(jn,"LiberationSans-Bold");
if(jq){jq=jq.split(",")[0].trim();if(jq[0]=="\"")jq=jq.slice(1);if(jq[jq.length-1]=="\"")jq=jq.slice(0,jq.length-1);
var fM=jq+":"+(dh?dh:"normal"),bE={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(bE[fM])hx.cl(jn,bE[fM]);else hx.cl(jn,jq)}if(a["text-anchor"])jn.yA.Justification=["start","end","middle"].indexOf(a["text-anchor"]);
hx.X6(jr,0,hb.length,jn);if(bP==null||bP=="none"){}else{var gU=JSON.parse(iq.FT[iq.order.indexOf("FrFX")]);
gU.Clr.v=j.f.iB(CSS.v5(bP));gU.Sz.v.val=Math.round(parseFloat(gz)*A.Z.SD(Y));var g6=JSON.parse(iq.default);
for(var R=0;R<iq.order.length;R++)g6[iq.Da[R]]={t:"VlLs",v:[]};g6.frameFXMulti.v.push({t:"Objc",v:gU});
N.add.lmfx=g6}p.h.push(N)}else if(W=="image"){var bj=Z.wl(O);if(bj.slice(0,4)=="data"){var cu=al.HM(bj),f5=cu,iP=p.YC(f5,N.getName(),0,0);
iP.GZ=N.GZ;N=iP;var id=N.rect.clone();id.x=id.y=0;var aY=O.getAttribute("width"),fT=O.getAttribute("height");
if(aY)id.v=parseFloat(aY);if(fT)id.o=parseFloat(fT);var h8=Z._1(O);h8.concat(I);var jf=j.O.aS(id).W;
j.O.B(jf,h8,jf);N.add.SoLd.Trnf=A.Z.g8(jf);N.add.SoLd.nonAffineTransform=A.Z.g8(jf);N.Ze(p,!1);p.h.push(N)}}else console.log("unknown tag: "+W,O.children.length,O.textContent.length);
if(z!=null){p.h.push(z);H--}}};ai.hu=function(n,q,p,E){var T=ai,i=[{type:6},{type:8,all:0}],H=q.tagName;
if(H=="use"){var Z=T.wl(q),w=n.getElementById(Z.slice(1)),d=new b$;if(w.tagName!="rect")d=T._1(w);d.concat(T.cM(w));
i=T.hu(n,w,p,E);j.G.ra(i,d)}else if(H=="path"){var O=q.getAttribute("d");if(O==null)return i;var W=Typr.U.SVGToPath(O);
i=j.O.zt({W:W.crds,F:W.cmds},p,E)}else if(H=="rect"){var C=q.getAttribute("rx"),a=T._1(q);i=j.G.la.Rect(a.R_,a.so,parseFloat(q.getAttribute("width")),parseFloat(q.getAttribute("height")),C?parseFloat(C):0)}else if(H=="circle"||H=="ellipse"){var B=[0,0,0,0],$=["cx","cy","rx","ry","r"];
for(var R=0;R<5;R++){var I=q.getAttribute($[R]);if(I){I=parseFloat(I);if(R<4)B[R]=I;else B[2]=B[3]=I}}i=j.G.la.OG(B[0]-B[2],B[1]-B[3],2*B[2],2*B[3])}else if(H=="polygon"||H=="polyline"||H=="line"){var x;
if(H=="line")x=[q.getAttribute("x1"),q.getAttribute("y1"),q.getAttribute("x2"),q.getAttribute("y2")].map(parseFloat);
else x=q.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
i=j.G.la.Pi(x,0,H!="polygon")}return i};ai.u7=function(n,q){if(n.charAt(n.length-1)=="m")return q*parseFloat(n.slice(0,n.length-2));
else return parseFloat(n)};ai.jc=function(n,q,p,E){var T,i,H=ai,Z=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]),w=q!=null?q.indexOf("("):-1;
if(w!=-1){var d=q.indexOf(")"),O=q.slice(0,w).trim(),W=q.slice(w+1,d).trim();if(W.charAt(0)=="'")W=W.slice(1,W.length-1);
if(O=="url"){if(W.charAt(0)=="#"){var C=n.getElementById(W.slice(1));if(C&&C.tagName.toLowerCase().endsWith("gradient")){var a=H.Yj(n,C,p,E);
T="GrFl";i={t:"Objc",v:a}}else{T="SoFi";i={t:"Objc",v:Z}}}else console.log("unknown url",W)}else if(O=="rgb"||O=="rgba"){T="SoFi";
i={t:"Objc",v:Z};i.v.Clr.v=j.f.iB(CSS.v5(q));if(O=="rgba")i.v.Opct.v.val=Math.round(100*parseFloat(q.split(",").pop()))}else console.log("unknown fill",q)}else{T="SoFi";
i={t:"Objc",v:Z};i.v.Clr.v=j.f.iB(CSS.v5(q))}return{type:T,k:i}};ai.cM=function(n){var q=new b$,p=n.getAttribute("transform");
if(p)q=ai.I9(p);var E=n.getAttribute("style");if(E!=null){var T={};ai.YG(T,E,["transform"]);E=T.transform;
if(E)q.concat(ai.I9(E))}return q};ai._1=function(n,q){var p=new b$,E=n.getAttribute("x"),T=n.getAttribute("y");
if(E)p.R_=parseFloat(E);else if(q)p.R_=q.R_;if(T)p.so=parseFloat(T);else if(q)p.so=q.so;return p};ai.I9=function(n){var q=Typr.U.SVG.readTrnf(n);
return new b$(q[0],q[1],q[2],q[3],q[4],q[5])};ai.oO=function(n,q){var p={},E="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var R=0;R<E.length;R++){var T=n.getAttribute(E[R]);if(T!=null&&T!="inherit")p[E[R]]=T}var i=n.getAttribute("class");
if(q!=null&&i!=null&&q["."+i]!=null)ai.YG(p,q["."+i],E);var H=n.getAttribute("id");if(q!=null&&H!=null&&q["#"+H]!=null)ai.YG(p,q["#"+H],E);
var Z=n.getAttribute("style");if(Z!=null)ai.YG(p,Z,E);return p};ai.YG=function(n,q,p){q=q.trim().split(";");
for(var R=0;R<q.length;R++){var E=q[R].split(":"),T=E[0]?E[0].trim():"",i=E[1]?E[1].trim():"";for(var H=0;
H<p.length;H++)if(T==p[H]&&i!="inherit")n[p[H]]=i}};ai.wl=function(n){var q=n.getAttribute("xlink:href");
if(q==null)q=n.getAttribute("href");if(q==null)q=n.getAttribute("xl:href");return q};ai.Yj=function(n,q,p,E){var T=ai,i=new b$,H=q.getAttribute("gradientTransform");
if(H)i=T.I9(H);i.concat(p);var Z=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),w=Z.Grad.v;w.Intr.v=0;var d=q.tagName,O=new fc(0,0),W=new fc(E.v,0);
if(d=="linearGradient"){Z.Type.v.GrdT="Lnr";if(q.getAttribute("x1"))O.x=parseFloat(q.getAttribute("x1"));
if(q.getAttribute("y1"))O.y=parseFloat(q.getAttribute("y1"));if(q.getAttribute("x2"))W.x=parseFloat(q.getAttribute("x2"));
if(q.getAttribute("y2"))W.y=parseFloat(q.getAttribute("y2"));O.x=W.x+.5*(O.x-W.x);O.y=W.y+.5*(O.y-W.y)}if(d=="radialGradient"){Z.Type.v.GrdT="Rdl";
if(q.getAttribute("cx"))O.x=parseFloat(q.getAttribute("cx"));if(q.getAttribute("cy"))O.y=parseFloat(q.getAttribute("cy"));
W.Gw(O.x,O.y);if(q.getAttribute("r"))W.x+=parseFloat(q.getAttribute("r"))}if(q.getAttribute("gradientUnits")=="userSpaceOnUse"){O=i.i1(O);
W=i.i1(W)}else{O.x=E.x+O.x*E.v;O.y=E.y+O.y*E.o;W.x=E.x+W.x*E.v;W.y=E.y+W.y*E.o}j.f.hp(O,W,E,Z);var C=q.children;
if(C.length==0){var a=T.wl(q);if(a==null)throw"gradient has no stops";var B=n.getElementById(a.slice(1));
if(B==null){console.log(a.slice(1));throw"e"}var $=T.Yj(n,B,i,E);Z.Grad=$.Grad}else{var I=[];for(var R=0;
R<C.length;R++){var x=C[R],U=T.oO(x),N=U["stop-color"],m=U["stop-opacity"],f=x.getAttribute("offset");
if(N==null)N="#000000";if(m==null)m="1";var c=f?parseFloat(f):0;N=CSS.v5(N);I.push([c,[N._/255,N.q/255,N.X/255],parseFloat(m)])}j.f.Rj(I,w)}return Z};
ai.xA=function(n,q,p){var E=[],T=ai;T.fY=q.a1H?"\t":"";var i=q.aeq,H=q.ac7;E.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+n.v+" "+n.o+"\" width=\""+i+"\" height=\""+H+"\">");
E.push(T.Mp(1)+"<title>"+ai.d1(n.name.split(".")[0])+"</title>");var Z={X$:[],fM:[],fL:0,uL:0,iz:0,T_:{},Ka:{},z5:0,To:{},UK:{},Un:0,s4:[]};
ai.Nd(n,Z,n.root.children,1,q,p);if(Z.X$.length!=0){E.push(T.Mp(1)+"<defs>");E=E.concat(Z.X$);E.push(T.Mp(1)+"</defs>")}E.push(T.Mp(1)+"<style>");
E.push(T.Mp(2)+"tspan { white-space:pre }");for(var w in Z.To)E.push(T.Mp(2)+"."+w+" { "+Z.To[w]+" } ");
E.push(T.Mp(1)+"</style>");E=E.concat(Z.fM);E.push("</svg>");E=E.join(q.a1H?"\n":"");if(T.Qo){console.log(T.Qo);
var d="SVGParser.gen.db = [\n";for(var R=0;R<T.Qo.length;R++){var O=T.Qo[R];d+="{\n\tnam: \""+O.y4+"\",\n\tpts: [\n";
for(var W=0;W<O.yF.length;W++){var C=O.yF[W];d+="\t\t[\""+C[0]+"\", { cmds: "+JSON.stringify(C[1].F)+", crds:"+JSON.stringify(C[1].W)+" } ]"+(W==O.yF.length-1?"":",")+"\n"}d+="\t]\n}"+(R==T.Qo.length-1?"":",")+"\n"}d+="]\n";
console.log(d)}return u.Va(E)};ai.fY="";ai.Mp=function(eR){var n="";for(var R=0;R<eR;R++)n+=ai.fY;return n};
ai.rP=function(eR){return""+parseFloat(eR.toFixed(3))};ai.Nd=function(n,q,p,E,T,i){var H=ai;function Z(O,cT){var z=O.add.lmfx;
if(z)z=z[cT].v[0];if(z)z=z.v;if(z&&!z.enab.v)z=null;return z}function w(O,$){var cV=Z(O,"frameFXMulti");
if(cV){var fM=cV.Sz.v.val;if(cV.Styl.v.FStl=="OutF"){$.push("paint-order:stroke fill markers");fM*=2}$.push("stroke: "+CSS.pK(cV.Clr.v));
$.push("stroke-width: "+fM);$.push("stroke-linejoin: round;")}}for(var d=0;d<p.length;d++){var O=p[d].Y,W=O.add.lsct,C=O.add.vmsk,a=O.add.vstk,B=O.add.TySh;
if(C&&!C.isEnabled)C=a=null;var $=[];if(!T.hidden&&!O.Fp())continue;var I=O.opacity/255,x=O.add.iOpa?O.add.iOpa/255:1;
if(I!=1)$.push("opacity: "+H.rP(I));if(x!=1)$.push("fill-opacity: "+H.rP(x));if(O.Nl!="norm"){var U=d3.Zo[d3.hd.indexOf(O.Nl)];
if(U!=null)$.push("mix-blend-mode: "+U)}if(!O.Fp())$.push("display: none");var N=[],m=[],f=O.getName(),c=f.indexOf(" .");
if(c!=-1){m.push(f.slice(c+2));f=f.slice(0,c)}if(T.names)N.push("id=\""+H.d1(f)+"\"");var D=cU.SE(O.add.lmfx,O.add),z=D[0],_=D[1];
if(O.z7()){var v=p[d].children;if(!(v.length==1&&v[0].Y.add.SoLd&&!T.DB)){if(H.Qo&&O.getName().split("-").length==3){H.Qo.push({y4:O.getName(),Fe:0,yF:[]})}ai.gk(O,C,q,N);
if($.length!=0)N.push("style=\""+$.join(";")+"\"");q.fM.push(H.Mp(E)+"<g "+H.yt(N,m)+">");H.Nd(n,q,v,E+1,T,i);
q.fM.push(H.Mp(E)+"</g>")}}else if(O._m()&&C==null){var o=new eL(0,0,n.v,n.o);H.mg($,O.add,q,o);if($.length!=0)N.push("style=\""+$.join(";")+"\"");
q.fM.push(H.Mp(E)+"<rect width=\""+n.v+"\" height=\""+n.o+"\" "+H.yt(N,m)+" />")}else if(C&&O.add.SoLd==null){var o=j.G.Sc(C.Q,null,!0),y=j.G.fp(C.Q);
if(y.Qx!=0){N.push("fill-rule=\"evenodd\"")}var k=y.IT;H.mg($,O.add,q,o);if($.length!=0){var S=$.join(";"),L=q.UK[S];
if(L==null){L="shp"+q.Un;q.Un++;q.UK[S]=L;q.To[L]=S}m.push(L)}q.fM.push(H.Mp(E)+"<path "+H.yt(N,m)+" d=\""+k+"\" />");
if(H.Qo&&H.Qo[H.Qo.length-1]){var X=j.O.kp(C.Q);X.W=X.W.map(Math.round);var s=H.Qo[H.Qo.length-1];s.Fe+=JSON.stringify(X).length;
s.yF.push([$[0].split("#").pop(),X])}}else if(B&&T.am8){var M=B.Bd,V=new e7(M,i),l=null;if(z)l=CSS.pK(z.Clr.v);
if(_){var o=O.rect.clone();H.Sj(_,q,o);l=" url(#grd"+q.fL+")"}if(l)N.push("fill=\""+l+"\"");w(O,$);if($.length!=0)N.push("style=\""+$.join(";")+"\"");
var e=hj.Vp(V,B),Y=j.O.$V(e);for(var J in Y){if(l==null)N.push("fill=\""+J+"\"");var G=Y[J],k=Typr.U.pathToSVG({crds:G.W,cmds:G.F},2);
q.fM.push(H.Mp(E)+"<path "+H.yt(N,m)+" "+H.Rt(B)+" d=\""+k+"\" />");if(l==null)N.pop()}}else if(B&&!T.aeR){var M=B.Bd,F=B.B.clone(),l=null,jd=0,bP=0;
if(hx.d_(M)==1){var b=hx.o1(M,0,0).yA.Justification,h=0,bj=hx.my(M)[2];if(b==2)h=bj/2;if(b==1)h=bj;F.translate(h,0)}$.push("transform: "+H.rp(F));
var i4=hx.Q2(M),t=M.EngineDict.ParagraphRun,aG=t.RunArray,Q=t.RunLengthArray;w(O,$);if($.length!=0)N.push("style=\""+$.join(";")+"\"");
q.fM.push(H.Mp(E)+"<text "+H.yt(N,m)+" >");if(z)l=CSS.pK(z.Clr.v);if(_){var o=O.rect.clone();o.x-=F.R_;
o.y-=F.so;H.Sj(_,q,o);l=" url(#grd"+q.fL+")"}for(var R=0;R<aG.length;R++){var gz=[],fZ=Q[R],dt=i4.slice(jd,jd+fZ-1),a9=hx.o1(M,jd,jd),bi=a9.GF[a9.h9.Font].Name;
if(q.s4.indexOf(bi)==-1)q.s4.push(bi);CSS.QJ(gz,a9,B.B,!0,!0,l);var az=a9.h9.FontSize*1.12;if(R==0)az=hx.d_(M)==0?0:a9.h9.FontSize;
bP+=az;if(dt!=""){var S=gz.join(";"),L=q.UK[S],aB="";if(L==null){L="txt"+q.Un;q.Un++;q.UK[S]=L;q.To[L]=S}var hd=a9.h9.Tracking;
if(hd!=null&&hd!=0){hd=Math.round(hd*a9.h9.FontSize/1e3);aB=" dx=\"0";for(var cv=1;cv<dt.length;cv++)aB+=" "+hd;
aB+="\" "}q.fM.push(H.Mp(E+1)+"<tspan x=\"0\" y=\""+H.rP(bP)+"\" class=\""+L+"\""+aB+">"+H.d1(dt)+"</tspan>")}jd+=fZ}q.fM.push(H.Mp(E)+"</text>")}else if(O.add.SoLd&&T.DB){var c$=O.add.SoLd,cT=c$.Idnt.v,fp=0,cD=c$.Crop?c$.Crop.v:null;
if(q.Ka[cT]!=null)fp=q.Ka[cT];else{q.z5++;fp=q.z5;q.Ka[cT]=q.z5;var f_=n.Fn(cT,cD),a6="";if(f_==null)return;
var f9=f_.H5,dO=al.Y3(f_.raw.buffer);if(dO=="pdf"){var hb=new gd("h");al.vE("PDF").es(f_.raw.buffer,hb);
hb.ko();hb.cO();hb.M();hb.FN();if(c$.Crop&&c$.Crop.v==1){A.c8.HD(hb,hb.root.UB(hb,!0))}var jr=al.vE("SVG").U7(hb,hb.v,hb.o,null,{s4:i});
a6="data:image/svg+xml;base64,"+al.SH(jr)}else if(dO=="jpg"||dO=="png"||dO=="gif"||dO=="svg"){var dh={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
a6="data:"+dh[dO]+";base64,"+al.SH(f_.raw.buffer)}else{a6=al.O0(f9[0].buffer,f9[1].v,f9[1].o)}q.X$.push(H.Mp(2)+"<image width=\""+f9[1].v+"\" height=\""+f9[1].o+"\" id=\"img"+fp+"\" href=\""+a6+"\"/>")}var jq=j.V.hm(c$),g3=[];
ai.gk(O,C,q,g3);if(g3.length!=0)q.fM.push(H.Mp(E)+"<g "+H.yt(g3,m)+">");if($.length!=0)N.push("style=\""+$.join(";")+"\"");
var c6=H.yt(N,m);q.fM.push(H.Mp(E)+"<use "+c6+" href=\"#img"+fp+"\" transform=\""+H.rp(jq)+"\"/>");if(g3.length!=0)q.fM.push(H.Mp(E)+"</g>")}else if(!O.rect.M6()&&(T.DB||B)){if($.length!=0)N.push("style=\""+$.join(";")+"\"");
var c6=H.yt(N,m),cd=O.buffer;if(z)cd=cU.YT(cd,z,O.rect);var jn=O.rect;q.z5++;var a6=al.O0(cd.buffer,jn.v,jn.o,"png",null,!0);
q.X$.push(H.Mp(2)+"<image "+H.Rt(B)+" width=\""+O.rect.v+"\" height=\""+O.rect.o+"\" id=\"img"+q.z5+"\" href=\""+a6+"\"/>");
q.fM.push(H.Mp(E)+"<use "+c6+" href=\"#img"+q.z5+"\" x=\""+jn.x+"\" y=\""+jn.y+"\" />")}}};ai.Rt=function(n){if(n==null)return"";
var q=n.Bd,p=hx.Q2(q);p=ai.d1(p.slice(0,p.length-1));return"aria-label=\""+p+"\" "};ai.yt=function(n,q){if(q.length!=0)n.push("class=\""+q.join(" ")+"\"");
return n.join(" ")};ai.d1=function(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
ai.rp=function(n){var q=[n.jS,n.X,n.kr,n.FF,n.R_,n.so].map(ai.rP);return"matrix("+q.join(",")+")"};ai.gk=function(n,q,p,E){var T=ai;
if(q||n.add.artb){var i;if(q)i=j.G.fp(q.Q).IT;else{var H=n.Kl(),Z=j.O.aS(H);i=Typr.U.pathToSVG({crds:Z.W,cmds:Z.F},2)}p.iz++;
E.push("clip-path=\"url(#cp"+p.iz+")\"");p.X$.push(T.Mp(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+p.iz+"\">");
p.X$.push(T.Mp(3)+"<path d=\""+i+"\" />");p.X$.push(T.Mp(2)+"</clipPath>")}};ai.mg=function(n,q,p,E){var T=ai,i=q.vstk,H=q.vmsk,Z=q.lmfx;
if(H&&H.pR!=0){var w=T.rP(H.pR);if(p.T_[w]==null){p.uL++;p.T_[w]=p.uL;p.X$.push(T.Mp(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+p.uL+"\"> <feGaussianBlur stdDeviation=\""+w+"\" /> </filter>")}n.push("filter: url(#flt"+p.T_[w]+")")}var d=cU.SE(Z,q),O=d[0],W=d[1];
if(i&&!i.fillEnabled.v)n.push("fill: none");else if(O){var C=CSS.pK(O.Clr.v);n.push("fill: "+C)}else if(W){T.Sj(W,p,E);
n.push("fill: url(#grd"+p.fL+")")}if(i==null||!i.strokeEnabled.v)i=cU.BO(Z);if(i&&i.strokeEnabled.v){var a=i.strokeStyleContent.v,B=a.classID;
if(B=="solidColorLayer")n.push("stroke: "+CSS.pK(a.Clr.v));else{T.Sj(a,p,E);n.push("stroke: url(#grd"+p.fL+")")}var $=iq.DL.jY.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),I=iq.DL.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=i.strokeStyleOpacity.v.val/100,U=i.strokeStyleLineWidth.v.val,N=iq.DL.uO.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(N==2){U*=2;n.push("paint-order:stroke fill markers")}var m=i.strokeStyleLineDashSet.v,f=[];for(var R=0;
R<m.length;R++)f.push(Math.round(m[R].v.val*U));if($!=0)n.push("stroke-linecap:"+["butt","round","square"][$]);
if(I!=0)n.push("stroke-linejoin:"+["miter","round","bevel"][I]);if(x!=1)n.push("stroke-opacity:"+T.rP(x));
if(U!=1)n.push("stroke-width: "+T.rP(U));if(f.length!=0)n.push("stroke-dasharray: "+f.join(","))}};ai.Sj=function(n,q,p){q.fL++;
var E=ai,T=n.Grad.v,i=JSON.parse(JSON.stringify(T.Clrs.v)),H=JSON.parse(JSON.stringify(T.Trns.v)),Z=n.Ofst.v,w=n.Type.v.GrdT,d=w=="Rdl"?1:0,O=(d==1?"radial":"linear")+"Gradient",W=j.f.M5(n,p);
if(d==0){W[0].x=W[1].x+2*(W[0].x-W[1].x);W[0].y=W[1].y+2*(W[0].y-W[1].y)}var C=E.Mp(2)+"<"+O+" id=\"grd"+q.fL+"\" gradientUnits=\"userSpaceOnUse\" ";
if(d==0)q.X$.push(C+" x1=\""+E.rP(W[0].x)+"\" y1=\""+E.rP(W[0].y)+"\" x2=\""+E.rP(W[1].x)+"\" y2=\""+E.rP(W[1].y)+"\">");
if(d==1)q.X$.push(C+" cx=\""+E.rP(W[0].x)+"\" cy=\""+E.rP(W[0].y)+"\" r=\""+E.rP(fc.vu(W[0],W[1]))+"\">");
if(w=="Rflc"){for(var a=0;a<2;a++){var B=a==0?i:H;for(var R=B.length-1;R>=0;R--){var $=B[R];$.v.Lctn.v=2048+($.v.Lctn.v>>>1);
var I=JSON.parse(JSON.stringify($));I.v.Lctn.v=4096-I.v.Lctn.v;B.push(I)}B.sort(function(f,c){return f.v.Lctn.v-c.v.Lctn.v})}}var x=n.Rvrs.v;
if(x){i.reverse();H.reverse()}for(var R=0;R<i.length;R++){var U=i[R].v,N=R<H.length?H[R].v.Opct.v.val/100:1,N=N==1?"":"stop-opacity=\""+E.rP(N)+"\"",m=U.Lctn.v/4096;
if(x)m=1-m;q.X$.push(E.Mp(3)+"<stop offset=\""+E.rP(m)+"\" stop-color=\""+CSS.pK(U.Clr.v)+"\" "+N+" />")}q.X$.push(E.Mp(2)+"</"+O+">")};
ai.la=function(n,q,p,E,T){var i=[],H=ai.la,Z=!1,w={XF:n,rZ:q,k$:[!0,!0,!0],h0:!1,ot:p,a9p:0};w.zE=Math.round(Math.max(n,q)*(.02+H.gG(w)*.03));
w.ze=H.apv(w);w.mm=H.acE(w.ze,(H.gG(w)<.5?-1:1)*(.2+H.gG(w)*.3));if(H.gG(w)<.5){var d=w.ze;w.ze=w.mm;
w.mm=d}w.aaK=H.gG(w)<.4&&H.a0$(w.mm,{_:1,q:1,X:1})>.3;w.adG=H.gG(w)<.5?0:1;i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+n+" "+q+"\" width=\""+n+"\" height=\""+q+"\">");
w.nq=E[Math.floor(H.Gj(w)*E.length)];w.i5=E[Math.floor(H.Gj(w)*E.length)];i.push("<style>");i.push("@font-face {  font-family: "+w.nq[2]+";  src: url(rsrc/fonts/"+w.nq[5]+");  }");
i.push("@font-face {  font-family: "+w.i5[2]+";  src: url(rsrc/fonts/"+w.i5[5]+");  }");i.push("</style>");
var O=[0,0,n,q],W=O;if(T==null)i.push("<path style=\"fill: "+H.BN(w.ze)+"\" d=\""+H.Rect(O[0],O[1],O[2]-O[0],O[3]-O[1])+"\" id=\"Background\" />");
else{w.h0=!0;H.K6(w,O,i,T)}if(H.gG(w)<.25&&!w.h0){w.k$[0]=w.k$[2]=!1;H.a08(O,w,i);W=O}else if(H.gG(w)<.25||w.h0)W=O;
else{var C=.52+H.gG(w)*.2;if(H.gG(w)<.5)C=1-C;var a=O.slice(0),B=O.slice(0);if(H.gG(w)<.5)a[2]=B[0]=Math.round(C*n);
else a[3]=B[1]=Math.round(C*q);if(H.gG(w)<.5){var d=a;a=B;B=d}W=a;H.a5d(w,B,i,T)}H.agh(w,W,i);i.push("</svg>");
i=i.join("\n");var $=j.U(Math.round(i.length*1.5)),I=u.qm(i,$,0);return[$.buffer.slice(0,I),w.Xt]};ai.la.a08=function(n,q,p){var E=ai.la,T=n[2]-n[0],i=n[3]-n[1];
if(E.gG(q)<.5){p.push("<path id=\"Border\" style=\"fill: "+E.BN(q.mm)+"\" d=\""+E.a1w(n[0],n[1],n[2]-n[0],n[3]-n[1],q.zE)+"\" />")}else if(E.gG(q)<-.4){E.ajG(q,n,p)}else{var H=E.gG(q)<.5?0:1,Z=(H==0?i:T)/4,w=E.J6(q,H,n,p,Z,!0),w=E.J6(q,H+2,n,p,Z,!0,w)}};
ai.la.agh=function(n,q,p){var E=ai.la,T="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(E.gG(n)*T.length/2),H=q[2]-q[0],Z=q[3]-q[1],d=0,W=0;
n.Pb=(n.XF+H)*.5*(.04+E.gG(n)*.05);n.Pb=Math.min(n.Pb,Z*.4,H*.12);n.Pb=Math.round(n.Pb);var w=Math.min(n.Pb*T[i].length*(.35+.3*E.gG(n)),H*.9),O=(q[1]+q[3])/2,C=j.hR(n.ze)<.85?{_:1,q:1,X:1}:{_:.1,q:.1,X:.1};
if(E.gG(n)<.25&&n.k$[0]){W=0;d=q[0]+n.zE}else if(E.gG(n)<.33&&n.k$[2]){W=2;d=q[2]-n.zE}else{W=1;d=(q[0]+q[2])/2}var a=C._==1?"0,0,0":"255,255,255",B=n.h0&&E.gG(n)<1;
if(B){var $=q[0],I=H,x=O-n.Pb*1.1,U=n.Pb*2.2,N=.7;if(W==1&&E.gG(n)<.5){$=x=.2*Math.min(H,Z);I=H-2*x;
U=Z-x-x}else if(E.gG(n)<.7){$=x=0;I=H;U=Z;N=.25}p.push("<path id=\"Strip\" style=\"fill: rgb("+a+"); opacity: "+N+"\" d=\""+E.Rect($,x,I,U)+"\" />")}if(E.gG(n)<.4){var m=n.Pb*.07;
m*=1.5+E.gG(n)*1;if(W==-1&&H/Z<3&&!B){p.push("<path id=\"Bar-bottom\" style=\"fill: "+E.BN(C)+"\" d=\""+E.Rect(d-w/2,O+n.Pb*1.1-m/2,w,m)+"\" />");
p.push("<path id=\"Bar-top\"    style=\"fill: "+E.BN(C)+"\" d=\""+E.Rect(d-w/2,O-n.Pb*1.1-m/2,w,m)+"\" />")}if(W!=1){p.push("<path id=\"Bar\" style=\"fill: "+E.BN(C)+"\" d=\""+E.Rect(d-m/2,O-n.Pb*.8,m,n.Pb*.8*2)+"\" />");
d+=(W==0?1:-1)*n.Pb/3}}var f=n.Pb*.4;p.push(E.lK(T[i+1],d,O+f*1.6,f,C,W,n.i5));p.push(E.lK(T[i],d,O+n.Pb*.04,n.Pb,C,W,n.nq))};
ai.la.a5d=function(n,q,p,E){var T=q[2]-q[0],i=q[3]-q[1],H=Math.max(T,i),Z=Math.min(T,i),w=ai.la;if(H/Z<5&&!n.h0&&!1){w.K6(n,q,p,E)}else if(w.gG(n)<0)p.push("<path style=\"fill: "+w.BN(n.mm)+"\" d=\""+w.Rect(q[0],q[1],T,i)+"\" />");
else{var d=0;if(q[3]!=n.rZ)d=0;if(q[2]!=n.XF)d=3;if(q[0]!=0)d=1;if(q[1]!=0)d=2;var O=d+2&3;if(H/Z<3){var W=w.aaQ(O),C=W[Math.round(w.gG(n)*(W.length-1))],a=C.y4.slice(0,4),B=a.indexOf(1);
C=JSON.parse(JSON.stringify(C));var $=-1;if(a!="0000"){var I=new b$;if(C.y4[5]=="0"){if(B==3&&d==1){$=1;
I.scale(-1,1)}else $=B}else{var x=O;while(x==O)x=Math.floor(w.gG(n)*4)&3;I.rotate((-B+x)*Math.PI/2)}w.B(C,I)}var U=w.Uh(C),N=T-2*n.zE,m=i-2*n.zE;
if($!=-1){if(($&1)==0)m-=n.zE;else N-=n.zE}var f=Math.min(N/U.v,m/U.o),c=new b$;c.translate(-U.x,-U.y);
c.scale(f,f);var D=(T-U.v*f)/2,z=(i-U.o*f)/2;if($!=-1){if($==3)D=0;if($==0)z=0;if($==1)D=T-U.v*f;if($==2)z=i-U.o*f}c.translate(q[0]+D,q[1]+z);
w.am(n,C,c,n.mm,p)}else{w.J6(n,d,q,p,1e9)}}};ai.la.K6=function(n,q,p,E){var T=q[2]-q[0],i=q[3]-q[1],H=Math.max(T,i),Z=Math.min(T,i),w=ai.la,d=w.Gj(n),O,W,C,a=E[0]instanceof ArrayBuffer;
if(a){O="data:image/jpg;base64,"+a$.KL(E[0]);W=E[1];C=E[2]}else{var B=Math.floor(d*E.length),$=E[B];
n.Xt=$;O=$.webformatURL;W=$.webformatWidth;C=$.webformatHeight}var I=q[0],x=q[1],U=T,N=i;if(T/i>W/C){N=U*C/W;
x=x-(N-i)/2}else{U=N*W/C;I=I-(U-T)/2}if(a){p.push("<defs>");p.push("<image width=\""+W+"\" height=\""+C+"\" id=\"Background\" href=\""+O+"\" />");
p.push("</defs>");var m=U/W;p.push("<use href=\"#Background\" transform=\""+ai.rp(new b$(m,0,0,m,I,x))+"\" />")}else{var f="cp"+Math.random();
p.push("<clipPath id=\""+f+"\">");p.push("<path style=\"fill: "+w.BN(n.mm)+"\" d=\""+w.Rect(q[0],q[1],T,i)+"\" />");
p.push("</clipPath>");p.push("<image  clip-path=\"url(#"+f+")\" xlink:href=\""+O+"\" x=\""+I+"\" y=\""+x+"\" width=\""+U+"\" height=\""+N+"\" />")}};
ai.la.lK=function(n,q,p,E,T,i,H){var Z=ai.la;return"<text x=\""+q+"\" y=\""+p+"\" style=\"fill:"+Z.BN(T)+"; font-size:"+E+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+H[2]+";\"><tspan>"+n+"</tspan></text>"};
ai.la.am=function(n,q,p,E,T){var i=ai.la,H=[];for(var R=0;R<q.yF.length;R++){H.push(E);if(n.aaK){E=(R&1)==n.adG?{_:1,q:1,X:1}:H[0]}}T.push("<g id=\""+q.y4.split("-")[2]+":::\" style=\"transform: "+ai.rp(p)+";\" >");
for(var R=0;R<q.yF.length;R++){var Z=q.yF[R];E=H.pop();T.push("<path style=\"fill: "+(E?i.BN(E):"#"+Z[0])+"\" d=\""+Typr.U.pathToSVG({crds:Z[1].W,cmds:Z[1].F})+"\" />")}T.push("</g>")};
ai.la.ajG=function(n,q,p){var E=ai.la,T=ai.la.S5,i=[];for(var R=0;R<T.length;R++){var H=T[R],Z=H.y4.slice(0,4);
if(Z!="1001")continue;i.push(H)}var H=i[Math.floor(E.gG(n)*i.length)];if(E.gG(n)<.5)E.B(H,new b$(0,1,1,0,0,0));
var w=q[3]-q[1],d=q[2]-q[0],O=E.Uh(H),W=.7*Math.min(d,w,.5*Math.max(d,w))/Math.max(O.v,O.o),C=new b$;
C.scale(W,W);if(E.gG(n)<.5){C.scale(1,-1);C.translate(0,w)}E.am(n,H,C,n.mm,p);C.rotate(Math.PI);C.translate(d,w);
E.am(n,H,C,n.mm,p)};ai.la.aaQ=function(n){var q=ai.la.S5,p=[];for(var R=0;R<q.length;R++){var E=q[R],T=E.y4.slice(0,4);
if(T=="0000"){p.push(E);continue}if(["1000","0100","0010","0001"].indexOf(T)==-1)continue;var i=T.indexOf("1");
if(E.y4[5]=="0"&&n==i&&i!=3)continue;p.push(E)}return p};ai.la.J6=function(n,q,p,E,T,i,H){var Z=ai.la.S5,w=ai.la,d=[],U,N;
for(var R=0;R<Z.length;R++){var O=Z[R],W=O.y4.slice(0,4);if(["1110","1101","1011","0111"].indexOf(W)==-1)continue;
var C=W.indexOf("0")+2&3;if(O.y4[5]=="0")if(i==!0||q!=C&&!(q==1&&C==3))continue;d.push(O)}var a=H!=null?H:Math.floor(w.gG(n)*d.length),O=d[a],O=JSON.parse(JSON.stringify(O)),W=O.y4.slice(0,4),C=W.indexOf("0")+2&3;
if(C==3&&q==1)j.B(O,new b$(1,0,0,-1,0,1e3));var B=new b$;B.translate(-500,-500);B.rotate(-C*Math.PI/2);
B.translate(500,500);w.B(O,B);var $=p[3]-p[1],I=p[2]-p[0],x=w.Uh(O);if(x.y<0){x.o+=x.y;x.y=0}if(x.y>0){x.o+=x.y;
x.y=0}if((q&1)==0){N=$;U=I}else{U=$;N=I}var m=Math.min(Math.min(.5+.5*w.gG(n))*Math.min(I,$),T)/x.o,f=Math.ceil(U/(1e3*m)),c=new b$,D=new b$;
D.scale(m,m);if(q==0||q==2){D.translate(-(I/2),-($/2));D.rotate(-q*Math.PI/2);D.translate(I/2+p[0],$/2+p[1])}else{D.rotate(Math.PI/2);
D.scale(1,-1);D.translate(p[0],p[1]);if(q==1){D.scale(-1,1);D.translate(I,0)}}E.push("<g id=\"Border-"+["top","right","bottom","left"][q]+":::\">");
for(var R=0;R<f;R++){var z=c.clone();z.concat(D);w.am(n,O,z,n.mm,E);c.translate(1e3-2,0)}E.push("</g>");
return a};ai.la.Rect=function(n,q,p,E){return Typr.U.pathToSVG({crds:[n,q,n+p,q,n+p,q+E,n,q+E],cmds:["M","L","L","L","Z"]})};
ai.la.a1w=function(n,q,p,E,T){var i=[n,q,n+p,q,n+p,q+E,n,q+E];n+=T;q+=T;p-=2*T;E-=2*T;i.push(n,q,n,q+E,n+p,q+E,n+p,q);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};ai.la.acE=function(n,q){var p=j.JF(n._,n.q,n.X);
p.Nb=Math.max(.1,Math.min(.9,p.Nb+q));return j.G5(p.rZ,p.dd,p.Nb)};ai.la.agU=function(n,q){var p=j.JF(n._,n.q,n.X);
p.rZ+=q;return j.G5(p.rZ,p.dd,p.Nb)};ai.la.arl=function(n){var q=j.JF(n._,n.q,n.X);q.Nb=1-q.Nb;return j.G5(q.rZ,q.dd,q.Nb)};
ai.la.a0$=function(n,q){var p=n._-q._,E=n.q-q.q,T=n.X-q.X;return Math.sqrt(p*p+E*E+T*T)};ai.la.apv=function(n){var q=ai.la;
return{_:q.gG(n),q:q.gG(n),X:q.gG(n)}};ai.la.BN=function(n){return CSS.sw({_:n._*255,q:n.q*255,X:n.X*255})};
ai.la.Uh=function(n){var q=n.yF,p=new eL;for(var R=0;R<q.length;R++)p=p.AL(j.O.Uh(q[R][1].W));return p};
ai.la.B=function(n,q){var p=n.yF;for(var R=0;R<p.length;R++)j.O.B(p[R][1].W,q,p[R][1].W)};ai.la.gG=function(n){n.a9p++;
var q=n.a9p&3;if(q==0)n.ot=ai.la.aB(n.ot);var p=n.ot>>>8*q&255;return p*(.99999999/255)};ai.la.Gj=function(n){var q=ai.la.aB(n.ot);
n.ot=ai.la.aB(q);return q*(1/4294967295)};ai.la.aB=function(n){n=(n^61^n>>>16)>>>0;n=n+(n<<3)>>>0;n=(n^n>>>4)>>>0;
n=n*668265261>>>0;n=(n^n>>>15)>>>0;return n};ai.la.S5=[{y4:"0001-0-bird",yF:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),W:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),W:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),W:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{y4:"0001-0-bird2",yF:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),W:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),W:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),W:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),W:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),W:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),W:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{y4:"0000-1-flower",yF:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),W:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{y4:"0000-1-flower",yF:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),W:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{y4:"0000-1-flower",yF:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),W:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{y4:"0000-1-flower",yF:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),W:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{y4:"0000-1-flower",yF:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),W:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),W:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{y4:"0000-0-hearts",yF:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),W:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),W:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),W:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{y4:"0000-0-anchor",yF:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),W:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{y4:"0000-1-leaf",yF:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),W:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{y4:"0000-1-acorn",yF:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),W:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),W:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{y4:"0000-0-skull",yF:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),W:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{y4:"0000-0-ghost",yF:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),W:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),W:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{y4:"1001-1-rose",yF:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),W:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),W:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{y4:"1001-1-curls",yF:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),W:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),W:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{y4:"0111-0-pines",yF:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),W:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),W:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{y4:"0111-0-flowers",yF:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),W:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),W:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{y4:"1101-1-confetti",yF:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{y4:"1101-1-branch",yF:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),W:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),W:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{y4:"1101-1-sticks",yF:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{y4:"1101-1-dots",yF:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),W:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),W:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],W:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{y4:"1101-1-strips",yF:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),W:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],W:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{y4:"1101-1-circs",yF:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),W:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),W:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],W:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{y4:"1101-1-squares",yF:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),W:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),W:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],W:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{y4:"1101-0-christmas",yF:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),W:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),W:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var h6={};h6.parse=function(n){var q=new Uint8Array(n),p=null;if(q[0]==80&&q[1]==75){var E=Date.now(),T=UZIP.parse(q.buffer),p=T["document.json"];
p=JSON.parse(u.L4(p,0,p.length));h6.P6(p,T)}else{var i=cX.parse(n);p=h6.V4(i[2][0][1])}return p};h6.P6=function(n,q){var p=typeof n;
if(p=="string"||p=="number"||p=="boolean")return n;if(n instanceof Array){for(var R=0;R<n.length;R++)n[R]=h6.P6(n[R],q);
return n}var E=n._class;if(E==null)return n;if(E=="MSJSONFileReference"){var T=n._ref;if(!1){}else if(q[T+".json"]!=null){var i=q[T+".json"],H=i.length;
for(var R=0;R<H;R++)if(i[R]==11||i[R]==3)i[R]=32;var Z=u.L4(i,0,H);n=JSON.parse(Z)}else if(q[T+".png"]!=null)return{key:T.split("/").pop(),bdata:q[T+".png"]};
else if(q[T+".jpg"]!=null)return{key:T.split("/").pop(),bdata:q[T+".jpg"]};else if(q[T+".pdf"]!=null)return{key:T.split("/").pop(),bdata:q[T+".pdf"]};
else if(q[T]!=null)return{key:T.split("/").pop(),bdata:q[T]};else{console.log(n,q);return}}else if(E=="MSAttributedString"){var Z=atob(n.archivedAttributedString._archive),w=Z.length-1,d=new Uint8Array(w);
for(var R=0;R<w;R++)d[R]=Z.charCodeAt(R);n.archivedAttributedString=h6.V4(d)}for(var O in n)n[O]=h6.P6(n[O],q);
return n};h6.mk=function(n,q,p,E){if(n instanceof Uint8Array)return null;if(E.indexOf(n)!=-1)return null;
E.push(n);if(n==q)return p;for(var T in n){p.push(T);var i=h6.mk(n[T],q,p,E);if(i){console.log(n,i);
throw"e"}p.pop()}};h6.V4=function(n){var q=gq.parse(n,0),p=q.$objects,E=new Uint8Array(p.length),T=h6.R1(p,E,q.$top.root);
for(var R=0;R<p.length;R++)if(E[R]==0&&R!=0){console.log(R,p[R]);h6.mk(T,R,[],[])}for(var R=0;R<p.length;
R++){var i=p[R];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var H=i.image,Z=i.imageSHA,w=null,d=null;
if(H=="$null")H=null;if(Z=="$null")Z=null;if(H&&H.data){d=H.sha1["NS.bytes"];d=btoa(u.xj(d,0,d.length));
w=H.data instanceof Uint8Array?H.data:H.data["NS.bytes"]}else if(H==null&&Z==null){var O=al.vE("PNG").U7([[j.U(4).buffer]],1,1);
w=new Uint8Array(O)}else{var W=(T.assets?T.assets.imageCollection:T.images).images;if(Z)d=Z instanceof Uint8Array?Z:Z["NS.bytes"];
else d=H.sha1["NS.bytes"];d=btoa(u.xj(d,0,d.length));var w=W[d].data;if(w["NS.bytes"])w=w["NS.bytes"]}w=new Uint8Array(w.buffer.slice(w.byteOffset,w.byteOffset+w.length));
delete i.imageSHA;i.image={key:d,bdata:w}}}return T};h6.afJ=function(n){return n.slice(0,11)=="MSImmutable"?"MS"+n.slice(11):n};
h6.R1=function(n,q,p){var E=n[p];if(q[p]==1){return E}q[p]=1;if(typeof E=="string")return E;if(typeof E=="number")return E;
if(typeof E=="boolean")return E;if(E instanceof Array)return E;if(E instanceof Uint8Array){return E}if(n[E.$class]==null){if(E.$class==null&&E["NS.data"]!=null)return E;
console.log(p,E);throw"e"}var T=n[E.$class],i=h6.afJ(T.$classname);q[E.$class]=1;E.$class=i;if(h6.zB[i]){delete E.$class;
E._class=h6.zB[i]}var H=h6.R1;if(i=="NSMutableArray"||i=="NSArray"){var Z=[];if(E["NS.objects"]!=null)for(var R=0;
R<E["NS.objects"].length;R++)Z.push(H(n,q,E["NS.objects"][R]));else for(var R=0;E["NS.object."+R]!=null;
R++)Z.push(H(n,q,E["NS.object."+R]));n[p]=Z;return Z}if(i=="NSDictionary"||i=="NSMutableDictionary"){var w={$class:i};
if(E["NS.keys"]!=null)for(var R=0;R<E["NS.keys"].length;R++){var d=H(n,q,E["NS.keys"][R]);if(d instanceof Uint8Array)d=btoa(h6.Rg.xj(d,0,d.length));
else if(typeof d!="string"&&typeof d!="number")d=btoa(h6.Rg.xj(d["NS.bytes"],0,d["NS.bytes"].length));
w[d]=H(n,q,E["NS.objects"][R])}else for(var R=0;E["NS.key."+R]!=null;R++){var d=H(n,q,E["NS.key."+R]);
if(d instanceof Uint8Array)d=btoa(h6.Rg.xj(d,0,d.length));else if(typeof d!="string"&&typeof d!="number")d=btoa(h6.Rg.xj(d["NS.bytes"],0,d["NS.bytes"].length));
w[d]=H(n,q,E["NS.object."+R])}for(var O in E)delete E[O];for(var O in w)E[O]=w[O];return E}if(i=="NSURL")return{$class:i,base:H(n,q,E["NS.base"]),relative:H(n,q,E["NS.relative"])};
if(h6.ag7.indexOf(i)!=-1){n[p]=H(n,q,E.array_do);return n[p]}if(E.do_objectID!=null)E.do_objectID=H(n,q,E.do_objectID);
if(h6.al0.indexOf(i)!=-1)return E;var W=h6.a7m[i];if(W==null){console.log(n,E);throw"unknown class "+i}for(var R=0;
R<W.length;R++)if(E[W[R]]!=null)E[W[R]]=H(n,q,E[W[R]]);if(i=="MSTextLayer"){var C=E,a,B,$,I;if(C.attributedString)a=C.attributedString.archivedAttributedString;
else a=C.storage;I=a.NSString;if(typeof I!="string")I=u.L4(I["NS.bytes"],0,I["NS.bytes"].length);if(a.NSAttributeInfo)B=a.NSAttributeInfo["NS.bytes"];
else{var x=I.length,U=[];while(x>0){var N=Math.min(100,x);U.push(N,0);x-=N}B=new Uint8Array(U)}$=a.NSAttributes instanceof Array?a.NSAttributes:[a.NSAttributes];
var m={$class:"NSAttributedString",NSString:I,NSAttributes:$};C.attributedString={_class:"MSAttributedString",archivedAttributedString:m};
m.NSAttributeInfo={$class:"NSMutableData","NS.data":B};delete C.storage}return E};h6.Rg={pY:function(n,q){return n[q+1]<<8|n[q]},s:function(n,q){return n[q+3]<<24|n[q+2]<<16|n[q+1]<<8|n[q]},xj:function(n,q,p){var E="";
for(var R=0;R<p;R++)E+=String.fromCharCode(n[q+R]);return E}};h6.zB={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
h6.ag7=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
h6.al0="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
h6.a7m={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var gq={};gq.parse=function(n,q){var p=u.xj(n,q,8);q+=8;var E=gq.parse.a1L(n,n.length-31),T=[];if(E.j8==1){var q=n.length-31-E.j8*E.m6;
for(var R=0;R<E.m6;R++)T.push(n[q+R])}else if(E.j8==2){var q=n.length-31-E.j8*E.m6;for(var R=0;R<E.m6;
R++)T.push(u.pY(n,q+R*2))}else if(E.j8==4){var q=n.length-31-E.j8*E.m6;for(var R=0;R<E.m6;R++)T.push(u.s(n,q+R*4))}else{throw"e"}var i=gq.parse.R1(n,T,E.root,E);
return i};gq.parse.R1=function(n,q,p,E){var T=gq.Rg,i=E.a1g,H=i==4?T.s:i==2?T.pY:T.a8b,Z=gq.parse,w=q[p],d=n[w],O=d>>4,W=d&15,a=null;
w+=1;if([4,5,6,10,12,13].indexOf(O)!=-1&&W==15){var C=Z.EW(n,w);w+=C.Fe;W=C.k}if(!1){}else if(O==0)a=W==8?!1:W==9?!0:null;
else if(O==1)a=Z.EW(n,w-1).k;else if(O==2)a=1<<W==4?u.A3(n,w):u.G6(n,w);else if(O==3)a=u.G6(n,w);else if(O==4)a=new Uint8Array(n.buffer,w,W);
else if(O==5)a=u.xj(n,w,W);else if(O==6)a=u.rA(n,w,W);else if(O==8){a=0;for(var R=0;R<W+1;R++)a=a<<8|n[w+R]}else if(O==10){a=[];
for(var R=0;R<W;R++)a.push(Z.R1(n,q,H(n,w+i*R),E))}else if(O==12){a=[];for(var R=0;R<W;R++)a.push(Z.R1(n,q,H(n,w+i*R),E))}else if(O==13){a={};
for(var R=0;R<W;R++){var B=Z.R1(n,q,H(n,w+i*R),E),$=Z.R1(n,q,H(n,w+i*(W+R)),E);a[B]=$}}else throw"unknown mask "+O;
return a};gq.parse.EW=function(n,q){var p=1<<(n[q]&15),E=0;for(var R=0;R<p;R++)E=E<<8|n[q+1+R];return{k:E,Fe:p+1}};
gq.parse.a1L=function(n,q){var p={};q+=6;p.j8=n[q];q++;p.a1g=n[q];q++;q+=4;p.m6=u.s(n,q);q+=4;q+=4;p.root=u.s(n,q);
q+=4;q+=4;p.acD=u.s(n,q);q+=4;return p};gq.Rg={a8b:function(n,q){return n[q]},pY:function(n,q){return n[q]<<8|n[q+1]},s:function(n,q){return n[q]<<24|n[q+1]<<16|n[q+2]<<8|n[q+3]},xj:function(n,q,p){var E="";
for(var R=0;R<p;R++)E+=String.fromCharCode(n[q+R]);return E}};var cX={parse:function(n){var q=new Uint8Array(n),p=cX.LO(q),E=[],T=new Uint8Array(q.length),i=[];
E.push(i);cX.mG(q,p,1,T,i);for(var R=0;R<i.length;R++){var H=[];E.push(H);cX.mG(q,p,i[R][3],T,H);i[R][3]=R+1}return E},mG:function(n,q,p,E,T){p--;
var i=p*q.tt+(p==0?100:0),H=n[i],Z=cX.pY(n,i+1);if(Z!=0)throw"free block in a page";var w=cX.pY(n,i+3),d=cX.pY(n,i+5);
if(d==0)d=65536;var O=n[i+7],W=cX.pY(n,i+8);if(H==2||H==5)i+=4;else W=0;for(var C=0;C<w;C++){var a=p*q.tt+cX.pY(n,i+8+2*C),B=-1,$=0,I=0,x=0;
if(H==2||H==5){B=cX.s(n,a);a+=4}if(H==2||H==10||H==13){$=cX.EB(n,a);a+=$.Fe}if(H==5||H==13){I=cX.EB(n,a);
a+=I.Fe}if(H==5){cX.mG(n,q,B,E,T);continue}var U=q.tt-(p==0?100:0),N=$.Gm,m=H==13?U-35:Math.floor((U-12)*64/255)-23,f=Math.floor((U-12)*32/255)-23,c=f+(N-f)%(U-4);
if(N<=m){cX.Sa(n,a,E,0,N)}else{var D=c<=m?c:f,z=0;cX.Sa(n,a,E,0,D);z+=D;x=cX.s(n,a+D);while(x!=0){var _=(x-1)*q.tt;
x=cX.s(n,_);var v=Math.min(q.tt-4,N-z);cX.Sa(n,_+4,E,z,v);z+=v}}T.push(cX.adb(E,N))}},adb:function(n,q){var p=0,E=cX.EB(n,p);
p+=E.Fe;var T=[],i=[];while(p<E.Gm){var H=cX.EB(n,p);p+=H.Fe;T.push(H.Gm)}if(p!=E.Gm)throw"e";for(var R=0;
R<T.length;R++){var H=T[R];if(!1){}else if(H==0)i.push(null);else if(H==1){i.push(cX.aax(n,p));p+=1}else if(H==2){i.push(cX.Io(n,p));
p+=2}else if(H==3){i.push(cX.ace(n,p));p+=3}else if(H==4){i.push(cX.EW(n,p));p+=4}else if(H==7){i.push(cX.alv(n,p));
p+=16}else if(H==8)i.push(0);else if(H==9)i.push(1);else if(H>=12&&(H&1)==0){var Z=H-13>>1,w=new Uint8Array(Z);
cX.Sa(n,p,w,0,Z);i.push(w);p+=Z}else if(H>=13&&(H&1)==1){var Z=H-12>>1;i.push(cX.L4(n,p,Z));p+=Z}else throw"unknonw type "+H}return i},LO:function(n){if(!(n[18]==1&&n[19]==1&&n[20]==0&&n[21]==64&&n[22]==32&&n[23]==32))throw"unexpected SQL3 header";
var q={fh:cX.xj(n,0,15),tt:cX.pY(n,16),aj6:cX.s(n,24),size:cX.s(n,28),a3E:cX.s(n,32),a3A:cX.s(n,36),ahr:cX.s(n,40),ac8:cX.s(n,44),aic:cX.s(n,48),aaJ:cX.s(n,52),abi:cX.s(n,56),a8e:cX.s(n,60),a8G:cX.s(n,64)!=0,ajV:cX.s(n,68),aeF:cX.s(n,92),apX:cX.s(n,96)};
if(q.tt==1)q.tt=65536;if(q.abi!=1)throw"unsupported text encoding "+q.abi;return q},alX:function(n,q){return n[q]<<16|n[q+1]<<8|n[q+2]},ace:function(n,q){var p=cX.alX(n,q),E=p&8388608;
return E?-(16777215-p+1):p},aax:function(n,q){cX.qi[0]=n[q];return cX.ast[0]},EW:function(n,q){var p=cX.qi;
for(var R=0;R<4;R++)p[R]=n[q+3-R];return cX.ab9[0]},Io:function(n,q){var p=cX.qi;p[0]=n[q+1];p[1]=n[q];
return cX.acg[0]},pY:function(n,q){return n[q]<<8|n[q+1]},s:function(n,q){return n[q]<<24|n[q+1]<<16|n[q+2]<<8|n[q+3]},alv:function(n,q){var p=cX.qi;
for(var R=0;R<8;R++)p[R]=n[q+7-R];return cX.an7[0]},EB:function(n,q){var p=q,eR=0;while(!0){var E=n[q];
q++;eR=eR*128+(E&127);if(E<128)break}return{Gm:eR,Fe:q-p}},xj:function(n,q,p){var E="";for(var R=0;R<p;
R++)E+=String.fromCharCode(n[q+R]);return E},L4:function(n,q,p){var E="";for(var R=0;R<p;R++)E+="%"+cX.aob(n[q+R].toString(16));
return decodeURIComponent(E)},Sa:function(n,q,p,E,T){if(n[q+T-1]==null||p[E+T-1]==null){console.log(q,E,T);
throw"e"}for(var R=0;R<T;R++)p[E+R]=n[q+R]},aob:function(eR){return eR.length<2?"0"+eR:eR}};cX.qi=new Uint8Array(8);
cX.ast=new Int8Array(cX.qi.buffer);cX.acg=new Int16Array(cX.qi.buffer);cX.ab9=new Int32Array(cX.qi.buffer);
cX.an7=new Float64Array(cX.qi.buffer);function eA(n,q,p){this.bp=n;this._N=q;this.a3k=p;this.LC=new fc(0,0);
this.aE=-1;this.wG=0;this.aH=0;this.FU=new eL;this.iK=[];this.hs=null;this.aeB=null;this.Fv=null;this.pT=null;
this.fq=null;this.apO=null}eA.prototype.StartPage=function(n,q,p,E,T){var i=this._N,H=i.SD(),Z=1,w=(p-n)*(E-q);
if(T!=null)w=T;while(w*H*H/(Z*Z)>2*8192*8192)Z++;i.scale(1/Z,1/Z);this.aeB=[n,q,p,E];var Z=i.SD();n=Math.round(n*Z);
q=Math.round(q*Z);p=Math.round(p*Z);E=Math.round(E*Z);var d=this.bp,O=this.Fv;if(O==null){i.R_=-n}else{var W=O[2]-O[0]+30,C=Math.round(p-n)+30;
if(this.LC.x+W+C>8192){i.R_=-n;this.LC.x=0;this.LC.y+=this.aH+120;this.aH=0}else{i.R_+=W;this.LC.x+=W}}i.so=this.LC.y+(this.a3k?E:-q);
this.aH=Math.max(this.aH,Math.round(E-q));this.Fv=[n,q,p,E];d.h.push(d.Ch())};eA.prototype.yf=function(){var n=this.bp,q=n.h[n.h.length-1];
return q};eA.prototype.Kw=function(){var n=JSON.parse(JSON.stringify(iq.DL.default));n.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
n.strokeEnabled.v=!1;n.fillEnabled.v=!1;return n};eA.prototype.wr=function(){var n=this.bp,q=n.Je();
q.WR("Path "+n.h.length);this.bp.h.push(q);q.GZ|=16;q.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}};
q.add.vmsk=new g.Xg;q.add.vstk=this.Kw();return q};eA.prototype.BR=function(n){var q={W:n.crds,F:n.cmds},p=j.O.zt(q,!1);
j.G.ra(p,this._N);return p};eA.aoS=function(n,q){for(var R=0;R<n.length;R++)if(n[R].HW!=null)n[R].HW=q};
eA.a2s=function(n){return Math.sqrt(Math.abs(n[0]*n[3]-n[1]*n[2]))};eA.ej=function(n){return j.f.iB({_:n[0]*255,q:n[1]*255,X:n[2]*255})};
eA.m3=function(n){return new b$(n[0],n[1],n[2],n[3],n[4],n[5])};eA.prototype.Stroke=function(n){if(this.aE!=-1&&this.aE!=this.wG)return;
if(n.pth.cmds.length<=1)return;var q=this.BR(n.pth);if(q.length<=2)return;this.wL(n);eA.aoS(q,-1);q[2].HW=1;
var p=eA.ej(n.COLR),E=this.yf(),T=this.Kw();eA.OF(T,n,this._N.SD(),p);var i=E!=null&&E.add.vmsk!=null&&!E.z7(),H=i&&!E.add.vstk.strokeEnabled.v&&g.Xg.aqn(E.add.vmsk.Q,q,!0),Z=i&&!E.add.vstk.fillEnabled.v&&JSON.stringify(T)==JSON.stringify(E.add.vstk);
if(Z){E.add.vmsk.Q=E.add.vmsk.Q.concat(q.slice(2))}else if(H){E.add.vstk=T;T.fillEnabled.v=!0}else{E=this.wr();
E.add.vmsk.Q=q;E.add.vstk=T}};eA.OF=function(n,q,p,E){n.strokeEnabled.v=!0;n.strokeStyleMiterLimit.v=q.mlimit;
n.strokeStyleLineDashSet.v=cU.Wv(q.dash,1/q.lwidth);n.strokeStyleLineDashOffset.v.val=q.doff;n.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.DL.join[q.ljoin];
n.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.DL.jY[q.lcap];n.strokeStyleLineWidth.v.val=Math.max(.4,q.lwidth*eA.a2s(q.ctm)*p);
n.strokeStyleContent.v.Clr.v=E};eA.prototype.Fill=function(n,q){if(this.aE!=-1&&this.aE!=this.wG)return;
if(n.ca==0)return;var p=n.pth.cmds;if(p.length==0)return;if(p.length==2&&JSON.stringify(p)=="[\"M\",\"L\"]")return;
var E=j.O.Uh(n.cpth.crds),T=j.O.Uh(n.pth.crds);if(T.O1(E).M6())return;var i=n.pth,H=UDOC.G.isBox(i,[T.x,T.y,T.x+T.v,T.y+T.o]),Z=n.cpth,w=UDOC.G.isBox(Z,[E.x,E.y,E.x+E.v,E.y+E.o]);
if(H&&w&&T.P()>E.P()*2){var d=T.O1(E),O=d.x,W=d.y,C=O+d.v,a=W+d.o;i={cmds:["M","L","L","L","Z"],crds:[O,W,C,W,C,a,O,a]}}else if(this.pT==null&&UDOC.G.isBox(i,[T.x,T.y,T.x+T.v,T.y+T.o])&&T.Gf(E)){i=Z}else this.wL(n);
var B=this.BR(i),$=j.O.aS(T);j.O.B($.W,this._N,$.W);T=j.O.Uh($.W);var I=eA.L_(n.colr,this._N,T),x=this.yf(),U=x!=null&&x.opacity==Math.round(255*n.ca)&&x.add.vstk!=null&&!x.add.vstk.strokeEnabled.v&&x.add.SoCo&&I.type=="SoFi"&&JSON.stringify(x.add.SoCo.Clr.v)==JSON.stringify(I.k.v.Clr.v);
if(U){var N=!1;for(var R=0;R<B.length;R++){if(B[R].HW==0||B[R].HW==2)N=!0}if(N){var m=j.O.Uh(j.G.OO(x.add.vmsk.Q)),f=j.O.Uh(j.G.OO(B));
U=m.O1(f).M6()}}if(U){var c=x.add.vmsk.Q;for(var R=2;R<B.length;R++)c.push(B[R])}else{x=this.wr();delete x.add.SoCo;
x.add.vmsk.Q=g.Xg.A$(B);eA.s5(n.colr,x,this._N,T);eA.J5(n,x)}};eA.s5=function(n,q,p,E){var T=eA.L_(n,p,E),i=null,H=null;
q.add.vstk.fillEnabled.v=!0;if(T.type=="SoFi"){i="SoCo";H=iq.zo}if(T.type=="GrFl"){i="GdFl";H=iq.kb}if(T.type=="patternFill"){i="PtFl";
H=iq.fi}if(i!=null){q.add[i]={classID:"null"};for(var R=0;R<H.length;R++){var Z=H[R];q.add[i][Z]=T.k.v[Z]}}};
eA.prototype.wL=function(n){var q=this.bp,p=n.cpth,E=p.cmds.join(""),T=p.crds,i=E+" "+T.join(","),H=UDOC.G.isBox(p,this.aeB);
if(H&&this.pT==null)return;if(i==this.pT)return;this.GS();if(!H){this.pT=i;q.h.push(q.Ch());var Z=q.Je();
Z.WR("Mask");Z.add.lsct=fX.Ku;Z.Nl="pass";Z.GZ=24;var w=Z.add.vmsk=new g.Xg;w.Q=this.BR(n.cpth);if(UDOC.G.isBox(p)){this.fq=j.G.Sc(w.Q);
this.fq.ZU(3,3)}else this.fq=null;this.apO=Z}};eA.prototype.GS=function(){var n=this.bp;if(this.pT!=null){var q=n.h.length-1,R=q,p=!1;
while(R>=0&&n.h[R].add.lsct!=fX.ct)R--;var E=this.fq;if(E){var T=new eL,i=q;while(i>R){T=n.h[i].XT(this.bp,!1,!0);
i--}p=E.Gf(T)}if(p){this.iK.splice(R,1);n.h.splice(R,1)}else{n.h.push(this.apO)}this.pT=null}};eA.L_=function(n,q,p){var E,T;
if(n.length!=null){E="SoFi";var i=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);T={t:"Objc",v:i};T.v.Clr.v=eA.ej(n)}else{var H=eA.a9w(n,q,p);
E="GrFl";T={t:"Objc",v:H}}return{type:E,k:T}};eA.a9w=function(n,q,p){var E=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),T=E.Grad.v;
T.Intr.v=0;var i=eA.m3(n.mat);i.concat(q);var H=new fc(0,0),Z=new fc(p.v,0),w=n.crds;if(n.typ=="rad"){E.Type.v.GrdT="Rdl";
var d=.7;H.x=(1-d)*w[0]+d*w[3];H.y=(1-d)*w[1]+d*w[4];Z.x=H.x;Z.y=H.y;Z.x+=Math.max(w[2],w[5])}else{E.Type.v.GrdT="Lnr";
H.x=w[0];H.y=w[1];Z.x=w[2];Z.y=w[3];H.x=Z.x+.5*(H.x-Z.x);H.y=Z.y+.5*(H.y-Z.y)}H=i.i1(H);Z=i.i1(Z);j.f.hp(H,Z,p,E);
var O=n.grad;j.f.Rj(O,T);return E};eA.prototype.PutText=function(n,q,p,E){var T=q.charCodeAt(0),C=null;
if(this.aE!=-1&&this.aE!=this.wG)return;if(q.length==0||q.length==1&&(T==0||T==8203))return;this.wL(n);
var i=this.bp,H=n.font,Z=eA.m3(n.ctm);Z.concat(this._N);var w=eA.m3(H.Tm);w.concat(Z);var d=A.Z.SD(w),O=new b$(1/d,0,0,-1/d,0,0);
O.concat(w);var W=H.Tfs*d;if(H.Th!=100||H.Trise!=0){console.log(H)}var a=i.h.length-1;while(a>=0&&i.h[a].add.TySh==null)a--;
if(O.X*O.X+O.kr*O.kr<.001&&E==null&&a>=0&&i.h[a].add.TySh&&i.h[a].opacity==Math.round(255*n.ca)){var B=i.h[a],$=this.iK[a],I=B.add.TySh.B,x=(I.R_+$.V7-O.R_)/W,U=Math.abs(x),N=q.indexOf(" ")==-1,m=I.jS==O.jS&&I.X==O.X&&I.kr==O.kr&&I.FF==O.FF,f=m&&Math.abs($.RW-O.so)<1e-5&&U<.6,c=O.so-$.RW;
if(f){C=B;$.V7=O.R_-I.R_;if(x>.2&&N&&[".",",","?",":","!"].indexOf(q)==-1)q=" "+q}else if(m&&Math.abs(O.R_-I.R_)<1e-5&&0<c&&c<W*1.7&&$.aiJ==W){C=B;
this.II($);$.RW=O.so;q="\n"+q}}if(C==null){a=i.h.length;this.iK[a]={K$:[],V7:0,RW:O.so,kU:"",aiJ:W};
C=i.Je();i.h.push(C);C.add.lnsr="rend";C.add.TySh=hx.sB(0,0);C.add.TySh.B=O}var $=this.iK[a];$.V7+=p*W;
$.kU+=q;var D=C.add.TySh.Bd,z=hx.Q2(D);if(E){hx.vF(D,1);var _=[0,0,Math.ceil(E[0]*d),Math.ceil(E[1]*d)];
hx.XM(D,_)}var v=z.length-1,o=v+q.length;hx.V8(D,v,q);if(this.hs==null)this.hs=hx.o1(D,v,v);var k=this.hs;
k.h9.FontSize=Math.round(W);k.h9.Tracking=Math.round(H.Tc*100);k.h9.Underline=H.Tun==1;k.h9.FillColor={Type:1,Values:[1,n.colr[0],n.colr[1],n.colr[2]]};
if(H.Tal!=null)k.yA.Justification=H.Tal;if($.K$.length!=0){k.h9.AutoLeading=!1;k.h9.Leading=$.RW-$.K$[$.K$.length-1].y}var S=H.Tf;
S=S.replace(/#2B/g,"+");S=S.replace(/#2C/g,"-");S=S.split("+").pop();var L={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(L[S])S=L[S];hx.cl(k,S);hx.X6(D,v,o-1,k);C.$Y();C.opacity=Math.round(255*n.ca)};eA.prototype.II=function(n){n.K$.push({XF:n.V7,UG:n.kU.slice(n.K$.length==0?0:1)+"\n",y:n.RW,dd:n.aiJ});
n.V7=0;n.kU=""};eA.prototype.PutImage=function(n,q,p,E,T,i,H){if(this.aE!=-1&&this.aE!=this.wG)return;
var Z=this.bp,w=n.font.Tmode;if(w==7&&Z.h[Z.h.length-1].add.TySh){return}this.wL(n);var d=eA.m3(n.ctm);
d.concat(this._N);var O=new b$(1/p,0,0,-1/E,0,1);O.concat(d);d=O;q=eA.y2(q,p,E,i,!1);if(T)T=eA.y2(T,p,E,H,!0);
if(T==null){if(q.length==p*E*4)q=new Uint8Array(al.vE("PNG").U7([[q.buffer,0]],p,E))}else{q=this.lE(q,p,E,i,!1);
T=this.lE(T,p,E,H,!0);var W=j.U(p*E);j.J2(T,W,0);j.yI(W,q,3);q=new Uint8Array(al.vE("PNG").U7([[q.buffer,0]],p,E))}var C=Z.YC(q,"Bitmap",0,0),a=C.rect.clone();
a.x=a.y=0;var B=j.O.aS(a).W;j.O.B(B,d,B);C.add.SoLd.Trnf=A.Z.g8(B);C.add.SoLd.nonAffineTransform=A.Z.g8(B);
C.Ze(Z,!1);eA.J5(n,C);Z.h.push(C)};eA.J5=function(n,q){q.opacity=Math.round(255*n.ca);var p=eA.Wz[n.bmode];
if(p==null)console.log("Unknown blend mode",p);else q.Nl=p};eA.Wz={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
eA.xu=function(n){for(var q in eA.Wz)if(eA.Wz[q]==n)return q};eA.y2=function(n,q,p,E,T){var i=al.Y3(n.buffer);
if(i=="jpg"){try{n=new Uint8Array(al.vE("JPG").a0R(n.buffer))}catch(de){n=new Uint8Array(q*p*4)}}else if(i=="jb2"){n=new Uint8Array(al.vE("JPG").es(n.buffer,E,T)[0].data)}else if(n.length!=q*p*4){var H=new Uint8Array(q*p*4),Z=Math.ceil(q/8),w=new Uint8Array(p*Z);
UTIF.decode._decodeG4(n,0,n.length,w,0,q,1);var d=w[0]==(T?255:0);for(var O=0;O<p;O++){var W=Z*O;for(var C=0;
C<q;C++){var R=O*q+C,a=R*4,B=(w[W+(C>>3)]>>7-(C&7)&1)*255;if(d)B=255-B;H[a]=B;H[a+1]=B;H[a+2]=B;H[a+3]=255}}n=H}return n};
eA.prototype.lE=function(n,q,p,E,T){if(n.length!=q*p*4){var i=al.Y3(n.buffer);if(i=="jb2")throw"e";var H=al.vE(i);
if(H==null||i=="tga")H=al.vE("jpg");n=new Uint8Array(H.es(n,E,T)[0].data)}return n};eA.prototype.ShowPage=function(){var n=this.bp;
this.wG++;var q=this.Fv;this.GS();var p=n.Je();n.h.push(p);var E=new eL(Math.round(this.LC.x),Math.round(this.LC.y),Math.round(q[2]-q[0]),Math.round(q[3]-q[1]));
if(E.M6())E.v=E.o=2e3;this.FU=this.FU.AL(E);p.O$(E);p.add.artb.artboardBackgroundType.v=3;p.WR("Page "+this.wG);
p.add.lsct=fX.Ku;p.Nl="pass";p.GZ=24};eA.prototype.Print=function(n){console.log("Print:",n)};eA.prototype.Done=function(){var n=this.bp;
if(this.wG==1)n.h[n.h.length-1].add.lsct=fX.eV;n.R$(this.wG);for(var R=0;R<n.h.length;R++){var q=n.h[R],p=q.add.vmsk,E=q.add.TySh,T=this.iK[R];
q.J0();if(p){var i=!1;for(var H=0;H<p.Q.length;H++){var Z=p.Q[H];if((Z.type==0||Z.type==3)&&Z.length>32767)i=!0}if(i){n.h.splice(R,1);
R--;continue}}q.VA(n);if(E&&T.K$.length!=0){this.II(T);var w=E.Bd,d=T.K$.length,O=T.K$[0],W=0,C=0;for(var H=0;
H<d;H++)W=Math.max(W,T.K$[H].XF);hx.vF(w,1);E.B.so-=O.dd*.7;hx.XM(w,[0,0,Math.ceil(W*1.1),Math.ceil(T.K$[d-1].y-O.y+O.dd*2)])}if(E){var w=E.Bd;
hx.anQ(w);var a=hx.Q2(w).split("\n");for(var H=0;H<a.length-1;H++){var B=a[H],$=0;for(var I=0;I<B.length;
I++){var x=B.charCodeAt(I);if(1473<=x&&x<=1524)$++}if($>B.length/2){a[H]=B.split("").reverse().join("");
var U=w.EngineDict.ParagraphRun.RunArray[H].ParagraphSheet.Properties;U._Direction=1;U.Justification=hx.oG(U)}}hx.OC(w,a.join("\n"))}}n.pL=!0;
n.v=this.FU.v;n.o=this.FU.o;n.buffer=j.U(this.FU.P()*4)};var ce={};ce.xA=function(n,q,p,E,T,i){if(T==null)T=n.v;
if(i==null)i=n.o;var H=!1,Z=[n.root],w=n.root.children;if(n.add.artd){H=!0;for(var R=0;R<w.length;R++)if(w[R].Y.add.artb==null)H=!1;
if(H)Z=w}var d=new eL(0,0,n.v,n.o),O=q[0];O=O.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
O=O.split(" ");var W=[];for(var R=0;R<O.length;R++){var C=O[R];if(C=="-"){var a=W.pop(),B=parseInt(O[R+1]);
while(a<B){W.push(a);a++}}else W.push(parseInt(C))}O=W;for(var R=0;R<O.length;R++)if(isNaN(O[R])||O[R]<1||O[R]>Z.length){O.splice(R,1);
R--}var $=T/n.v,I=i/n.o,x=$*72/n.xm,U=I*72/n.xm,N=72*q[5],m=72*q[5];for(var R=0;R<Z.length;R++){if(O.length!=0&&O.indexOf(R+1)==-1)continue;
var f=Z[R],c=H?f.Y.Kl():d,D=Math.round(c.v*x+2*N),z=Math.round(c.o*U+2*m);p.StartPage(0,0,D,z);var _=UDOC.getState([[0,0,D,z]]),v=new b$;
v.translate(-c.x,-c.y-c.o);v.scale(x,-U);v.translate(N,m);if(q[2]){var o=n.Zk();if(!d.rv(c)){o=j.U(c.P()*4);
j.hk(n.Zk(),d,o,c)}if(q[1]!=100){var y=al.vE("JPG").U7([[o.buffer]],c.v,c.o,[q[1]]);o=new Uint8Array(y)}var k=new b$;
k.translate(c.x,c.y);ce.Ry(_,p,o,c,k,v)}else ce.Xn(n,f,_,p,v,q,E);p.ShowPage()}p.Done()};ce.MQ=function(n){n=j.f.aV(n);
return[n._/255,n.q/255,n.X/255]};ce.Xn=function(n,q,p,E,T,i,H){var Z=q.Y,w=Z.add.lsct,d=Z.add.lmfx,O=Z.add.vmsk,W=Z.add.vstk,C=Z.add.TySh,I,x;
if(!Z.Fp())return;var a=Z.opacity/255,B=Z.add.iOpa!=null?Z.add.iOpa/255:1;p.bmode=eA.xu(Z.Nl);p.ca=p.CA=a*B;
var $=d;if($)$=$.solidFillMulti.v[0];if($)$=$.v;if($&&!$.enab.v)$=null;var U=Z.rect;if(Z.l1()&&(!Z.z7()||Z.wA&&Z.wA.gj)){if(Z.z7){I=Z.wA.gj;
U=Z.wA.apy}else{I=j.U(Z.rect.P());j.J2(Z.buffer,I,3)}x=cU.x1(d,null,I,U,n,U).type;var N=["DrSh","OrGl"];
if(B!=1||W&&!W.fillEnabled.v){var m=I.slice(0);j.z3(m);for(var R=0;R<N.length;R++){var f=x[N[R]];for(var c=0;
c<f.length;c++){var D=f[c],z=D.zj.clone();z.x+=U.x;z.y+=U.y;j.qF(m,U,D.OT,z)}}}}if(x)ce.gE(Z,I,U,x,p,E,T,i,!0);
if(Z.z7()){for(var R=0;R<q.children.length;R++)ce.Xn(n,q.children[R],p,E,T,i,H)}else if(O&&Z._m()){var _=O.Q,v=j.G.Sc(_),o=j.O.kF(_).IT,y=!1,k=!1,S=!1;
j.O.B(o.W,T,o.W);p.pth={cmds:o.F,crds:o.W};if(W.fillEnabled.v){var L=cU.SE(d,Z.add),X=L[0],s=L[1];if(X){p.colr=ce.MQ(X.Clr.v)}else if(s){var M=s,V=[],l,e=M.Type.v.GrdT=="Rdl"?"rad":"lin",Y=j.f.M5(M,v),J=T.i1(Y[0]),G=T.i1(Y[1]);
if(e=="rad")l=[J.x,J.y,0,J.x,J.y,fc.vu(J,G)];else{J.Gw(G.x+(J.x-G.x)*2,G.y+(J.y-G.y)*2);l=[J.x,J.y,G.x,G.y]}var F=M.Grad.v.Clrs.v;
for(var R=0;R<F.length;R++){var b=F[R].v;V.push([b.Lctn.v/4096,ce.MQ(b.Clr.v)])}p.colr={typ:e,mat:[1,0,0,1,0,0],grad:V,crds:l}}y=!0}var h=cU.BO(d);
if(!W.strokeEnabled.v&&h)W=h;if(W.strokeEnabled.v){var bj=W.strokeStyleContent.v,i4=W.strokeStyleLineDashSet.v,t=iq.DL.uO.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(bj.Clr==null)return;var aG=j.f.aV(bj.Clr.v);p.COLR=[aG._/255,aG.q/255,aG.X/255];p.lwidth=W.strokeStyleLineWidth.v.val*(t==2?2:1)*T.SD();
p.mlimit=W.strokeStyleMiterLimit.v;p.doff=W.strokeStyleLineDashOffset.v.val;p.ljoin=iq.DL.join.indexOf(W.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
p.lcap=iq.DL.jY.indexOf(W.strokeStyleLineCapType.v.strokeStyleLineCapType);p.dash=[];for(var R=0;R<i4.length;
R++)p.dash.push(i4[R].v.val*p.lwidth);if(p.dash.length==1&&p.dash[0]==0)p.dash=[];k=!0;if(t==2)S=!0}if(y&&!S)E.Fill(p);
if(k)E.Stroke(p);if(y&&S)E.Fill(p)}else if(C&&i[4]){var Q=C.Bd,jd=new e7(Q,H),o=hj.Vp(jd,C),bP=j.O.$V(o);
for(var aG in bP){var gz=parseInt(aG.slice(1),16);p.colr=$?ce.MQ($.Clr.v):[(gz>>>16&255)/255,(gz>>>8&255)/255,(gz&255)/255];
var fZ=bP[aG];j.O.B(fZ.W,T,fZ.W);fZ=j.O.arV(fZ);p.pth={cmds:fZ.F,crds:fZ.W};E.Fill(p)}}else if(C&&i[3]==!1){var Q=C.Bd,dt=C.B.clone(),a9=new b$(1,0,0,-1,0,0);
a9.concat(dt);a9.concat(T);var bi=hx.Q2(Q),jd=new e7(Q,H);for(var R=0;R<jd.yA.length;R++){var az=jd.yA[R];
if(az.qd.length==1&&az.qd[0].Pw)continue;for(var c=0;c<az.Kp.length;c++){var hd=az.Kp[c],aB=az.Ag.y+hd.Ag.y,cv=az.qd[hd.start].start,c$=az.qd[hd.end-1].end,cT=hx.aqK(Q,cv,c$);
for(var fp=0;fp<cT.length;fp++){var cD=jd.QV(cv),f_=cT[fp],f9=hx.o1(Q,cv,cv),dO=f9.GF[f9.h9.Font].Name;
p.font.Tf=dO;var aG=hx.aV(f9.h9);p.colr=$?ce.MQ($.Clr.v):[aG._/255,aG.q/255,aG.X/255];p.font.Tfs=Math.round(f9.h9.FontSize);
var a6=bi.slice(cv,cv+f_);if(f9.h9.FontCaps==2)a6=a6.toUpperCase();var hb=new b$;hb.translate(cD.n7.x,-aB);
hb.concat(a9);p.ctm=[hb.jS,hb.X,hb.kr,hb.FF,hb.R_,hb.so];E.PutText(p,a6,0);p.ctm=[1,0,0,1,0,0];cv+=f_}}}}else if(!Z.rect.M6()){var jr,dh,jq=!1,g3=new b$;
if(Z.add.SoLd){var c6=Z.add.SoLd,cd=c6.Idnt.v,jn=n.Fn(cd,c6.Crop?c6.Crop.v:null),bE="";if(jn==null)return;
var cV=jn.H5,fM=al.Y3(jn.raw.buffer);if(i[6].indexOf(fM)!=-1){jr=jn.raw;jq=!0}else jr=cV[0];dh=cV[1];
g3=j.V.hm(c6)}else{jr=Z.buffer;dh=Z.rect;g3.translate(dh.x,dh.y)}if($&&!jq)jr=cU.YT(jr,$,dh);ce.Ry(p,E,jr,dh,g3,T);
if($&&jq){var l=[0,0,dh.v,0,dh.v,dh.o,0,dh.o];j.O.B(l,g3,l);j.O.B(l,T,l);var gU=JSON.parse(JSON.stringify(p));
gU.ca=$.Opct.v.val/100;gU.pth={cmds:["M","L","L","L","Z"],crds:l};gU.colr=ce.MQ($.Clr.v);E.Fill(gU)}}if(x)ce.gE(Z,I,U,x,p,E,T,i,!1)};
ce.gE=function(n,q,p,E,T,i,H,Z,w){var d=p.clone(),O=q;if(n.add.TySh&&!Z[3]&&!Z[4])return;var W=T.ca,C=T.bmode;
for(var R=iq.order.length-1;R>=0;R--){var a=iq.order[R];if(a=="GrFl"||a=="SoFi")continue;if(n.add.vmsk&&a=="FrFX")continue;
var B=E[a],$=R>7||a=="FrFX";if($!=w)continue;for(var I=0;I<B.length;I++){var x=B[I];console.log($,a,x);
var U=x.zj.clone();U.offset(d.x,d.y);if(!$){if(!d.Gf(U)){var N=d.AL(U),m=j.U(N.P());j.cg(O,d,m,N);O=m;
d=N}j.qF(O,d,x.OT,U)}if($&&a=="FrFX"&&x.bm)j.qF(x.bm,U,x.OT,U);var f=new b$;f.translate(U.x,U.y);T.ca=x.xx;
T.bmode=eA.xu(x.pz);ce.Ry(T,i,x.OT,U,f,H)}}T.ca=W;T.bmode=C};ce.Ry=function(n,q,p,E,T,i){var H=new b$;
H.scale(E.v,-E.o);H.translate(0,E.o);H.concat(T);H.concat(i);n.ctm=[H.jS,H.X,H.kr,H.FF,H.R_,H.so];q.PutImage(n,p,E.v,E.o);
n.ctm=[1,0,0,1,0,0]};var aM={};aM.U4=function(n){var q=new Uint8Array(n);return aM.ml(q,0)};aM.ml=function(n,q){var p=u.s,E=u.xj,T={l5:E(n,q,4),t:q+8,size:p(n,q+4)},i=T.l5=="FORM"||T.l5=="LIST"||T.l5=="CAT ";
if(i)T.LK=E(n,q+8,4);if(T.size<0||T.t+T.size>n.length)throw"e";if(i){T.sub=[];q+=12;var H=T.t+T.size;
while(q<H){var Z=aM.ml(n,q);T.sub.push(Z);q+=8+Z.size+(Z.size&1)}}return T};var du={};du.U4=function(n,q){var p=new Uint8Array(n);
return du.ml(p,0,q)};du.ml=function(n,q,p){var E=u.fo,T=u.xj,i={l5:T(n,q,4),t:q+8,size:E(n,q+4)};if(p&&p[i.size]!=null)i.size=p[i.size];
if(i.l5=="RIFF"||i.l5=="LIST"){i.LK=T(n,q+8,4)}if(i.size<0||i.t+i.size>n.length)throw"e";if(i.l5=="RIFF"||i.l5=="LIST"&&(i.LK!="cmpr"&&i.LK!="stlt")){i.sub=[];
q+=12;var H=i.t+i.size;while(q<H){var Z=du.ml(n,q,p);i.sub.push(Z);q+=8+Z.size+(Z.size&1)}}return i};
var aM={};aM.U4=function(n){var q=new Uint8Array(n);return aM.ml(q,0)};aM.ml=function(n,q){var p=u.s,E=u.xj,T={l5:E(n,q,4),t:q+8,size:p(n,q+4)},i=T.l5=="FORM"||T.l5=="LIST"||T.l5=="CAT ";
if(i)T.LK=E(n,q+8,4);if(T.size<0||T.t+T.size>n.length)throw"e";if(i){T.sub=[];q+=12;var H=T.t+T.size;
while(q<H){var Z=aM.ml(n,q);T.sub.push(Z);q+=8+Z.size+(Z.size&1)}}return T};function ga(){}ga.U4=function(n,q){var p=new Uint8Array(n);
q.pL=!0;var E=u.xj(p,0,2);if(E=="WL"){alert("Unsupported CDR version")}else{var T=ga.Ca,i=du.U4(p.buffer),H={data:p,t:0,jx:ga.ap4(p[11])},C=300;
H.UD=H.jx<600?16:32;ga._6(H,i.sub,q,0);var Z=T(i,"cmpr").sub,w=Z[0],d=Z.slice(1),O=T(w,"mcfg").k,W=O.a7d;
C/=dg.nZ(new eL(0,0,Math.round(W.x*C),Math.round(W.y*C)),8192*8192);var a=Math.round(W.x*C),B=Math.round(W.y*C);
q.v=a;q.o=B;q.buffer=j.U(q.v*q.o*4);var $=T(w,"filt").sub,I=T(w,"otlt").sub;w.vn={};for(var R=0;R<$.length;
R++)w.vn[$[R].sub[0].k.id]=$[R].sub[0].k;w.Zr={};for(var R=0;R<I.length;R++)w.Zr[I[R].k.id]=I[R].k;var x=new b$(C,0,0,-C,W.x*C/2,W.y*C/2),U=d[1];
ga.tI(U,w,q,x);q.R$(1);q.h[q.h.length-1].O$(new eL(0,0,a,B))}};ga.Ca=function(n,q){var p=null;for(var R=0;
R<n.sub.length;R++){var E=n.sub[R];if(E.l5==q||E.LK==q)p=E}return p};ga.tI=function(n,q,p,E){var T=ga.Ca,i=n.LK?n.LK:n.l5,H=T(n,"lgob"),Z=T(n,"txsm"),w,d;
if(H){w=T(H,"trfl");d=T(H,"loda")}var O=w?w.sub[0].Oc.clone():new b$;O.concat(E);var W=p.Je();if(i=="page"||i=="layr"||i=="grp "){W.WR((i=="page"?"Page":"Group")+" "+p.h.length);
W.add.lsct=fX.eV;W.Nl="pass";W.GZ=24;var C=[];if(i=="page")C=T(n,"gobj").sub;if(i=="layr")C=n.sub.slice(2);
if(i=="grp ")C=n.sub.slice(4);if(C.length==0)return;p.h.push(p.Ch());for(var R=C.length-1;R>=0;R--)ga.tI(C[R],q,p,E)}else if(i=="obj "&&d.k&&d.k.path){W.WR("Object "+p.h.length);
var a=q.vn[d.k.apo],B=q.Zr[d.k.arh],$=W.getName(),I=a&&a.type!=0,x=I&&a.k!=null?a.k:[0,0,0];W.GZ|=16;
W.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));var U=W.add.vstk;U.strokeEnabled.v=!1;W.add.vmsk=new g.Xg;
if(B&&B.a7I!=1){U.strokeEnabled.v=!0;U.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
U.strokeStyleLineWidth.v.val=B.lineWidth*E.SD();var N=B.color;U.strokeStyleContent.v.Clr.v=j.f.iB({_:N[0]*255,q:N[1]*255,X:N[2]*255})}var m=d.k.path;
W.add.vmsk.Q=j.O.zt(m,!1);j.G.ra(W.add.vmsk.Q,O);eA.s5(x,W,O,j.G.Sc(W.add.vmsk.Q));U.fillEnabled.v=I;
W.J0();W.VA(p)}else if(i=="obj "&&Z){var f=d.k.a00,c=d.k.an5,_="";W.add.TySh=hx.sB(0,0);var D=O.SD();
W.add.TySh.B.translate(O.R_,O.so);var z=W.add.TySh.Bd,v=Z.k.alZ;for(var R=0;R<v.length;R++){var o=v[R],k=_.length;
_+=o.text+"\n";hx.V8(z,k,o.text+"\n");var S=ga.abU(o.ah2,q),L=hx.o1(z,k,_.length);if(S.align==3)L.yA.Justification=1;
else L.yA.Justification=0;var X=S.fill.k;L.h9.FillColor={Type:1,Values:[1,X[0],X[1],X[2]]};L.h9.FontSize=Math.round(S.apL.fontSize*O.SD());
hx.X6(z,k,_.length-1,L)}if(c){hx.vF(z,0)}else{hx.vF(z,1);hx.XM(z,[0,0,Math.round(f.x*O.jS),Math.round(-f.y*O.FF)])}W.WR(_.slice(0,10))}else{W=null}if(W)p.h.push(W)};
ga.abU=function(n,q){var p=ga.Ca(q,"stlt").k,E=JSON.parse(JSON.stringify(p.S9[n]));if(E.V3!=0){var T=p.S9[E.V3];
for(var i in T)if(E[i]==null||E[i]==0)E[i]=T[i];delete E.V3}E.align=p.akF[E.a2h];E.fill=q.vn[p.a6$[E.ahR]];
E.aex=q.Zr[p.ami[E.an$]];E.apL=p.aqc[E.aaN];return E};ga.akk=function(R){var eR=R.data[R.t];R.t+=1;return eR};
ga.wB=function(R){var eR=u.ML(R.data,R.t);R.t+=2;return eR};ga.ao=function(R){var eR=u.fo(R.data,R.t);
R.t+=4;return eR};ga.asu=function(R){var eR=u.fo(R.data,R.t);R.t+=8;return eR};ga.G8=function(R){var eR=u.Hw(R.data,R.t);
R.t+=2;return eR};ga.TX=function(R){var eR=u.c9(R.data,R.t);R.t+=4;return eR};ga.G6=function(R){var eR=u.uq(R.data,R.t);
R.t+=8;return eR};ga.Pa=function(R){if(R.t>=R.data.length)throw"e";var n=0;while(R.data[R.t+n]!=0)n++;
var q=u.xj(R.data,R.t,n);R.t+=n+1;return q};ga.a29=function(n){if(n.jx<600)return Math.PI*ga.G8(n)/1800;
return Math.PI*ga.TX(n)/18e7};ga.a6c=function(n){if(n.jx<1500)return ga.i_(n);else return ga.G6(n)/254e3};
ga.i_=function(n){if(n.jx<600)return ga.G8(n)/1e3;else return ga.TX(n)/254e3};ga.aaU=function(n){if(n.jx<600)return CRDParser.wB(n);
else return ga.ao(n)};ga.a6O=function(n){if(n.jx<600)return CRDParser.G8(n);else return ga.TX(n)};ga._6=function(n,q,p,E){var T=ga,i=T.akk,H=T.wB,Z=T.ao,w=T.asu,d=T.G8,O=T.TX,W=T.G6,C=T.i_,a=T.a6c,B=T.a29,$=T.aaU,I=T.a6O;
for(var x=0;x<q.length;x++){var U=n.jx,N=q[x];n.t=N.t+(N.l5=="LIST"?4:0);if(N.l5=="vrsn"){var m=H(n);
n.jx=m;console.log("Version",m);n.UD=m<600?16:32}else if(N.l5=="DISP"){}else if(N.l5=="LIST"&&N.LK=="cmpr"){var f=Z(n),c=Z(n),D=Z(n),z=Z(n),_=new Uint8Array(n.data.buffer,n.t+8+2,f-6-8),v=pako.inflateRaw(_),S=0;
n.t+=f;_=new Uint8Array(n.data.buffer,n.t+8+2);var o=pako.inflateRaw(_),y=[];for(var k=0;k<o.length;
k+=4)y.push(u.fo(o,k));N.sub=[];while(S<v.length){var L=du.ml(v,S,y);S=L.t+L.size;N.sub.push(L)}var X={data:v,t:0,jx:U,UD:n.UD};
ga._6(X,N.sub,p,E+1)}else if(N.l5=="LIST"&&N.LK=="stlt"){var s=n.t,Q=32;N.k={};var M=Z(n);if(M==0)return;
N.k.a6$=ga.IF(n,U>=1300);N.k.ami=ga.IF(n);N.k.aqc={};var V=Z(n);for(var R=0;R<V;R++){var l=Z(n);n.t+=U<1e3?12:20;
var e=H(n),Y=H(n);n.t+=8;var J=C(n);n.t+=U<1e3?12:20;N.k.aqc[l]={a5M:e,aj4:Y,fontSize:J}}N.k.akF=ga.IF(n);
var G=Z(n);n.t+=52*G;var F=Z(n);n.t+=152*F;var b=Z(n);n.t+=784*b;var h=Z(n);for(var R=0;R<h;R++){n.t+=40;
if(U>1300)n.t+=4;if(U>=1300){if(Z(n))n.t+=68;else n.t+=12}else{n.t+=20;if(U>=1e3)n.t+=8;if(Z(n))n.t+=8;
n.t+=8}}var bj=Z(n);N.k.amN={};for(var R=0;R<bj;R++){var i4=Z(n),t={};n.t+=12;t.right=C(n);t.aej=C(n);
t.left=C(n);N.k.amN[i4]=t}var aG=Z(n);if(U>=1300)Q+=4;n.t+=Q*aG;var jd=Z(n);n.t+=28*jd;if(U>800){var bP=Z(n);
n.t+=12*bP}N.k.S9={};for(var R=0;R<M;R++){var gz=Z(n),fZ=Z(n),dt={};dt.V3=Z(n);n.t+=8;var a9=Z(n);if(U>=1200)a9*=2;
n.t+=a9;dt.ahR=Z(n);dt.an$=Z(n);if(gz>1){dt.aaN=Z(n);dt.a2h=Z(n);dt.agL=Z(n);dt.ahJ=Z(n);if(U>800)dt.ahk=Z(n)}if(gz>2){dt.agx=Z(n);
dt.a1p=Z(n);dt.ajx=Z(n);dt.akh=Z(n);dt.asz=Z(n)}N.k.S9[fZ]=dt}}else if(N.l5=="LIST")ga._6(n,N.sub,p,E+1);
else if(N.l5=="txsm"){N.k={};if(U<600)throw"e";if(U<700)throw"e";if(U>=1600)throw"e";if(U>=1500)n.t+=37;
else n.t+=36;if(Z(n)){if(U<800)n.t+=32}if(U<800)n.t+=4;N.k.aaR=Z(n);N.k.alZ=[];n.t+=48;if(U>=800){if(Z(n)){n.t+=32;
if(U>=1300)n.t+=8}}if(U>=1500)n.t+=12;var gz=Z(n),bi=1,az=!1;if(!gz){if(U>=800)n.t+=4;if(U>800)n.t+=2;
if(U>=1400)n.t+=2;n.t+=24;if(U<800)n.t+=8;bi=Z(n)}for(var k=0;k<bi;k++){var hd=Z(n),R=0;if(U>=1300&&gz)n.t++;
n.t++;var M=Z(n),aB=[];for(R=0;R<M;R++){var cv=i(n),cT=0;i(n);var c$=i(n);if(U>=800)cT=i(n);var dt={};
if(c$&1){dt.a5M=H(n);var fp=H(n);if(fp)dt.alP=fp}if(c$&2)n.t+=4;if(c$&4)dt.anS=C(n);if(c$&8)n.t+=4;if(c$&16)n.t+=4;
if(c$&32)n.t+=4;if(c$&64){dt.ahR=Z(n);if(U>=1500)n.t+=48}if(c$&128){dt.an$=Z(n)}if(cT&8){if(U>=1300){var cD=Z(n);
if(n.t+cD*2>=n.data.length){az=!0;break}n.t+=cD*2}else n.t+=4}if(cT&32){var f_=i(n);if(f_)n.t+=52}if(cv==2)if(U>=1300)n.t+=48;
aB.push(dt)}if(az){break}var f9=Z(n);if(n.t+f9*4>n.data.length)break;var dO=[];for(R=0;R<f9;R++){var a6=0;
if(U>=1200)a6=w(n)&4294967295;else a6=Z(n);dO[R]=a6>>16|a6&1}var hb=f9;if(U>=1200)hb=Z(n);var jr=ga.Pa(n);
N.k.alZ.push({ah2:hd,text:jr,S9:aB})}}else if(N.l5=="font"){var dh=H(n),jq=H(n);n.t+=14;var g3=ga.Pa(n);
N.k={id:dh,ada:jq,name:g3}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(N.l5)!=-1){}else if(N.l5=="flgs")N.k=Z(n);
else if(N.l5=="bbox"){var c6=C(n),cd=C(n),jn=C(n),cV=C(n);N.k=new eL(c6,cd,jn-c6,cV-cd)}else if(N.l5=="fild"){var fM=Z(n),bE=0,g6;
if(U>=1300){n.t+=4;bE=H(n);n.t+=2}var gU=H(n);if(gU==0){}else if(gU==1){n.t+=U>=1300?13:2;g6=ga.v5(n)}else if(gU==2){n.t+=U>=1300?8:2;
var cu=i(n),f5=0;if(U>=1300){n.t+=17;f5=d(n)}else if(U>=600){n.t+=19;f5=O(n)}else{n.t+=11;f5=d(n)}var iP=B(n),id=.5+I(n),aY=.5+I(n)-.5;
if(U>=600)n.t+=2;var fT=$(n)&255,h8=i(n)/100;n.t++;var jf=$(n)&65535;if(U>=1300)n.t+=3;var h2=[];for(var R=0;
R<jf;R++){var e9=ga.v5(n);if(U>=1300){if(bE==158||U>=1600&&bE==150)n.t+=26;else n.t+=5}var jt=$(n)/100;
if(U>=1300)n.t+=3;h2.push([jt,e9])}g6={typ:cu==1?"lin":"rad",crds:[id-Math.cos(iP)/2,aY-Math.sin(iP)/2,id,aY],grad:h2,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gU);
N.k={id:fM,type:gU,k:g6}}else if(N.l5=="outl"){var ed=Z(n);if(U>=1300){var bZ=0,ji=0;while(bZ!=1){n.t+=ji;
bZ=Z(n);ji=Z(n)}}var a4=H(n),eG=H(n),e6=H(n);if(U<1300&&U>=600)n.t+=2;var eH=C(n),eP=H(n)/100;if(U>=600)n.t+=2;
var iE=B(n);if(U>=1300)n.t+=46;else if(U>=600)n.t+=52;var g6=ga.v5(n,ed==270963208||ed==276198e3,ed);
N.k={id:ed,a7I:a4,ae8:eG,adl:e6,lineWidth:eH,color:g6}}else if(N.l5=="mcfg"){if(1300<=U)n.t+=12;else if(900<=U)n.t+=4;
else if(600<=U&&U<700)n.t+=28;var aR=0,aq=0;if(U<400)throw"e";else{aR=C(n);aq=C(n)}N.k={a7d:new fc(aR,aq)}}else if(N.l5=="loda"){var s=n.t,gv=$(n),fL=$(n),hq=$(n),hz=$(n),cy=$(n),bX=[],is=[];
n.t=s+hq;for(var R=0;R<fL;R++)bX[R]=$(n);n.t=s+hz;for(var R=fL-1;R>=0;R--)is[R]=$(n);N.k={};for(var R=0;
R<fL;R++){n.t=s+bX[R];var dr=is[R];if(dr==10)N.k.arh=Z(n);else if(dr==20)N.k.apo=Z(n);else if(dr==200)N.k.a3g=$(n);
else if(dr==30){if(U<400)cy--;if(cy==1){var c6=a(n),cd=a(n),cx=0,g1=0,da=0,aS=0;if(U<1500){aS=a(n);da=U<900?aS:a(n);
g1=U<900?aS:a(n);cx=U<900?aS:a(n)}else throw"e";N.k.path=j.O.kp(j.G.la.Rect(0,0,c6,cd,cx))}else if(cy==2){var iZ=C(n),hs=C(n),aD=B(n),iT=B(n),fQ=Math.abs(iZ),fx=Math.abs(hs);
N.k.path=j.O.kp(j.G.la.OG(0,0,fQ,-fx))}else if(cy==3){N.k.path=ga.a9m(n)}else if(cy==4){N.k.an5=ga.ad6(n)}else if(cy==6){N.k.a00=ga.a1o(n)}else if(cy==37){N.k.path=ga.D6(n)}else console.log(cy)}}}else if(N.l5=="trfd"){var s=n.t,gv=$(n),fL=$(n),hq=$(n);
n.t=s+hq;var bX=[];for(var R=0;R<fL;R++)bX[R]=$(n);for(var R=0;R<fL;R++){n.t=s+bX[R];if(U>=1300)n.t+=8;
var i8=H(n);if(i8==8){var ho,aW,c6,ic,iO,cd;if(U>=600)n.t+=6;if(U>=500){ho=W(n);aW=W(n);c6=W(n)/(U<600?1e3:254e3);
ic=W(n);iO=W(n);cd=W(n)/(U<600?1e3:254e3)}else throw"e";N.Oc=new b$(ho,ic,aW,iO,c6,cd)}else console.log(i8)}}else if(!1){console.log(N);
var aT=Math.min(N.size,32);console.log(u.aQ(data,N.t,aT));console.log(u.a6Q(data,N.t,aT))}}};ga.IF=function(n,q){var p=ga.ao,E={},T=p(n);
for(var R=0;R<T;R++){var i=p(n);n.t+=4;var H=p(n);E[i]=H;if(q)n.t+=48}return E};ga.ad6=function(n){var q=ga,p=q.i_,E=p(n),T=p(n);
return new fc(E,T)};ga.a1o=function(n){var q=ga,p=q.i_;n.t+=4;var E=p(n),T=p(n);return new fc(E,T)};
ga.D6=function(n){var q=ga,p=q.ao,E=q.wB,T=q.i_;n.t+=4;var i=E(n)+E(n);n.t+=16;var H=ga.Wx(n,i);return H};
ga.a9m=function(n){var q=ga.wB(n);n.t+=2;return ga.Wx(n,q)};ga.Wx=function(n,q){var p=ga,E=p.i_,T=n.jx<600?2:4,i=n.t,H={W:[],F:[]},Z=0,w=0,d=0;
for(var R=0;R<q;R++){var Z=E(n),w=E(n),O=n.data[i+q*T*2+R];if(!(O&64)&&!(O&128)){H.W.push(Z,w);H.F.push("M");
d+=2}else if(O&64&&!(O&128)){H.W.push(Z,w);H.F.push("L");d+=2}else if(!(O&64)&&O&128){H.W.push(Z,w);
H.F.push("C");d+=6}else if(O&64&&O&128){H.W.push(Z,w)}}if(d!=H.W.length)throw"e";return H};ga.arp=function(n,q){var p=u.fo;
q+=8;var E=p(n,q);q+=4;var T=p(n,q);q+=4;q+=4*7;var i=q,H=j.U(E*T*4);q+=1024;for(var Z=0;Z<T;Z++)for(var w=0;
w<E;w++){var R=Z*E+w,d=(T-Z-1)*E+w,O=n[q+R]<<2,W=d<<2;H[W+0]=n[i+O+2];H[W+1]=n[i+O+1];H[W+2]=n[i+O+0];
H[W+3]=255}return{OT:H,rect:new eL(0,0,E,T)}};ga.ap4=function(n){if(n==32)return 300;else if(n<49)return 0;
else if(n<58)return 100*(n-48);else if(n<65)return 0;return 100*(n-55)};ga.v5=function(n,q,p){var E=ga.wB,T=ga.ao,i=n.jx,H=0,Z=0;
if(i>=500){H=E(n);if(H==1&&i>=1300)H=25;if(H==25||H==30){var w=0;if(H==30){H=25;w=30}else{w=E(n);n.t+=4}var d=E(n),O=E(n)}else if(H==14)throw"e";
else{n.t+=6;Z=T(n)}}else throw"e";var W=[];if(H==2||H==9||H==17){var C=[Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255];
if(H==2)for(var R=0;R<4;R++)C[R]=Math.round(255*C[R]/100);for(var R=0;R<4;R++)C[R]/=255;W=UDOC.C.cmykToRgb(C)}else if(H==1||H==5){W=[Z>>>0&255,Z>>>8&255,Z>>>16&255];
for(var R=0;R<3;R++)W[R]=W[R]/255}else console.log("Unknown color model "+H,Z,Z.toString(16));return W};
var d7=function(){var n,q,p=new ArrayBuffer(4),E=new Uint8Array(p),T=new Uint32Array(p),i=new Float32Array(p);
function H(C,a){for(var B=0;B<C.length;B++)if(C[B][0]==a)return C[B]}function Z(){var C=0,a=0,B=0;do{B=n[q++];
C|=(B&127)<<a;a+=7}while(B&128&&a<35);return C>>>0}function w(C,a,B,$,I){n=C;q=a;var x=$[0]=="mesg",U=$[2],N={},m=1,f=x?1e9:U.length;
while(m<=f){var c=m;if(x){c=Z();if(c==0)break}var D=H(U,c),z=D[2],_=D[1]==1,v=_?Z():1,o=new Array(v);
if(z==3){if(!_)throw"e";o=n.slice(q,q+v);q+=v}else for(var R=0;R<v;R++){var y;if((z&1)==1){if(z==1)y=n[q++]==1;
else if(z==3)y=n[q++];else if(z==5){var k=Z();y=k&1?~(k>>>1):k>>>1}else if(z==7)y=Z();else if(z==9){if(n[q]==0){y=0;
q++}else{E[0]=n[q];E[1]=n[q+1];E[2]=n[q+2];E[3]=n[q+3];var S=T[0];T[0]=S<<23|S>>>9;y=i[0];q+=4}}else if(z==11){var L=d(n,q);
y=L[0];q+=L[1]+1}else throw z}else{var X=B[z>>>1];if(X[0]=="enum"){var s=n[q++];if(s>127)throw"e";y=X[2][s]}else{var M=w(n,q,B,X,I+1);
y=M[0];q=M[1]}}o[R]=y}N[D[3]]=_?o:o[0];m++}return[N,q]}function d(C,a){var B=a;while(C[B]!=0)B++;return[u.L4(C,a,B-a),B-a]}function O(C,a){var B=a;
while(C[B]!=0)B++;for(var R=a;R<B;R++)if(C[R]>127)throw"e";return u.xj(C,a,B-a)}function W(C){n=C;q=1;
var a=[];while(q<C.length){var B=q,$=a.length,I=O(C,q);q+=I.length+1;var x=Z();if(x>2)throw"e";var U=Z(),N=[];
for(var R=0;R<U;R++){var m=O(C,q);q+=m.length+1;var f=Z(),c=Z(),D=Z();N.push(x==0?m:[D,c,f,m])}a.push([["enum","strc","mesg"][x],I,N])}return a}return{apR:W,a3C:w}}();
function hH(){}hH.U4=function(n,q){var p=new Uint8Array(n),E=8,T=u.fo(p,E),d=0,X=0;E+=4;var i=[];while(E<p.length){var H=u.fo(p,E);
E+=4;var Z=p.slice(E,E+H);if(p[E]==137&&p[E+1]==80){}else Z=UZIP.inflateRaw(Z);i.push(Z);E+=H}var w=d7.apR(i[0]);
for(var R=0;R<w.length;R++)if(w[R][1]=="Message")d=R;var O=d7.a3C(i[1],0,w,w[d],0)[0],W={Og:{},Rf:{},aff:{}},C=O.nodeChanges;
for(var a=0;a<C.length;a++){var B=C[a],$=B.guid;W.Rf[$.sessionID+","+$.localID]=B}for(var a=0;a<C.length;
a++){var B=C[a],$=B.parentIndex;if($){var I=hH.U6(W.Rf,$.guid);if(I.children==null)I.children=[];I.children.push(B)}}var x=C[0],U=x.children,N=new eL,m=[],f=[];
for(var $=0;$<U.length;$++){var c=U[$],D=c.children;if(c.name=="Internal Only Canvas"||D==null)continue;
var z=new eL;for(var R=0;R<D.length;R++){var _=D[R],v=_.transform,o=_.size;if(v.m00==1&&v.m10==0&&v.m01==0&&v.m11==1){var y=new eL(v.m02,v.m12,o.x,o.y);
z=z.AL(y)}}var k=N.o==0?0:N.o+100,S=z.clone();S.x=0;S.y=k;N=N.AL(S);m[$]=z;f[$]=k}var L=dg.nZ(new eL(0,0,N.v,N.o),8192*8192);
q.v=Math.round(N.v/L);q.o=Math.round(N.o/L);q.buffer=j.U(q.v*q.o*4);for(var $=0;$<U.length;$++){var c=U[$],D=c.children;
if(c.name=="Internal Only Canvas"||D==null)continue;D.sort(hH.Fq);var s=new b$(1,0,0,1,-m[$].x,f[$]-m[$].y);
s.scale(1/L,1/L);for(var R=0;R<D.length;R++){var _=D[R];hH.tI(_,[],s,O.blobs,q,0,W);X++}}q.R$(X);q.pL=!0;
if(L!=1)alert("File scaled down "+L+"x")};hH.tI=function(n,q,p,E,T,i,H){var Z=hH,_=!1,v,o,k,S,L;for(var R=0;
R<q.length;R++){var w=q[R],d=w.guidPath.guids[0];if(Z.asy(d,n.guid)){var O={};for(var W in n)O[W]=w[W]!=null?w[W]:n[W];
n=O}}var C=n.type,a=n.children,B=n.size,$=n.effects,I=T.Je();I.WR(n.name);I.c4(n.visible);I.opacity=Math.round(n.opacity*255);
var x=Z.kw(n.transform),U=x.clone();U.concat(p);var N=new eL(Math.round(U.R_),Math.round(U.so),Math.round(B.x*U.SD()),Math.round(B.y*U.SD())),m=n.fillPaints,f=n.inheritFillStyleID;
if(f){var O=Z.U6(H.Rf,f);if(O)m=O.fillPaints}if(m==null)m=[];var m=Z.G_(m),c=m[0],D=n.strokePaints,f=n.inheritFillStyleIDForStroke;
if(f){var O=Z.U6(H.Rf,f);if(O)D=O.fillPaints}if(D==null)D=[];var D=Z.G_(D),z="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(C)!=-1;
if(z||C=="FRAME"){v=new g.Xg;o=[];Z.sP(n,E,v,o);_=j.G.Hk(v.Q);j.G.ra(v.Q,U);N=j.O.Xf(j.G.Sc(v.Q));if(H.Og.kI&&c){var y=g.Xg.A$(H.Og.kI.Q);
for(var R=2;R<y.length;R++)if(y[R].HW!=null)y[R].HW=3;v.Q=v.Q.concat(y.slice(2));o=o.concat(JSON.parse(JSON.stringify(H.Og.k4)))}}if(c&&c.type=="IMAGE"){L=c.imageScaleMode;
k=Z.Zk(E,c.image.dataBlob);var X=k.Yd.v/k.Yd.o,s=B.x/B.y;S=Math.abs(X-s)}if(C=="FRAME"){}else if(z&&_&&k&&(L=="FIT"||L=="FILL"&&S<=.05)){var M=E[c.image.dataBlob].bytes,V=T.YC(M,I.getName(),0,0);
V.GZ=I.GZ;V.opacity=I.opacity;I=V;var l=new eL(0,0,B.x,B.y);if(L=="FIT"){var e=k.Yd.v,Y=k.Yd.o,J=Math.min(B.x/e,B.y/Y),G=e*J,F=Y*J;
l=new eL(l.x+(l.v-G)/2,l.y+(l.o-F)/2,G,F)}var b=j.O.aS(l).W;j.O.B(b,U,b);I.add.SoLd.Trnf=A.Z.g8(b);I.add.SoLd.nonAffineTransform=A.Z.g8(b);
var h=[],$=n.effects,bj=c.paintFilter;if($)for(var R=0;R<$.length;R++)if($[R].type=="FOREGROUND_BLUR"){var i4=$[R],t=fU.ah("GsnB",{});
h.push(t);t.v.enab.v=i4.visible;t.v.Fltr.v.Rds.v.val=i4.radius/2.4}if(bj&&bj.exposure!=0){var t=fU.ah("brit",{});
h.push(t);t.v.Fltr.v.Brgh.v=Math.round(bj.exposure*160);t.v.Fltr.v.useLegacy.v=!0}if(h.length!=0){I.add.SoLd.filterFX=fU.u4();
T.O8({id:I.add.SoLd.placed.v,rect:new eL,buffer:j.U(1),w:new g.JI});I.add.SoLd.filterFX.v.filterFXList.v=h}I.Ze(T,!1);
Z.Ub(H,I,T)}else if(z){Z.aL(I,o,v,n,c,U,N,E,T,H);var aG=Z.v_(n,D[0],U,N,E,T,H);if(aG[0]!="None"){var Q=I.add.vstk;
Q.strokeEnabled.v=!0;Q.strokeStyleLineWidth.v.val=n.strokeWeight*U.SD();Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[["INSIDE","CENTER","OUTSIDE"].indexOf(n.strokeAlign)];
var jd={SoCo:"SoFi",GdFl:"GrFl"}[aG[0]],bP=["SoFi","GrFl","patternFill"].indexOf(jd),gz=[iq.zo,iq.kb,iq.fi][bP];
Q.strokeStyleContent.v={classID:iq.DL.LK[0]};var fZ=n.dashPattern;if(fZ)Q.strokeStyleLineDashSet.v=cU.Wv(fZ,1/n.strokeWeight);
var dt=Q.strokeStyleContent.v={classID:iq.DL.LK[bP]};for(var R=0;R<gz.length;R++)dt[gz[R]]=aG[1][gz[R]];
if(!Q.fillEnabled.v)Z._V(aG,I)}if($)for(var R=0;R<$.length;R++){var i4=$[R];if(i4.type!="FOREGROUND_BLUR")continue;
v.pR=i4.radius/2.4}I.VA(T)}else if(C=="TEXT"){var a9=n.textData,bi=a9.layoutSize,az=["LEFT","RIGHT","CENTER"].indexOf(n.textAlignHorizontal);
I.add.lnsr="rend";I.add.TySh=hx.sB(0,0);I.add.TySh.i0=new eL(0,0,100,100);var hd=U.clone();I.add.TySh.B=hd;
var aB=I.add.TySh.Bd,cv=a9.characters;if(n.textCase=="TITLE"){for(var R=0;R<cv.length;R++)if(R==0||cv[R-1]==" "){var c$=cv.slice(0,R),cT=cv.slice(R+1);
cv=c$+cv[R].toUpperCase()+cT}}cv=cv.replace(/\u2028/g,"\n");cv=cv.replace(/\u2029/g,"\n");cv=cv.replace(/\r/g,"\n");
hx.V8(aB,0,cv);var fp=n.textAutoResize,cD=a9.baselines;if(fp=="WIDTH_AND_HEIGHT"){var f_=az==0?0:az==1?bi.x:bi.x/2,f9=cD?cD[0].position.y:0;
hd.translate(f_*U.SD(),f9*U.SD());hx.vF(aB,0)}else if(fp=="HEIGHT"||fp=="NONE"||fp==null){var f9=cD?cD[0].position.y-n.fontSize*.7:0;
hd.translate(0,f9*U.SD());hx.vF(aB,1);hx.XM(aB,[0,0,Math.round(bi.x),Math.round(1.2*bi.y)])}else throw fp;
if(cv!=""){var dO=hx.o1(aB,0,1);Z.Cp(n,U,B,dO,I,E,T,H);hx.X6(aB,0,cv.length,dO);var a6=a9.characterStyleIDs,hb=a9.styleOverrideTable;
if(a6){a6=a6.slice(0);for(var R=0;R<a6.length;R++)if(cv[R]=="\n")a6[R]=-R-1;var jr=[0],dh=0,jq=0;for(var R=0;
R<a6.length;R++){jq++;var g3=a6[R];if(R==0||g3==a6[R-1]){}else{jr.push(jq-1,R);jq=1}}jr.push(jq);for(var R=0;
R<jr.length;R+=2){var c6=jr[R],cd=jr[R+1];if(cv[c6]=="\n")continue;var g3=a6[c6];if(g3!=0){var jn;for(var cV=0;
cV<hb.length;cV++)if(hb[cV].styleID==g3)jn=hb[cV];var dO=hx.o1(aB,c6,c6+1);Z.Cp(jn,U,B,dO,I,E,T,H);hx.X6(aB,c6,c6+cd,dO)}}}}}else if(C=="SYMBOL"){}else if(C=="INSTANCE"){var fM=n.symbolData,bE=fM.symbolOverrides,O=Z.U6(H.Rf,fM.symbolID);
if(O)a=O.children;else console.log(n.name,"symbol not found",fM.symbolID);q=q.slice(0);for(var R=0;R<bE.length;
R++)q.push(bE[R])}else console.log(C);if(!1){}else if(a&&!z){T.h.push(T.Ch());var gU=!1,g6=i==0&&C!="SYMBOL"&&C!="INSTANCE";
if(g6)I.O$(N);c=m[m.length-1];if(g6&&c&&c.type=="SOLID"){var cu=c.color;I.add.artb.artboardBackgroundType.v=4;
I.add.artb.Clr=Z.v5(cu)}else if(c&&v){var f5=T.Je();f5.WR("Background");Z.aL(f5,o,v,n,c,U,N,E,T,H);f5.VA(T);
T.h.push(f5);gU=!0}a.sort(Z.Fq);var iP=H.Og;H.Og={};for(var id=0;id<a.length;id++)Z.tI(a[id],q,U,E,T,i+1,H);
H.Og=iP;I.add.lsct=!1?fX.eV:fX.Ku;I.Nl="pass";var aY=I.Fp();I.GZ=24;I.c4(aY);var fT=i!=0&&m.length!=0&&!n.frameMaskDisabled&&n.containerSupportsFillStrokeAndCorners;
if(!gU&&fT&&v){I.add.vmsk=v;I.add.vogk=o;I.VA(T)}else Z.Ub(H,I,T);T.h.push(I)}else if(n.mask){if(v){H.Og.kI=v;
H.Og.k4=o}}else{var h8=[],ji=1;if($)for(var jf=0;jf<$.length;jf++){var i4=$[jf],h2=i4.color,e9=i4.type,jt=["DROP_SHADOW","INNER_SHADOW"].indexOf(e9);
if(jt!=-1){var ed=["DrSh","IrSh"][jt],bZ=JSON.parse(iq.FT[iq.order.indexOf(ed)]);h8.push([ed,bZ]);bZ.enab.v=i4.visible;
bZ.Md.v.BlnM=d3.g6(Z.ajR(i4.blendMode));bZ.Opct.v.val=Math.round(100*h2.a);bZ.blur.v.val=Math.round(i4.radius*U.SD());
bZ.Clr=Z.v5(h2);var f_=i4.offset.x,f9=i4.offset.y;bZ.uglg.v=!1;bZ.lagl.v.val=Math.round(180/Math.PI*Math.atan2(f9,-f_));
bZ.Dstn.v.val=Math.round(Math.sqrt(f_*f_+f9*f9)*U.SD())}}if(C=="TEXT"&&m[0]&&m[0].type!="SOLID")ji=0;
for(var R=ji;R<m.length;R++){var a4=m[R],eG=Z.v_(n,a4,U,N,E,T,H);if(eG[0]=="GdFl")h8.push(["GrFl",eG[1]]);
else if(eG[0]=="SoCo")h8.push(["SoFi",eG[1]]);else if(eG[0]=="PtFl")h8.push(["patternFill",eG[1]]);else throw eG}if(!z)for(var R=0;
R<D.length;R++){var a4=D[R],eG=Z.v_(n,a4,U,N,E,T,H);if(eG[0]=="SoCo"){var bZ=JSON.parse(iq.FT[iq.order.indexOf("FrFX")]);
h8.push(["FrFX",bZ]);bZ.enab=eG[1].enab;bZ.Opct=eG[1].Opct;bZ.Md=eG[1].Md;bZ.Clr=eG[1].Clr;bZ.Sz.v.val=n.strokeWeight}}if(h8.length!=0){var e6=JSON.parse(iq.default);
for(var R=0;R<iq.order.length;R++)e6[iq.Da[R]]={t:"VlLs",v:[]};for(var R=0;R<h8.length;R++){var eH=h8[R],ed=iq.Da[iq.order.indexOf(eH[0])];
e6[ed].v.unshift({t:"Objc",v:eH[1]})}if(a==null)I.add.lmfx=e6}T.h.push(I)}};hH.aL=function(n,q,p,E,T,i,H,Z,w,d){var O=hH;
n.GZ|=16;n.add.vogk=q;n.add.vmsk=p;var W=n.add.vstk=JSON.parse(JSON.stringify(iq.DL.default)),C=O.v_(E,T,i,H,Z,w,d);
if(C[0]=="None"){W.fillEnabled.v=!1;n.add.SoCo=C[1]}else{O._V(C,n);n.add[C[0]]=C[1]}};hH._V=function(n,q){var p=n[1].Opct.v.val;
if(p!=100)q.opacity=Math.round(q.opacity/255*(p/100)*255)};hH.Fq=function(n,q){var p=n.parentIndex.position,E=q.parentIndex.position;
return p>E?1:-1};hH.G_=function(n){for(var R=1;R<n.length;R++){var q=n[R];if(q.type=="IMAGE"&&q.opacity==1){n=n.slice(R);
break}}for(var R=0;R<n.length;R++){var q=n[R],p=q.imageThumbnail;if(q.type=="IMAGE"&&(q.image==null||q.image.dataBlob==null)&&p&&p.dataBlob)q.image=p;
if(!q.visible||q.type=="IMAGE"&&q.image.dataBlob==null){n.splice(R,1);R--}}return n};hH.Ub=function(n,q,p){if(n.Og.kI){q.add.vmsk=n.Og.kI.clone();
q.add.vogk=JSON.parse(JSON.stringify(n.Og.k4));q.VA(p)}};hH.Cp=function(n,q,p,E,T,i,H,Z){var w=n.fontSize,d=n.lineHeight,O=n.fontName,W=n.textAlignHorizontal,C=n.textTracking,a=n.textCase;
if(w==null)w=E.h9.FontSize;if(O)hx.cl(E,O.postscript);if(w!=null)E.h9.FontSize=Math.round(w);if(C)E.h9.Tracking=Math.round(C*1e3);
if(a)E.h9.FontCaps=a=="UPPER"?2:0;if(d&&(d.units!="PERCENT"||d.value!=100)){if(w==null)w=15;var B=d.value;
if(d.units=="PERCENT")B=1*w*B/100;if(d.units=="RAW")B=1*w*B;E.h9.AutoLeading=!1;E.h9.Leading=Math.round(B)}if(W)E.yA.Justification=["LEFT","RIGHT","CENTER"].indexOf(W);
var $=n.fillPaints,I=n.inheritFillStyleID;if(I){var x=hH.U6(Z.Rf,I);if(x)$=x.fillPaints}if($&&$[0]){var U=hH.v_(n,$[0],q,p,i,H,Z);
if(U[0]=="SoCo"){var N=j.f.aV(U[1].Clr.v);E.h9.FillColor={Type:1,Values:[1,N._/255,N.q/255,N.X/255]};
hH._V(U,T)}}};hH.v_=function(n,q,p,E,T,i,H){var Z=hH,w,d,O=n.size;if(q){var W=q.type,C=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(W);
if(W=="SOLID"){w="SoCo";var a=q.color;d=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);d.Clr=Z.v5(a)}else if(C!=-1){var B=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),$=B.Grad.v;
$.Intr.v=0;B.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][C];var I=[],x=q.stops;for(var R=0;R<x.length;R++){var U=x[R],N=U.color;
I.push([U.position,[N.r,N.g,N.b],N.a])}j.f.Rj(I,$);var m=Z.kw(q.transform);m.z3();var f=m.clone();if(O)f.scale(O.x,O.y);
f.concat(p);var c=new fc(0,.5),D=new fc(1,.5);c=f.i1(c);D=f.i1(D);if(!0){c.x=D.x+.5*(c.x-D.x);c.y=D.y+.5*(c.y-D.y)}j.f.hp(c,D,E,B);
if(C==3){if(f.jS*f.FF-f.X*f.kr<0)B.Rvrs.v=!B.Rvrs.v}w="GdFl";d=B}else if(W=="IMAGE"){var B=JSON.parse(iq.FT[iq.order.indexOf("patternFill")]),z=B.phase.v,_=q.image.dataBlob,v=H.aff[_],V=1;
if(v==null){var o=Z.Zk(T,_);v=H.aff[_]={};v.id=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";v.Ac=[new Uint8Array(o.data),o.Yd];
v.name="someImage";i.J1(v)}B.Algn.v=!0;B.Ptrn.v.Idnt.v=v.id;var y=p.R_,k=p.so,S=q.imageScaleMode,m=Z.kw(q.transform);
m.z3();var L=E.v,X=E.o,s=v.Ac[1].v,M=v.Ac[1].o;if(S=="FILL"){V=Math.max(L/s,X/M);V=Math.round(V*100)/100}else if(S=="FIT"){V=Math.min(L/s,X/M);
V=Math.round(V*100)/100}else if(S=="STRETCH"){var l=L*m.jS,e=X*m.FF;V=.5*(l/s+e/M);V=Math.round(V*100)/100;
y+=(l-L)/2+m.R_*L;k+=(e-X)/2+m.so*X}else if(S=="TILE"){V=q.scale;V=Math.round(V*100)/100;y+=(l-L)/2;
k+=(e-X)/2}var Y=V*s,J=V*M;y+=-(Y-L)/2;k+=-(J-X)/2;B.Scl.v.val=Math.round(100*V);z.Hrzn.v=Math.round(y);
z.Vrtc.v=Math.round(k);w="PtFl";d=B}else throw W;if(d)d.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(q.opacity*100)}}}else{w="None";
d={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:0,q:0,X:0})}}}return[w,d]};hH.Zk=function(n,q){var p=n[q];
if(p.rslt)return p.rslt;var E=p.bytes.buffer,T=al.Y3(E),i=al.vE(T);try{p.rslt=i.es(E)[0]}catch(de){p.rslt={data:j.U(4),Yd:new eL(0,0,1,1)}}return p.rslt};
hH.sP=function(n,q,p,E){var T=n.type,i=n.size,H=n.cornerRadius,W;if(H==null)H=0;var Z=j.k4.Ji(),w=i.x,d=i.y,O=[H,H,H,H],C=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var R=0;R<4;R++)if(n[C[R]]!=null)O[R]=n[C[R]];if(T=="RECTANGLE"||T=="ROUNDED_RECTANGLE"||T=="FRAME"){W=j.G.la.Rect(0,0,w,d,O)}else if(T=="ELLIPSE"){var a=n.arcData,B=a?a.startingAngle:0,$=a?a.endingAngle:2*Math.PI,I=a?a.innerRadius:0;
if(B==0&&$>1.999*Math.PI)W=j.G.la.OG(0,0,w,d,0);else W=j.G.la.a4o(w/2,d/2,d/2,B,$);if(I!=0&&I!=1){var x=g.Xg.A$(W).slice(3);
x.reverse();for(var R=0;R<x.length;R++){var U=x[R],N=U.m5;U.m5=U.OR;U.OR=N}var m=new b$;m.translate(-w/2,-d/2);
m.scale(I,I);m.translate(w/2,d/2);j.G.ra(x,m);W=W.concat(x);W[2].length*=2}}else if(T=="LINE"){W=j.G.la.Rect(0,0,w,d,0);
W.pop();W.pop();W[2].length=2}else if(T=="STAR"){W=j.G.la.Ya(w/2,d/2,w/2,2*Math.PI*(1/4),5,0,n.starInnerScale)}else if(T=="REGULAR_POLYGON"){W=j.G.la.y6(.5,.5,.5,Math.PI/2,n.count,0);
var f=new b$;f.scale(w,d);j.G.ra(W,f)}else if(T=="BOOLEAN_OPERATION"){W=[{type:6},{type:8,all:0}];var c=n.children,D=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(n.booleanOperation);
if(D==-1)throw n;if(c==null)c=[];for(var R=0;R<c.length;R++){var z=c[R],v=new g.Xg,o=[],y=hH.sP(z,q,v,o);
if(v.Q==null)continue;j.G.ra(v.Q,hH.kw(z.transform));W=W.concat(v.Q.slice(2));for(var k=0;k<o.length;
k++)E.push(o[k])}for(var R=3;R<W.length;R++)if(W[R].HW!=null)W[R].HW=D;Z=null}else if(T=="VECTOR"){var S,L,b=3;
if(!0){var X=n.vectorData;S=X.normalizedSize;L=X.vectorNetworkBlob}var s=q[L].bytes,M=new Uint32Array(s.buffer),V=new Float32Array(s.buffer),l=M[0],e=M[1],Y=M[2],J=[],G=[],F=[],h=b+l*3,bj=h+e*7;
for(var R=0;R<l;R++){var i4=b+R*3,t=new fc(V[i4+1],V[i4+2]);J.push(t)}for(var R=0;R<e;R++){var aG=h+R*7;
G.push([M[aG+0],M[aG+1],V[aG+2],V[aG+3],M[aG+4],V[aG+5],V[aG+6]])}for(var R=0;R<Y;R++){var Q=M[bj+1],jd=F[R]=[];
bj+=2;for(var k=0;k<Q;k++){var bP=M[bj++],gz=jd[k]=[];for(var fZ=0;fZ<bP;fZ++)gz[fZ]=M[bj+fZ];bj+=bP}}if(bj!=M.length)throw"e";
if(Y==0){var dt=-1;for(var R=0;R<e;R++){if(dt==-1){}else{var a9=-1;for(var k=R;k<e;k++)if(G[k][4]==dt)a9=k;
for(var k=R;k<e;k++)if(G[k][1]==dt)a9=k;if(a9!=-1){var bi=0,N=G[a9];G[a9]=G[R];G[R]=N;if(N[1]!=dt){bi=N[1];
N[1]=N[4];N[4]=bi;bi=N[2];N[2]=N[5];N[5]=bi;bi=N[3];N[3]=N[6];N[6]=bi}}}dt=G[R][4]}F.push([[]]);for(var R=0;
R<e;R++)F[0][0].push(R)}var az=[],hd=[];for(var aB=0;aB<F.length;aB++){for(var cv=0;cv<F[aB].length;
cv++){var c$=F[aB][cv],cT=0;if(c$.length>1){var fp=G[c$[0]],cD=G[c$[1]];cT=fp[4]==cD[1]?1:0}for(var R=0;
R<c$.length;R++){var f_=G[c$[R]],f9=1,dO=4;if(cT==0){f9=4;dO=1}var a6=J[f_[f9]],hb=J[f_[dO]];if(R==0){hd.push("M");
az.push(a6.x,a6.y)}hd.push("C");az.push(a6.x+f_[f9+1],a6.y+f_[f9+2],hb.x+f_[dO+1],hb.y+f_[dO+2],hb.x,hb.y)}}}W=j.O.zt({W:az,F:hd},!1);
if(H!=0){var O=[],jr=W[2].length;for(var R=0;R<jr;R++)O.push(H);if(j.G.wu(W))j.G.$R(W,2,O)}var dh=new b$;
dh.scale(S.x==0?1:i.x/S.x,S.y==0?1:i.y/S.y);j.G.ra(W,dh)}p.Q=W;if(Z)E.push(Z)};hH.U6=function(n,q){return n[q.sessionID+","+q.localID]};
hH.asy=function(n,q){return n.sessionID==q.sessionID&&n.localID==q.localID};hH.ajR=function(n){var q={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark"}[n];
if(q==null)throw n;return q};hH.v5=function(n){return{t:"Objc",v:j.f.iB({_:n.r*255,q:n.g*255,X:n.b*255})}};
hH.kw=function(n){var q=[n.m00,n.m10,n.m01,n.m11,n.m02,n.m12];for(var R=0;R<6;R++)if(Math.abs(q[R])<1e-20)q[R]=0;
return new b$(q[0],q[1],q[2],q[3],q[4],q[5])};function fe(){}fe.U4=function(){var n=u.xj;function q(a,B,$,I){var x=I?[]:{};
while(B<a.length-1&&a[B]!=125){var U=n(a,B,3),N=n(a,B+3,1),m;B+=4;B++;if(N=="v"){var f=q(a,B,$+1,U=="ELM"||U=="TIL");
m=f.k;B=f.t}else if(N=="i"||N=="f"){var c=B;while(a[c]!=125)c++;var D=n(a,B,c-B);m=N=="i"?parseInt(D,16):parseFloat(D);
B=c+1}else if(N=="s"){var z=u.pY(a,B),D="";B+=2;for(var R=0;R<z;R++)D+=String.fromCharCode(a[B+2*R+1]);
m=D;B=B+2*z+1}else if(N=="b"){m=a[B]==49;B=B+2}else throw"e";if(I)x.push([U,m]);else if(x[U]==null)x[U]=m;
else{if(!(x[U]instanceof Array))x[U]=[x[U]];x[U].push(m)}}B++;return{k:x,t:B}}function p(a,B){var $=E(a).slice(1),a=B.Clr.v;
a.Rd.v=$[0]*255;a.Grn.v=$[1]*255;a.Bl.v=$[2]*255}function E(a){return[(a>>>24&255)/255,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}function T(a,B){var $=B&4278190080|(B&255)<<16|(B>>>8&255)<<8|B>>>16&255;
new Uint32Array(a.buffer).fill($)}function i(a,B){var $=a.TSZ,I=a.WPX,x=a.HPX,U=a.TIL,N=new eL(0,0,I,x),m=j.U(I*x*4),f=0;
for(var c=0;c<x;c+=$)for(var D=0;D<I;D+=$){var z=new eL(D,c,$,$),_,v=U[f];if(v[0]=="TMC"){_=j.U(z.P()*4);
T(_,v[1])}else if(v[0]=="TID"){_=B[v[1]]}j.hk(_,z,m,N);f++}return[m,N]}function H(a,B){a=new Uint8Array(a);
var $=8,I,x={},X=0;while($<a.length){var U=u.s(a,$);$+=4;var N=n(a,$,4);$+=4;if(N=="mkTS"){var m=pako.inflate(a.slice($,$+U)),f=q(m,0,0);
I=f.k}else if(N=="mkBT"){var c=u.s(a,$+4),D=u.s(a,$+8),m=pako.inflate(a.slice($+76,$+U));if(D==0)for(var R=0;
R<m.length;R+=4){var z=m[R],_=m[R+1],v=m[R+2],o=m[R+3];m[R+3]=z;m[R+2]=o;m[R+1]=v;m[R]=_}else{var y=j.U(m.length*4);
y.fill(255);j.s0(m,y);m=y}x[c]=m}$+=U+4}var k=I.PDC,S=k?k instanceof Array?k:[k]:[I.MKB],L=new eL;for(var R=0;
R<S.length;R++){var s=S[R];L=L.AL(new eL(0,X,s.WID,s.HIT));X+=s.HIT+100}B.v=L.v;B.o=L.o;B.buffer=j.U(L.P()*4);
B.R$(S.length);X=0;for(var M=0;M<S.length;M++){B.h.push(B.Ch());var s=S[M],V=s.WID,l=s.HIT,e=s.BGC,Y=(s.LYL?s:I).LYL.LAY,F=3;
for(var R=0;R<Y.length;R++)w(Y[R],B,null,x,new b$(1,0,0,1,0,X));var J=B.Je();B.h.push(J);var G=new eL(0,X,V,l);
X+=l+100;J.O$(G);if(e>>>24!=0){var b=j.f.iB({_:e>>>16&255,q:e>>>8&255,X:e>>>0&255});J.add.artb.Clr={t:"Objc",v:b};
F=4}J.add.artb.artboardBackgroundType.v=F;J.WR(s.PGN?s.PGN:"Page "+(M+1));J.add.lsct=fX.Ku;J.Nl="pass";
J.GZ=24}}function Z(a,B,$){var I=a[B];return I instanceof Array?I[$]:I}function w(a,B,$,I,x){var U=B.Je();
if(a.VIS!=null)U.c4(a.VIS);if(a.VIF!=null)U.c4(a.VIF.VIS);if(a.OPA!=null)U.opacity=Math.round(255*a.OPA/1e3);
U.Nl=a.CLL||$=="GRP"?"pass":"norm";if(a.BLD!=null){var N=a.BLD,m={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[N+""];
if(m==null)console.log(a.OBN,N);else U.Nl=m;if(N==30)U.opacity>>>=1}if(a.CLL){U.WR(a.LNM);B.h.push(B.Ch());
var f=a.CLL.CEL.ELM;for(var R=f.length-1;R>=0;R--)w(f[R][1],B,f[R][0],I,x);U.add.lsct=a.DIS?fX.eV:fX.Ku;
U.GZ|=24}else if($=="GRP"){var c=U.add.lmfx=O(a.EFL),D;B.h.push(B.Ch());var f=a.ELM;if(a.MNA){D=f[0][1];
f=f.slice(1)}U.WR("Group: "+f.length+" objects");for(var R=f.length-1;R>=0;R--)w(f[R][1],B,f[R][0],I,x);
if(D){if(a.MRX){var z=i(D,I),_=U.w=new g.JI;_.rect=z[1].clone();_.rect.x=D.XLC;_.rect.y=D.YLC+x.so;_.channel=j.U(_.rect.P());
j.J2(z[0],_.channel,0);j.z3(_.channel)}else{d(U,D,x);U.VA(B)}}U.add.lsct=fX.Ku;U.GZ|=24}else if($=="IMG"){U.WR(a.OBN?a.OBN:"Bitmap");
var z=i(a,I);U.rect=z[1].clone();U.rect.x=a.XLC;U.rect.y=a.YLC+x.so;U.buffer=z[0]}else if($=="TXT"){var v=a.TFS,o=v.TRN instanceof Array?v.TRN.length:1,L="";
U.add.lnsr="rend";U.add.TySh=hx.sB(0,0);U.add.TySh.i0=new eL(0,0,100,100);var y=new b$(1,0,0,1,a.LFT,a.TOP);
if(a.MTX){var k=a.MTX,_=new b$(k.M00,k.M01,k.M10,k.M11,k.M20,k.M21);y.concat(_)}y.concat(x);U.add.TySh.B=y;
var S=U.add.TySh.Bd;for(var R=0;R<o;R++){var X=Z(v,"TRN",R);hx.V8(S,L.length,X);var s=hx.o1(S,0,1);hx.cl(s,Z(v,"FON",R));
s.h9.FontSize=Math.round(Z(v,"PTS",R));var M=Z(v,"FCL",R);s.h9.FillColor={Type:1,Values:E(M)};hx.X6(S,L.length,L.length+X.length,s);
L+=X}U.WR(L.slice(0,255));var V=a.RIT-a.LFT,l=a.BOT-a.TOP;if(a.IMG){w(a.IMG,B,"IMG",I,x);var e=B.h.pop();
U.buffer=e.buffer;U.rect=e.rect.clone()}hx.vF(S,1);hx.XM(S,[0,0,V,l])}else if($=="PTH"){U.WR(a.OBN?a.OBN:"Path");
U.GZ|=16;var Y=!1;d(U,a,x);var J=U.add.vmsk,G=U.add.vstk,F=j.G.Sc(J.Q),b=a.PAT,h=b.BPL,bj=b.FPL,i4=b.TXF;
if(bj&&bj.FEF)J.pR+=bj.FEF/2.4;if(h){var t=h.CAT;G.strokeEnabled.v=!0;G.strokeStyleLineWidth.v.val=h.BDI;
G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[a.BRP];p(b.BCL,G.strokeStyleContent.v);
if(t!="bc_Basic"&&t!="bc_Pencil")Y=!0}if(bj==null){G.fillEnabled.v=!1;U.add.SoCo=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);
p(0,U.add.SoCo)}else if(bj.CAT=="fc_Solid"){U.add.SoCo=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);p(a.PAT.FCL,U.add.SoCo)}else if(bj.CAT=="fc_Linear"||bj.CAT=="fc_Circular"||bj.CAT=="fc_Elliptical"){var aG=bj.CAT=="fc_Linear",Q=U.add.GdFl=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),jd=Q.Grad.v,bP=[],gz=bj.FGL.FGY,fZ=gz.FG0.FGI,dt=gz.FG1.FGI;
for(var R=0;R<fZ.length;R++){var a9=fZ[R],bi=E(a9.FGC),az=1;if(dt.length==fZ.length)az=E(dt[R].FGC)[0];
bP.push([a9.FGP,bi.slice(1),az])}Q.Type.v.GrdT=aG?"Lnr":"Rdl";j.f.Rj(bP,jd);jd.Intr.v=0;var hd=a.PRI?a.PRI:a,aB=new fc(hd.PSX,hd.PSY),cv=new fc(hd.PEX,hd.PEY);
if(bj.CAT=="fc_Elliptical"&&hd.PFX!=null){var c$=new fc(hd.PFX,hd.PFY),cT=fc.vu(aB,cv),fp=fc.vu(aB,c$);
if(fp<cT){var cD=cT;cT=fp;fp=cD}cv=new fc(aB.x+(cT+fp)/2,aB.y);if(cT/fp<.5)Y=!0}if(aG){aB.x=(aB.x+cv.x)/2;
aB.y=(aB.y+cv.y)/2}j.f.hp(aB,cv,F,Q)}else console.log(bj.CAT);var c=U.add.lmfx=O(a.EFL,J);if(bj&&bj.FTB!=0){var z=i(i4.MSK,I),f_={};
f_.id=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";f_.name="someImage";f_.Ac=z;B.J1(f_);var f9=z[0];for(var R=0;
R<f9.length;R+=4){f9[R+3]=255-f9[R];f9[R]=f9[R+1]=f9[R+2]=255}var Q=JSON.parse(iq.FT[iq.order.indexOf("patternFill")]);
Q.Opct.v.val=Math.round(bj.FTB/10);Q.Algn.v=!0;Q.Ptrn.v.Idnt.v=f_.id;c.patternFillMulti.v.unshift({t:"Objc",v:Q})}if(Y&&a.IMG){w(a.IMG,B,"IMG",I,x);
var dO=B.h[B.h.length-1];dO.opacity=U.opacity;return}U.VA(B)}else if($=="URL")return;else console.log("unknown layer type",$,a);
B.h.push(U)}function d(a,B,$){if(B.PBL==null)return;var I=a.add.vmsk=new g.Xg,x=a.add.vstk=JSON.parse(JSON.stringify(iq.DL.default)),U=B.PBL.PBP;
if(!(U instanceof Array))U=[U];for(var N=0;N<U.length;N++){var m=U[N].PBT,f=U[N].ISC?0:3;I.Q.push({type:f,length:m.length,HW:0,cZ:2,NC:0,Wu:0});
for(var R=0;R<m.length;R++){var c=m[R],D=c.XLC,z=c.YLC,_=[D,z,D,z,D,z],v="XPC YPC XLC YLC XSC YSC".split(" ");
for(var o=0;o<6;o++){var y=v[o],k=c[y];if(k!=null)_[o]=k}I.Q.push({type:f+2,L:new fc(D,z),m5:new fc(_[0],_[1]),OR:new fc(_[4],_[5])})}}j.G.ra(I.Q,$);
a.J0()}function O(a,B){var $=JSON.parse(iq.default);for(var R=0;R<iq.order.length;R++)$[iq.Da[R]]={t:"VlLs",v:[]};
if(a==null)return $;var I=a.EPS;if(!(I instanceof Array))I=[I];for(var R=0;R<I.length;R++){var x=I[R].DCE,U={};
for(var N=0;N<x.length;N++)U[x[N].DCK]=x[N].DCV;if(U.EffectIsVisible=="false")continue;var m=U.mkbFile_WriteOnly_TemporaryEffectUiName;
if(m=="Gaussian Blur..."&&B){B.pR+=parseFloat(U.gaussian_blur_radius);continue}var f=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(m);
if(f==-1){continue}var c=["DrSh","ebbl","IrGl","OrGl"][f],D=iq.Da[iq.order.indexOf(c)],z=JSON.parse(iq.FT[iq.order.indexOf(c)]);
$[D].v.unshift({t:"Objc",v:z});if(c=="DrSh"){z.uglg.v=!1;W(U,"ShadowDistance",z,"Dstn");W(U,"ShadowBlur",z,"blur");
W(U,"ShadowAngle",z,"lagl",180);z.Opct.v.val=100;C(U,"ShadowColor",z,"Clr")}if(c=="IrGl"){z.Md.v.BlnM="Nrml";
var _=U.MaskSoftness,v=U.GlowWidth;if(_&&v){_=parseInt(_);v=parseInt(v);z.blur.v.val=v+_;z.Ckmt.v.val=Math.round(100*v/(v+_))}W(U,"BevelContrast",z,"Opct");
C(U,"OuterBevelColor",z,"Clr")}if(c=="OrGl"){z.Md.v.BlnM="Nrml";var _=U.MaskSoftness,v=U.GlowWidth;if(_&&v){_=parseInt(_);
v=parseInt(v);z.blur.v.val=v+_}W(U,"BevelContrast",z,"Opct");C(U,"OuterBevelColor",z,"Clr")}if(c=="ebbl"){z.uglg.v=!1;
W(U,"BevelWidth",z,"blur");W(U,"AngleSoftness",z,"Sftn");W(U,"BevelContrast",z,"srgR");W(U,"LightAngle",z,"lagl")}}return $}function W(a,B,$,I,x){var U=a[B];
if(x==null)x=0;if(U)$[I].v.val=parseInt(U)+x}function C(a,B,$,I){var x=a[B];if(x){x=x.slice(1);if(x.length==6)x=x+"ff";
if(x.length!=8)throw"e";var U=E(parseInt(x,16)),N=$[I].v;N.Rd.v=U[0]*255;N.Grn.v=U[1]*255;N.Bl.v=U[2]*255;
$.Opct.v.val=Math.round($.Opct.v.val/100*U[3]*100)}}return H}();function fm(){}fm.U4=function(){function n(z,_){var v=!1,o=Date.now(),y=x(z,v),Q=1;
if(v)console.log("part found",Date.now()-o);o=Date.now();var k=I(y),S=k.Layer,L=k.Header;if(v)console.log(k);
var X=S[0];X=k.Layer[0];if(v)console.log("document parsed",Date.now()-o);o=Date.now();k.Setup.Gradient=$(k.Setup.Gradient,y);
if(v)console.log("grads loaded",Date.now()-o);o=Date.now();k.Setup.Pattern=B(k.Setup.Pattern,y);if(v)console.log("patts loaded",Date.now()-o);
o=Date.now();k.Setup.DocumentData=a(k.Setup.DocumentData,y).pop();if(v)console.log("docdata loaded",Date.now()-o);
o=Date.now();k.Setup.SVGFilter=a(k.Setup.SVGFilter,y);if(v)console.log("svgfilter loaded",Date.now()-o);
o=Date.now();var s=L.Cropmarks,M=L.BoundingBox.split(" ").map(parseFloat),V=L.ArtSize?L.ArtSize.split(" ").map(parseFloat):[M[2]-M[0],M[3]-M[1]];
_.v=Math.round(V[0]);_.o=Math.round(V[1]);var l=[1,0,0,1,-M[0]+(_.v-(M[2]-M[0]))/2,-M[1]+(_.o-(M[3]-M[1]))/2];
l[3]=-1;l[5]=_.o-l[5];if(s){s=s.split(" ").map(parseFloat);_.v=Math.round(s[2]-s[0]);_.o=Math.round(s[3]-s[1]);
l=[1,0,0,-1,-s[0],_.o+s[1]]}var e=k.Setup.DocumentData;if(e&&e[0]&&e[0].ArtboardArray){var Y=e[0].ArtboardArray;
if(Y.length!=1)console.log(Y.length,"artboards");var J=new eL;for(var R=0;R<Y.length;R++){var G=Y[R],F=G.PositionPoint1,b=G.PositionPoint2,h=F[0],bj=Math.min(F[1],b[1]),i4=b[0],t=Math.max(F[1],b[1]);
J=J.AL(new eL(h,bj,i4-h,t-bj))}_.v=Math.round(J.v);_.o=Math.round(J.o);l[4]=-J.x;l[5]=J.y+_.o}var aG=Math.max(_.v,_.o);
while(aG*Q<1200)Q++;while(aG*Q>6e3)Q*=.5;_.v=Math.round(_.v*Q);_.o=Math.round(_.o*Q);_.xm=Math.round(72*Q);
_.buffer=j.U(_.v*_.o*4);for(var R=0;R<6;R++)l[R]*=Q;for(var jd=0;jd<S.length;jd++){var bP=S[jd],gz=bP.Layer;
if(gz&&gz[0].Raster){var fZ=bP.Raster;if(fZ==null)fZ=bP.Raster=[];fZ=bP.Raster=fZ.concat(gz[0].Raster);
fZ.sort(function(a9,bi){return a9._begin-bi._begin})}var dt=W(y,bP);q(_,dt,l,k,bP,y)}if(v)console.log("layers created",Date.now()-o);
o=Date.now()}function q(z,_,v,o,y,k){var S="",L=0,X="",s=UDOC.G,M=UDOC.getState(),V="norm",l=1,e="SoCo",G=!1,F=0,h=null,bj=!1,i4=0,t=null,aG,Q,jd,bP=0,gz=0,fZ=0;
M.ctm=v;var Y=[0,0,0],J=[0,0,0],b=[],dt=[],a9=[];for(var bi=0;bi<_.length;bi++){var az=_[bi];if(az[0]=="%"){if(az=="%_/ArtDictionary :"&&i4==0)h=[az.slice(2)];
else if(h!=null){if(az=="%_"&&i4==0){var hd=m(h)[0],aB=hd.AI10_ArtUID;if(aB&&!aB.startsWith("XMLID"))z.h[z.h.length-1].WR(c(aB));
h=null}else{h.push(az.slice(bj?1:2));if(az=="%_X=")i4++;if(az=="%_X+")i4--;if(az=="%_/Binary : /ASCII85Decode ,")bj=!0;
if(bj&&az.endsWith("~>"))bj=!1}}else if(t){aG+=(aG==""?"":" ")+az.slice(2);if(aG.endsWith("X#")){t.push(aG.slice(0,aG.length-3));
aG=""}}continue}else if(az=="/Mesh X!"){t=[];aG="";continue}else if(az=="/End X!"){p(t,M,z);t=null;continue}az=az.trim();
var cv=az.split(" "),c$=cv[cv.length-1],cT=c$.toLowerCase(),fp=cv.map(parseFloat);if(c$=="m")s.moveTo(M,fp[0],fp[1]);
else if(c$=="L"||c$=="l")s.lineTo(M,fp[0],fp[1]);else if(c$=="V"||c$=="v"||c$=="Y"||c$=="y")s.quadCurveTo(M,fp[0],fp[1],fp[2],fp[3]);
else if(c$=="C"||c$=="c")s.curveTo(M,fp[0],fp[1],fp[2],fp[3],fp[4],fp[5]);else if(c$=="H"||c$=="h"){if(c$==cT)s.closePath(M);
b.push(JSON.parse(JSON.stringify(M.pth)))}else if(c$=="Xy"){V=["norm","mul ","scrn",null,"sLit"][fp[0]];
l=fp[1];if(V==null){V="norm";console.log("unknown blend mode",fp[0])}}else if(c$=="Xd"){var cD=z.h[z.h.length-1];
cD.opacity=Math.round(255*l);cD.Nl=cD.z7()&&V=="norm"?"pass":V}else if(c$=="AE")bP=fp[0];else if(c$=="Ae")gz=fp[0];
else if(c$=="Xw")fZ=fp[0];else if(c$=="*"){var f_=M.pth.crds,f9=M.ctm,dO=f_[0]==f_[2]?0:1;z.lA.push([dO,f_[dO]]);
s.newPath(M)}else if(c$=="Xh")Q=fp;else if(c$=="XN")jd=az.split(" ")[0];else if(c$=="XI"){if(Q==null)continue;
var a6=y.Raster;if(a6==null){console.log("no Raster");continue}var hb=a6[L++].Data,jr=hb._begin,dh=hb._end;
while(k[jr]!=88)jr++;jr+=3;var jq=k.slice(jr,dh),g3=Q[8],c6=Q[9],cd=g3*c6,jn=j.U(cd*4);jn.fill(255);
var cV=_[bi-2];cV=cV.slice(cV.indexOf("]")+2).split(" ").map(parseFloat);var fM=cV[7],bE=cV[8],gU=cV[6],g6=Math.ceil(g3*fM*gU/8);
if(fM==1){if(gU==8)for(var R=0;R<cd;R++)for(var cu=0;cu<3;cu++)jn[4*R+cu]=jq[R];else if(gU==1)for(var f5=0;
f5<c6;f5++)for(var iP=0;iP<g3;iP++)for(var cu=0;cu<3;cu++)jn[4*(f5*g3+iP)+cu]=255*(jq[f5*g6+(iP>>>3)]>>>7-(iP&7)&1);
else throw gU}else if(fM==3)for(var R=0;R<cd;R++)for(var cu=0;cu<3;cu++)jn[4*R+cu]=jq[3*R+cu];else if(fM==4||fM==5)for(var R=0;
R<cd;R++){var id=w([jq[fM*R+0]/255,jq[fM*R+1]/255,jq[fM*R+2]/255,jq[fM*R+3]/255]);jn[4*R+0]=id[0]*255;
jn[4*R+1]=id[1]*255;jn[4*R+2]=id[2]*255}else throw jd;if(bE==1){var aY=c6*g6;for(var R=0;R<cd;R++)jn[4*R+3]=jq[aY+R]}var fT=j.xo(jn,g3,c6)?"JPG":"PNG";
if(g3*c6<700*700)fT="PNG";var h8=al.vE(fT).U7([[jn.buffer]],g3,c6),jf=z.YC(new Uint8Array(h8),"<Image>",0,0);
z.h.push(jf);jf.Nl=V;jf.opacity=Math.round(255*l);jf.c4(fZ==0);var v=new b$;v.scale(1,-1);v.concat(Z(Q.slice(1)));
v.concat(Z(M.ctm));var h2=jf.rect.clone();h2.x=h2.y=0;var cv=j.O.aS(h2).W;j.O.B(cv,v,cv);jf.add.SoLd.Trnf=A.Z.g8(cv);
jf.add.SoLd.nonAffineTransform=A.Z.g8(cv);jf.Ze(z,!1)}else if(c$=="Ln"){S=T(az)}else if(c$=="u"||c$=="q"||c$=="Lb"){dt.push(gz==1);
a9.push((c$=="Lb"?1-fp[0]:fZ)==0);if(G)continue;z.h.push(z.Ch())}else if(c$=="U"||c$=="Q"||c$=="LB"){if(dt.length==0||a9.length==0)throw bi;
var e9=dt.pop(),jt=a9.pop();if(c$=="LB")e9=bP==1;if(G)continue;var jf=z.Je();jf.WR((c$=="U"?"<Group>":"<Clip Group>")+X);
if(c$=="LB")jf.WR(S);if(c$=="Q"&&b.length!=0){var ed=b.pop(),bZ=UDOC.G.isBox(ed,[0,0,z.v,z.o]);if(!bZ)d(jf,ed,z)}jf.add.lsct=e9?fX.eV:fX.Ku;
jf.Nl="pass";jf.GZ=24;jf.c4(jt);z.h.push(jf)}else if(c$=="Bb"||c$=="Bh"||c$=="BB"){}else if(c$=="Bg"){var ji=o.Setup.Gradient[T(az)];
e="GdFl";Y=E(ji.hw,ji.a3i)}else if(c$=="Bm"||c$=="Xm"){var a4=Y.Type.v.GrdT;if(a4=="Lnr"&&c$!="Xm"||a4=="Rdl"&&c$!="Bm")continue;
var eG=j.O.Uh(M.pth.crds),e6=new fc(0,0),eH=new fc(1,0),eP=new b$;eP.concat(Z(fp));eP.concat(Z(M.ctm));
e6=eP.i1(e6);eH=eP.i1(eH);if(a4=="Lnr"){e6.x=(e6.x+eH.x)/2;e6.y=(e6.y+eH.y)/2}j.f.hp(e6,eH,eG,Y)}else if(c$=="p"){var iE=T(az),aR=o.Setup.Pattern[iE];
if(aR.raw==null){var eG=aR.C8,g3=Math.round(eG[2]-eG[0]),c6=Math.round(eG[3]-eG[1]),hd=new gd;hd.v=g3;
hd.o=c6;hd.buffer=j.U(g3*c6*4);q(hd,aR.K$,[1,0,0,-1,-aR.C8[0],c6+aR.C8[1]],o,y,k);aR.raw=new Uint8Array(al.vE("PSD").U7(hd))}var aq=az.slice(az.indexOf(")")+2),gv=aq.slice(0,aq.indexOf("[")-1).split(" ").map(parseFloat),fL=aq.slice(aq.indexOf("[")+1,aq.indexOf("]")).split(" ").map(parseFloat);
e="patt";Y=[iE,gv,fL]}else if(c$=="J"||c$=="j"||c$=="w"||c$=="M"||c$=="d"){for(var R=1;R<cv.length;R++){var hq=cv[R],cy=fp[R-1];
if(hq=="w")M.lwidth=cy;if(hq=="j")M.ljoin=cy;if(hq=="J")M.lcap=cy;if(hq=="d"){var bX=az.slice(az.indexOf("[")+1,az.indexOf("]")).trim();
if(bX.length!=0){var is=bX.split(" ").map(parseFloat);M.dash=is}}}}else if(cT=="xa"||cT=="xx"){var dr=[fp[4],fp[5],fp[6]];
e="SoCo";if(c$=="Xa"||c$=="Xx")Y=dr;else J=dr}else if(cT=="xk"){var dr,cx=fp[fp.length-2],g1=fp[fp.length-3];
if(cx==0)dr=w(fp);else if(cx==1){dr=[fp[4],fp[5],fp[6]];for(var R=0;R<3;R++)dr[R]=g1*1+(1-g1)*dr[R]}else throw az;
e="SoCo";if(c$=="Xk")Y=dr;else J=dr}else if(cT=="k"||cT=="x"){if(cT=="x"){fp.pop();var da=1-fp.pop();
for(var R=0;R<4;R++)fp[R]*=da}var dr=w(fp);e="SoCo";if(c$==cT)Y=dr;else J=dr}else if(cT=="g"){var dr=[fp[0],fp[0],fp[0]];
e="SoCo";if(c$==cT)Y=dr;else J=dr}else if(cT=="n")s.newPath(M);else if(c$=="*u"){G=!0;F=0}else if(c$=="*U"||cT=="s"||cT=="f"||cT=="b"){if(c$!="*U"&&G){if(cT=="f"||cT=="b")F|=1;
if(cT=="s"||cT=="b")F|=2;continue}if(c$==cT)s.closePath(M);if(c$=="*U"){G=!1}var jf;if(e=="patt"){var aR=o.Setup.Pattern[Y[0]];
jf=z.YC(aR.raw,"<Pattern>",0,0);var h2=jf.rect.clone();h2.x=h2.y=0;var cv=j.O.aS(h2).W,fL=Z(Y[2]);fL.R_=fL.so=0;
j.O.B(cv,fL,cv);jf.add.SoLd.Trnf=A.Z.g8(cv);jf.add.SoLd.nonAffineTransform=A.Z.g8(cv);jf.Ze(z,!1)}else{jf=z.Je();
jf.GZ|=16;var aS=jf.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));aS.strokeEnabled.v=aS.fillEnabled.v=!1;
if(e=="SoCo"){jf.add.SoCo=JSON.parse(iq.FT[iq.order.indexOf("SoFi")]);var iZ=jf.add.SoCo.Clr.v;i(iZ,Y)}if(e=="GdFl")jf.add.GdFl=Y;
if(cT=="f"||cT=="b"||c$=="*U"&&F&1)aS.fillEnabled.v=!0;if(cT=="s"||cT=="b"||c$=="*U"&&F&2)eA.OF(aS,M,1,eA.ej(J))}jf.WR("<"+(c$=="*U"?"Compound ":"")+"Path>"+X);
jf.Nl=V;jf.opacity=Math.round(255*l);jf.c4(fZ==0);d(jf,M.pth,z);z.h.push(jf);s.newPath(M)}else if(c$==","&&cv[1]=="/StoryIndex"){var hs=o.Setup.TextDocument,aW=null;
if(!(hs instanceof Array))hs=o.Setup.TextDocument=C(hs,k);var aD=hs[0],iT=hs[2];if(aD._DocumentResources)aD=hs[0]=dH.af6(aD);
else dH.KR(aD);var jf=z.Je();jf.add.lnsr="rend";jf.add.TySh=hx.sB(0,0);var fQ=hM.aqJ(aD),fx=jf.add.TySh.Bd=fQ[fp[0]];
if(fx==null){console.log("text not found");continue}jf.WR(hx.Q2(fx).slice(0,50));jf.Nl=V;jf.opacity=Math.round(255*l);
jf.c4(fZ==0);var da=aD._1._1[fp[0]]._1._0[0]._0;da=parseInt(da.slice(1));var i8=aD._0._8._0,ho=i8[da]._0;
if(ho._0)aW=H(ho._0);else if(ho._1)aW=H(ho._1._0);else aW=H(ho._2._2).slice(3);if(aW.length!=2){var eG=j.O.Uh(aW);
aW=[eG.x,eG.y];if(eG.P()!=0){hx.vF(fx,1);hx.XM(fx,[0,0,Math.round(eG.v),Math.round(eG.o)])}}var ic=new b$,iO=new b$(1,0,0,1,aW[0],aW[1]),aT=new b$(1,0,0,1,-iT[0],-iT[1]),bp=Z(M.ctm),co=new b$;
if(ho._2&&ho._2._2){var v=H(ho._2._2);co=new b$(v[0],v[1],v[2],v[3],v[4],v[5])}ic.concat(iO);ic.concat(co);
ic.concat(aT);ic.scale(1,-1);ic.concat(bp);jf.add.TySh.B=ic;z.h.push(jf);z.pL=!0}}}function p(z,_,v){var o=UDOC.G,y=[],k=[],S="/DeviceGray",L,X=[],s=1,f_=0,f9=0,dO=0;
for(var M=0;M<z.length;M++){var V=z[M];if(V.endsWith(" /CS")){var l=V.indexOf("/NChannel"),e=V.indexOf("/Process");
if(V.startsWith("/DeviceRGB")){S="/DeviceRGB";L=3}else if(V.startsWith("/DeviceGray")){S="/DeviceGray";
L=1}else if(V.startsWith("/DeviceCMYK")){S="/DeviceCMYK";L=4;X=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(l!=-1){S="/DeviceCMYK";
L=parseInt(V.slice(l-2,l-1));var Y=1;for(var R=0;R<L;R++){Y=V.indexOf("[",Y);X[L-1-R]=V.slice(Y+1,Y+8).split(" ").map(parseFloat);
Y++}}else if(e){S="/DeviceGray";L=1}else throw V}else if(V[0]=="["){var J=V.indexOf("]"),G=V.slice(1,J).split(" ").map(parseFloat),F=V.slice(J+2),b,h,bj,i4,t,aG;
if(F=="/Size"||F=="/P"||F=="/R")continue;if(F=="/S"||F=="/A"){b=G[0];h=G[1];bj=G[2];i4=G[3];t=G[4];aG=G[5]}else if(F=="/N"){var Q=L+(s==1?0:1),jd;
b=G[Q+0];h=G[Q+1];bj=G[Q+2];i4=G[Q+3];t=G[Q+5];aG=G[Q+6];if(S=="/DeviceRGB")jd=G.slice(0,3);else if(S=="/DeviceGray")jd=[G[0],G[0],G[0]];
else if(S=="/DeviceCMYK"){var bP=[0,0,0,0];for(var R=0;R<L;R++){var gz=G[R],fZ=X[R];bP[0]+=gz*fZ[0];
bP[1]+=gz*fZ[1];bP[2]+=gz*fZ[2];bP[3]+=gz*fZ[3]}jd=w(bP)}else throw jd;jd.push(G[L]);k.push([jd,b,h])}else throw F;
y.push([F,t,aG,b,h,bj,i4])}else if(V=="/E"){var dt=y.slice(0),a9=0;for(var R=0;R<y.length;R++){var bi=y[R][0];
if(bi=="/N"){a9++;continue}var az=R,hd=R+1;while(y[hd][0]!="/N"&&hd<y.length)hd++;if(a9==0||a9==3){for(var aB=0;
aB<hd-az;aB++)dt[az+aB]=y[hd-1-aB]}else for(var aB=az;aB<hd;aB++){var cv=dt[aB],c$=cv[1];cv[1]=cv[5];
cv[5]=c$;c$=cv[2];cv[2]=cv[6];cv[6]=c$}R=hd-1}y=[];for(var R=0;R<dt.length;R++){var cv=dt[R];y.push(cv[1],cv[2],cv[3],cv[4],cv[5],cv[6])}var cT=y.length;
o.moveTo(_,y[2],y[3]);for(var R=0;R<cT;R+=6){var bj=y[(R+4)%cT],i4=y[(R+5)%cT],t=y[(R+6)%cT],aG=y[(R+7)%cT],b=y[(R+8)%cT],h=y[(R+9)%cT];
o.curveTo(_,bj,i4,t,aG,b,h)}o.closePath(_);y=[]}else if(V.endsWith("/Version"))s=parseFloat(V[0])}var fp=v.Je();
fp.GZ|=16;fp.WR("<Mesh>");var cD=fp.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));cD.strokeEnabled.v=!1;
for(var R=0;R<k.length;R++)for(var aB=R+1;aB<k.length;aB++){var a6=k[R][0],hb=k[aB][0],jr=a6[0]-hb[0],dh=a6[1]-hb[1],jq=a6[2]-hb[2],g3=Math.sqrt(jr*jr+dh*dh+jq*jq);
if(g3>dO){dO=g3;f_=R;f9=aB}}var c6=k[f_],cd=k[f9],jn=fp.add.GdFl=E(0,[[0,c6[0]],[1,cd[0]]]),cV=Z(_.ctm),fM=cV.i1(new fc(c6[1],c6[2])),bE=cV.i1(new fc(cd[1],cd[2])),gU=j.O.Uh(_.pth.crds);
fM.x=(fM.x+bE.x)/2;fM.y=(fM.y+bE.y)/2;j.f.hp(fM,bE,gU,jn);d(fp,_.pth,v);v.h.push(fp);o.newPath(_)}function E(z,_){var v=JSON.parse(iq.FT[iq.order.indexOf("GrFl")]),o=v.Grad.v;
o.Intr.v=0;v.Type.v.GrdT=["Lnr","Rdl"][z];j.f.Rj(_,o);return v}function T(z){return z.slice(z.indexOf("(")+1,z.indexOf(")"))}function i(z,_){z.Rd.v=_[0]*255;
z.Grn.v=_[1]*255;z.Bl.v=_[2]*255}function H(z){var _=[];for(var R=0;R<z.length;R++)_[R]=parseFloat(z[R].slice(1));
return _}function Z(z){return new b$(z[0],z[1],z[2],z[3],z[4],z[5])}function w(z){return UDOC.C.cmykToRgb(z)}function d(z,_,v){z.add.vmsk=new g.Xg;
if(_.crds.length!=0)z.add.vmsk.Q=O(_);z.J0();z.VA(v)}function O(z){var _={W:z.crds,F:z.cmds},v=j.O.zt(_,!1);
return v}function W(z,_){var v=[_._begin],o=_._end-_._begin,y=o,k=_.Raster,M=0;if(k){for(var R=0;R<k.length;
R++){var S=k[R].Data,L=S._begin+32,X=S._end;if(L>X)L=X;v.push(L,X);y-=X-L}}v.push(_._end);var s=new Uint8Array(y);
for(var R=0;R<v.length;R+=2){var L=v[R],V=v[R+1]-L;s.set(new Uint8Array(z.buffer,L,V),M);M+=V}return u.L4(s).split(/\r\n|\r|\n/)}function C(z,_){if(z==null)return[];
var v=W(_,z),o="",y="",k=0,S;for(var R=2;R<v.length;R++){var L=v[R];if(L[0]=="%"){if(k==0)o+=L.slice(1);
else y+=L.slice(1)}else if(L==";")k++;else if(L.endsWith("/RulerOrigin ,"))S=L.split(" ").slice(0,2).map(parseFloat)}var X=[o,y],s=[];
for(var R=0;R<2;R++){var M=X[R],V=new Uint8Array(M.length);u.dy(V,0,M);var l=FromPS.F.ASCII85Decode({buff:V,off:0}),e=ju.U4(l);
s.push(e)}s.push(S);return s}function a(z,_){if(z==null)return[];var v=W(_,z);v=v.slice(1);for(var R=0;
R<v.length;R++){var o=v[R];if(o[0]=="%")v[R]=o.slice(o[1]=="_"?2:1)}var y=m(v);return y}function B(z,_){var v={};
if(z==null)return v;for(var R=0;R<z.length;R++){var o=W(_,z[R]),y=o[1],k=T(y),S=y.slice(y.indexOf(")")+2).split(" ").map(parseFloat),L=[];
for(var X=2;X<o.length;X++)L.push(o[X].slice(2));v[k]={C8:S,K$:L}}return v}function $(z,_){var v={},o,y;
if(z==null)return v;var k=[];for(var R=0;R<z.length;R++){var S=W(_,z[R]);for(var L=0;L<S.length;L++){var X=S[L];
if(X[0]=="("){var s=X.split(")");o=s[0].slice(1);var M=s[1].split(" ");y=parseInt(M[1])}else if(X.endsWith("%_BS")){var s=X.split(" "),Y,J=1;
s.pop();s=s.map(parseFloat);var V=s.pop(),l=s.pop(),e=s.pop();if(e==0)Y=[s[0],s[0],s[0]];else if(e==2||e==4)Y=[s[4],s[5],s[6]];
else if(e==1||e==3)Y=w(s);else if(e==6){if(s.length==3)Y=[s[0],s[0],s[0]];else Y=w(s);J=s.pop()}else{throw e}k.push([V/100,Y,J,l/100])}else if(X=="BD"){for(var G=0;
G<k.length-1;G++)k[G][3]=k[G+1][3];k.sort(function(F,b){return F[0]-b[0]});v[o]={hw:y,a3i:k};k=[]}}}return v}function I(z){var _="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),v=Date.now(),o=0,y=[],k={Header:{}},S=[k],L=z.length;
while(o<L){var X=o;while(X!=L&&z[X]!=13&&z[X]!=10){X++}if(z[o]==37&&z[o+1]==95&&z[o+2]==37)o+=2;if(z[o]==37&&(z[o+1]==37||z[o+1]==65)){var s=u.xj(z,o,X-o);
if(s=="%%EndComments"||s=="%EndComments"||s=="%AI5_Begin_NonPrinting"||s=="%AI5_End_NonPrinting--"||s.startsWith("%AI17_Begin_Content_if_version_gt")||s=="%AI17_End_Versioned_Content"){}else{var M=s.indexOf("Begin"),V=s.indexOf("End");
if(M!=-1){var l=s.slice(M+5).split(":")[0],e={_begin:o,_end:o},Y=S[S.length-1];if(_.indexOf(l)!=-1){if(Y[l]==null)Y[l]=[];
Y[l].push(e)}else{if(Y[l]!=null){console.log(S);throw s}Y[l]=e}S.push(e);if(s.startsWith("%%BeginData")){X=u.vC(z,"%%EndData",o)}else if(s=="%AI9_BeginDocumentData")X=u.vC(z,"%AI9_EndDocumentData",X);
else if(s=="%AI11_BeginTextDocument")X=u.vC(z,"%AI11_EndTextDocument",X)}else if(V!=-1){S.pop()._end=o}else if(S.length==1&&(s.startsWith("%AI")||s.startsWith("%%")&&s.indexOf(" ")!=-1)){var J=1;
if(s.startsWith("%AI"))while(s[J]!="_"&&J<s.length)J++;var G=s.indexOf(":");if(G==-1)G=s.indexOf(" ");
var F=s.slice(J+1,G),b=s.slice(G+1).trim();k.Header[F]=b}}}o=X;if(z[o]==13)o++;if(z[o]==10)o++}return k}function x(z,_){var v=Date.now(),o=new Uint8Array(z),y,k=o[2]==68;
if(_)console.log(!k?"EPS":"PDF");if(k){var S=u.vC(o,"/AIMetaData "),i4=!1,t=!1;while(o[S]!=60)S--;S--;
var L=u.vC(o,">>",S),X=u.xj(o,S+2,L-S-2).split("/"),s=[];for(var R=0;R<X.length;R++){var M=X[R],V=M.startsWith("AIPrivateData"),l=M.startsWith("AIPDFPrivateData");
if(!V&&!l)continue;var e=M.trim().split(/\s+/),Y=parseInt(e[1]),J=parseInt(e[0].slice(V?13:16));s.push([J,Y])}if(_)console.log("--- map made",Date.now()-v);
v=Date.now();var G=FromPDF.indexOfXref(o),F=[],b=FromPDF.readXrefTrail(o,G,F),h={buff:o,off:0},bj=new Array(s.length),aG=S;
for(var R=0;R<s.length;R++){var J=s[R][0],Y=s[R][1],Q=FromPDF.getIndirect(Y,0,h,F),jd=Q.buff,bP=Q["/Filter"],gz=0;
if(bP!=null&&typeof bP=="string")bP=[bP];var fZ=u.xj(jd,gz,gz+20);if(fZ=="%AI12_CompressedData"){gz+=20;
i4=!0}else if(fZ=="%AI24_ZStandard_Data"){gz+=20;t=!0}jd=new Uint8Array(jd.buffer,jd.byteOffset+gz,jd.length-gz);
if(bP)for(var dt=0;dt<bP.length;dt++){var a9=bP[dt];if(a9=="/FlateDecode")jd=pako.inflate(jd);else if(a9=="/ASCIIHexDecode")jd=FromPS.F.HexDecode({buff:jd,off:0});
else throw a9}bj[J-1]=jd}if(_)console.log("--- arrays found",Date.now()-v);v=Date.now();var bi=u.xj(bj[0],0,13);
if(bi=="%%BoundingBox"||bi=="%AI7_Thumbnai")bj=bj.slice(1);if(bi=="%AI24_ZStanda"){bj[0]=bj[0].slice(20);
t=!0}y=U(bj);if(_)console.log("--- concatenated",Date.now()-v);v=Date.now();if(i4)y=UZIP.inflate(y);
if(t)y=al.fd.jX(y);if(_)console.log("--- inflated",Date.now()-v);v=Date.now()}else{var az=u.L4(o);if(az.indexOf("%AI5_BeginLayer")!=-1){y=o}else{var hd=az.split(/[\n\r]+/),aB=[],cv=!1;
for(var c$=0;c$<hd.length;c$++){var cT=hd[c$].trim();if(cT=="%AI9_PrivateDataEnd"){cv=!1;break}else if(cT=="%AI9_DataStream"||cT=="%AI24_DataStream"){cv=!0}else if(cv)aB.push(cT.slice(1))}var fp=u.Va(aB.join("")),cD=FromPS.F.ASCII85Decode({buff:fp,off:0});
if(cD[0]==120&&cD[1]==156)y=UZIP.inflate(cD);else y=al.fd.jX(cD)}}return y}function U(z){var _=0,o=0;
for(var R=0;R<z.length;R++)_+=z[R].length;var v=new Uint8Array(_);for(var R=0;R<z.length;R++){var y=z[R];
v.set(y,o);o+=y.length}return v}function N(z,_){for(var R=0;R<_.length;R++)if(z.startsWith(_[R]))return!0;
return!1}function m(z){var _=[],v=[],top=-1,o,y=null,k=null,S=0;for(var L=0;L<z.length;L++){var X=z[L];
if(o){X=o+X;o=null}var s="\t".repeat(_.length);if(y!=null){y.push(X);if(X.endsWith("~>")){var M=u.Va(y.join("")),V=FromPS.F.ASCII85Decode({off:0,buff:M});
_.push(V);v.push(!1);top++;y=null}}else if(k!=null){if(X=="X+"){if(S==1){_.push(k);v.push(!1);top++;
k=null}else S--}else if(X=="X=")S++;else k.push(X)}else if(X=="/Binary : /ASCII85Decode ,"){y=[]}else if(X=="X="){k=[];
S++}else if(X=="/SVGFilter :"||X=="; /Def ;")continue;else if(X.startsWith("/")&&X[1].toUpperCase()!=X[1].toLowerCase()){if(X.startsWith("/XMLUID")){var l=f(X);
if(v[top])throw"e";_[top][l[4]]=l[2]}if(X.startsWith("/GObjRef")){var l=f(X);if(!v[top])throw"e";_[top].push(l[2])}else{var e=X.startsWith("/Array")||X.startsWith("/Document");
_.push(e?[]:{});v.push(e);top++}}else if(X.endsWith(",")){var Y,J,l=f(X);l.pop();if(l[0]==";"||l.length==1){J=_.pop();
v.pop();top--;Y=v[top]?null:l.pop()}else{Y=v[top]?null:l.pop();var G=l.pop(),F=l[0];if(G=="/Int")J=parseInt(F);
else if(G=="/Real")J=parseFloat(F);else if(G=="/Bool")J=F=="1";else if(G=="/String"||G=="/UnicodeString")J=l.join("");
else if(G=="/RealMatrix"||G=="/RealPoint"||G=="/RealPointRelToROrigin")J=l.map(parseFloat);else throw G}if(v[top])_[top].push(J);
else _[top][Y]=J}else if(X==";"){}else if(X==""){}else{if(X.indexOf("/RealPoint")!=-1){}else if(X.startsWith("(")&&X.endsWith(")")){}else if(X.endsWith("/RealMatrix")){}else throw X;
o=o?o+X:X}}return _}function f(z){var _=0,v=[];while(_<z.length){var o=z[_],y=o.charCodeAt(0);if(o==" ")_++;
else if(o==","||o==";"||o==":"){v.push(o);_++}else if(o=="("){var k=_+1;while(!(z[k]==")"&&z[k-1]!="\\"))k++;
var S=z.slice(_+1,k);v.push(S);_=k+1}else if(o=="/"||o=="-"||48<=y&&y<=57){var k=_;while(z[k]!=" ")k++;
v.push(z.slice(_,k));_=k}else throw o}return v}function c(z){var _="";for(var R=0;R<z.length;R++){if(z[R]=="_"&&z[R+1]=="x"){var eR=parseInt(z.slice(R+2,R+4),16);
_+=String.fromCharCode(eR);R+=4}else if(z[R]=="_")_+=" ";else _+=z[R]}return _}function D(z){var _="xmlnode-nodename",v="xmlnode-nodevalue",o="xmlnode-attributes",y="xmlnode-children",k=z[_],S=z[o],L=z[y],X={_nam:k};
for(var s in S){var M=S[s];if(Object.keys(M[o]).length!=0||M[y].length!=0)throw"e";if(M[_]!=s)throw"e";
X[s]=M[v]}if(L.length==0)return X;var V=X.cln=[];for(var R=0;R<L.length;R++)V.push(D(L[R]));return X}return n}();
function al(){}al.Q3={a9V:["PNG","JPG","SVG","GIF","PDF"],aoM:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
al.j9=function(n,q){var p=n.memory.buffer.byteLength;if(p<q)n.memory.grow((q-p>>>16)+1)};al.bG={ad8:function(n,q){fetch(n).then(function(p){return p.arrayBuffer()}).then(function(p){var E=new Uint8Array(p),T=0,w="";
if(q){T=E.length;var i={level:9},H=pako.deflateRaw(E,i),Z=UZIP.deflateRaw(E,i);console.log(T,H.length,Z.length);
E=H.length<Z.length?H:Z}for(var R=0;R<E.length;R++)w+=String.fromCharCode(E[R]);var d=btoa(w);console.log(JSON.stringify([T,d]))})},get:function(n,q){var p=BINDB[n],E=Date.now(),T=atob(p[1]),i=T.length,H=new Uint8Array(i);
for(var R=0;R<i;R++)H[R]=T.charCodeAt(R);if(p[0]!=0){var Z=new Uint8Array(p[0]);UZIP.inflateRaw(H,Z);
H=Z}if(q){var w=al.Y3(H.buffer);H=al.vE(w).es(H.buffer)}return H}};al.Y3=function(n){if(!(n instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var q=new Uint8Array(n),p=al.Oa,E,T=0,i=q.length-1;
if(p(q,[239,187,191]))T=3;while(T<q.length&&(q[T]==9||q[T]==10||q[T]==13||q[T]==32))T++;while(i!=0&&(q[i]==9||q[i]==10||q[i]==13||q[i]==32))i--;
if(p(q,[56,66,80,83]))E="psd";if(p(q,[102,116,121,112,109,105,102,49],4)||p(q,[102,116,121,112,97,118,105,102],4))E="avif";
if(p(q,[102,116,121,112,105,115,111,109],4))E="mp4";if(p(q,[102,116,121,112,109,112,52,50],4))E="mp4";
if(p(q,[0,255,75,65]))E="afphoto";if(p(q,[120]))E="pxd";if(p(q,[80,68,78,51]))E="pdn";if(p(q,[103,105,109,112,32,120,99,102,32]))E="xcf";
if(p(q,[102,105,103,45,107,105,119,105]))E="fig";if(p(q,[137,80,78,71,13,10,26,10])){E="png";var H=8;
while(H<q.length){var Z=u.s(q,H);H+=4;var w=u.xj(q,H,4);H+=4;if(w=="mkTS")E="fpng";H+=Z+4}}if(p(q,[87,76]))E="cdr";
if(p(q,[82,73,70,70])){var d=du.U4(q),O=d.LK;if(O=="WEBP")E="webp";else if(O.slice(0,3)=="CDR")E="cdr";
else E=O}if(p(q,[70,79,82,77])||p(q,[76,73,83,84])||p(q,[67,65,84,32])){var d=aM.U4(q),O=d.LK;if(O=="ILBM")E="ilbm";
else E=O}if(p(q,[255,216,255]))E="jpg";if(p(q,[0,0,0,12,106,80,32,32]))E="jpg";if(p(q,[48,0,1,0],4))E="jb2";
if(p(q,[71,73,70,56]))E="gif";if(p(q,[0,0,0,2,121,102,113,76]))E="msh";if(p(q,[0,0,0,3,121,102,113,76]))E="msh";
if(p(q,[0,0,0,16]))E="atn";if(p(q,[0,1]))E="aco";if(p(q,[0,2]))E="aco";if([0,1].indexOf(q[1])!=-1&&[1,2,3,9,10,11].indexOf(q[2])!=-1&&[0,16,24,32].indexOf(q[7])!=-1)E="tga";
if(p(q,[0,2,56,66,83,76]))E="asl";if(p(q,[0,1,0,-1,0,2,0]))E="abr";if(p(q,[0,2,0,-1,0,2,0]))E="abr";
if(p(q,[0,6,0,1]))E="abr";if(p(q,[0,6,0,2]))E="abr";if(p(q,[0,7,0,2]))E="abr";if(p(q,[0,9,0,2]))E="abr";
if(p(q,[0,10,0,2]))E="abr";if(p(q,[56,66,70,83]))E="shc";if(p(q,[56,66,80,84]))E="pat";if(p(q,[56,66,71,82]))E="grd";
if(p(q,[56,66,84,80]))E="tpl";if(p(q,[0,4,0,5]))E="acv";if(p(q,[99,117,115,104]))E="csh";if(p(q,[0,1,0,0,0]))E="otf";
if(p(q,[79,84,84,79]))E="otf";if(p(q,[116,116,99,102]))E="otf";if(p(q,[68,68,83,32]))E="dds";if(p(q,[80,86,82,3]))E="pvr";
if(p(q,[86,84,70,0]))E="vtf";if(p(q,[83,73,77,80]))E="fits";if(p(q,[0,0,1,0]))E="ico";if(p(q,[66,77]))E="bmp";
if(p(q,[40,0,0,0]))E="bmp";if(p(q,[80,49]))E="ppm";if(p(q,[80,50]))E="ppm";if(p(q,[80,51]))E="ppm";if(p(q,[80,52]))E="ppm";
if(p(q,[80,53]))E="ppm";if(p(q,[80,54]))E="ppm";if(p(q,[73,73,42,0]))E="tiff";if(p(q,[77,77,0,42]))E="tiff";
if(p(q,[70,85,74,73,70,73,76,77]))E="raf";if(p(q,[112]))E="lif";if(p(q,[73,73,26,0]))E="ciff";if(p(q,[83,81,76,105]))E="sketch";
if(p(q,[80,75])){var W=UZIP.parse(n,!0);if(W["document.json"])E="sketch";else if(W.manifest)E="xd";else E="zip"}if(p(q,[123]))E="json";
if(u.s(q,0)==q.length)E="icc";if(p(q,[35]))E="icc";if(p(q,[84,73,84,76],T))E="icc";if(p(q,[76,85,84,95],T))E="icc";
if(p(q,[60,63,120,109],T)){if(u.vC(q,"<look>")!=-1)E="icc";else E="svg"}if(p(q,[60,115,118,103],T))E="svg";
if(p(q,[60,33,100,111],T)||p(q,[60,33,68,79],T)){if(u.vC(q,"<svg")!=-1)E="svg";else E="html"}if(p(q,[37,33])||p(q,[197,208,211,198])){if(u.vC(q,"%AI9_PrivateDataBegin")!=-1||u.vC(q,"%AI5_BeginLayer")!=-1)E="ai";
else E="eps"}if(p(q,[37,80,68,70],T)){if(u.vC(q,"/AIMetaData ")!=-1)E="ai";else E="pdf"}else if(p(q,[10,69,79,70],i-3))E="dxf";
if(p(q,[1,0,9,0]))E="wmf";if(p(q,[215,205,198,154]))E="wmf";if(p(q,[1,0,0,0]))E="emf";if(p(q,[118,47,49,1]))E="exr";
if(p(q,[10,10,10,10]))E="jsx";if(p(q,[77,90]))E="exe";if(E==null&&j.raw.tK(q.length)!=null)return"tiff";
return E};al.Oa=function(n,q,p){if(p==null)p=0;for(var R=0;R<q.length;R++)if(q[R]!=-1&&n[p+R]!=q[R])return!1;
return!0};al.vE=function(n){var q={BMP:al.ar$,CDR:al.IR,DDS:al.oy,EMF:al.$x,DXF:al.Ga,EPS:al.OL,FIG:al.Bf,FPNG:al.uQ,GIF:al.E4,ICO:al.bu,ILBM:al.Te,FITS:al.lY,EXR:al.$y,JPG:al.uU,LIF:al.ho,PDF:al.i9,PDN:al.pZ,PNG:al.go,PPM:al.ir,PSD:al.wQ,PXD:al.gI,RAF:al.Zm,RAW:al.qO,SKETCH:al.nL,SVG:al.pe,TGA:al.MD,AVIF:al.af$,TIFF:al.nY,VTF:al.O_,WEBP:al.gS,WMF:al.DR,XCF:al.WI,XD:al.PC,EXE:al.Ck,AI:al.fd,AFPHOTO:al.YI,MP4:al.amB};
return q[n.toUpperCase()]};al.dY=function(R){var n=al.Q3.a9V,q=al.Q3.aoM,p,E=[];if(R==null)p=n.concat(q);
else p=R==0?n:q;for(var R=0;R<p.length;R++)if(al.vE(p[R]).U7)E.push(p[R]);return E};al.a8f=function(){var n;
function q(E){var T=E.target,i=T.width,H=T.height,Z=P.z("canvas");Z.width=i;Z.height=H;var w=Z.getContext("2d");
w.drawImage(T,0,0);n({Yd:new eL(0,0,i,H),data:w.getImageData(0,0,i,H).data.buffer})}function p(E,T,i){n=i;
var H=document.createElement("img");H.onload=q;H.src="data:"+T+";base64,"+al.SH(E)}return p}();al.cK=function(n,q,p,E,T){var i=al.O0(n,q,p,E,T),H=al.HM(i);
return H.buffer};al.HM=function(n){var q=atob(n.split(",").pop()),p=new Uint8Array(q.length);for(var R=0;
R<q.length;R++)p[R]=q.charCodeAt(R);return p};al.O0=function(n,q,p,E,T,i){if(!(n instanceof ArrayBuffer))throw"e";
if(E==null)E="png";if(E=="png"&&i==!0){var H=al.vE("PNG").U7([[n,0]],q,p);return"data:image/png;base64,"+al.SH(H)}var Z=al.n1;
if(Z==null)Z=al.n1=P.z("canvas");if(Z.width!=q||Z.height!=p){Z.width=q;Z.height=p}var w=Z.getContext("2d"),d=new ImageData(new Uint8ClampedArray(n,0,q*p*4),q,p);
w.putImageData(d,0,0);return Z.toDataURL("image/"+E,T)};al.abF=function(n,q,p,E,T){if(T==null)T=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",H="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25*Math.round(P.D())+")\">";
if(n==1)H+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
H+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+T+")\" xlink:href=\""+q+"\" x=\""+80*p+"\" y=\""+80*E+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var Z=new Uint8Array(H.length);u.qm(H,Z,0);var w="data:image/svg+xml;base64,"+al.SH(Z.buffer);return{Xt:w,n7:new eL(0,0,128,128),h1:new fc(64,64)}};
al.SH=function(n){var q=new Uint8Array(n),p="";for(var R=0;R<q.length;R++)p+=String.fromCharCode(q[R]);
return btoa(p)};al.arL=function(n){var q=atob(n),p=q.length,E=new Uint8Array(p);for(var R=0;R<p;R++)E[R]=q.charCodeAt(R);
return E.buffer};al.dn=function(n){var q=[],p=[];for(var R=0;R<n.h.length;R++){var E=n.h[R];if(E.getName().slice(0,3)=="_a_"){q.push(R);
p.push(E.Fp())}}return[q,p]};al.sp=function(n,q,p,E,T,i){if(p==null)p=n.v;if(E==null)E=n.o;var H=new eL(0,0,n.v,n.o),Z=new b$(p/(n.v+.001),0,0,E/(n.o+.001),0,0),d;
q=q.toUpperCase();var w=al.vE(q);if(w.ZX){n.Zk();d=w.U7(n,p,E,T,i)}else{var O=al.dn(n),W=O[0],C=O[1],a=null;
if(n.v4.length!=0){a=[];for(var R=0;R<n.v4.length;R++)a.push(n.v4[R].YH(H))}if(W.length<2){var B;if(p==n.v&&E==n.o)B=n.Zk().buffer;
else{var $=A.Z.i8([n.Zk(),H],Z);B=$.buffer.buffer;if(a){var I=j.U(H.P()*4);for(var R=0;R<a.length;R++){j.yI(a[R],I,3);
var $=A.Z.i8([I,H],Z),x=a[R]=j.U($.rect.P());j.J2($.buffer,x,3)}}}d=w.U7([[B,0,n.xm,n.Sm,a]],p,E,T)}else{var U=[];
for(var R=0;R<W.length;R++){var N=W[R],B;for(var m=0;m<W.length;m++)n.h[W[m]].c4(W[m]==N);n.ko();n.M();
n.FN();if(p==n.v&&E==n.o)B=n.Zk().buffer.slice(0);else{var $=A.Z.i8([n.Zk(),H],Z);B=$.buffer.buffer}var f=n.h[N].getName().split(",");
U.push([B,f[1]?parseInt(f[1]):100,n.xm,n.Sm,a])}for(var R=0;R<W.length;R++)n.h[W[R]].c4(C[R]);n.M();
n.FN();if(T){var c=T.length,D=T[c-2],z=T[c-1],_=T[c-4]/100;if(_!=1)for(var R=0;R<U.length;R++)U[R][1]=Math.round((U[R][1]==0?16:U[R][1])/_);
if(D)U.reverse();if(z){var v=U.slice(1,U.length-1);v.reverse();U=U.concat(v)}}d=w.U7(U,p,E,T)}}return d};
al.Db=function(n,q){var p=q[0].UE&&q[0].UE.startsWith("_a_"),E,T=new gd(n+".psd"),i=new eL(0,0,1,1);
if(p){E=T.Je();E.add.lsct=fX.eV;E.WR(n);E.Nl="pass";E.GZ=24;E.c4(!0);T.h.push(T.Ch())}for(var R=0;R<q.length;
R++){var H=q[R];i=i.AL(H.Yd);var Z=T.Je();Z.c4(R==0);Z.WR(q.length==1?"Background":"Layer "+R);if(R==0&&H.xm)T.xm=H.xm;
if(R==0&&H.Sm)T.Sm=H.Sm;if(H.UE)Z.WR(H.UE);if(H.Xj)for(var R=0;R<H.Xj.length;R++){var w=H.Xj[R],d=gd.f$(w[0]);
d.add.vmsk.Q=w[1];j.G.ra(w[1],new b$(i.v,0,0,i.o,0,0));T.kA.push(d)}Z.rect=H.Yd.clone();Z.buffer=new Uint8Array(H.data);
j.x0(Z);T.h.push(Z)}if(p)T.h.push(E);if(q[0].v4){for(var R=0;R<q[0].v4.length;R++){var O=new g.JI;T.v4.push(O);
O.rect=q[0].Yd.clone();O.channel=q[0].v4[R]}}T.p=[p?T.h.length-1:0];T.v=i.v;T.o=i.o;T.buffer=j.U(i.P()*4);
T.M();return T};al.go={};al.go.U7=function(n,q,p,E){if(E==null)E=[100,!1,0,0,0];var T={sRGB:1,loop:E[3]};
if(n[0][2]!=null){var i=Math.round(n[0][2]*(1e4/254));T.pHYs=[i,i,1]}var H=E[0],Z=H==100?0:Math.max(2,Math.floor(H*5));
if(Z==5)Z=4;var w=[],d=[];for(var R=0;R<n.length;R++){w.push(n[R][0]);d.push(n[R][1])}var O=UPNG.encode(w,q,p,Z,d,T,E[1]);
return O};al.go.ae5=function(n,q,p){return UPNG.encodeLL([n],q,p,3,1,8)};al.go.es=function(n){var q=Date.now(),p=UPNG.decode(n),E=UPNG.toRGBA8(p),T=p.width,i=p.height,H=0;
if(p.tabs.pHYs)H=Math.round(p.tabs.pHYs[0]*254/1e4);if(E.length==1)return[{Yd:new eL(0,0,T,i),data:E[0],xm:H}];
var Z=[];for(var R=0;R<E.length;R++){Z.push({UE:"_a_frm"+R+","+p.frames[R].delay,Yd:new eL(0,0,T,i),data:E[R],xm:H})}return Z};
al.ir={};al.ir.U7=function(n,q,p,E){var T=new Uint8Array(n[0][0]),i=q*p,H=i*3,Z="P6\n"+q+" "+p+"\n255\n",w=Z.length,d=j.U(w+H,!0);
for(var R=0;R<w;R++)d[R]=Z.charCodeAt(R);for(var R=0;R<i;R++){var O=R*4,W=R*3+w;d[W]=T[O];d[W+1]=T[O+1];
d[W+2]=T[O+2]}return d.buffer};al.ir.es=function(n){n=new Uint8Array(n);var q=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],p=0,E=String.fromCharCode(n[0])+String.fromCharCode(n[1]),T=[],i=0,H=E=="P1"||E=="P4"?2:3;
for(p=2;p<n.length;p++){var Z=n[p],w=String.fromCharCode(Z);if(Z=="#".charCodeAt(0)){while(n[p]!="\n".charCodeAt(0))p++;
continue}var d=q.indexOf(Z)!=-1;if(i==0&&!d){T.push(w);i=1;continue}if(i==1&&!d){T[T.length-1]+=w;continue}if(i==1&&d){i=0;
if(T.length==H)break;continue}}var O=parseInt(T[0]),W=parseInt(T[1]),C=O*W*4,a=E=="P1"||E=="P4"?1:255/parseInt(T[2]),B=j.U(C);
if(E=="P1"||E=="P2"||E=="P3"){var $="",I=0,i=0,x="#".charCodeAt(0);for(var R=p;R<n.length;R++){var Z=n[R],w=String.fromCharCode(Z),d=q.indexOf(Z)!=-1;
if(Z==x){while(n[R]!="\n".charCodeAt(0))R++}else if(i==0&&!d){$=w;i=1}else if(i==1){if(d){i=0;var U=parseInt($);
$="";if(E=="P1"){B[I]=B[I+1]=B[I+2]=(1-U)*255;B[I+3]=255;I+=4}if(E=="P2"){B[I]=B[I+1]=B[I+2]=Math.round(U*a);
B[I+3]=255;I+=4}if(E=="P3"){B[I]=Math.round(U*a);I++;if((I&3)==3){B[I]=255;I++}}}else $+=w}}}var N=O*W;
if(E=="P4")for(var m=0;m<W;m++){var f=m*8*Math.ceil(O/8);for(var c=0;c<O;c++){var R=f+c,D=n[p+1+(R>>3)];
D=D>>7-(R&7)&1;var z=m*O+c<<2;B[z]=B[z+1]=B[z+2]=(1-D)*255;B[z+3]=255}}if(E=="P5")for(var R=0;R<N;R++){var z=4*R;
B[z]=B[z+1]=B[z+2]=Math.round(n[p+1+R]*a);B[z+3]=255}if(E=="P6")for(var R=0;R<N;R++){var z=4*R,_=p+1+3*R;
B[z]=Math.round(n[_]*a);B[z+1]=Math.round(n[_+1]*a);B[z+2]=Math.round(n[_+2]*a);B[z+3]=255}return[{Yd:new eL(0,0,O,W),data:B.buffer}]};
al.oy={};al.oy.U7=function(n,q,p,E){if(E==null)E=[!0,!0];var T=new Uint8Array(n[0][0]),i=q&3,H=p&3;if(i!=0||H!=0){var Z=q+(i==0?0:4-i),w=p+(H==0?0:4-H),d=new Uint8Array(Z*w*4);
j.nz(d,4278190080);j.hk(T,new eL(0,0,q,p),d,new eL(0,0,Z,w));T=d;q=Z;p=w}var O=UTEX.DDS.encode(T.buffer,q,p,E);
if(!1){var W=UTEX.DDS.decode(O)[0],d=new Uint8Array(W.H5),C=0;for(var R=0;R<T.length;R++){var a=T[R]-d[R];
C+=a*a}console.log(C)}return O};al.oy.es=function(n){var q=UTEX.DDS.decode(n)[0];return[{Yd:new eL(0,0,q.width,q.height),data:q.image}]};
al.O_={};al.O_.es=function(n){var q=UTEX.VTF.decode(n).pop();return[{Yd:new eL(0,0,q.width,q.height),data:q.image}]};
al.uU={};al.uU.nc=null;al.uU.a5U=function(n,q){var p=al.uU.nc,E=n.byteLength,T=q.width,i=q.height,H=T*i,Z=5e6+2*E+H*(q.progressive?Math.max(2,q.numComponents)*4+1:8),w=p.instance.exports;
al.j9(w,Z);var d=new Uint8Array(w.memory.buffer),O=w.malloc(E);d.set(new Uint8Array(n),O);var W=w.malloc(4),C=w.malloc(4),eR=w.malloc(4),a=w.stbi_load_from_memory(O,E,W,C,eR,4);
w.free(O);w.free(W,C,eR);w.free(a);var B=d.slice(a,a+H*4);return B};(function(){var n=al.bG.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(n).then(function(q){al.uU.nc=q})}());
al.uU.U7=function(n,q,p,E){if(E==null)E=[70];var T=n[0],i=new Uint8Array(T[0]);if(j.yz(i)){var H=new Uint8Array(i.length),Z=new eL(0,0,q,p);
j.nz(H,4294967295);j.a.Ef("norm",i,Z,H,Z,Z,1);i=H}var w=new Uint8Array(al.cK(i.buffer,q,p,"jpeg",E[0]/100));
if(T[2]!=null){var d=al.uU.kl(w)[224][0]+2;d+=9;w[d]=1;u.TO(w,d+1,T[2]);u.TO(w,d+3,T[2])}if(T[3]!=null&&E[1]==!0&&Object.keys(T[3]).length!=0){var O=0,W=0,C=0,a=cm.Mf(T[3]),B=new Uint8Array(UTIF.encode([a])),$="http://ns.adobe.com/xap/1.0/",N=0,c=0,o=20;
O=4+6+B.length;var I=cm.Qe(T[3]),x=u.Va(I);W=4+$.length+1+x.length;var U=cm.apI(T[3]);for(var R=0;R<U.length;
R++)N+=5+U[R][1].length;var m=N+(N&1),f=j.U(14+4+2+4+m);u.dy(f,c,"Photoshop 3.0");c+=14;u.dy(f,c,"8BIM");
c+=4;f[c++]=4;f[c++]=4;c+=2;u.Qh(f,c,N);c+=4;for(var R=0;R<U.length;R++){var D=U[R],z=D[1];f[c++]=28;
f[c++]=2;f[c++]=D[0];u.TO(f,c,z.length);c+=2;u.dy(f,c,z);c+=z.length}C=4+f.length;var _=O+W+C,v=new Uint8Array(w.length+_);
for(var R=0;R<20;R++)v[R]=w[R];for(var R=20;R<w.length;R++)v[R+_]=w[R];v[o]=255;v[o+1]=225;u.TO(v,o+2,O-2);
u.dy(v,o+4,"Exif");for(var R=0;R<B.length;R++)v[o+10+R]=B[R];o+=O;v[o]=255;v[o+1]=225;u.TO(v,o+2,W-2);
u.dy(v,o+4,$);for(var R=0;R<x.length;R++)v[o+4+$.length+1+R]=x[R];o+=W;v[o]=255;v[o+1]=237;u.TO(v,o+2,C-2);
for(var R=0;R<f.length;R++)v[o+4+R]=f[R];o+=C;w=v}return w.buffer};al.uU.kl=function(n){var q=0,p=[],E=n.length;
while(q<E){while(n[q]!=255&&q<E)q++;while(n[q]==255)q++;var T=n[q];q++;if(p[T]==null)p[T]=[];p[T].push(q-2);
if(T==216)continue;if(T==217)break;if(224<=T&&T<=239||T==218||T==219||T==192||T==193||T==194||T==196||T==221||T==254){var i=u.pY(n,q);
q+=i;if(T==218)while(q<E&&(n[q]!=255||(n[q+1]==0||208<=n[q+1]&&n[q+1]<=215)))q++;continue}console.log("unknown marker ",T.toString(16),q);
break}if(p[217]==null){console.log("EOI marker missing");var H=n.length-2;n[H]=255;n[H+1]=217;p[217]=[H]}return p};
al.uU.a0R=function(n){n=new Uint8Array(n);if(n[0]!=255)return n.buffer;var q=al.uU.kl(n),p=al.uU.GG(n,q);
if(p.numComponents!=4)return n.buffer;var E=p.width,T=p.height,i=al.uU.UP(n,q,!0);return al.uU.U7([[i[0].data]],E,T,[85])};
al.uU.GG=function(n,q){var p=(q[192]?q[192]:q[193]?q[193]:q[194])[0]+4,E={};E.progressive=q[194]!=null;
E.precision=n[p];p++;E.height=u.pY(n,p);p+=2;E.width=u.pY(n,p);p+=2;E.numComponents=n[p];p++;if(q[224]){var T=E.jfif={};
p=q[224][0]+2+2+5+2;T.densityUnits=n[p];p++;T.xDensity=u.pY(n,p);p+=2;T.yDensity=u.pY(n,p);p+=2}if(q[238]){var T=E.adobe={};
p=q[238][0]+2+2+6;T.version=n[p];p++;T.flags0=u.pY(n,p);p+=2;T.flags1=u.pY(n,p);p+=2;T.transform=n[p];
p++}return E};al.uU.afL=function(n,q,p){var E=q,T=u.pY(n,E);E+=2;var i=u.xj(n,E,4);if(i=="Exif"){E+=6;
var H=n.slice(E,E+T-8),Z;try{Z=UTIF.decode(H.buffer,{parseMN:!1,debug:!1})}catch(de){}if(Z)p.exif=Z}else if(i=="http"){var w=0;
while(n[E+w]!=0)w++;var d=u.xj(n,E,w);E+=w+1;if(d=="http://ns.adobe.com/xmp/extension/"){var O=u.xj(n,E,32);
E+=32;E+=8;var W=q+T-E;while(n[E+W-1]==0)W--;if(p.xmp_extn==null)p.xmp_extn="";try{p.xmp_extn+=u.L4(n,E,W)}catch(de){}}else if(d=="http://ns.adobe.com/xap/1.0/"){var C=u.L4(n.slice(E,E+T-w-3));
if(C[0]=="?")C="<"+C;p.xmp=C}}else console.log(i)};al.uU.UP=function(n,q,p){var E=al.uU.GG(n,q),T=E.width,i=E.height,H=T*i,Z,w=-1,$=72,I;
if(E.adobe)w=E.adobe.transform;if(p||T*i>15e7||w==0||w==2){var d=new PDFJS.JpegImage;d.parse(n);var O=d.getData({width:T,height:i,forceRGB:!0,isSourcePDF:p}),Z=j.U(H*4);
for(var R=0;R<H;R++){var W=R<<2,C=W-R;Z[W]=O[C];Z[W+1]=O[C+1];Z[W+2]=O[C+2];Z[W+3]=255}}else{Z=al.uU.a5U(n.buffer,E)}var a=q[225];
if(a)for(var R=0;R<a.length;R++)al.uU.afL(n,a[R]+2,E);var B=q[217][0]+2;if(B!=n.length)E.suffix=n.slice(B);
var x=[T,i,1,0,0,0,1,0];if(E.jfif&&E.jfif.densityUnits!=0){$=Math.round([72,1,2.54][E.jfif.densityUnits]*E.jfif.xDensity)}else if(E.exif&&E.exif[0].t282!=null){var U=E.exif[0].t282[0];
$=U[0]/U[1]}if(E.exif){var N=E.exif;I=cm.tQ(N[0]);var m=N[0].t274;if(m)m=m[0];if(m!=null&&m>1&&m<20)x=j.raw.XH(m,T,i)}if(E.xmp){I=cm.mR(E.xmp,I)}var f=q[237],c=[],D=[];
if(f){var z=new Uint8Array(65536),_=0,v=0;for(var R=0;R<f.length;R++){v=f[R]+2;var o=v+u.pY(n,v);v+=2;
var y=v;while(n[v]!=0)v++;v++;var k=u.xj(n,y,v-y-1),S=o-v;while(_+S>z.length){var L=new Uint8Array(z.length*2);
L.set(z);z=L}var X=new Uint8Array(n.buffer,v,S);z.set(X,_);_+=S}v=0;n=z;while(v<_){var s=u.xj(n,v,4);
v+=4;var M=u.pY(n,v);v+=2;var V=n[v++],l=u.xj(n,v,V);v+=V;if((V&1)==0)v++;var e=u.s(n,v);v+=4;var B=v+e+(e&1);
if(M==1028){while(v+4<B){var Y=n[v++],J=n[v++],G=n[v++],F=u.pY(n,v);v+=2;if(Y==28&&J==2)c.push([G,u.xj(n,v,F)]);
v+=F}}else if((M&2e3)==2e3){var b=j2.NA(n,v,e);D.push([l,b])}else{}v=B}if(c.length!=0)I=cm.asi(c,I)}var h=[{Yd:new eL(0,0,T,i),data:Z.buffer,xm:$,Sm:I,Xj:D.length==0?null:D}],I=E.xmp_extn;
if(I){var bj=new DOMParser,i4=bj.parseFromString(I,"image/svg+xml"),i4=i4.children[0].children[0].children[0],t=[i4.getAttribute("GImage:Data"),i4.getAttribute("GDepth:Data")];
for(var R=0;R<t.length;R++)if(t[R]){var aG=atob(t[R]),Q=new Uint8Array(aG.length);u.dy(Q,0,aG);Q=Q.buffer;
var jd=al.Y3(Q),bP=al.vE(jd).es(Q);h.push(bP[0])}}if(E.suffix){var gz=E.suffix,fZ=u.xj(gz,4,4),dt=u.vC(gz,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(al.Oa(gz,[0,0,1,10,14,0,0,0])){var v=0;while(v!=gz.length){var a9=u.ML(gz,v+2);v+=4;var bi={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[a9];
if(bi!=null){var az=u.fo(gz,v);v+=4;var hd=u.xj(gz,v,az);v+=az;var aB=u.xj(gz,v,bi);v+=bi;if(a9==2608){var cv=u.s(gz,v+24);
v+=cv+24;var c$=u.s(gz,v);v+=c$;alert("Photopea found a "+fG.S6(cv)+" MP4 video inside your image.",4e3)}}else if(a9==18502){while(u.xj(gz,v,4)!="SEFT")v+=4;
v+=4}else{break;console.log(u.aQ(gz,v,128));console.log(gz.slice(v));throw a9.toString(16)}}}else if(fZ=="ftyp"){alert("Photopea found a "+fG.S6(gz.length)+" MP4 video inside your image.",4e3)}else if(u.xj(gz,0,4)=="fixe"){alert("Unknown data - "+gz.length+" B - at the end of the file",3e3);
var v=4,e=u.fo(gz,v);v+=4;var cT=u.fo(gz,v);v+=4;var fp=u.fo(gz,v);v+=4;console.log(e,cT,fp,gz.slice(v,v+84));
v+=84;var cD=u.xj(gz,v,32);v+=32;v+=8;var cD=u.xj(gz,v,32);v+=32}else if(u.xj(gz,8,13)=="FocusShot_Map"){var f_=u.s(gz,0),F=u.fo(gz,4),Q=j.U(H*4),f9=j.U(H*4);
for(var dO=0;dO<i;dO++)for(var a6=0;a6<T;a6++){var R=dO*T+a6,W=R<<2,hb=8+13+((dO>>>1)*T+a6>>>1),jr=gz[hb],dh=gz[hb+(H>>>2)];
Q[W]=Q[W+1]=Q[W+2]=jr;Q[W+3]=255;f9[W]=f9[W+1]=f9[W+2]=dh;f9[W+3]=255}h.push({Yd:new eL(0,0,T,i),data:Q.buffer},{Yd:new eL(0,0,T,i),data:f9.buffer})}else if(fZ=="edof"){var m=gz[8+7];
console.log(m.toString(16));var v=8+16,jq=u.ML(gz,v),g3=u.ML(gz,v+2),H=jq*g3;v+=4;v+=32+16;var c6=j.U(H*4);
for(var R=0;R<H;R++){var W=R<<2;c6[W]=c6[W+1]=c6[W+2]=gz[v+R];c6[W+3]=255}if(m==16){}else if(m==19){var cd=c6.slice(0);
j.V.O5(c6,cd,jq,g3);var jn=jq;jq=g3;g3=jn;j.V.ajS(cd,c6,jq,g3)}else throw"Unknown orientation of a depth map";
h.push({Yd:new eL(0,0,jq,g3),data:c6.buffer})}else if(dt!=-1&&!(gz[0]==255&&gz[1]==129)){try{if(dt!=0)gz=gz.slice(dt);
var bP=al.vE("jpg").es(gz.buffer);for(var R=0;R<bP.length;R++)h.push(bP[R])}catch(de){}}}if(h.length>1){var cV=h[0].Yd;
h[0].UE="Main";for(var R=1;R<h.length;R++){h[R].UE=al.uU.amm(new Uint8Array(h[R].data))?"Depth Map":null;
var fM=h[R].Yd;if(!fM.rv(cV)){var bE=cV.v/fM.v,gU=cV.o/fM.o,g6=new b$;g6.scale(bE,gU);var cu=A.Z.MY([new Uint8Array(h[R].data),fM],1,j.V.fa(g6));
h[R].Yd=cu.rect;h[R].data=cu.buffer}}}if(al.uU.Ir==1)if(x[2]!=1||x[6]!=1)for(var R=0;R<h.length;R++){var f5=h[R],iP=new Uint8Array(f5.data),T=f5.Yd.v,i=f5.Yd.o,jq=x[0],g3=x[1],Z=j.U(jq*g3*4);
j.V.lx(iP,T,i,Z,x);f5.Yd=new eL(0,0,jq,g3);f5.data=Z.buffer}return h};al.uU.amm=function(n){var q=!0;
for(var R=0;R<n.length;R+=4){q=q&&n[R]==n[R+1]&&n[R+1]==n[R+2]}return q};al.uU.Ir=0;al.uU.es=function(n,q,p){n=new Uint8Array(n);
if(n[0]==255){var E=al.uU.kl(n);if(E[195]==null){al.uU.Ir++;var T=al.uU.UP(n,E,!1);al.uU.Ir--;return T}var i=u.pY(n,E[195][0]+5),H=u.pY(n,E[195][0]+7),Z=UTIF.LosslessJpegDecode(n),w=H*i,d=j.U(w*4);
for(var R=0;R<w;R++){var O=R<<2,W=O-R;d[O]=Z[W];d[O+1]=Z[W+1];d[O+2]=Z[W+2];d[O+3]=255}return[{Yd:new eL(0,0,H,i),data:d.buffer}]}else if(n[0]==0&&n[4]==48&&n[6]==1){var C=n,a=new PDFJS.Jbig2Image,B=[];
if(q)B.push({data:q,start:0,end:q.length});B.push({data:C,start:0,end:C.length});var Z=a.parseChunks(B);
if(!p)for(var R=0;R<Z.length;R++)Z[R]=~Z[R];var H=u.s(n,11),i=u.s(n,15),$=Math.ceil(H/8),I=j.U(H*i*4);
for(var x=0;x<i;x++){var U=x*$;for(var N=0;N<H;N++){var O=(x*H+N)*4,m=Z[U+(N>>>3)]>>>7-(N&7)&1,f=m*255;
I[O]=f;I[O+1]=f;I[O+2]=f;I[O+3]=255}}return[{Yd:new eL(0,0,H,i),data:I.buffer}]}else{var a=new PDFJS.JpxImage;
a.parse(n);var H=a.width,i=a.height,c=a.tiles,D=a.componentsCount,z=new Uint8Array(H*i*4),_=new eL(0,0,H,i);
for(var a=0;a<c.length;a++){var v=c[a],o=v.width,y=v.height,k=o*y,S=v.items,L=new eL(v.left,v.top,o,y),X=new Uint8Array(k*4);
if(D==1)for(var R=0;R<k;R++){var s=S[R],O=R*4;X[O]=s;X[O+1]=s;X[O+2]=s;X[O+3]=255}else if(D==3)for(var R=0;
R<k;R++){var W=R*3,O=R*4;X[O]=S[W];X[O+1]=S[W+1];X[O+2]=S[W+2];X[O+3]=255}else console.log("Unknown number of components: "+D);
j.hk(X,L,z,_)}return[{Yd:_,data:z.buffer}]}};al.gS={};al.gS.U7=function(n,q,p,E){if(E==null)E=[70,0,0,0];
var T=E[0]/100,w=0;if(n.length==1)return al.cK(n[0][0],q,p,"webp",T);var i=u.Xb,H=u.VB,Z=new hX;i(Z,w,"RIFF    WEBPVP8X");
w+=16;H(Z,w,10);w+=4;H(Z,w,18);w+=4;H(Z,w,q-1);w+=3;H(Z,w,p-1);w+=3;i(Z,w,"ANIM");w+=4;H(Z,w,6);w+=4;
Z.Pc(w,4);Z.data[w+3]=255;u.ZE(Z,w+4,E[2]);w+=6;var d=[];for(var R=0;R<n.length;R++){d.push(n[R][0])}var O=UPNG.encode.compress(d,q,p,T==1?0:Math.max(2,Math.floor(T*500)),[!1,!0,!0,0,!0]).frames;
for(var R=0;R<n.length;R++){i(Z,w,"ANMF");w+=4;var W=w;w+=4;var C=O[R],a=C.rect,B=[a.x>>>1,a.y>>>1,a.width-1,a.height-1,n[R][1]];
for(var $=0;$<5;$++)H(Z,w+3*$,B[$]);w+=15;Z.Pc(w,1);Z.data[w]=1-C.blend<<1|C.dispose;w++;var I=new Uint8Array(al.cK(C.img.buffer,a.width,a.height,"webp",1)),x=du.U4(I.buffer).sub,U=u.xj(I,12,4);
if(U!="VP8L"&&U!="VP8 "&&U!="VP8X")throw"e";var N=U=="VP8 "?0:U=="VP8L"?12:30,m=I.length-N;Z.Pc(w,m);
for(var $=0;$<m;$++)Z.data[w+$]=I[N+$];w+=m;var f=w-W-4;H(Z,W,f);if((f&1)==1){Z.Pc(w,1);w++}}H(Z,4,w-8);
return Z.data.slice(0,w).buffer};(function(){var n=al.bG.get("wasm/webp").buffer;WebAssembly.instantiate(n).then(function(q){var p=q.instance.exports;
al.gS.exp=p})}());al.gS.es=function(n){var q=new Uint8Array(n),p=al.gS.adk,E=null,T=du.U4(n).sub,i={};
for(var R=0;R<T.length;R++)i[T[R].l5]=T[R];var H=i.ANIM,Z=i.VP8L,w=i["VP8 "],d=i.VP8X;if(H==null){var O,W;
if(w){O=u.ML(q,w.t+6);W=u.ML(q,w.t+8)}else if(Z){var C=u.fo(q,Z.t+1);O=(C&(1<<14)-1)+1;W=(C>>>14&(1<<14)-1)+1}else throw"e";
var a=[p(E,n,{t:0,size:q.length},O,W)];return a}var B=d.t,O=1+(u.fo(q,B+4)&16777215),W=1+(u.fo(q,B+7)&16777215),$=[],I=new eL(0,0,O,W),x=j.U(O*W*4);
for(var R=0;R<T.length;R++){var U=T[R];if(U.l5!="ANMF")continue;var N=[];for(var m=0;m<5;m++)N.push(u.fo(q,U.t+m*3)&16777215);
var f=new eL(N[0]*2,N[1]*2,N[2]+1,N[3]+1),c=N[4],D=p(E,n,{t:U.t+16,size:U.size-16},O,W),z=new Uint8Array(D.data),_=q[U.t+15];
if(_>>>1==0)j.a.Ef("norm",z,f,x,I,f,1);else j.hk(z,f,x,I);$.push({UE:"_a_"+$.length+","+c,Yd:I.clone(),data:x.buffer.slice(0)});
if((_&1)==1){j.nz(z,0);j.hk(z,f,x,I)}}return $};al.gS.adk=function(n,q,p,E,T){var i=al.gS.exp,H=i.memory,Z=5e6+2*p.size+E*T*10;
al.j9(i,Z);var w=new Uint8Array(H.buffer),d=i.malloc(p.size);w.set(new Uint8Array(q,p.t,p.size),d);var O=i.malloc(8),W=i.WebPDecodeARGB(d,p.size,O,O+4),C=u.fo(w,O),a=u.fo(w,O+4),B=C*a*4,$=j.U(B);
for(var R=0;R<B;R+=4){$[R]=w[W+R+1];$[R+1]=w[W+R+2];$[R+2]=w[W+R+3];$[R+3]=w[W+R]}i.WebPFree(W);i.free(O);
i.free(d);return{Yd:new eL(0,0,C,a),data:$.buffer}};al.ar$=function(){function n(Z,w,d,O){var W=new Uint8Array(Z[0][0]),C=new Uint32Array(W.buffer),a=[],B={},I=24,x=0,c=0;
for(var R=0;R<C.length;R++){var $=C[R]&16777215;if(B[$]==null){B[$]=a.length;a.push($);if(a.length>256){a=null;
break}}}if(a){I=1;while(1<<I<a.length)I*=2;if(I==2)I=4}var U={XF:w,rZ:d,iC:1,ws:I,oe:0,aku:x},N=4*Math.floor((U.ws*U.XF+31)/32);
U.size=N*U.rZ+2;var m=new hX,f=a?(1<<I)*4:0;u.Xb(m,c,"BM");c+=2;u.VB(m,c,N*d+16+40+f);c+=4;u.VB(m,c,0);
c+=4;u.VB(m,c,54+f);c+=4;m.Pc(c,40);u.VB(m,c,40);c+=4;H(m.data,c,U,N);c+=36;if(a){m.Pc(c,f);var D=m.data;
for(var R=0;R<a.length;R++){var z=c+R*4,_=a[R]>>>16,v=a[R]>>>8&255,o=a[R]&255;D[z]=_;D[z+1]=v;D[z+2]=o}c+=f}m.Pc(c,N*d);
if(I==24)for(var y=0;y<d;y++){var k=c+(d-1-y)*N;for(var S=0;S<w;S++){var L=(y*w+S)*4;m.data[k+S*3+2]=W[L];
m.data[k+S*3+1]=W[L+1];m.data[k+S*3+0]=W[L+2]}}else if(I==8)for(var y=0;y<d;y++){var k=c+(d-1-y)*N;for(var S=0;
S<w;S++){var L=y*w+S,X=B[C[L]&16777215];m.data[k+S]|=X}}else if(I==4)for(var y=0;y<d;y++){var k=c+(d-1-y)*N;
for(var S=0;S<w;S++){var L=y*w+S,X=B[C[L]&16777215];m.data[k+(S>>>1)]|=X<<4-(S&1)*4}}else if(I==1)for(var y=0;
y<d;y++){var k=c+(d-1-y)*N;for(var S=0;S<w;S++){var L=y*w+S,X=B[C[L]&16777215];m.data[k+(S>>>3)]|=X<<7-(S&7)}}c+=N*d+2;
return m.data.slice(0,c).buffer}function q(Z){Z=new Uint8Array(Z);if(u.fo(Z,0)==40)return[p(Z.buffer,0)];
var w=0,d=u.xj(Z,w,2);w+=2;if(d!="BM"){alert("Unsupported BMP format: "+d);return}var O=u.fo(Z,w);w+=4;
w+=4;var W=u.fo(Z,w);w+=4;return[p(Z.buffer,w,W)]}function p(Z,w,d){Z=new Uint8Array(Z);var O=u.fo(Z,w),W=i(Z,w+4);
if(W.iC!=1)alert("unsupported number of color planes: "+W.iC);if(W.oe!=0&&W.oe!=1&&W.oe!=2&&W.oe!=3){alert("Unsupported BMP compression: "+W.oe);
return}w+=O;var C=w,a=Z;if(d==null)d=w;if(W.oe==1||W.oe==2){var B=T(Z,d,W);W.ws=8;Z=B;d=0}var $=4*Math.floor((W.ws*W.XF+31)/32),I=W.XF,x=Math.abs(W.rZ),U=new Uint8Array(I*x*4);
U.fill(255);if(W.ws==32)for(var N=0;N<x;N++){var m=d+(x-1-N)*$;for(var f=0;f<I;f++){var c=(N*I+f)*4;
U[c]=Z[m+f*4+2];U[c+1]=Z[m+f*4+1];U[c+2]=Z[m+f*4+0];U[c+3]=Z[m+f*4+3]}}else if(W.ws==24)for(var N=0;
N<x;N++){var m=d+(x-1-N)*$;for(var f=0;f<I;f++){var c=(N*I+f)*4;U[c]=Z[m+f*3+2];U[c+1]=Z[m+f*3+1];U[c+2]=Z[m+f*3+0]}}else if(W.ws==16)for(var N=0;
N<x;N++){var m=d+(x-1-N)*$;for(var f=0;f<I;f++){var c=(N*I+f)*4,D=Z[m+f*2+1]<<8|Z[m+f*2];U[c]=(D>>>11)*(255/31);
U[c+1]=(D>>>5&63)*(255/63);U[c+2]=(D&31)*(255/31)}}else if(W.ws==8)for(var N=0;N<x;N++){var m=d+(x-1-N)*$;
for(var f=0;f<I;f++){var c=(N*I+f)*4,z=Z[m+f];U[c]=a[C+4*z+2];U[c+1]=a[C+4*z+1];U[c+2]=a[C+4*z+0]}}else if(W.ws==4)for(var N=0;
N<x;N++){var m=d+(x-1-N)*$;for(var f=0;f<I;f++){var c=(N*I+f)*4,z=Z[m+(f>>1)];z=z>>4-4*(f&1);z=z&15;
U[c]=a[C+4*z+2];U[c+1]=a[C+4*z+1];U[c+2]=a[C+4*z+0]}}else if(W.ws==1)for(var N=0;N<x;N++){var m=d+(x-1-N)*$;
for(var f=0;f<I;f++){var c=(N*I+f)*4,_=Z[m+(f>>3)];_=_>>7-(f&7);_=_&1;U[c]=a[C+4*_+2];U[c+1]=a[C+4*_+1];
U[c+2]=a[C+4*_+0]}}else throw"Unknown bit depth "+W.ws;if(W.rZ<0){var v=new Uint32Array(U.buffer),o=x>>>1;
for(var N=0;N<o;N++){var y=N*I,k=(x-N-1)*I;for(var f=0;f<I;f++){var S=v[y+f];v[y+f]=v[k+f];v[k+f]=S}}}return{Yd:new eL(0,0,I,x),data:U.buffer}}function E(Z,R){return Z>>>4-((R&1)<<2)&15}function T(Z,w,d){var O=d.XF,W=Math.abs(d.rZ),C=new Uint8Array(O*W),a=0,B=0,R=0;
while(B<W){var $=Z[w++],I=Z[w++],x=B*O+a;if($>0){if(d.ws==4)for(R=0;R<$;R++){C[x+R]=E(I,R)}else for(R=0;
R<$;R++){C[x+R]=I}a+=$}else if($==0&&I==0){B++;a=0}else if($==0&&I==1){break}else if($==0&&I==2){a+=Z[w++];
B+=Z[w++]}else{var U=I;if(d.ws==4){for(R=0;R<I;R++){C[x+R]=E(Z[w+(R>>>1)],R)}U=Math.ceil(I/2)}else{for(R=0;
R<I;R++){C[x+R]=Z[w+R]}}if((U&1)!=0)U++;w+=U;a+=I}}return C}function i(Z,w){var d=u.c9,O=u.fo,W=u.ML,C={};
C.XF=d(Z,w);w+=4;C.rZ=d(Z,w);w+=4;C.iC=W(Z,w);w+=2;C.ws=W(Z,w);w+=2;C.oe=O(Z,w);w+=4;C.size=O(Z,w);w+=4;
var a=d(Z,w);w+=4;var B=d(Z,w);w+=4;C.aku=O(Z,w);w+=4;w+=4;return C}function H(Z,w,d,O){u.oQ(Z,w,d.XF);
w+=4;u.oQ(Z,w,d.rZ);w+=4;u.qg(Z,w,d.iC);w+=2;u.qg(Z,w,d.ws);w+=2;u.oQ(Z,w,d.oe);w+=4;u.oQ(Z,w,d.size);
w+=4;u.oQ(Z,w,2834);w+=4;u.oQ(Z,w,2834);w+=4;u.oQ(Z,w,d.aku);w+=4;w+=4}return{es:q,U7:n,a6b:p}}();al.E4={};
al.E4.U7=function(n,q,p,E){if(E==null)E=[100,0,0,0,0];var T=[],i=[],H=q*p*4,$=null;for(var Z=0;Z<n.length;
Z++){var w=new Uint8Array(n[Z][0].slice(0));for(var R=0;R<H;R+=4){var d=w[R+3]=w[R+3]>127?255:0;if(d==0)w[R]=w[R+1]=w[R+2]=0}T.push(w.buffer);
i.push(n[Z][1])}var O=Math.round(2+254*E[0]/100),W=UPNG.encode.compress(T,q,p,O,[!0,!1,!1,8,!1]),C=W.plte,a=new Uint8Array(4),B=new Uint32Array(a.buffer);
for(var R=0;R<C.length;R++){B[0]=C[R];var I=a[0];a[0]=a[2];a[2]=I;C[R]=B[0];if(B[0]==0)$=R}while(C.length<256)C.push(0);
var x=new Uint8Array(2e3+q*p*n.length),U=E[2],N={palette:C};if(U!=1)N.loop=U==0?0:U-1;var m=new GifWriter(x,q,p,N);
for(var R=0;R<n.length;R++){var f=W.frames[R],c=f.rect,D=f.blend,z=f.dispose;m.addFrame(c.x,c.y,c.width,c.height,f.img,{transparent:$,disposal:z+1,delay:Math.round(i[R]/10)})}return x.slice(0,m.end()).buffer};
al.E4.es=function(n){var q=Date.now(),p=[],E=UGIF.decode(n),T=UGIF.toRGBA8(E),i=new eL(0,0,E.width,E.height);
for(var R=0;R<T.length;R++){var H=E.frames[R];p.push({Yd:i.clone(),UE:"_a_frm"+R+","+H.delay*10,data:T[R]})}return p};
al.bu={};al.bu.U7=function(n,q,p,E){console.log(n);if(q>256||p>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var T=Math.min(q,256),i=Math.min(p,256),H=new eL(0,0,T,i),Z=j.U(H.P()*4),w=new eL(0,0,q,p),d=new Uint8Array(n[0][0]);
j.hk(d,w,Z,H);n[0][0]=Z.buffer;q=T;p=i}var O=new hX,W=0,C=E&&E[0]==!0;u.ZE(O,W,0);W+=2;u.ZE(O,W,C?2:1);
W+=2;u.ZE(O,W,1);W+=2;var a=new Uint8Array(al.vE("png").U7(n,q,p));O.Pc(W,16);O.data[W]=q==256?0:q;W++;
O.data[W]=p==256?0:p;W++;W+=2;u.ZE(O,W,C?Math.round(q/2):1);W+=2;u.ZE(O,W,C?Math.round(p/2):32);W+=2;
u.VB(O,W,a.length);W+=4;u.VB(O,W,6+16);W+=4;O.Pc(W,a.length);for(var R=0;R<a.length;R++)O.data[W+R]=a[R];
W+=a.length;var B=new Uint8Array(W);for(var R=0;R<W;R++)B[R]=O.data[R];return B.buffer};al.bu.es=function(n){n=new Uint8Array(n);
var q=4,p=u.ML(n,q);q+=2;var E=[];for(var R=0;R<p;R++){var T=al.bu.ao9(n,q+R*16),i=n.buffer.slice(T.offset,T.offset+T.size),H=al.Y3(i);
H=H?H:"bmp";if(H=="png"){var Z=al.vE(H),w=Z.es(i);T.T$=w[0]}else{var d=al.vE("BMP").a6b(i,0),i=j.U(T.XF*T.rZ*4);
j.hk(new Uint8Array(d.data),new eL(0,0,d.Yd.v,d.Yd.o),i,new eL(0,T.rZ,T.XF,T.rZ));d.data=i.buffer;d.Yd.o=T.rZ;
T.T$=d}E.push(T)}E.sort(function(O,W){if(O.XF!=W.XF)return O.XF-W.XF;return O.aiT-W.aiT});return[E.pop().T$]};
al.bu.ao9=function(n,q){var p={};p.XF=n[q];q++;if(p.XF==0)p.XF=256;p.rZ=n[q];q++;if(p.rZ==0)p.rZ=256;
p.a27=n[q];q++;q++;p.abl=u.ML(n,q);q+=2;p.aiT=u.ML(n,q);q+=2;p.size=u.fo(n,q);q+=4;p.offset=u.fo(n,q);
q+=4;return p};al.nY={};al.nY.es=function(n){var q=Date.now(),E,W=!0;if(j.raw.tK(n.byteLength))return[j.raw.agp(n)];
var p=UTIF.decode(n);if(p[0].t33421)E=p[0];else if(p[0].subIFD&&p[0].t271&&p[0].t271[0]=="Hasselblad"){E=p[0].subIFD[0];
E.t33421=[2,2]}else if(p[0].subIFD&&p[0].subIFD[0].t33421){E=p[0].subIFD[0];if(E.t50706==null){if(E.t258[0]==8)E.t258[0]=12}}else if(p[0].subIFD&&p[0].subIFD[0]&&p[0].subIFD[0].t262&&p[0].subIFD[0].t262[0]==34892)E=p[0].subIFD[0];
else if(p[0].subIFD&&p[0].subIFD[1]&&p[0].subIFD[1].t33421)E=p[0].subIFD[1];else if(p[0].subIFD&&p[0].subIFD[2]&&p[0].subIFD[2].t33421)E=p[0].subIFD[2];
else if(p[3]&&p[3].t50648){var T=p[0].exifIFD,i=T.makerNote;E=p[3];var H=i.t224[1],Z=i.t224[2];E.t256=[H];
E.t257=[Z];E.t258=[16];E.t259=[7];E.t262=[32803];E.t277=[1];E.t33421=[2,2];var w=E.t50656[0],d=j.raw.BX[w];
if(d==null)throw"e";E.t33422=d}if(E){UTIF.decodeImage(n,E,p);for(var O in p[0])if((O[0]=="t"||O[0]=="e"||O[0]=="d")&&E[O]==null)E[O]=p[0][O];
E.Nk=p[0].t274?p[0].t274[0]:1;return[E]}var C=1/256;for(var R=0;R<p.length;R++)if(p[R].t258&&p[R].t258[0]==16&&p[R].t277&&p[R].t277[0]==1){}else W=!1;
if(W){var a=0,B=0,$=0;for(var R=0;R<p.length;R++){UTIF.decodeImage(n,p[R],p);var I=p[R].data;for(var x=0;
x<I.length;x+=2){var U=I[x+1]<<8|I[x];if(U>a)a=U;B+=U;$++}}C=1/256*65535/(.5*a+.5*(2*B/$))}var N=[];
for(var R=0;R<p.length;R++){var m=p[R],f=72;UTIF.decodeImage(n,m,p);var c=m.t282,D=m.t296;if(c!=null&&D!=null){f=c[0][0]/c[0][1];
if(D[0]==3)f=Math.round(f/2.54)}if(m.width==null)continue;var z=UTIF.toRGBA8(m,C).buffer,_=cm.tQ(m);
N.push({Yd:new eL(0,0,m.width,m.height),data:z,xm:f,Sm:_})}return N};al.nY.U7=function(n,q,p,E){if(E==null)E=[!1];
var T={},i=n[0];if(i[3]!=null&&E[0])T=cm.Mf(i[3]);if(i[2]!=null){T.t282=T.t283=[[Math.round(i[2]),1]];
T.t296=[2]}return UTIF.encodeImage(i[0],q,p,T)};al.wQ={};al.wQ.ZX=!0;al.wQ.es=function(n,q){di.U4(n,q)};
al.wQ.aiN=function(n,q,p,E){if(E==null)E=[!1,!1,!1,!1];if(!E[0])n.Zk();var T=new hX,i=di.SY(n,T,E);return[T.data.buffer,i]};
al.wQ.U7=function(n,q,p,E){var T=al.wQ.aiN(n,q,p,E),i=T[0],H=T[1];return i.byteLength==H?i:i.slice(0,H)};
al.gI={};al.gI.ZX=!0;al.gI.es=function(n,q){var p=pako.inflate(new Uint8Array(n)),E=u.pY(p,0),T=u.pY(p,2),i=4;
q.v=u.s(p,i);i+=4;q.o=u.s(p,i);i+=4;q.buffer=j.U(q.v*q.o*4);var H=u.pY(p,i);i+=2;i+=4;for(var Z=0;Z<H;
Z++){var w=q.Je(),B=0,X=1,s=2,M=3,V=0;q.h.push(w);var d=u.s(p,i);i+=4;var O=i,W=u.pY(p,O);O+=2;var C=u.L4(p,O,W);
O+=W;w.WR(C);var a=p[O];O++;if(a!=0&&a!=1)throw a;w.rect.x=u.EW(p,O);O+=4;w.rect.y=u.EW(p,O);O+=4;w.rect.v=u.s(p,O);
O+=4;w.rect.o=u.s(p,O);O+=4;if(E>3){B=u.EW(p,O);O+=4}w.opacity=Math.round(255*p[O]/100);O++;var $=p[O];
O++;w.c4($!=0);w.Nl="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[p[O]];
O++;var I=p[O];O++;if(I)w.add.lspf=1<<31;if(E>3){var x=u.pY(p,O);O+=2;if(x!=0){var U=JSON.parse(u.L4(p,O,x));
O+=x;var N=U.text,m=U.textSettings,f=m.font,c=m.size,D=m.padding,z=parseInt(m.color.slice(1),16);w.add.lnsr="rend";
w.add.TySh=hx.sB(0,0);w.add.TySh.i0=new eL(0,0,100,100);var _=w.add.TySh.B=new b$,v=w.rect.v/2,o=w.rect.o/2;
_.translate(-v,-o);_.rotate(-B*Math.PI/180);_.translate(v,o);_.translate(w.rect.x+D,w.rect.y+D);var y=w.add.TySh.Bd;
hx.vF(y,1);hx.XM(y,[0,0,w.rect.v-D*2,w.rect.o]);hx.V8(y,0,N);var k=hx.o1(y,0,1);k.h9.FontSize=c;k.h9.FillColor={Type:1,Values:[1,(z>>>16&255)/255,(z>>>8&255)/255,(z>>>0&255)/255]};
if(m.bold)f+="-Bold";hx.cl(k,f);k.yA.Justification=["left","right","center"].indexOf(m.align);hx.X6(y,0,N.length,k)}}var S=u.s(p,O);
O+=4;if(S!=w.rect.P()*4){for(var R=w.rect.v;R>w.rect.v/2;R--){var L=S/(R*4);if(L==Math.round(L)){w.rect.v=R;
w.rect.o=L;break}}}w.buffer=j.U(w.rect.P()*4);if(E>3){X=0;s=1;M=2;V=3}for(var R=0;R<S;R+=4){w.buffer[R]=p[O+R+X];
w.buffer[R+1]=p[O+R+s];w.buffer[R+2]=p[O+R+M];w.buffer[R+3]=p[O+R+V]}O+=S;var l=u.s(p,O);O+=4;if(l==0&&E>3){i+=d;
continue}var e=p[O];O++;var Y=u.pY(p,O);O+=2;if(l!=0){w.w=new g.JI;w.w.rect=w.rect.clone();w.w.channel=j.U(w.rect.P());
for(var R=0;R<l;R+=4)w.w.channel[R>>>2]=p[O+R+1];O+=l}if(e!=0){var J=JSON.parse(iq.default);w.add.lmfx=J;
for(var R=0;R<iq.order.length;R++)J[iq.Da[R]]={t:"VlLs",v:[]};var G={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var R=0;R<e;R++){var F=u.pY(p,O),b=O+F+4,h=p.slice(O,b),bj=p[O+2];O+=3;var i4=G[bj+""],t=JSON.parse(iq.FT[i4]);
J[iq.Da[i4]].v.push({t:"Objc",v:t});if(i4!=0){t.Md.v.BlnM=d3.g6("norm");t.Opct.v.val=p[O];O++;if(i4==9||i4==2){t.Dstn.v.val=p[O+1];
O+=2}else O+=2;t.blur.v.val=Math.round(p[O]*1.2);O++;if(i4==9||i4==2){t.uglg.v=!1;t.lagl.v.val=180-u.pY(p,O);
O+=2}t.Clr.v=j.f.iB({_:p[O+1],q:p[O+2],X:p[O+3]})}else{t.hglM.v.BlnM=t.sdwM.v.BlnM=d3.g6("norm");O+=2;
var aG=p[O++],Q=p[O++];t.blur.v.val=Math.round(Math.sqrt(Q*aG)*1.3);t.srgR.v.val=Math.round(100*aG/Q);
t.uglg.v=!1;t.lagl.v.val=180-u.pY(p,O);O+=2;t.hglO.v.val=p[O++];t.hglC.v=j.f.iB({_:p[O+1],q:p[O+2],X:p[O+3]});
O+=4;t.sdwO.v.val=p[O++];t.sdwC.v=j.f.iB({_:p[O+1],q:p[O+2],X:p[O+3]});O+=4}O=b}}if(O-i<d){var jd=u.s(p,O),fZ=0;
O+=4;O++;var W=u.pY(p,O);O+=2;var N=u.L4(p,O,W);O+=W;N=N.replace(/\r/g,"\n");var W=u.pY(p,O);O+=2;var f=u.L4(p,O,W);
O+=W;var c=u.pY(p,O);O+=2;var bP=w.rect.x,gz=w.rect.v;if(jd&4)fZ=1;if(jd&2)fZ=2;var dt=Math.round(c*.4);
if(fZ==0||fZ==2)gz+=dt;if(fZ==1||fZ==2){gz+=dt;bP-=dt}w.add.lnsr="rend";w.add.TySh=hx.sB(0,0);w.add.TySh.i0=new eL(0,0,100,100);
w.add.TySh.B=new b$(1,0,0,1,bP,w.rect.y+c*.25);var y=w.add.TySh.Bd;hx.vF(y,1);hx.XM(y,[0,0,gz,w.rect.o]);
hx.V8(y,0,N);var k=hx.o1(y,0,1);k.h9.FontSize=c;k.h9.FillColor={Type:1,Values:[1,p[O+1]/255,p[O+2]/255,p[O+3]/255]};
O+=4;if(p[O+5])f+="-Bold";if(p[O+6])f+="-Italic";hx.cl(k,f);k.yA.Justification=fZ;O+=8;hx.X6(y,0,N.length,k)}i+=d}};
al.nL={};al.nL.ZX=!0;al.nL.es=function(n,q){dg.U4(n,q)};al.PC={};al.PC.ZX=!0;al.PC.es=function(n,q){av.U4(n,q)};
al.Bf={};al.Bf.ZX=!0;al.Bf.es=function(n,q){hH.U4(n,q)};al.WI={};al.WI.ZX=!0;al.WI.es=function(n,q){js.U4(n,q)};
al.uQ={};al.uQ.ZX=!0;al.uQ.es=function(n,q){fe.U4(n,q)};al.YI={};al.YI.ZX=!0;al.YI.es=function(n,q){cj.U4(n,q)};
al.pe={};al.pe.ZX=!0;al.pe.U7=function(n,q,p,E,T){if(E==null)E=[!0,!1,!1,!1,!0,!0];var i=ai.xA(n,{DB:E[0],hidden:E[1],am8:E[2],aeR:E[3],names:E[4],a1H:E[5],aeq:q,ac7:p},T.s4);
return i};al.pe.es=function(n,q,p){ai.U4(n,q,p)};al.OL={};al.OL.ZX=!0;al.OL.es=function(n,q){var p=150,E=new b$(1,0,0,-1,0,0);
E.scale(p/72,p/72);q.xm=p;var T=new eA(q,E,!0);FromPS.Parse(n,T)};al.i9={};al.i9.ZX=!0;al.i9.U7=function(n,q,p,E,T){if(E==null)E=["",100,!1,!1,!1,0];
E[6]=["jpg"];var i=new ToPDF;ce.xA(n,E,i,T.s4,q,p);return i.buffer};al.i9.es=function(n,q,p){var E=2;
while(!0){var T=E*72,i=new b$(1,0,0,-1,0,0);i.scale(T/72,T/72);q.xm=T;var H=new eA(q,i,!0);FromPDF.Parse(n,H);
var Z=Math.max(q.v,q.o);if(p&&Z<Math.max(p[0],p[1])){q.h=[];var w=E;while(Z*(E/w)<Math.max(p[0],p[1]))E++}else break}};
al.DR={};al.DR.ZX=!0;al.DR.es=function(n,q){var p=72,E=new b$(1,0,0,1,0,0);E.scale(p/72,p/72);q.xm=p;
var T=new eA(q,E,!1);FromWMF.Parse(n,T)};al.$x={};al.$x.Hb=!0;al.$x.ZX=!0;al.$x.U7=function(n,q,p,E,T){if(E==null)E=["",100,!1,!1,!1,0];
E[6]=[];var i=new ToEMF;ce.xA(n,E,i,T.s4);return i.buffer};al.$x.es=function(n,q){var p=72,E=new b$(1,0,0,1,0,0);
E.scale(p/72,p/72);q.xm=p;var T=new eA(q,E,!1);FromEMF.Parse(n,T)};al.IR={};al.IR.ZX=!0;al.IR.es=function(n,q){return ga.U4(n,q)};
al.Te={};al.Te.es=function(n,q){var p=aM.U4(n),E=new Uint8Array(n),T=0,i,H,Z,w,d,O,W,C,a=0,B=0,$=0,I=0,x=0;
for(var U=0;U<p.sub.length;U++){var N=p.sub[U],T=N.t;if(N.l5=="BMHD"){var m=[];for(var R=0;R<4;R++)m[R]=u.pY(E,T+2*R);
T+=8;w=m[2];d=m[3];H=m[0];Z=m[1];i=j.U(H*Z*4);O=E[T++];W=E[T++];C=E[T++]}else if(N.l5=="CMAP")a=T;else if(N.l5=="CAMG"){var f=u.s(E,T);
B=f&32768,$=f&4,I=f&2048;x=f&128}else if(N.l5=="BODY"){var c=H+15>>>4<<1,D=O+W,z=j.U(c*Z*D),y,k,S;fS.$u(E,T,N.size,z,0,z.length);
var _=O-2,v=(1<<_)-1,o=Math.round(255/v);for(var d=0;d<Z;d++)for(var w=0;w<H;w++){var L=0;for(var X=0;
X<D;X++){var s=(d*D+X)*c*8+w,M=z[s>>>3]>>>7-(s&7)&1;L|=M<<X}var V=L>>>O,L=L&(1<<O)-1,R=d*H+w,e=R<<2;
if(a!=0){if(I!=0&&L>>>_!=0){var Y=L>>>_,J=(L&v)*o;if(Y==1)S=J;else if(Y==2)y=J;else if(Y==3)k=J}else{var J=a+L*3;
y=E[J+0];k=E[J+1];S=E[J+2]}}else{y=L>>>0&255;k=L>>>8&255;S=L>>>16&255}i[e+0]=y;i[e+1]=k;i[e+2]=S;i[e+3]=255}}}return[{Yd:new eL(0,0,H,Z),data:i.buffer}]};
al.MD={};al.MD.ZX=!1;al.MD.U7=function(n,q,p,E){var T=n[0][4],i=new Uint8Array(n[0][0]),H=2,Z=T?!0:!1,w=Z?4:3,d=new Uint8Array(q*p*w);
for(var O=0;O<p;O++)for(var W=0;W<q;W++){var C=O*q+W<<2,a=((p-O-1)*q+W)*w;d[a]=i[C+2];d[a+1]=i[C+1];
d[a+2]=i[C+0];if(Z)d[a+3]=T[0][O*q+W]}if(!0){var B=d.length,$=0,I=new Uint8Array(B*2),x=0,U=0,N=q*w;
while(U<B){var m=U,f=0,c=N*(Math.floor(U/N)+1);while(m<c&&f<128){var D=!0;for(var R=0;R<w;R++)D=D&d[U+R]==d[m+R];
if(!D)break;m+=w;f++}if(f==1){var z=1;while(z<128&&U+(z+1)*w<c){var D=!0,_=U+z*w;for(var R=0;R<w;R++)D=D&d[_+R]==d[_+w+R];
if(D)break;z++}I[x++]=z-1;for(var v=0;v<z;v++)for(var R=0;R<w;R++)I[x++]=d[U++]}else{I[x++]=127+f;for(var R=0;
R<w;R++)I[x+R]=d[U+R];x+=w;U+=w*f;$+=f}}d=I.slice(0,x);H+=8}var o=new Uint8Array(18+d.length+26);o[2]=H;
u.qg(o,12,q);u.qg(o,14,p);o[16]=w*8;o[17]=w==4?8:0;o.set(d,18);u.dy(o,18+d.length+8,"TRUEVISION-XFILE.");
return o.buffer};al.MD.es=function(n){var q=new Uint8Array(n),p=0,E=q[0],T=q[1],i=q[2],H=q[4]*256+q[3],Z=q[6]*256+q[5],w=q[7],d=q[9]*256+q[8],O=q[11]*256+q[10],W=q[13]*256+q[12],C=q[15]*256+q[14],a=q[16],B=q[17],$=B>>>4,I=u.xj(q,18,E),x=j.U(W*C*4),p=18+E+(Z*w>>>3),U=new Uint8Array(q.buffer,p);
if(i>3){var N=0,m=q,f=new Uint8Array(W*C*a>>>3),c=p,D=0,z=q.length,_=a>>>3;while(D<f.length){var eR=m[c];
c++;if(eR<128)for(var R=0;R<eR+1;R++){for(var v=0;v<_;v++){f[D]=m[c];D++;c++}}else{for(var R=0;R<eR-127;
R++){for(var v=0;v<_;v++){f[D]=m[c+v];D++}}c+=_}}i-=8;U=f;p=c}else p+=W*C*a>>>3;var o=new Uint8Array(4),y=al.MD.a7N;
for(var k=0;k<C;k++)for(var S=0;S<W;S++){var L=($&2)==0?(C-k-1)*W+S:k*W+S,X=k*W+S,s,M,V,l=255,e=L*a>>>3;
if(i==1){var Y=0;if(a==8)Y=U[e];else throw"e";y(q,18+E+H+(Y*w>>>3),w,o);s=o[0];M=o[1];V=o[2];l=o[3]}else if(i==2){y(U,e,a,o);
s=o[0];M=o[1];V=o[2];l=o[3]}else if(i==3){if(a==8)s=M=V=U[e];else throw"e"}var J=X*4;x[J]=s;x[J+1]=M;
x[J+2]=V;x[J+3]=l}var o={Yd:new eL(0,0,W,C),data:x.buffer,UE:I};if(j.yz(x)){var G=j.U(W*C);j.J2(x,G,3);
j.nz(x,4278190080,16777215);o.v4=[G]}return[o]};al.MD.a7N=function(n,q,p,E){var T,i,H,Z=255;if(p==24||p==32){H=n[q];
i=n[q+1];T=n[q+2];if(p==32)Z=n[q+3]}else if(p==16){var w=n[q+1]<<8|n[q+0];T=w>>>10&31;i=w>>>5&31;H=w>>>0&31;
T=Math.round(T*(255/31));i=Math.round(i*(255/31));H=Math.round(H*(255/31))}else throw"e";E[0]=T;E[1]=i;
E[2]=H;E[3]=Z};al.af$=function(){var n,q=[],p=!1;function E(H,Z,w,d){n=w;q.push(H,d);T()}function T(){if(p||q.length==0)return;
p=!0;al.a8f(q.shift(),"image/avif",i)}function i(H){n(null,[H],q.shift());p=!1;T()}return{ZX:!1,DE:!0,es:E}}();
al.amB=function(){var n,q=[],p=!1,E,T,i,H,Z,w;function d(a,B,$,I){n=$;q.push(a,I);O()}function O(){if(p||q.length==0)return;
p=!0;E=document.createElement("canvas");T=E.getContext("2d");i=document.createElement("video");var a="data:"+"video/mp4"+";base64,"+al.SH(q.shift());
i.src=a;i.muted=!0;i.currentTime=0;i.addEventListener("canplay",W,!1);i.addEventListener("timeupdate",C,!1)}function W(a){i.removeEventListener("canplay",W);
H=E.width=i.videoWidth;Z=E.height=i.videoHeight;w=[];i.play()}function C(a){var B=10;T.drawImage(i,0,0);
w.push({UE:"_a_"+w.length+","+Math.round(1e3/B),Yd:new eL(0,0,H,Z),data:T.getImageData(0,0,H,Z).data.buffer});
var $=i.currentTime+1/B;if($<i.duration)i.currentTime=$;else{n(null,w,q.shift());i.removeEventListener("timeupdate",C);
p=!1;O();w=null}}return{ZX:!1,DE:!0,es:d}}();al.ho={};al.ho.es=function(n){var q=new Uint8Array(n),p=0,E=112,T=42,i=u.fo,O;
p+=8;var H=q[p];p++;if(H!=T)throw"e";var Z=i(q,p);p+=4;var w=u.Uu(q,p,Z);p+=Z*2;var d=[];while(p<q.length){O=i(q,p);
p+=4;if(O!=E)throw O;p+=4;O=q[p];p++;if(O!=T)throw O;var W=i(q,p);p+=4;var C=q[p];p++;if(C!=T){p-=5;
W=i(q,p);p+=8;O=q[p];p++;if(O!=T)throw O}var a=i(q,p)*2;p+=4;if(W>0)d.push(p+a);p+=a+W}var B=new DOMParser,$=B.parseFromString(w,"image/svg+xml").firstChild.firstChild,I=[];
al.ho.Kb($,q,d,I);return I};al.ho.Kb=function(n,q,p,E){var T=n.firstChild.firstChild;if(T.tagName=="Image"){var i=T.getElementsByTagName("ImageDescription")[0],H=i.children[0].children,Z=i.children[1].children,w=p.shift(),d=[];
for(var R=0;R<Z.length;R++)d.push(parseInt(Z[R].getAttribute("NumberOfElements")));while(d.length>3)d[2]*=d.pop();
var O=H.length,W=d[0],C=d[1],a=d[2],B=parseInt(Z[0].getAttribute("BytesInc"));for(var $=0;$<a;$++){var I=j.U(W*C*4);
j.nz(I,4278190080);for(var x=0;x<O;x++){var U=j.U(W*C);if(B==1)for(var N=0;N<U.length;N++)U[N]=q[w+N];
else if(B==2)for(var N=0;N<U.length;N++)U[N]=Math.min(255,(q[w+N*2+1]<<8|q[w+N*2])>>>2);else throw B;
if(x!=3)j.yI(U,I,x);if(O==1){j.yI(U,I,1);j.yI(U,I,2)}w+=W*C*B}E.push({Yd:new eL(0,0,W,C),data:I.buffer})}}else{var m=n.children,f=0;
while(f<m.length&&m[f].tagName!="Children")f++;if(f==m.length)throw"e";m=m[f].children;for(var c=0;c<m.length;
c++)al.ho.Kb(m[c],q,p,E)}};al.lY={};al.lY.es=function(n){var q=new Uint8Array(n),p=0,E={},O=1e9;for(var R=0;
R<306;R++){var T=u.xj(q,p,8).trim(),i=u.xj(q,p+9,71).split("/")[0].trim();E[T]=i;p+=80;if(T=="END"){p=Math.ceil(p/2880)*2880;
break}}var H=parseInt(E.NAXIS1),Z=parseInt(E.NAXIS2),w=H*Z,d=parseInt(E.BITPIX),W=-1e9,C=new Float32Array(w),a=new Float32Array(n,p,n.byteLength-p>>>2);
for(var R=0;R<w;R++){var B=R<<2,$=R<<1;if(d==-32){var I=q[p+B+0];q[p+B+0]=q[p+B+3];q[p+B+3]=I;var I=q[p+B+1];
q[p+B+1]=q[p+B+2];q[p+B+2]=I;C[R]=a[R]}else if(d==16){C[R]=u.ML(q,p+$)}else throw d;var x=C[R];if(x<O)O=x;
if(x>W)W=x}var U=j.U(w*4),N=1/W;for(var m=0;m<Z;m++)for(var f=0;f<H;f++){var R=m*H+f,c=(Z-m-1)*H+f,B=c<<2,x=C[R]*N;
U[B]=U[B+1]=U[B+2]=255*x;U[B+3]=255}return[{Yd:new eL(0,0,H,Z),data:U,UE:E.OBJECT}]};al.Zm={};al.Zm.es=function(n){var q=new Uint8Array(n),p=16,E=u.xj(q,p,4),i=32,x=0,U=0,N=!1,M;
p+=4;var T=u.xj(q,p,8);p+=8;while(q[p+i-1]==0)i--;var H=u.xj(q,p,i);p+=32;var Z=u.xj(q,p,4);p+=4;p+=20;
var w=u.s(q,p);p+=4;var d=u.s(q,p);p+=4;var O=u.s(q,p);p+=4;var W=u.s(q,p);p+=4;var C=u.s(q,p);p+=4;
var a=u.s(q,p);p+=4;var B="FujiFilm "+H,$=[0,1,1,2];if(B=="FujiFilm X10"){B="FujiFilm FinePix X10";$=[2,1,1,0]}var I={t271:["FujiFilm"],t272:[B],t277:[1],t33421:[2,2],t33422:$,Nk:1};
p=O;var m=[],f=u.pY,c=u.s(q,p);p+=4;for(var R=0;R<c;R++){var D=f(q,p);p+=2;var z=f(q,p);p+=2;if(D==256){U=f(q,p);
x=f(q,p+2)}else if(D==272){m=[f(q,p),f(q,p+2)]}else if(D==273){m.push(f(q,p),f(q,p+2))}else if(D==304){N=!(q[p]>>>7)}else if(D==305){var _=Math.round(Math.sqrt(z)),v=[];
for(var o=0;o<z;o++)v.push(q[p+o]);v.reverse();I.t33421=[_,_];I.t33422=v}else if(D==12272){var y=f(q,p),k=f(q,p+2),S=f(q,p+6);
I.t50728=[y/k,1,y/S]}p+=z}var L=x<U,X=q.slice(C,C+a),s=Math.round(a*8/(x*U));if(X[0]==73&&X[1]==73&&X[2]==42){M=UTIF.decode(X.buffer)[0].fujiIFD;
s=M.t61443[0];var V=M.t61454,l=M.t61450;if(l)I.t50714=l;if(V)I.t50728=[V[0]/V[1],1,V[0]/V[2]];var e=M.t61447[0];
X=X.slice(e,e+M.t61448[0])}var a=X.length,Y=a*8<x*U*s;if(Y){console.log("compressed");var J=I.t33422,G=~~Math.sqrt(J.length),F=[];
for(var R=0;R<G;R++)F[R]=J.slice(R*G,R*G+G);X=new Uint8Array(UTIF._decompressRAF(X,F).buffer);a=X.length}function b(aG,Q,jd){jd=jd<<8-(Q&7);
var bP=Q>>>3;aG[bP]|=jd>>>16;aG[bP+1]|=jd>>>8;aG[bP+2]|=jd}var h=a*8/(x*U);if(h==16)for(var R=0;R<a;
R+=2){var bj=X[R];X[R]=X[R+1];X[R+1]=bj}else if(h==14){for(var R=0;R<a;R+=4){var bj=X[R];X[R]=X[R+3];
X[R+3]=bj;bj=X[R+1];X[R+1]=X[R+2];X[R+2]=bj}}else if(h==12)for(var R=0;R<a;R+=3){var i4=X[R+2]<<16|X[R+1]<<8|X[R+0];
i4=i4>>>12|(i4&4095)<<12;X[R]=i4>>>16&255;X[R+1]=i4>>>8&255;X[R+2]=i4&255}if(L)X=al.Zm.aqx(X,x,U);var t=L?2:1;
x*=t;I.t256=[x];I.t257=[U];I.t258=[s];I.t50719=[m[1],m[0]*t];I.t50720=[m[3],m[2]*t];I.width=x;I.height=U;
I.data=new Uint8Array(X.buffer);return[I]};al.Zm.aqx=function(n,q,p){n=new Uint16Array(n.buffer);var E=new Uint16Array(q*p*2);
for(var T=0;T<p;T+=2)for(var i=0;i<q;i++){var H=T*q+i,Z=H*2,w=n[H],d=n[H+q];E[Z+1]=E[Z+2*q]=d;if(((T>>>1)+i&1)==0){E[Z]=w;
E[Z+2*q+1]=n[H+1]}else{E[Z]=n[H-1];E[Z+2*q+1]=w}}return E};al.qO={};al.qO.Hb=!0;al.qO.U7=function(n,q,p,E){var T=new Uint8Array(n[0][0]),i=q*p,H=[1,3,4][E[0]],Z=8+8*E[1],w=E[2];
if(H==1){var d=new Uint8Array(q*p);j.J2(T,d,0);T=d}if(H==3){var d=new Uint8Array(q*p*3);for(var R=0;
R<i;R++){var O=R*4,W=R*3;d[W]=T[O];d[W+1]=T[O+1];d[W+2]=T[O+2]}T=d}if(Z==16){var C=T.length,d=new Uint8Array(C*2);
for(var R=0;R<C;R++){var a=Math.round(T[R]*(65535/255));d[R*2+w]=a>>>8;d[R*2+1-w]=a&255}T=d}return T.buffer};
al.$y={};al.$y.es=function(n,q){function p(w){return~~(.5+j.E3(Math.max(0,Math.min(1,w)))*255)}var E=EXRLoader.parse(n),T=E.width,i=E.height,H=j.U(T*i*4);
for(var Z=0;Z<i;Z++)for(var w=0;w<T;w++){var R=(Z*T+w)*4,d=((i-Z-1)*T+w)*4;H[R]=p(E.data[d+0]);H[R+1]=p(E.data[d+1]);
H[R+2]=p(E.data[d+2]);H[R+3]=p(E.data[d+3])}return[{Yd:new eL(0,0,T,i),data:H.buffer}]};al.Ga={};al.Ga.Hb=!0;
al.Ga.ZX=!0;al.Ga.U7=function(n,q,p,E,T){E=["",100,!1,!1,!1,0];E[6]=["jpg"];var i=new ToDXF;ce.xA(n,E,i,T.s4);
return i.buffer};al.Ga.es=function(n,q){var p=72,E=new b$(1,0,0,1,0,0);E.scale(p/72,p/72);q.xm=p;var T=new eA(q,E,!1);
FromDXF.Parse(n,T)};al.Ck={};al.Ck.es=function(){var n=u.ML,q=u.fo,p=u.xj,E;function T(H,Z,w,d,O){var W=q(H,w),C=q(H,w+4),a=q(H,w+8),B=n(H,w+12),$=n(H,w+14);
w+=16;var I={};for(var R=0;R<B+$;R++){var x=q(H,w),U=q(H,w+4),N,m;if(x>>>31==1){x=x&16777215}if(R<B)N=u.Uu(H,Z+x+2,n(H,Z+x));
else N="id"+x;var f=d.slice(0);f.push(N);if(U>>>31==1){U=U&268435455;m=T(H,Z,Z+U,f,O)}else{var c=q(H,Z+U),D=q(H,Z+U+4),z=q(H,Z+U+8),_=q(H,Z+U+12);
if(_!=0)throw"e";if(c<O[0]||c>O[0]+O[1])throw"e";var v=O[2]+c-O[0];m=H.slice(v,v+D);var o=al.Y3(m.buffer);
if(o&&["bmp","png","ico"].indexOf(o)!=-1){var y=al.vE(o);if(!y.ZX){var k=null;try{k=y.es(m.buffer)}catch(de){}if(k){k[0].UE=f[1];
E.push(k[0])}}}else if(o)console.log(o)}I[N]=m;w+=8}return I}function i(H){E=[];var Z=new Uint8Array(H),w=0,d=n(Z,w);
w+=2;w+=58;var O=q(Z,w);w+=4;w=O;var W=p(Z,w,4);w+=4;var C=n(Z,w);w+=2;var a=n(Z,w);w+=2;var B=q(Z,w);
w+=4;var $=q(Z,w);w+=4;var I=q(Z,w);w+=4;var x=n(Z,w);w+=2;var U=n(Z,w);w+=2;w+=x;var N={};for(var R=0;
R<a;R++){var m=w;while(Z[m]!=0)m++;var f=p(Z,w,m-w),c=q(Z,w+8),D=q(Z,w+12),z=q(Z,w+16),_=q(Z,w+20),v=q(Z,w+24),o=q(Z,w+28),y=n(Z,w+32),k=n(Z,w+34),U=q(Z,w+36);
N[f]=[D,c,_,z,U];if(v+o!=0)throw"e";w+=40}for(var S in N){var L=N[S];w=L[2];if(S==".rsrc"){var X=T(Z,w,w,[],L),s="id134"}}return E}return i}();
al.fd={};al.fd.ZX=!0;al.fd.es=function(n,q){fm.U4(n,q)};(function(){var n=al.bG.get("wasm/zstd").buffer;
WebAssembly.instantiate(n).then(function(q){var p=q.instance.exports;al.fd.ado=p})}());al.fd.jX=function(n,q){var p=al.fd.ado,E=n.length,T=p.memory,i=2*E+1e6,w=8;
al.j9(p,i);var H=new Uint8Array(T.buffer),Z=p.malloc(E);H.set(n,Z);while(!0){var d=q==null?E*w:q;al.j9(p,i+d);
var O=p.malloc(d),W=p.ZSTD_decompress(O,d,Z,E);if(W==-70){p.free(O);w+=4;if(q!=null)throw"error"}else{H=new Uint8Array(T.buffer);
n=H.slice(O,O+W);p.free(O);break}}p.free(Z);return n};al.pZ={};al.pZ.ZX=!0;al.pZ.es=function(){var n=0,q=1,p=2,E=3,T=4,i=5,H=6,Z=7,w=1,d=2,O=7,W=8,C=9,a,B,$,I,x;
function U(){var eR=u.c9(a,B);B+=4;return eR}function N(){var M=0,V=0;for(var R=0;R<5;R++){var l=a[B++];
M+=(l&127)<<V;V+=7;if((l&128)==0)break}return M}function m(){var M=N(),V=u.L4(a,B,M);B+=M;return V}function f(){return{typeName:m(),ai5:U()}}function c(){var M=U(),V=m(),l=[],e=U();
for(var R=0;R<e;R++)l.push([m()]);return{id:M,y4:V,aon:l}}function D(M){var V=M.aon,l=[];for(var R=0;
R<V.length;R++)V[R].push(a[B++]);for(var R=0;R<V.length;R++){var e=V[R][1],Y;V[R].push(z(e))}}function z(M){var V;
if(M==n)V=a[B++];else if(M==E)V=m();else if(M==T)V=f();else if(M==q||M==p||M==H||M==i){}else throw M;
return V}function _(M,V,l){var e;if(M==n){if(V==w)e=a[B++]==1;else if(V==d){e=a[B++]}else if(V==W)e=U();
else if(V==C){e=U();U()}else throw V}else if(M==E){e=k(l+1)}else if(M==T){e=k(l+1)}else if(M==i){e=k(l+1)}else if(M==q){e=k(l+1)}else if(M==H){e=k(l+1)}else throw M;
return e}function v(M,V){var l=$["c"+M],e=l.aon,Y={_class:l.y4};for(var R=0;R<e.length;R++){var J=e[R],G=J[1],F=J[2],b=_(G,F,V),h=J[0];
Y[h]=b}return Y}function o(M,V,l,e){var Y=[];for(var R=0;R<M;R++){var J=_(V,l,e);if(J.UG&&J.UG=="null_count"){var G=J.Gm;
for(var F=0;F<G;F++)Y.push(null);R+=G-1}else Y.push(J)}return Y}function y(){return[U(),U()]}function k(M){if(M==null)throw"e";
var V=null,l=a[B],e=null;B++;if(l==0){var Y=U(),J=U(),G=U(),F=U();V=[Y,J,G,F]}else if(l==1){e=U();var b=U();
V=v(b,M)}else if(l==4){var h=c();e=h.id;D(h);$["c"+h.id]=h;V=v(h.id,M)}else if(l==5){var h=c();e=h.id;
D(h);var bj=U();$["c"+h.id]=h;V=v(h.id,M)}else if(l==6){e=U();var i4=m();V=i4}else if(l==7){e=U();var t=a[B++];
if(t!=0)throw t;var aG=U();if(aG!=1)throw aG;var Q=U(),jd=a[B++],bP=z(jd);V=o(Q,jd,bP,M)}else if(l==9){var gz=U();
V={UG:"ref",Gm:gz};x["o"+gz]=!0}else if(l==10){V={UG:"null_count",Gm:1}}else if(l==11){V={UG:"end"}}else if(l==12){var bj=U(),fZ=m()}else if(l==13){var dt=a[B++];
V={UG:"null_count",Gm:dt}}else if(l==16){var a9=y();e=a9[0];V=o(a9[1],T,null,M)}else if(l==17){var a9=y();
e=a9[0];V=o(a9[1],q,null,M)}else throw"e";if(e!=null&&e>0){if(I["o"+e]!=null)throw"e";I["o"+e]=V}return V}function S(M,I){if(M instanceof Array){for(var R=0;
R<M.length;R++)M[R]=L(M[R],I)}else if(M instanceof Object){for(var V in M)M[V]=L(M[V],I)}}function L(M,I){if(M&&M.UG&&M.UG=="ref")return I["o"+M.Gm];
else return M}function X(M,V,l){a=new Uint8Array(M);B=0;$={};I={};x={};var e=u.xj(a,0,4);if(e!="PDN3")throw e;
B+=4;var Y=u.ML(a,B)+a[B+2]*256*256;B+=3;var J=u.xj(a,B,Y);B+=Y;B+=2;while(!0){var G=k(0);if(G&&G.UG&&G.UG=="end")break}for(var F in x)if(I[F]==null)throw F;
for(var F in I)S(I[F],I);var b=I.o1;console.log(b);V.v=b.width;V.o=b.height;V.buffer=j.U(V.v*V.o*4);
var h=b.layers["ArrayList+_items"];for(var R=0;R<h.length;R++){var bj=h[R];if(bj==null)continue;console.log(bj);
var i4=bj["Layer+width"],t=bj["Layer+height"],aG=bj["Layer+properties"],Q=bj.properties,jd=Q.blendOp._class.split("+").pop();
jd=jd.slice(0,jd.length-7);var bP={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[jd],gz=V.Je();
gz.WR(aG.name);gz.opacity=aG.opacity;gz.c4(aG.visible);gz.Nl=bP;var fZ=1<<16,dt=Math.ceil(i4*t/fZ);gz.rect=new eL(0,0,i4,t);
gz.buffer=j.U(i4*t*4);var a9=gz.buffer;B+=5;for(var bi=0;bi<dt;bi++){var az=s();a9.set(az[1],az[0]*fZ*4)}for(var hd=0;
hd<a9.length;hd+=4){var aB=a9[hd+0];a9[hd+0]=a9[hd+2];a9[hd+2]=aB}V.h.push(gz)}}function s(){var M=u.s(a,B);
B+=4;var V=u.s(a,B);B+=4;var l=pako.inflateRaw(a.slice(B+10));B+=V;return[M,l]}return X}();function j(){}j.d={};
j.afs={};j.aiB=function(){var n=[64,64,128,256,512,1024,2048],q=[];for(var R=0;R<n.length;R++){var p=n[R],E=document.createElement("canvas");
E.width=p;E.height=p;q.push(E.getContext("2d"))}return q}();j.vl=function(n,q){var p,E=j.aiB,R=1,T=Math.max(n,q);
while(R<E.length&&T>E[R].canvas.width)R++;if(R==E.length){p=E[0];var i=p.canvas;i.width=n;i.height=q}else{p=E[R];
p.clearRect(0,0,n,q)}return p};j.xo=function(n,q,p){var E={},T=0,i=0,H=new Uint32Array(n.buffer),Z=H.length,w=Date.now();
for(var d=1;d<p-1;d++)for(var O=1;O<q-1;O++){var W=d*q+O,C=H[W];if(C>>>24<230)i++;if(E[C]==null){E[C]=!0;
T++}}if(i!=0||T<20)return!1;return!0};j.nh=function(n,q,p,E,T,i){if(T==null)T=i=0;E=Math.log(E)/Math.log(2);
E=Math.round(E);for(var R=0;R<p;R++)for(var H=0;H<q;H++){var Z=R*q+H<<2,w=j.Re(R+i,H+T,E);n[Z]=n[Z+1]=n[Z+2]=w;
n[Z+3]=255}};j.Re=function(R,n,q){return 255-((R>>>q)+(n>>>q)&1)*51};j.E2=function(n){var q=n.toString(16);
while(q.length<6)q="0"+q;return q};j.Wk=function(n){return parseInt(n,16)};j.hR=function(n){return.3*n._+.59*n.q+.11*n.X};
j.Ay=function(n){return Math.max(n._,n.q,n.X)-Math.min(n._,n.q,n.X)};j.lU=function(n,q,p){return.3*n+.59*q+.11*p};
j.a4M=function(n,q,p){return Math.max(n,q,p)-Math.min(n,q,p)};j.Rx=function(n,q){var p=q-n,E=Math.abs(p),T=p-1,i=p+1;
if(Math.abs(T)<E)p=T;else if(Math.abs(i)<E)p=i;return p};j.E3=function(n){return n<.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055};
j.aqL=function(n){return n<.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)};j.anC=function(n,q){var p=Math.min(n.length,q.length);
for(var R=0;R<p;R+=4){var E=n[R],T=n[R+1],i=n[R+2];q[R]=16+Math.floor(65.481/255*E+128.553/255*T+24.966/255*i+.5);
q[R+1]=128-Math.floor(37.797/255*E-74.203/255*T+112/255*i+.5);q[R+2]=128+Math.floor(112/255*E-93.786/255*T-18.214/255*i+.5);
q[R+3]=n[R+3]}};j.abW=function(n,q,p){var E,T,i,H=Math.max(n,q,p),Z=Math.min(n,q,p);i=H;if(H!=0)T=(H-Z)/H;
else T=0;if(T==0)E=0;else{var w=H-Z,d=(H-n)/w,O=(H-q)/w,W=(H-p)/w;if(n==H)E=W-O;else if(q==H)E=2+d-W;
else E=4+O-d;E*=1/6;if(E<0)E=E+1}return{rZ:E,dd:T,X:i}};j.abA=function(n,q,p){var E=0,T=0,i=0;if(q==0)E=T=i=p;
else{var H=(n-Math.floor(n))*6,Z=Math.floor(H),w=H-Math.floor(H),d=p*(1-q),O=p*(1-q*w),W=p*(1-q*(1-w));
switch(Z){case 0:E=p;T=W;i=d;break;case 1:E=O;T=p;i=d;break;case 2:E=d;T=p;i=W;break;case 3:E=d;T=O;
i=p;break;case 4:E=W;T=d;i=p;break;case 5:E=p;T=d;i=O;break}}return{_:E,q:T,X:i}};j.JF=function(n,q,p){var E=Math.max(n,q,p),T=Math.min(n,q,p),i=0,H=0,Z=(E+T)*.5;
if(E!=T){var w=E-T;H=Z>.5?w/(2-(E+T)):w/(E+T);switch(E){case n:i=(q-p)/w+(q<p?6:0);break;case q:i=(p-n)/w+2;
break;case p:i=(n-q)/w+4;break}i*=1/6}return{rZ:i,dd:H,Nb:Z}};j.G5=function(n,q,p){var E,T,i;if(q==0)E=T=i=p;
else{var H=p<.5?p*(1+q):p+q-p*q,Z=2*p-H;E=j.gz(Z,H,n+1/3);T=j.gz(Z,H,n);i=j.gz(Z,H,n-1/3)}return{_:E,q:T,X:i}};
j.gz=function(n,q,p){if(p<0)p+=1;if(p>1)p-=1;if(p<1/6)return n+(q-n)*6*p;if(p<1/2)return q;if(p<2/3)return n+(q-n)*(2/3-p)*6;
return n};j.PW=function(n,q,p){var E=Math.max(n,q,p),T=Math.min(n,q,p),i,H,Z=E,w=E-T;H=E==0?0:w/E;if(E==T)i=0;
else{switch(E){case n:i=(q-p)/w+(q<p?6:0);break;case q:i=(p-n)/w+2;break;case p:i=(n-q)/w+4;break}i*=1/6}return{rZ:i,dd:H,Gm:Z}};
j.RF=function(n,q,p){var E,T,i,R,H,Z,w,d;R=Math.floor(n*6);H=n*6-R;Z=p*(1-q);w=p*(1-H*q);d=p*(1-(1-H)*q);
switch(R%6){case 0:E=p,T=d,i=Z;break;case 1:E=w,T=p,i=Z;break;case 2:E=Z,T=p,i=d;break;case 3:E=Z,T=w,i=p;
break;case 4:E=d,T=Z,i=p;break;case 5:E=p,T=Z,i=w;break}return{_:E,q:T,X:i}};j.cB=function(){var n=[],q=[];
for(var R=0;R<2e3;R++){var p=R/1e3;n[R]=j.aqL(p);q[R]=p>.008856?Math.pow(p,1/3):(903.3*p+16)*(1/116)}return[n,q]}();
j.IG=function(n,q,p){var E=j.cB[0],T=j.cB[1];n=E[~~(n*(1e3/255))];q=E[~~(q*(1e3/255))];p=E[~~(p*(1e3/255))];
var i=j.JV.abj,H=i[0]*n+i[1]*q+i[2]*p,Z=i[4]*n+i[5]*q+i[6]*p,w=i[8]*n+i[9]*q+i[10]*p;H=H*(100/96.72);
Z=Z*(100/100);w=w*(100/81.427);return j.JY(H,Z,w)};j.JY=function(n,q,p){var E=j.cB[1],T=E[~~(n*1e3)],i=E[~~(q*1e3)],H=E[~~(p*1e3)];
return{Q_:116*i-16,jS:500*(T-i),X:200*(i-H)}};j.X1=function(n,q,p){var E=903.3,T=.008856,i=(n+16)/116,H=i*i*i,Z=i-p/200,w=Z*Z*Z,d=q/500+i,O=d*d*d,W=w>T?w:(116*Z-16)/E,C=H>T?H:(116*i-16)/E,a=O>T?O:(116*d-16)/E,B=a*96.72,$=C*100,I=W*81.427,x=j.JV.hI(j.JV.r8,[B/100,$/100,I/100,0]);
for(var R=0;R<4;R++)x[R]=Math.max(0,Math.min(255,j.E3(x[R])*255));return{_:x[0],q:x[1],X:x[2]}};j.m1=function(n,q,p,E,T){var i=n.Q_,H=n.jS,Z=n.X,w=(i<q.Q_?q.Q_-i:p.Q_<i?p.Q_-i:0)*(1/100),d=(H<q.jS?q.jS-H:p.jS<H?p.jS-H:0)*(1/116),O=(Z<q.X?q.X-Z:p.X<Z?p.X-Z:0)*(1/116),W=Math.sqrt(w*w+d*d+O*O)*1.35;
return W<=E?Math.min(1,1.17*(1-W*T)):0};j.Eq=function(n,q,p){var E=n.length,T=.3,i=.59,H=.11;if(p){T=p[0];
i=p[1];H=p[2]}for(var R=0;R<E;R+=4)q[R>>2]=~~(n[R+0]*T+n[R+1]*i+n[R+2]*H+.5)};j.s0=function(n,q){var p=q.length;
for(var R=0;R<p;R+=4){var E=n[R>>>2];q[R]=E;q[R+1]=E;q[R+2]=E}};j.c2=function(n,q){var p=n.jS,E=n._,T=n.q,i=n.X,H=Math.min(n.jS.length,q.buffer.byteLength>>>2),Z=4*Math.floor(H/4),w=new Uint32Array(q.buffer),d=new Uint32Array(p.buffer),O=new Uint32Array(E.buffer),W=new Uint32Array(T.buffer),C=new Uint32Array(i.buffer);
for(var R=0;R<Z;R+=4){var a=d[R>>2],B=C[R>>2],$=W[R>>2],I=O[R>>2];w[R]=a<<24|(B&255)<<16|($&255)<<8|I&255;
w[R+1]=(a&65280)<<16|(B&65280)<<8|$&65280|(I&65280)>>>8;w[R+2]=(a&16711680)<<8|B&16711680|($&16711680)>>>8|(I&16711680)>>>16;
w[R+3]=a&4278190080|(B&4278190080)>>>8|($&4278190080)>>>16|(I&4278190080)>>>24}for(var R=Z;R<H;R++)w[R]=p[R]<<24|i[R]<<16|T[R]<<8|E[R]};
j.MF=function(n,q){var p=q.jS,E=q._,T=q.q,i=q.X,H=Math.min(q.jS.length,n.buffer.byteLength>>>2),Z=4*Math.floor(H/4),w=new Uint32Array(n.buffer),d=new Uint32Array(p.buffer),O=new Uint32Array(E.buffer),W=new Uint32Array(T.buffer),C=new Uint32Array(i.buffer);
for(var R=0;R<Z;R+=4){var a=w[R],B=w[R+1],$=w[R+2],I=w[R+3];O[R>>2]=a&255|(B&255)<<8|($&255)<<16|I<<24;
W[R>>2]=(a&65280)>>8|B&65280|($&65280)<<8|(I&65280)<<16;C[R>>2]=(a&16711680)>>16|(B&16711680)>>8|$&16711680|(I&16711680)<<8;
d[R>>2]=a>>>24|B>>>24<<8|$>>>24<<16|I&4278190080}for(var R=Z;R<H;R++){var x=w[R];E[R]=x>>0&255;T[R]=x>>8&255;
i[R]=x>>16&255;p[R]=x>>24&255}};j.J2=function(n,q,p){var E=new Uint8Array(n.buffer),T=Math.min(E.length/4,q.length);
for(var R=0;R<T;R++){q[R]=E[(R<<2)+p]}};j.yI=function(n,q,p){var E=new Uint8Array(q.buffer),T=new Uint32Array(n.buffer),i=Math.min(E.length/4,n.length),R=0;
while(R+4<i){var H=T[R>>>2];E[(R<<2)+p]=H&255;E[(R<<2)+p+4]=H>>>8&255;E[(R<<2)+p+8]=H>>>16&255;E[(R<<2)+p+12]=H>>>24;
R+=4}while(R<i){E[(R<<2)+p]=n[R];R++}};j.nz=function(n,q,p){if(p==null)p=0;var E=new Uint32Array(n.buffer),T=E.length;
for(var R=0;R<T;R++)E[R]=E[R]&p|q};j.adr=function(n,q,p,E,T){if(T==null)T=0;var i=new Uint32Array(n.buffer);
p=p.O1(q);var H=p.x-q.x,Z=p.y-q.y,w=p.v,d=p.o,O=q.v;for(var W=0;W<d;W++){var R=(Z+W)*O+H;for(var C=0;
C<w;C++){i[R]=i[R]&T|E;R++}}};j.Sa=function(n,q){var p=Math.min(n.buffer.byteLength,q.buffer.byteLength),E=p>>>2,n=new Uint32Array(n.buffer,0,E),q=new Uint32Array(q.buffer,0,E);
q.set(n)};j.rv=function(n,q){var p=n.buffer.byteLength,E=q.buffer.byteLength,T=new Uint32Array(n.buffer,0,p>>2),i=new Uint32Array(q.buffer,0,E>>2);
if(p!=E)return!1;var H=T.length;for(var R=0;R<H;R++)if(i[R]!=T[R])return!1;return!0};j.z3=function(n){var q=new Uint32Array(n.buffer),p=q.length;
for(var R=0;R<p;R++)q[R]=~q[R]};j.a4Z=function(n){var q=n.length;for(var R=0;R<q;R+=4){n[R]=~n[R];n[R+1]=~n[R+1];
n[R+2]=~n[R+2]}};j.aeY=function(n){var q=n.length;for(var R=3;R<q;R+=4)n[R]=~n[R]};j.aq_=function(n){return n+(n%4==0?0:4-n%4)};
j.U=function(n,q){if(q==null)q=!1;if(!q)n=j.aq_(n);try{var p=new Uint8Array(n)}catch(de){alert("Not enough RAM! (need "+Math.round(n/(1<<20))+" MB)",7e3);
throw"low_ram"}return p};j.bl=function(n){var q=n.length,p=n[q-2],E=n[q-1];while(E.v>=2&&E.o>=2){var T=j.N6(p,E);
n.push(T.OT,T.rect);p=T.OT;E=T.rect}};j.Lb=function(n){var q=n.length,p=n[q-2],E=n[q-1];while(E.v>=2&&E.o>=2){var T=j.Cx(p,E);
n.push(T.OT,T.rect);p=T.OT;E=T.rect}};j.N6=function(n,q,p){var E=q.v,T=q.o,i=E>>1,H=T>>1,Z=new eL(q.x,q.y,i,H),w=p&&p.length==i*H*4?p:j.U(i*H*4),d=new Uint32Array(n.buffer),O=new Uint32Array(w.buffer);
for(var W=0;W<H;W++)for(var C=0;C<i;C++){var a=W*i+C,B=(W<<1)*E+(C<<1),$=d[B],I=d[B+1],x=d[B+E],U=d[B+E+1],N=$>>>24,m=I>>>24,f=x>>>24,c=U>>>24,D=N+m+f+c;
if(D==1020){var z=($>>>0&255)+(I>>>0&255)+(x>>>0&255)+(U>>>0&255)+2>>>2,_=($>>>8&255)+(I>>>8&255)+(x>>>8&255)+(U>>>8&255)+2>>>2,v=($>>>16&255)+(I>>>16&255)+(x>>>16&255)+(U>>>16&255)+2>>>2;
O[a]=255<<24|v<<16|_<<8|z}else if(D==0)O[a]=0;else{var z=($>>>0&255)*N+(I>>>0&255)*m+(x>>>0&255)*f+(U>>>0&255)*c,_=($>>>8&255)*N+(I>>>8&255)*m+(x>>>8&255)*f+(U>>>8&255)*c,v=($>>>16&255)*N+(I>>>16&255)*m+(x>>>16&255)*f+(U>>>16&255)*c,o=1/D;
z=~~(z*o+.5);_=~~(_*o+.5);v=~~(v*o+.5);O[a]=D+2>>>2<<24|v<<16|_<<8|z}}return{rect:Z,OT:w}};j.zZ=function(n,q,p){var E=q.v,T=q.o,i=E>>1,H=T>>1,Z=new eL(q.x,q.y,i,H),w=p&&p.length==i*H*4?p:j.U(i*H*4),d=new Uint32Array(n.buffer),O=new Uint32Array(w.buffer);
for(var W=0;W<H;W++)for(var C=0;C<i;C++){var a=W*i+C,B=(W<<1)*E+(C<<1),$=d[B],I=d[B+1],x=d[B+E],U=d[B+E+1],N=2+($>>>0&255)+(I>>>0&255)+(x>>>0&255)+(U>>>0&255)>>>2,m=2+($>>>8&255)+(I>>>8&255)+(x>>>8&255)+(U>>>8&255)>>>2,f=2+($>>>16&255)+(I>>>16&255)+(x>>>16&255)+(U>>>16&255)>>>2,c=2+($>>>24&255)+(I>>>24&255)+(x>>>24&255)+(U>>>24&255)>>>2;
O[a]=c<<24|f<<16|m<<8|N}return{rect:Z,OT:w}};j.ap$=function(n,q,p){var E=q.v,T=q.o,i=2*Math.floor(E/3),H=2*Math.floor(T/3),Z=new eL(q.x,q.y,i,H),w=p&&p.length==i*H*4?p:j.U(i*H*4),d=new Uint32Array(n.buffer),O=new Uint32Array(w.buffer);
for(var W=0;W<H;W+=2)for(var C=0;C<i;C+=2){var a=W*i+C,B=(W*3>>>1)*E+(C*3>>>1),$=d[B],I=d[B+1],x=d[B+2],U=d[B+E],N=d[B+1+E],m=d[B+2+E],f=d[B+E+E],c=d[B+1+E+E],D=d[B+2+E+E],z=$>>>24<<2,_=($>>>16&255)*z,v=($>>>8&255)*z,o=($&255)*z,y=I>>>24<<1,k=(I>>>16&255)*y,S=(I>>>8&255)*y,L=(I&255)*y,X=x>>>24<<2,s=(x>>>16&255)*X,M=(x>>>8&255)*X,V=(x&255)*X,l=U>>>24<<1,e=(U>>>16&255)*l,Y=(U>>>8&255)*l,J=(U&255)*l,G=N>>>24,F=(N>>>16&255)*G,b=(N>>>8&255)*G,h=(N&255)*G,bj=m>>>24<<1,i4=(m>>>16&255)*bj,t=(m>>>8&255)*bj,aG=(m&255)*bj,Q=f>>>24<<2,jd=(f>>>16&255)*Q,bP=(f>>>8&255)*Q,gz=(f&255)*Q,fZ=c>>>24<<1,dt=(c>>>16&255)*fZ,a9=(c>>>8&255)*fZ,bi=(c&255)*fZ,az=D>>>24<<2,hd=(D>>>16&255)*az,aB=(D>>>8&255)*az,cv=(D&255)*az,c$=z+y+l+G,cT=X+y+bj+G,fp=Q+fZ+l+G,cD=az+fZ+bj+G,f_=c$==0?0:1/c$,f9=cT==0?0:1/cT,dO=fp==0?0:1/fp,a6=cD==0?0:1/cD,hb=0,jr=0,dh=0,jq=0;
hb=~~(.5+(o+L+J+h)*f_);jr=~~(.5+(v+S+Y+b)*f_);dh=~~(.5+(_+k+e+F)*f_);jq=~~(.5+c$*(1/9));O[a]=jq<<24|dh<<16|jr<<8|hb;
hb=~~(.5+(V+L+aG+h)*f9);jr=~~(.5+(M+S+t+b)*f9);dh=~~(.5+(s+k+i4+F)*f9);jq=~~(.5+cT*(1/9));O[a+1]=jq<<24|dh<<16|jr<<8|hb;
hb=~~(.5+(gz+bi+J+h)*dO);jr=~~(.5+(bP+a9+Y+b)*dO);dh=~~(.5+(jd+dt+e+F)*dO);jq=~~(.5+fp*(1/9));O[a+i]=jq<<24|dh<<16|jr<<8|hb;
hb=~~(.5+(cv+bi+aG+h)*a6);jr=~~(.5+(aB+a9+t+b)*a6);dh=~~(.5+(hd+dt+i4+F)*a6);jq=~~(.5+cD*(1/9));O[a+i+1]=jq<<24|dh<<16|jr<<8|hb}return{rect:Z,OT:w}};
j.a9M=function(n,q,p){var E=q.v,T=q.o,i=2*Math.floor(E/3),H=2*Math.floor(T/3),Z=new eL(q.x,q.y,i,H),w=p&&p.length==i*H*4?p:j.U(i*H*4),d=new Uint32Array(n.buffer),O=new Uint32Array(w.buffer);
for(var W=0;W<H;W+=2)for(var C=0;C<i;C+=2){var a=W*i+C,B=(W*3>>>1)*E+(C*3>>>1),$=d[B],I=d[B+1],x=d[B+2],U=d[B+E],N=d[B+1+E],m=d[B+2+E],f=d[B+E+E],c=d[B+1+E+E],D=d[B+2+E+E],z=($>>>16&255)<<2,_=($>>>8&255)<<2,v=($&255)<<2,o=(I>>>16&255)<<1,y=(I>>>8&255)<<1,k=(I&255)<<1,S=(x>>>16&255)<<2,L=(x>>>8&255)<<2,X=(x&255)<<2,s=(U>>>16&255)<<1,M=(U>>>8&255)<<1,V=(U&255)<<1,l=N>>>16&255,e=N>>>8&255,Y=N&255,J=(m>>>16&255)<<1,G=(m>>>8&255)<<1,F=(m&255)<<1,b=(f>>>16&255)<<2,h=(f>>>8&255)<<2,bj=(f&255)<<2,i4=(c>>>16&255)<<1,t=(c>>>8&255)<<1,aG=(c&255)<<1,Q=(D>>>16&255)<<2,jd=(D>>>8&255)<<2,bP=(D&255)<<2,gz=0,fZ=0,dt=0;
gz=~~(.5+(v+k+V+Y)*(1/9));fZ=~~(.5+(_+y+M+e)*(1/9));dt=~~(.5+(z+o+s+l)*(1/9));O[a]=255<<24|dt<<16|fZ<<8|gz;
gz=~~(.5+(X+k+F+Y)*(1/9));fZ=~~(.5+(L+y+G+e)*(1/9));dt=~~(.5+(S+o+J+l)*(1/9));O[a+1]=255<<24|dt<<16|fZ<<8|gz;
gz=~~(.5+(bj+aG+V+Y)*(1/9));fZ=~~(.5+(h+t+M+e)*(1/9));dt=~~(.5+(b+i4+s+l)*(1/9));O[a+i]=255<<24|dt<<16|fZ<<8|gz;
gz=~~(.5+(bP+aG+F+Y)*(1/9));fZ=~~(.5+(jd+t+G+e)*(1/9));dt=~~(.5+(Q+i4+J+l)*(1/9));O[a+i+1]=255<<24|dt<<16|fZ<<8|gz}return{rect:Z,OT:w}};
j.yz=function(n){var q=255,p=n.length;p-=p&31;for(var R=3;R<p;R+=32)q=q&n[R]&n[R+4]&n[R+8]&n[R+12]&n[R+16]&n[R+20]&n[R+24]&n[R+28];
return q!=255};j.a5H=function(n,q,p,E){var T=j.N6,i=j.ap$,Z=0;if(!j.yz(n)){T=j.zZ;i=j.a9M}var H={OT:n,rect:q},w=p;
while(w<.499){Z++;w*=2}for(var R=0;R<Z;R++)H=T(H.OT,H.rect,E);if(w<.5001)H=T(H.OT,H.rect,E);else H=i(H.OT,H.rect,E);
return H};j.a46=function(n,q,p,E){var T=j.Cx,i=j.TF,H={OT:n,rect:q},Z=0,w=p;while(w<.499){Z++;w*=2}for(var R=0;
R<Z;R++)H=T(H.OT,H.rect,E);if(w<.5001)H=T(H.OT,H.rect,E);else H=i(H.OT,H.rect,E);return H};j.Cx=function(n,q,p){var E=q.v,T=q.o,i=E>>1,H=T>>1,Z=new eL(q.x,q.y,i,H);
if(n==null)return{rect:Z};var w=p&&p.length>=i*H?p:j.U(i*H);for(var d=0;d<H;d++){var O=d*i;for(var W=0;
W<i;W++){var C=(d<<1)*E+(W<<1);w[O+W]=2+n[C]+n[C+1]+n[C+E]+n[C+E+1]>>>2}}return{rect:Z,OT:w}};j.TF=function(n,q,p){var E=q.v,T=q.o,i=2*Math.floor(E/3),H=2*Math.floor(T/3),Z=new eL(q.x,q.y,i,H);
if(n==null)return{rect:Z};var w=p&&p.length>=i*H?p:j.U(i*H);for(var d=0;d<H;d+=2)for(var O=0;O<i;O+=2){var W=d*i+O,C=(d*3>>>1)*E+(O*3>>>1),a=n[C]<<2,B=n[C+1]<<1,$=n[C+2]<<2,I=n[C+E]<<1,x=n[C+1+E],U=n[C+2+E]<<1,N=n[C+E+E]<<2,m=n[C+1+E+E]<<1,f=n[C+2+E+E]<<2;
w[W]=~~(.5+(a+B+I+x)*(1/9));w[W+1]=~~(.5+($+B+U+x)*(1/9));w[W+i]=~~(.5+(N+m+I+x)*(1/9));w[W+i+1]=~~(.5+(f+m+U+x)*(1/9))}return{rect:Z,OT:w}};
j.cg=function(n,q,p,E,T){var i=q.O1(E);if(T)i=i.O1(T);var H=Math.max(0,i.x-q.x),Z=Math.max(0,i.x-E.x),w=Math.max(0,i.y-q.y),d=Math.max(0,i.y-E.y),O=i.v,W=i.o;
for(var R=0;R<W;R++){var C=(w+R)*q.v+H,a=(d+R)*E.v+Z;for(var B=0;B<O;B++){p[a+B]=n[C+B]}}};j.vL=function(n,q,p,E){if(q.rv(E)){j.yI(n,p,3);
return}var T=q.O1(E),i=Math.max(0,T.x-q.x),H=Math.max(0,T.x-E.x),Z=Math.max(0,T.y-q.y),w=Math.max(0,T.y-E.y),d=T.v,O=T.o;
for(var R=0;R<O;R++){var W=(Z+R)*q.v+i,C=(w+R)*E.v+H;for(var a=0;a<d;a++)p[(C+a<<2)+3]=n[W+a]}};j.Fm=function(n,q,p,E){var T=q.O1(E),i=Math.max(0,T.x-q.x),H=Math.max(0,T.x-E.x),Z=Math.max(0,T.y-q.y),w=Math.max(0,T.y-E.y),d=T.v,O=T.o;
for(var R=0;R<O;R++){var W=(Z+R)*q.v+i,C=(w+R)*E.v+H;for(var a=0;a<d;a++)p[C+a]=n[(W+a<<2)+3]}};j.hk=function(n,q,p,E,T){if(q.rv(E)&&(T==null||T.rv(E))){j.Sa(n,p);
return}n=new Uint32Array(n.buffer),p=new Uint32Array(p.buffer);var i=q.O1(E);if(T)i=i.O1(T);var H=Math.max(0,i.x-q.x),Z=Math.max(0,i.x-E.x),w=Math.max(0,i.y-q.y),d=Math.max(0,i.y-E.y),O=i.v,W=i.o,C=O&3,a=C==0?O:O-C;
for(var R=0;R<W;R++){var B=(w+R)*q.v+H,$=(d+R)*E.v+Z;p.set(new Uint32Array(n.buffer,B*4,O),$)}};j.Ap=function(n,q,p,E){var T=q.O1(E),i=Math.max(0,T.x-q.x),H=Math.max(0,T.x-E.x),Z=Math.max(0,T.y-q.y),w=Math.max(0,T.y-E.y),d=T.v,O=T.o,W=n.jS,C=n._,a=n.q,B=n.X,$=p.jS,I=p._,x=p.q,U=p.X;
for(var R=0;R<O;R++){var N=(Z+R)*q.v+i,m=(w+R)*E.v+H;for(var f=0;f<d;f++){$[m+f]=W[N+f];I[m+f]=C[N+f];
x[m+f]=a[N+f];U[m+f]=B[N+f]}}};j.Gy=function(n){var q=n.length;for(var R=0;R<q;R+=4){var p=n[R+3];if(p==255)continue;
n[R]=~~(n[R]*p*(1/255)+.5);n[R+1]=~~(n[R+1]*p*(1/255)+.5);n[R+2]=~~(n[R+2]*p*(1/255)+.5)}};j.X8=function(n){var q=n.length;
for(var R=0;R<q;R+=4){var p=n[R+3];if(p==0||p==255)continue;var E=255/p;n[R]=~~(n[R]*E+.5);n[R+1]=~~(n[R+1]*E+.5);
n[R+2]=~~(n[R+2]*E+.5)}};j.sy=function(n,q){for(var R=0;R<n.length;R++)if(n[R]!=q)return!1;return!0};
j.zp=function(n){return n+1+(n>>>8)>>>8};j.round=function(n,q){if(q==null)q=128;var p=n.length;for(var R=0;
R<p;R++)n[R]=n[R]<q?0:255};j.gs=function(n,q){var p=n.length;for(var R=0;R<p;R++)n[R]=Math.round(n[R]*q)};
j.Qk=function(n,q){var p=new Uint32Array(n.buffer),E=new Uint32Array(q.buffer),T=p.length;for(var R=0;
R<T;R++){var i=p[R],H=E[R];E[R]=j.zp((i>>>24)*(H>>>24))<<24|j.zp((i>>>16&255)*(H>>>16&255))<<16|j.zp((i>>>8&255)*(H>>>8&255))<<8|j.zp((i&255)*(H&255))}};
j.AK=function(n,q){var p=n.length;for(var R=0;R<p;R++)q[(R<<2)+3]=j.zp(q[(R<<2)+3]*n[R])};j.a07=function(n,q,p,E){var T=Math.max(0,E.x-q.x),i=Math.max(0,q.x-E.x),H=Math.max(0,E.y-q.y),Z=Math.max(0,q.y-E.y),w=Math.min(q.x+q.v,E.x+E.v)-Math.max(q.x,E.x),d=Math.min(q.y+q.o,E.y+E.o)-Math.max(q.y,E.y);
for(var R=0;R<d;R++){var O=(H+R)*q.v+T,W=(Z+R)*E.v+i;for(var C=0;C<w;C++){p[W]=j.zp(p[W]*n[O]);O++;W++}}};
j.qF=function(n,q,p,E){var T=Math.max(0,E.x-q.x),i=Math.max(0,q.x-E.x),H=Math.max(0,E.y-q.y),Z=Math.max(0,q.y-E.y),w=Math.min(q.x+q.v,E.x+E.v)-Math.max(q.x,E.x),d=Math.min(q.y+q.o,E.y+E.o)-Math.max(q.y,E.y);
for(var R=0;R<d;R++){var O=(H+R)*q.v+T,W=((Z+R)*E.v+i<<2)+3;for(var C=0;C<w;C++){p[W]=j.zp(p[W]*n[O]);
O++;W+=4}}};j.DG=function(n,q,p,E){var T=Math.max(0,E.x-q.x),i=Math.max(0,q.x-E.x),H=Math.max(0,E.y-q.y),Z=Math.max(0,q.y-E.y),w=Math.min(q.x+q.v,E.x+E.v)-Math.max(q.x,E.x),d=Math.min(q.y+q.o,E.y+E.o)-Math.max(q.y,E.y);
for(var R=0;R<d;R++){var O=((H+R)*q.v+T<<2)+3,W=((Z+R)*E.v+i<<2)+3;for(var C=0;C<w;C++){p[W]=j.zp(p[W]*n[O]);
O+=4;W+=4}}};j.Lj=function(n){var q=new Float64Array(256),p=new Float64Array(256),E=new Float64Array(256),T=new Float64Array(256),i=n.length,H=0;
for(var R=0;R<i;R+=4){var Z=n[R+3],w=Z*(1/255);p[n[R+0]]+=w;E[n[R+1]]+=w;T[n[R+2]]+=w;H+=Z}for(var R=0;
R<256;R++)q[R]=p[R]+E[R]+T[R];return[q,p,E,T,i>>>2,H/255]};j.eA=function(n,q){var p=new Uint32Array(n.buffer),E=p.length;
for(var R=0;R<E;R++){var T=p[R],i=T&255,H=T>>8&255,Z=T>>16&255,w=T>>24&255;p[R]=q[i]|q[H]<<8|q[Z]<<16|q[w]<<24}};
j.agR=function(n,q,p,E,T,i,H){var Z=new Uint32Array(n.buffer),w=new Uint32Array(q.buffer),d=Z.length,O=0;
while(256<<O<p.length)O++;if(!H&&!i){for(var R=0;R!=d;R++){var W=Z[R],C=(W&255)<<O,a=(W>>>8&255)<<O,B=(W>>>16&255)<<O,$=p[C],I=E[a],x=T[B];
w[R]=$|I<<8|x<<16|W&4278190080}return}for(var R=0;R<d;R++){var W=Z[R],C=(W&255)<<O,a=(W>>>8&255)<<O,B=(W>>>16&255)<<O;
if(i)C=a=B=Math.round(C*.3+a*.59+B*.11);var $=p[C],I=E[a],x=T[B];if(H){var U=j.lU(C,a,B),N=j.lU($,I,x);
if(U>N){var m=(U-N)/(255-N);$+=m*(255-$);I+=m*(255-I);x+=m*(255-x)}else if(N==0)$=I=x=0;else{var m=U/N;
$=m*$;I=m*I;x=m*x}}w[R]=$|I<<8|x<<16|W&4278190080}};j.YA=function(n,q){var p=q.v,E=q.o,top=0,T=0,i=0,H=0,Z=0;
Z=0;for(var w=0;w<E;w++){var d=w*p;for(var R=0;R<p;R++)Z|=n[d+R];if(Z!=0)break;top++}if(top==E)return new eL(0,0,0,0);
Z=0;for(var w=E-1;w>=0;w--){var d=w*p;for(var R=0;R<p;R++)Z|=n[d+R];if(Z!=0)break;i++}var O=E-i;Z=0;
for(var R=0;R<p;R++){for(var w=top;w<O;w++)Z|=n[w*p+R];if(Z!=0)break;T++}Z=0;for(var R=p-1;R>=0;R--){for(var w=top;
w<O;w++)Z|=n[w*p+R];if(Z!=0)break;H++}var W=new eL(q.x+T,q.y+top,p-T-H,E-top-i);return W};j.XU=function(n,q,p,E){if(E==null)E=[!0,!0,!0,!0];
if(p==null)p=0;var T=new Uint32Array(n.buffer),i=q.v,H=q.o,top=0,Z=0,w=0,d=0,O=!1,W=[T[0],T[T.length-1],0][p];
O=!1;if(E[0])for(var C=0;C<H;C++){var a=C*i;for(var R=0;R<i;R++)if(T[a+R]!=W)O=!0;if(O)break;top++}O=!1;
if(E[2])for(var C=H-1;C>=0;C--){var a=C*i;for(var R=0;R<i;R++)if(T[a+R]!=W)O=!0;if(O)break;w++}O=!1;
if(E[1])for(var R=0;R<i;R++){for(var C=0;C<H;C++)if(T[C*i+R]!=W)O=!0;if(O)break;Z++}O=!1;if(E[3])for(var R=i-1;
R>=0;R--){for(var C=0;C<H;C++)if(T[C*i+R]!=W)O=!0;if(O)break;d++}var B=new eL(q.x+Z,q.y+top,i-Z-d,H-top-w);
return B.M6()?new eL(0,0,0,0):B};j.aA=function(n){var q=j.YA(n.channel,n.rect);if(q.rv(n.rect))return;
var p=j.U(q.P());j.cg(n.channel,n.rect,p,q);n.channel=p;n.rect=q};j.x0=function(n){var q=j.U(n.buffer.length>>2);
j.J2(n.buffer,q,3);var p=j.YA(q,n.rect);if(p.rv(n.rect))return;var E=new j.U(p.P()*4);j.hk(n.buffer,n.rect,E,p);
n.buffer=E;n.rect=p};j.extend=function(n,q,p){if(n.rect.Gf(q))return;var E=n.rect.AL(q),T=j.U(E.P());
if(p!=null)T.fill(p);j.cg(n.channel,n.rect,T,E);n.rect=E;n.channel=T};j.aeM=function(n,q){if(q.M6()||n.rect.Gf(q))return;
var p=n.rect.AL(q),E=j.U(p.P()*4);j.hk(n.buffer,n.rect,E,p);n.rect=p;n.buffer=E};j.GM=function(n,q,p){if(!p.Z4(n))return!1;
var E=Math.floor(n.x)-p.x,T=Math.floor(n.y)-p.y,R=T*p.v+E;return q[R]>128};j.ar1=function(n,q,p){if(!p.Z4(n))return!1;
var E=Math.floor(n.x)-p.x,T=Math.floor(n.y)-p.y,R=T*p.v+E;return q[4*R+3]>128};j.xq=function(n){if(j.iN.length<n){j.iN=j.U(n);
j.iN.fill(255)}return j.iN};j.iN=j.U(0);j.Ji=function(n){if(j.$Q.length<n)j.$Q=j.U(n);return j.$Q};j.$Q=j.U(0);
j.U$=function(n){this.jS=j.U(n);this._=j.U(n);this.q=j.U(n);this.X=j.U(n)};j.U$.prototype.clone=function(){var n=this.jS.length,q=new j.U$(1);
q.jS=this.jS.slice(0);q._=this._.slice(0);q.q=this.q.slice(0);q.X=this.X.slice(0);return q};j.d.a8v=function(n,q,p,E,T){var i=T[0]+1,H=T[1],Z=Math.abs(H-25)/4,w=T[2],d=w%2+w*w>>1,O=j.d.A;
O.xI(q,p);var W=O.Dk(1),C=O.Dk(1),a=O.Dk(1);O.Im(n,E,w,w,d);O.yb(E);O.N_(E,W);O.fW(W,C,i,i,1);O.fW(W,a,i,i,i*i);
O.sub(a,C);O.Qk(C,Z);(H<25?O.sub:O.add)(W,C);O.jJ(C,E);O.js(E)};j.d.a0S=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=T[0]*2.55,Z=T[1],w=Z>>1,d=T[2]*.25,O=i.Dk(4),W=i.Dk(1),C=i.Dk(1);i.UM(n,O,Z,1,!0,w);
i.UM(n,E,Z,1,!1,w);i.Dr(n,W);i.uA(W,H);i.iX(W,C,3);i.he(E,C,O);i.M4(O,E,d)};j.d.aqF=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=T[0]*-3+80,Z=T[1]*-3+80,w=T[2]/2+.5,d=T[4],O=T[5],W=i.Dk(1),C=i.Dk(1),a=i.Dk(1),B=i.Dk(1),$=i.Dk(4),I=i.Dk(4);
i.Dr(n,W);i.Sa(W,C);i.M0(W,Z,5);i.T8(W,.4,0);i.iX(W,a,3);i.fB(a,W,9,3,!0,27);i.Sa(C,a);i.z3(a);var x=i.PD(H,5,a);
for(var R=0;R<i.Fe;R++){C[R]=x[255-C[R]]}i.T8(C,.4,0);i.Sa(C,a);i.iX(a,B,2);i.fB(B,a,5,3,!1,15);i.Qk(W,w);
i.Qk(a,w);i.WC(E,2155905279);i.WC(I,d);i.WC($,O);i.he(I,W,E);i.he($,a,E)};j.d.a3r=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=new Uint8Array(256),Z=5+10*T[1];Z+=T[1]>3?(T[1]-3)*10:0;var w=~~(T[2]*.73)+50,d=Math.min(w+Z,128),O=d-w,W=-255*w;
for(var R=0;R<256;R++){var C=R*65;H[R]=i.yd(W/O);W+=255}var a=i.Dk(1),B=i.Dk(1),$=i.Dk(1);i.Dr(n,a);
i.Sa(a,$);i.iX(a,B,2*T[0]+1);i.sub(B,a);i.Qk(a,65);i.fB(a,B,9,3,!0,20);for(var R=0;R<i.Fe;R++){var I=$[R],x=B[R];
a[R]=x>0?~~((x*I+(255-x)*128)/255):128}i.iX(a,B,3);i.fB(B,a,15,2,!0,16);i.fB(B,$,15,2,!1,15);i.ey(a,$);
i.Ux($,B,2);i.g4(B,H);i.iX(B,a,2);i.yU(a,E)};j.d.a0x=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=2*T[0]+1,Z=i.cD[T[1]],w=T[2]*5.1,d=T[3],O=i.Dk(1),W=i.Dk(1),C=i.Dk(4),a=i.Dk(4);
i.WC(C,d);i.yb(C,E);i.TU(O,w);i.jJ(O,E);i.js(E,C);i.Dr(n,W);i.iX(W,O,H);i.sub(O,W);i.Qk(W,Z);i.fB(W,O,9,3,!0,20);
i.he(n,O,C);i.yE(C,E,3);i.UM(E,C,15,2,!0,16);i.UM(E,a,15,2,!1,16);i.ey(C,a);i.M4(a,E,2)};j.d.afd=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=(15-T[0])/4+1,Z=(15-T[1])/4+1,w=T[2],d=T[3],O=i.dO(T[4]),W=T[5]+1,C=T[6],a=T[7],B=T[8],$=i.Dk(1),I=i.Dk(1),x=i.Dk(1),U=i.Dk(1),N=i.Dk(4),m=i.Dk(4);
i.yV(x,w,d,C);i.Dr(n,I);i.iX(I,$,5);i.rT(x,$,U,W,O);i.Qk(U,H);i.Iu(U,2);i.z3($);i.rT(x,$,I,W,O);i.Qk(I,Z);
i.Iu(I,2);i.WC(N,2155905279);i.WC(m,a);i.WC(E,B);i.he(N,I,m);i.he(m,U,E)};j.d.ao_=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=T[0],Z=T[1]/10,w=T[2]/10,d=i.Dk(1),O=i.Dk(1),W=i.Dk(1),C=i.fv(),a=i.fv(),B=i.fv();
i.RU(d);i.iX(d,O,11);i.iX(O,d,11);i.Ur(d,C);i.gR(n,d);i.Sa(d,W);i.iX(d,O,9);i.iX(O,d,9);i.Ur(d,a);i.Ct(a,B,5);
i.Ct(B,a,5);i.K9(C,.8);i.apf(C,a,.8,.9);i.YP(a,d,H);i.fW(d,O,2,2,1);i.fW(O,d,2,2,3);i.fW(d,O,2,2,3);
i.fW(W,d,5,5,13);i.SV(O,d,O,Z);i.vj(d,O,O,w);i.rT(O,O,d,5,1);i.yb(n,E);i.jJ(d,E);i.js(E)};j.d.a1y=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=T[0],Z=T[1]/2,w=T[2],d=H/2,O=i.Dk(4),W=i.Dk(4);i.Sa(n,E);for(var C=0;C<w;C++){i.UM(E,O,H,1,!0,d);
i.UM(E,W,H,1,!1,d);i.ey(W,O);i.yE(O,W,2);i.M4(W,E,Z)}};j.d.amG=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);
var H=T[0]*10,Z=T[1]*4.9,w=T[2]*4.9,d=i.Dk(1),O=i.Dk(1),W=i.Dk(4),C=i.Dk(4);i.Dr(n,d);i.uA(d,i.aik(d,H));
i.iX(d,O,3);i.UM(n,W,5,1,!1,1);i.UM(n,E,15,2,!0,16);i.he(E,O,W);i.yb(W,E);i.N_(E,d);i.M0(d,Z,w);i.jJ(d,E);
i.js(E)};j.d.a4h=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[4]);var H=T[0]/20,Z=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][T[1]],w=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][T[2]],d=T[3],O=new Int16Array(256);
for(var R=0;R<256;R++){O[R]=~~((R-128)*H)}var W=i.Dk(1),C=i.Dk(1),a=i.Dk(4);i.Dr(n,W);i.iX(W,C,25);i.Qk(C,Z);
i.Iu(C,w);i.iX(C,W,25);i.RU(C);i.Mz(W,C,O);i.Sa(n,E);i.WC(a,d);i.he(a,W,E)};j.d.akw=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=T[0]+5,Z=15-T[1],w=H*H/2,d=1-(3-T[2])/10,O=~~(Z*Z*d-1),W=~~(Z*Z*(1-d));if(W==0)W=1;var C=i.Dk(1),a=i.Dk(1),B=i.Dk(1),$=i.Dk(4);
i.Dr(n,B);i.fW(B,C,H,H,w);i.iX(B,a,H);i.sub(C,a);i.uA(a,1);i.Im(n,$,Z,Z,O);i.Im(n,E,Z,Z,W);i.he($,a,E)};
j.d.alg=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[3]);var H=(20-T[0])*.05,Z=T[1]*-2.75+60,w=65-Z,d=T[2]/10,O=i.Dk(1),W=i.Dk(1);
i.gR(n,W);var C=i.PD(Z,w,W);i.yb(n,E);i.N_(E,W);i.RU(O);i.Y$(W,O,H);i.g4(W,C);i.Qk(W,T[2]/10);i.add(O,W);
i.jJ(W,E);i.js(E)};j.d.aaS=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=5+T[0],Z=15-T[1],w=T[2],d=H*H/2+H*H%2*1,O=1-(3-T[2])/10,W=~~(Z*Z*O-1),C=~~(Z*Z*(1-O));
if(C==0)C=1;var a=i.Dk(1),B=i.Dk(1),$=i.Dk(1),I=i.Dk(1),x=i.Dk(1);i.gR(n,B);i.Ux(B,a,3);i.fW(a,B,2,2,1);
var U=i.PD(20,20,B);i.g4(B,U);i.iX(B,x,5);i.fW(x,a,H,H,d);i.fW(x,B,Z,Z,W);i.fW(x,$,Z,Z,C);i.iX(x,I,H);
i.sub(a,I);i.uA(I,1);i.di(B,I,$);i.yb(n,E);i.jJ($,E);i.js(E)};j.d.a44=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[5]);var H=i.Fe,Z=i.nK,w=T[0],d=T[1],O=T[2],W=T[3],C=T[4],a=.05*w+1,B=w/100,$=w>>1,I=2*w-100,x=+(d==9),U=+(d==7),N=[4,1][x],m=[3,2][x],f=[1,2][U],c=[2,1][U],D=[50,75][x],z=d<4?O:(O>>1)+50,_=i.Y1(D,z),v=i.Dg(W),o=i.Dg(C),y=i.Dk(4),k=i.Dk(4),S=i.Dk(1),L=i.Dk(1);
function X(E,_){if(z!=50){i.xC(E,_)}}function s(n,i4){for(var R=0;R<H;R++){n[R]=i.yd(n[R]+(i4[R]-128)*B)}}function M(n,i4){for(var R=0,t=0;
R<H;R++){n[t]=i.yd(n[t]+(i4[t]-128)*B);n[t+1]=i.yd(n[t+1]+(i4[t+1]-128)*B);n[t+2]=i.yd(n[t+2]+(i4[t+2]-128)*B);
t+=4}}function V(n,E){i.RU(k);i.Sa(n,E);M(E,k);X(E,_)}function l(i4){var t=0;for(var aG=0;aG<12;aG++)t+=i.random();
return i.yd($*(t-6)+i4)}function e(n,E){i.Sa(n,E);for(var R=0;R<Z;R+=4){E[R]=l(E[R]);E[R+1]=l(E[R+1]);
E[R+2]=l(E[R+2])}X(E,_)}function Y(n,E){i.Sa(n,E);for(var R=0;R<Z;R+=4){if(i.random()<B){E[R]=v[0];E[R+1]=v[1];
E[R+2]=v[2]}}X(E,_)}function J(n,E){i.RU(y);i.Im(y,k,m,m,N);i.Sa(n,y);M(y,k);i.Im(y,E,5,5,13);X(E,_)}function G(n,E){i.RU(k);
i.Sa(n,y);M(y,k);X(E,_);i.Im(y,E,m,m,N)}function F(n,E){i.Sa(n,y);X(E,_);i.Dr(y,S);for(var R=0,i4=0;
R<H;R++){var t=((I-S[R]+255)*128.5+.5)/32767;if(i.random()<=t){E[i4++]=o[0];E[i4++]=o[1];E[i4++]=o[2]}else{E[i4++]=v[0];
E[i4++]=v[1];E[i4++]=v[2]}E[i4]=n[i4];i4++}}function b(n,E){i.yb(n,E);i.N_(E,S);i.Ux(S,L,a);i.fW(L,S,m,m,N);
i.g4(S,_);i.jJ(S,E);i.js(E)}function h(n){var i4=0;if(d==8){for(var t=0;t<q;t++){n[i4++]=~~(i.random()*255)}for(var R=1;
R<p;R++){for(var t=0;t<q;t++){n[i4++]=n[t]}}}else{for(var R=0;R<p;R++){var aG=~~(i.random()*255);for(var t=0;
t<q;t++){n[i4++]=aG}}}}function bj(n,E){i.Dr(n,S);i.RU(L);s(S,L);h(L);s(S,L);i.yE(n,y,9);i.yE(y,k,9);
i.iX(S,L,2);i.g4(L,_);i.iX(L,S,2);i.yb(k,E);i.jJ(S,E);i.js(E)}[V,e,Y,J,J,G,F,bj,bj,b][d](n,E)};j.d.a7Q=function(n,q,p,E,T){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],H=j.d.A,$=0,I,R,f,c,D,z=0,_=1,v=255;
H.xI(q,p);H.ot(T[3]);var Z=H.Dk(1),w=H.Dk(1);H.Dr(n,Z);var d=T[0],O=T[1],W=O<=50?i[O]/255:1+(255-i[101-O])/255,C=T[2],a=Z.length,B=new Float32Array(a),x=1+1/10*d,U=(1-1/x)/2,N=16/256,m=q-1;
for(R=0;R<H.Fe;R++){B[R]=Z[R]/255;w[R]=d==1?H.random()<1/255?v:_:_}function o(y,k){var S=y*q+k;if(w[S]!=_||y>=p||k>=q){return}var c=B[S],L=W-c,X=H.random(),s=X/x+U;
if($==0||Math.abs(D-c)>N){I=s<=L?z:v;$=~~(H.random()*d)}else if(.1<X){$--}else{$=0}w[S]=I;D=c}if(C==0){for(R=0;
R<q;R++){for(f=0;f<q;f++){c=R+f;if(c>=q)break;o(f,m-c)}$=0}for(R=1;R<p;R++){for(f=0;f<p;f++){c=R+f;if(c>=p||f>=q)break;
o(c,m-f)}$=0}}else if(C==1){for(R=0;R<p;R++){for(f=0;f<q;f++){o(R,f)}$=0}}else if(C==2){for(R=0;R<q;
R++){for(f=0;f<q;f++){c=R+f;if(c>=q)break;o(f,c)}$=0}for(R=1;R<p;R++){for(f=0;f<p;f++){c=R+f;if(c>=p||f>=q)break;
o(c,f)}$=0}}else{for(R=0;R<q;R++){for(f=0;f<p;f++){o(f,R)}$=0}}H.yU(w,E)};j.d.aeC=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=T[0],Z=T[1],w=T[2],d=i.Dk(1),O=i.Dk(1),W=i.Dk(1),C=i.Dk(4),a=i.Dk(4);i.Dr(n,d);i.fW(d,O,3,3,1);
i.fW(d,W,3,3,9);i.sub(W,O);i.iX(O,d,3);i.M0(d,40,10);i.UM(n,E,H,2,!1,H);i.UM(n,C,H,2,!0,H);i.WC(a,255);
i.he(E,d,a);i.he(a,d,C);i.M4(C,E,1);i.yb(E);i.N_(E,d);i.M0(d,Z,w);i.jJ(d,E);i.js(E)};j.d.acJ=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=T[0],Z=T[1],w=T[2]/10;H=H+Z;var d=i.Dk(1),O=i.Dk(1),W=i.fv(),C=i.fv();i.RU(d);
i.iX(d,O,11);i.iX(O,d,11);i.Ur(d,W);i.Ct(W,C,5);i.Ct(C,W,5);i.K9(C,.97);i.YP(C,d,H);i.fW(d,O,Z,Z,1);
i.gR(n,d);i.SV(O,d,O,.6);i.vj(d,O,O,w);i.rT(O,O,d,5,1);i.yb(n,E);i.jJ(d,E);i.js(E)};j.d.a9S=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=Math.abs(T[0]),Z=H+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][H],w=2*H+1,d=T[1]/10,O=d*13/15,W=i.Dk(1),C=i.Dk(1),a=i.Dk(1),B=i.Dk(1),$=i.Dk(4),I=i.Dk(4),x=i.Dk(4),U=i.Dk(4),N=i.Dk(4);
i.Dr(n,W);if(T[0]>=0){i.z3(W)}i.Sa(W,a);i.iX(W,B,Z);i.iX(B,W,Z);i.Qk(W,d);i.Sa(W,C);i.iX(W,B,w);i.iX(B,W,w);
i.Qk(W,O);i.WC(x,T[2]);i.WC(U,T[3]);i.WC(N,T[4]);i.he(x,W,U,$);i.he(N,C,$,I);i.he(U,a,I,E);i.N_(n,a,3);
i.jJ(a,E,3)};j.d.alJ=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[5]);var H=T[0]*5.1,Z=T[1]/100,w=i.Yn[T[2]],d=i.Dk(1),O=i.Dk(1),W=i.Dk(1);
i.Dr(n,d);i.TU(O,255);i.RU(W);i.uA(d,H);i.Y$(O,d,.7);i.Y$(W,d,Z);i.rT(d,d,O,5,w);i.Sa(n,E);i.a2O(E,H,T[4],T[3]);
i.yb(E);i.jJ(O,E);i.js(E)};j.d.al9=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=T[0],Z=4-T[1],w=11-T[2],d=i.Dk(1),O=i.Dk(1),W=i.Dk(4);
i.gR(n,O);for(var R=0;R<Z;R++){i.Sa(O,d);i.KH(d,O,H,H)}i.yE(n,W,H);i.yb(W,W);i.jJ(O,W);i.js(W,W);(w<11?i.adm:i.Sa)(W,E,w)};
j.d.a6a=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[2]);var H=T[0]+5,Z=~~(H/5+1),w=~~(H/2)+1,d=w*w,O=~~(H/3),W=i.Yn[T[1]],C=new Array(256);
for(var R=0;R<256;R++){C[R]=~~(.2*(R-128))}var a=i.Dk(1),B=i.Dk(1);i.ac1(n,E,H);i.yb(E);i.N_(E,a);i.RU(B);
i.Mz(a,B,C);i.ab5(B,H,H,Z,Z);i.SV(a,B,a,1);i.iX(a,B,O);i.iX(B,a,O);i.fW(a,B,w,w,d);i.rT(B,B,a,5,W);i.jJ(a,E);
i.js(E)};j.d.a6H=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=i.Dk(1),Z=i.Dk(1),w=i.Dk(1),d=i.fv(),O=i.fv();
i.Dr(n,H);i.iX(H,Z,T[2]);i.uA(Z,T[0]*5.1);i.fW(Z,H,2,2,4);i.iX(H,Z,3);i.iX(Z,H,3);i.Sa(H,w);i.iX(H,Z,5);
i.iX(Z,H,5);i.Ur(H,d);i.Ct(d,O,5);i.Ct(O,d,5);i.a5h(d,Z,T[1]);i.z3(Z);i.SV(w,Z,w,1);i.yU(w,E)};j.d.are=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=1<<7-T[2],Z=i.Dk(1),w=i.Dk(1),d=i.Dk(1);i.gR(n,w);i.iX(w,Z,3);i.Sa(Z,w);i.iX(Z,d,T[0]+5);
i.sub(d,w);i.M0(w,1,T[1]);i.Qk(Z,1/H);i.Qk(Z,H);i.sub(Z,w);i.yb(n,E);i.jJ(w,E);i.js(E)};j.d.aii=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=i.Dk(1),Z=i.Dk(1),w=i.Dk(1);i.Dr(n,H);i.acj(Z,T[0]/50);i.iX(Z,w,3);i.fW(H,Z,9,9,41);
i.M0(Z,T[1],T[2]);i.SV(Z,w,w,.75);i.vj(Z,w,Z,.5);i.Sa(Z,H);i.fW(H,w,3,3,8);i.SV(w,Z,w,.75);i.Qk(w,1.2);
i.Ux(w,H,1);i.iX(H,w,2);i.Ux(w,H,2);i.Qk(H,1.2);i.iX(H,w,2);i.yU(w,E)};j.d.abn=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=T[0]+9,Z=T[1]/2,w=T[2],d=T[3],O=i.dO(T[4]),W=T[5]+1,C=T[6],a=i.Dk(1),B=i.Dk(1),$=i.Dk(4),I=i.Dk(4);
i.yV(B,w,d,C);i.bX(n,E,H,1,1);i.bX(E,$,H,1,1);i.abz($,$,I,7,Z);i.Qk(I,1.2);i.Iu(I,1.2);i.rT(B,a,a,W,O);
i.Qk(a,3);i.Sa(n,E);i.he(I,a,E)};j.d.ash=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[3]);var H=T[0]+4,Z=H*2/5+(H%5|0);
H--;var w=T[1]*-2.75+60,d=65-w,O=T[2]/10,W=i.Dk(1),C=i.Dk(1);i.RU(W);i.gR(n,C);var a=i.PD(w,d,C);i.yb(n,E);
i.N_(E,C);i.Y$(C,W,.8);i.g4(C,a);i.Qk(C,O);i.add(W,C);i.fB(C,W,H,3,!1,Z);i.jJ(W,E);i.js(E)};j.d.ags=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=T[0]+5,Z=(H*H>>1)+H%2,w=T[1]/10,d=T[2],O=(d*d>>1)+d%2,W=i.Dk(1),C=i.Dk(1),a=i.Dk(1),B=i.Dk(4),$=i.Dk(4),I=i.Dk(4);
i.RU(a);i.yb(n,I);i.N_(I,W);i.Y$(W,a,.8);i.iX(a,W,3);i.Ux(W,a,w);i.jJ(a,I);i.js(I,I);i.Dr(I,a);i.fW(a,W,H,H,Z);
i.iX(a,C,H);i.sub(W,C);i.uA(C,1);i.Im(I,B,7,7,40);i.Im(I,$,7,7,10);i.he(B,C,$);i.Im($,E,d,d,O)};j.d.aa9=function(n,q,p,E,T){var i=j.d.A,Z=255,R,d;
i.xI(q,p);var H=T[0];if(H<2)Z=H;else if(H<12)Z=5*H-5;else if(H<47)Z=2*H+28;else if(H<50){R=H-47;Z=125+12.5*R+12.5*R*R}var w=new Uint8Array(256);
for(R=75,d=15;R<256;R++,d+=24)w[R]=Math.min(255,d);var O=i.Dk(1),W=i.Dk(1),C=i.Dk(1);i.Dr(n,O);i.iX(O,W,11);
i.iX(W,C,11);i.sub(C,O);i.Qk(O,8);i.sub(C,O);i.uA(O,Z);i.z3(O);i.iX(O,W,5);i.uA(W,51);i.iX(W,O,T[1]);
i.iX(O,W,T[1]);i.z3(W);i.g4(W,w);i.yU(W,E)};j.d.a8O=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=i.cD[T[1]],Z=T[2],w=Z*1.5,d=i.Dk(1),O=i.Dk(1),W=i.Dk(1);
i.gR(n,d);i.fB(d,O,15,2,!0,15);i.Sa(O,W);i.M0(W,Z,w);i.iX(W,d,3);i.iX(O,W,T[0]);i.sub(W,O);i.Qk(O,H);
i.sub(d,O);i.iX(O,d,3);i.fB(d,O,3,1,!1,1);i.yE(n,E,15);i.yb(E);i.jJ(O,E);i.js(E)};j.d.ahT=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);i.ot(T[3]);var H=T[0]*5.1,Z=16-T[1],w=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][T[2]],d=i.Dk(1),O=i.Dk(1),W=i.Dk(1);
i.Dr(n,d);i.uA(d,H);i.iX(d,O,Z);i.iX(O,d,Z);i.RU(W);i.vj(d,W,W,1);i.SV(d,W,d,.75);i.Qk(d,w);i.Iu(d,w);
i.fW(d,O,2,2,2);i.yU(O,E)};j.d.aah=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);var H=T[0]+9,Z=T[1]+9,w=T[2],d=T[3],O=i.dO(T[4]),W=T[5]+1,C=T[6],a=i.Dk(1),B=i.Dk(1),$=i.Dk(1),I=i.Dk(1),x=i.Dk(1),U=i.Dk(4);
i.gR(n,a);i.KH(a,$,H,H);i.iX($,a,Z);i.Sa($,x);i.Sa(a,I);i.sub(x,I);i.sub(a,x);i.add(x,I);i.Qk(I,10);
i.yV(B,w,d,C);i.rT(B,a,x,W,O);i.di(x,I,$,.8);i.yE(n,U,9);i.yE(U,E,9);i.yb(E);i.jJ($,E);i.js(E)};j.d.aaw=function(n,q,p,E,T){var i=j.d.A;
i.xI(q,p);var H=16-T[0],Z=T[1]*8,w=1-(3-T[2])/10,d=~~(H*H*w-1),O=~~(H*H*(1-w));if(O==0)O=1;var W=i.Dk(1),C=i.Dk(1),a=i.Dk(1),B=i.Dk(4);
i.Dr(n,a);i.fW(a,W,7,7,25);i.iX(a,C,7);i.sub(W,C);i.uA(C,1);i.Im(n,B,H,H,d);i.Im(n,E,H,H,O);i.he(B,C,E);
i.yb(E);i.N_(E,W);i.fW(W,a,3,3,1);i.fW(W,C,3,3,9);i.sub(C,a);i.Sa(a,C);i.sub(W,a);i.sub(a,C);i.fW(C,W,3,3,8);
i.M0(W,Z,1);i.jJ(W,E);i.js(E)};j.d.adu=function(n,q,p,E,T){var i=j.d.A;i.xI(q,p);i.ot(T[3]);var H=T[0],Z=T[1],w=T[2],d=H>>1,O=Math.max(~~(H/5),1),W=Math.max(~~(H*2/3),1),C=i.Y1(Z,w),a=i.Dk(1),B=i.Dk(1),$=i.Dk(1),I=i.Dk(1),x=i.Dk(4);
i.gR(n,a);i.vg(2147483647,4,2,2,0,255,B);i.vg(4,2147483647,2,2,0,255,I);i.RU($);i.vj(B,$,B,1);i.vj(I,$,I,1);
i.vj(B,a,B,1);i.vj(I,a,I,1);i.yE(n,x,d);i.yE(x,E,d);i.fW(B,a,1,H,O);i.fW(a,B,3,H,W);i.fW(I,a,H,1,O);
i.fW(a,I,H,3,W);i.ey(B,I);i.yb(E);i.jJ(I,E);i.js(E);i.xC(E,C)};j.d.A={};j.d.A.XF=0;j.d.A.rZ=0;j.d.A.Fe=0;
j.d.A.DF=0;j.d.A.nK=0;j.d.A.xI=function(n,q){var p=n*q,self=j.d.A;self.XF=n;self.rZ=q;self.Fe=p;self.DF=p<<1;
self.nK=p<<2};j.d.A.ot=function(n){j.d.A.random=function(){var q=n+=1831565813;q=Math.imul(q^q>>>15,q|1);
q^=q+Math.imul(q^q>>>7,q|61);return((q^q>>>14)>>>0)/4294967296}};j.d.A.Dk=function(n){var q=j.d.A;return new Uint8Array([-1,q.Fe,q.DF,-1,q.nK][n])};
j.d.A.fv=function(){return new Int32Array(j.d.A.DF)};j.d.A.iX=function(n,q,p,E){if(E==null)E=p;var self=j.d.A,T=self.XF,i=self.rZ;
j.Lw.jg(n,q,new eL(0,0,T,i),p>>>1);return};j.d.A.Ct=function(n,q,p,E){var self=j.d.A,T=new Int32Array(self.Fe),i=new Int32Array(self.Fe);
for(var R=0;R<2;R++){self.N_(n,T,R,2);self.iX(T,i,p,E);self.jJ(i,q,R,2)}};j.d.A.yE=function(n,q,p,E){var self=j.d.A,T=self.Dk(1),i=self.Dk(1);
for(var R=0;R<4;R++){self.N_(n,T,R);if(R<3)self.iX(T,i,p,E);else i=T;self.jJ(i,q,R)}};j.d.A.bX=function(n,q,p,E,T){var self=j.d.A,i=self.XF,H=self.rZ,Z=p+E-1,w=p>>1,d=Z>>1,O=0,W=p*E,C=new Int32Array(p);
for(var R=0;R<H;R++){var a=0,B=0,$=0;for(var I=0;I<p;I++){var x=T?Z-I-E:I;for(var U=x,N=E+x;U<N;U++){var m=0-d+U,f=R-w+I;
if(U==x){C[I]=m}if(m<0)m=0;else if(m>=i)m=i-1;if(f<0)f=0;else if(f>=H)f=H-1;var c=i*f+m<<2;a+=n[c];B+=n[c+1];
$+=n[c+2]}}q[O++]=~~(a/W);q[O++]=~~(B/W);q[O++]=~~($/W);q[O]=n[O];O++;for(var D=1;D<i;D++){for(var I=0;
I<p;I++){var f=R-w+I,x=C[I]+1;C[I]=x;var z=x-1,_=x+E-1;if(f<0)f=0;else if(f>=H)f=H-1;if(z<0)z=0;else if(z>=i)z=i-1;
if(_<0)_=0;else if(_>=i)_=i-1;var v=f*i+z<<2,o=f*i+_<<2;a=a+n[o]-n[v];B=B+n[o+1]-n[v+1];$=$+n[o+2]-n[v+2]}q[O++]=~~(a/W);
q[O++]=~~(B/W);q[O++]=~~($/W);q[O]=n[O];O++}}};j.d.A.fB=function(n,q,p,E,T,i){var self=j.d.A,H=self.XF,Z=self.rZ,w=p+E-1,d=p>>1,O=w>>1,W=0,C=new Int32Array(p),a=new Int32Array(256),B=new Int32Array(16);
for(var R=0;R<Z;R++){a.fill(0);B.fill(0);for(var $=0;$<p;$++){var I=T?w-$-E:$;for(var x=I,U=E+I;x<U;
x++){var N=0-O+x,m=R-d+$;if(x==I){C[$]=N}if(N<0)N=0;else if(N>=H)N=H-1;if(m<0)m=0;else if(m>=Z)m=Z-1;
a[n[m*H+N]]++;B[n[m*H+N]>>>4]++}}q[W++]=j.d.A.eU(B,a,i);for(var f=1;f<H;f++){for(var $=0;$<p;$++){var m=R-d+$,I=C[$]+1;
C[$]=I;var c=I-1,D=I+E-1;if(m<0)m=0;else if(m>=Z)m=Z-1;if(c<0)c=0;else if(c>=H)c=H-1;if(D<0)D=0;else if(D>=H)D=H-1;
var z=n[m*H+c],_=n[m*H+D];a[z]--;a[_]++;B[z>>>4]--;B[_>>>4]++}q[W++]=j.d.A.eU(B,a,i)}}};j.d.A.UM=function(n,q,p,E,T,i){var self=j.d.A,H=self.Dk(1),Z=self.Dk(1);
for(var R=0;R<4;R++){self.N_(n,H,R);if(R<3)self.fB(H,Z,p,E,T,i);else Z=H;self.jJ(Z,q,R)}};j.d.A.fW=function(n,q,p,E,T){T=Math.min(E*p,T);
var self=j.d.A,i=self.XF,H=self.rZ,Z=E>>1,w=p>>1,d=0,O=new Int32Array(E),W=new Int32Array(256),C=new Int32Array(16);
for(var R=0;R<H;R++){W.fill(0);C.fill(0);for(var a=0;a<E;a++){for(var B=0,$=p;B<$;B++){var I=0-w+B,x=R-Z+a;
if(B==0){O[a]=I}if(I<0)I=0;else if(I>=i)I=i-1;if(x<0)x=0;else if(x>=H)x=H-1;W[n[x*i+I]]++;C[n[x*i+I]>>>4]++}}q[d++]=j.d.A.eU(C,W,T);
for(var U=1;U<i;U++){for(var a=0;a<E;a++){var x=R-Z+a,N=O[a]+1;O[a]=N;var m=N-1,f=N+p-1;if(x<0)x=0;else if(x>=H)x=H-1;
if(m<0)m=0;else if(m>=i)m=i-1;if(f<0)f=0;else if(f>=i)f=i-1;var c=n[x*i+m],D=n[x*i+f];W[c]--;W[D]++;
C[c>>>4]--;C[D>>>4]++}q[d++]=j.d.A.eU(C,W,T)}}};j.d.A.eU=function(n,q,p){var E=0,T=0;while(E+n[T>>>4]<p){E+=n[T>>>4];
T+=16}for(;T<256;T++){E+=q[T];if(E>=p)break}return T};j.d.A.Im=function(n,q,p,E,T){var self=j.d.A,i=self.Dk(1),H=self.Dk(1);
for(var R=0;R<4;R++){self.N_(n,i,R);if(R<3)self.fW(i,H,p,E,T);else H=i;self.jJ(H,q,R)}};j.d.A.Ux=function(n,q,p){var self=j.d.A,E=self.XF,T=self.rZ,i=0;
for(var R=0;R<T;R++){var H=R*E,Z=(R-1)*E,w=(R+1)*E;if(Z<0)Z=H;if(w>=T)w=H;for(var d=0;d<E;d++){var O=d-1,W=d+1;
if(O<0)O=d;if(W>=E)W=d;var C=H+O,a=H+W,B=Z+d,$=w+d,I=H+d,x=n[C],U=n[a],N=n[B],m=n[$],f=n[I],c=f+(f*4*p+.5);
c=c-((x+U+m+N)*p+.5);q[i++]=self.yd(c)}}};j.d.A.M4=function(n,q,p){var self=j.d.A,E=self.Dk(1),T=self.Dk(1);
for(var R=0;R<4;R++){self.N_(n,E,R);if(R<3)self.Ux(E,T,p);else T=E;self.jJ(T,q,R)}};j.d.A.adm=function(n,q,p){var self=j.d.A,E=self.XF,T=self.rZ,i=0,H=p+4;
for(var R=0;R<T;R++){var Z=R*E,w=(R-1)*E,d=(R+1)*E;if(w<0)w=Z;if(d>=T)d=Z;for(var O=0;O<E;O++){var W=O-1,C=O+1;
if(W<0)W=O;if(C>=E)C=O;var a=Z+W<<2,B=Z+C<<2,$=w+O<<2,I=d+O<<2,x=Z+O<<2;for(var U=0;U<3;U++){var N=n[a+U],m=n[B+U],f=n[$+U],c=n[I+U],D=n[x+U];
q[i++]=(D*p+N+m+c+f)/H}q[i]=n[i];i++}}};j.d.A.KH=function(n,q,p,E){var self=j.d.A,T=self.XF,i=self.rZ,H=p>>1,Z=E>>1,w=0,d=new Int32Array(p),O=new Int32Array(256);
for(var R=0;R<i;R++){O.fill(0);for(var W=0;W<p;W++){for(var C=0,a=E;C<a;C++){var B=0-Z+C,$=R-H+W;if(C==0){d[W]=B}if(B<0)B=0;
else if(B>=T)B=T-1;if($<0)$=0;else if($>=i)$=i-1;O[n[$*T+B]]++}}var I=0,x=0;for(var U=0;U<256;U++){if(I<O[U]){x=U;
I=O[U]}}q[w++]=x;for(var N=1;N<T;N++){for(var W=0;W<p;W++){var $=R-H+W,m=d[W]+1;d[W]=m;var f=m-1,c=m+E-1;
if($<0)$=0;else if($>=i)$=i-1;if(f<0)f=0;else if(f>=T)f=T-1;if(c<0)c=0;else if(c>=T)c=T-1;O[n[$*T+f]]--;
O[n[$*T+c]]++}I=0;x=0;for(var U=0;U<256;U++){if(I<O[U]){x=U;I=O[U]}}q[w++]=x}}};j.d.A.asR=[function(n,q,p,E,T,i,H,Z,w,d){return T+(n+q+p)*d-(w+Z+H)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(q+p+i)*d-(Z+H+E)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(p+i+w)*d-(H+E+n)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(i+w+Z)*d-(E+n+q)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(w+Z+H)*d-(n+q+p)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(Z+H+E)*d-(q+p+i)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(H+E+n)*d-(p+i+w)*d},function(n,q,p,E,T,i,H,Z,w,d){return T+(E+n+q)*d-(i+w+Z)*d}];
j.d.A.rT=function(n,q,p,E,T){var self=j.d.A,i=self.XF,H=self.rZ,Z=i,w=self.asR[E-1];for(var R=0;R<H;
R++){var d=(R>0?R-1:0)*Z,O=R*Z,W=(R<H?R+1:R)*Z;for(var C=0;C<i;C++){var a=C>0?C-1:0,B=C<i?C+1:C,$=O+C,I=n[d+a],x=n[d+C],U=n[d+B],N=n[O+a],m=q[$],f=n[O+B],c=n[W+a],D=n[W+C],z=n[W+B];
p[$]=self.yd(w(I,x,U,N,m,f,c,D,z,T))}}};j.d.A.abz=function(n,q,p,E,T){var self=j.d.A,i=self.Dk(1),H=self.Dk(1),Z=self.Dk(1);
for(var R=0;R<3;R++){self.N_(n,i,R);self.N_(q,H,R);self.rT(i,H,Z,E,T);self.jJ(Z,p,R)}self.N_(q,i,3);
self.jJ(i,p,3)};j.d.A.Dr=function(n,q){var p=n.length,E=0;for(var R=0;R<p;R++){q[E++]=~~((n[R++]+n[R++]+n[R++]+2)/3)}};
j.d.A.yU=function(n,q){var p=q.length,E=0;for(var R=0;R<p;R++){var T=n[R];q[E++]=T;q[E++]=T;q[E++]=T;
q[E++]=255}if(q[0]==255)q[0]--;else q[0]++};j.d.A.gR=function(n,q){var p=q.length,E=0;for(var R=0;R<p;
R++){var T=n[E++],i=n[E++],H=n[E++];E++;if(i>T)T=i;if(H>T)T=H;q[R]=T}};j.d.A.yb=function(n,q){if(q==null)q=n;
var p=n.length;for(var E=0;E<p;E+=4){var T=n[E],i=n[E+1],H=n[E+2],Z=T,w=0,d=T,W;if(i<=T){T=i}else{w=1;
d=i}if(H<=d){if(T>H){T=H}}else{w=2;d=H}var O=d-T;if(O!=0){if(w==0){W=~~(43*(i-H)/O)}else if(w==1){W=~~(43*(H+2*O-Z)/O)}else{W=43*(Z+4*O-i)/O}if(W<0){W=255&W-1}q[E]=W;
q[E+1]=~~(255*O/d)}else{q[E]=O;q[E+1]=O}q[E+2]=d;q[E+3]=n[E+3]}};j.d.A.js=function(n,q){if(q==null)q=n;
var p=n.length;for(var E=0;E<p;E+=4){var T=n[E],i=n[E+1],H=n[E+2];if(i){if(T==255)T=0;var Z=~~(6*T/255),w=~~(-255*Z+6*T);
if(Z==0){q[E]=H;q[E+1]=~~(H*(255-i*(255-w)/255)/255);q[E+2]=~~(H*(255-i)/255)}else if(Z==1){q[E]=~~(H*(255-i*w/255)/255);
q[E+1]=H;q[E+2]=~~(H*(255-i)/255)}else if(Z==2){q[E]=~~(H*(255-i)/255);q[E+1]=H;q[E+2]=~~(H*(255-i*(255-w)/255)/255)}else if(Z==3){q[E]=~~(H*(255-i)/255);
q[E+1]=~~(H*(255-i*w/255)/255);q[E+2]=H}else if(Z==4){q[E]=~~(H*(255-i*(255-w)/255)/255);q[E+1]=~~(H*(255-i)/255);
q[E+2]=H}else{q[E]=H;q[E+1]=~~(H*(255-i)/255);q[E+2]=~~(H*(255-i*w/255)/255)}}else{q[E]=H;q[E+1]=H;q[E+2]=H}q[E+3]=n[E+3]}};
j.d.A.jJ=function(n,q,p,E){if(p==null)p=2;if(E==null)E=4;var T=n.length;for(var R=0;R<T;R++){q[p]=n[R];
p+=E}};j.d.A.N_=function(n,q,p,E){if(p==null)p=2;if(E==null)E=4;var T=q.length;for(var R=0;R<T;R++){q[R]=n[p];
p+=E}};j.d.A.di=function(n,q,p,E){if(E==null)E=1;var T=q.length,i=0,H;for(var i=0;i<T;i++){H=q[i];if(H){H*=E;
p[i]=~~((H*n[i]+(255-H)*p[i])/255)}}};j.d.A.he=function(n,q,p,E){if(E==null)E=p;var T=q.length,i=0,H,Z;
for(var R=0;R<T;R++){H=q[R];if(H){Z=255-H;E[i]=~~((H*n[i]+Z*p[i])/255);E[i+1]=~~((H*n[i+1]+Z*p[i+1])/255);
E[i+2]=~~((H*n[i+2]+Z*p[i+2])/255)}E[i+3]=n[i+3];i+=4}};j.d.A.SV=function(n,q,p,E){var T=~~(E*255),i=p.length;
for(var R=0;R<i;R++){p[R]=((255-T*(255-n[R])/255)*q[R]+n[R]*(T*(255-n[R])/255))/255}};j.d.A.vj=function(n,q,p,E){var T=~~(E*255),i=p.length;
for(var R=0;R<i;R++){p[R]=((255-T*n[R]/255)*q[R]+n[R]*(T*n[R]/255))/255}};j.d.A.Y$=function(n,q,p){var E=q.length;
for(var R=0;R<E;R++){q[R]=~~(n[R]*p+.5)+(q[R]-~~(q[R]*p+.5))}};j.d.A.sub=function(n,q){var p=n.length;
for(var R=0;R<p;R++){q[R]=Math.max(n[R]-q[R],0)}};j.d.A.add=function(n,q){var p=n.length;for(var R=0;
R<p;R++){q[R]=Math.min(n[R]+q[R],255)}};j.d.A.ey=function(n,q){var p=n.length;for(var R=0;R<p;R++){q[R]=n[R]+q[R]>>1}};
j.d.A.Sa=function(n,q){var p=n.length;for(var R=0;R<p;R++){q[R]=n[R]}};j.d.A.g4=function(n,q){var p=n.length;
for(var R=0;R<p;R++){n[R]=q[n[R]]}};j.d.A.xC=function(n,q){var p=j.d.A.nK;for(var R=0;R<p;R+=4){var E=n[R],T=n[R+1],i=n[R+2],H=E;
if(T>E)H=T;if(i>E)H=i;var Z=q[H];if(Z){n[R]=~~(Z*E/H);n[R+1]=~~(Z*T/H);n[R+2]=~~(Z*i/H)}else{n[R]=Z;
n[R+1]=Z;n[R+2]=Z}}};j.d.A.Qk=function(n,q){for(var R=0,p=n.length;R<p;R++){n[R]=Math.min(255,~~(.5+n[R]*q))}};
j.d.A.Iu=function(n,q){for(var R=0,p=n.length;R<p;R++){n[R]=255-Math.min(255,~~(.5+(255-n[R])*q))}};
j.d.A.z3=function(n){var q=n.length;for(var R=0;R<q;R++){n[R]=255-n[R]}};j.d.A.uA=function(n,q,p,E){if(p==null)p=0;
if(E==null)E=255;for(var R=0,T=n.length;R<T;R++){n[R]=n[R]>=q?E:p}};j.d.A.Dg=function(n){return[n>>24&255,n>>16&255,n>>8&255,n&255]};
j.d.A.a2O=function(n,q,p,E){if(p==null)p=255;if(E==null)E=4278190335;var T=j.d.A,i=T.nK,H=T.Dg(p),Z=T.Dg(E);
for(var R=0;R<i;R+=4){var w=~~((n[R]+n[R+1]+n[R+2]+2)/3);if(w>=q){n[R]=H[0];n[R+1]=H[1];n[R+2]=H[2]}else{n[R]=Z[0];
n[R+1]=Z[1];n[R+2]=Z[2]}}};j.d.A.WC=function(n,q){var p=j.d.A,E=p.nK,T=p.Dg(q);for(var R=0;R<E;){n[R++]=T[0];
n[R++]=T[1];n[R++]=T[2];n[R++]=T[3]}};j.d.A.TU=function(n,q){var p=n.length;for(var R=0;R<p;){n[R++]=q}};
j.d.A.Y1=function(n,q){n=n>5?(100-Math.max(4,n))/100:.95;q=q!=100?Math.max(4,q)/100:.9995;var p=new Uint8Array(256),E=q>.5?.5/(1-q):q*2,T=~~(E*256),i=~~((.5-n*E)*256)<<8;
for(var R=0;R<256;R++){p[R]=j.d.A.yd(i>>8);i+=T}return p};j.d.A.RU=function(n){for(var R=0,q=j.d.A,p=n.length;
R<p;R++){n[R]=~~(q.random()*256)}};j.d.A.acj=function(n,q){for(var R=0,p=j.d.A,E=n.length;R<E;R++){n[R]=p.random()<q?255:0}};
j.d.A.T8=function(n,q,p){for(var R=0,E=j.d.A,T=n.length;R<T;R++){if(E.random()<q)n[R]=p}};j.d.A.Mz=function(n,q,p){var E=n.length;
for(var R=0;R<E;R++){n[R]=j.d.A.yd(n[R]+p[q[R]])}};j.d.A.HK=function(n){var q=new Uint32Array(256);for(var R=0,p=n.length;
R<p;R++){q[n[R]]++}return q};j.d.A.PD=function(n,q,p){var self=j.d.A,E=self.HK(p),T=self.Fe/100,i=new Uint8Array(256),H=T*n,Z=T*q,w=0,d=-1,O=256;
do{w+=E[++d]}while(w<=H);w=0;do{w+=E[--O]}while(w<=Z);if(O-d<=0)O=d+1;if(O>255){O=255;d=254}var W=255/(O-d),C=-d;
for(var R=0;R<256;R++){i[R]=self.yd(W*C+.5);C++}return i};j.d.A.M0=function(n,q,p){var E=j.d.A;E.g4(n,E.PD(q,p,n))};
j.d.A.aik=function(n,q){var self=j.d.A,p=self.HK(n),E=self.Fe*q/100,T=0,i=-1;do{T+=p[++i]}while(T<=E);
return i};j.d.A.Ur=function(n,q){var p=0,self=j.d.A,E=self.XF,T=self.rZ,i=1/Math.PI,H=i*255;for(var R=0;
R<T;R++){var Z=R+1;if(Z==T)Z--;var w=R*E,d=~~((1-(R+1)/T)*255);for(var O=0;O<E;O++){var W=O+1;if(W==E)W--;
var C=n[w+O],a=n[w+W],B=n[Z*E+O];if(C-B==0){q[p++]=d}else{var $=C-B+255;if($==255){$=0}else{$=~~(Math.atan2(1/(255-$),1)*H+.5);
if($<0)$+=255}q[p++]=$}if(C-a==0){q[p++]=~~((1-(O+1)/E)*255)}else{var $=C-a+255;if($==255){$=0}else{$=~~(Math.atan2(1/(255-$),1)*H+.5);
if($<0)$+=255}q[p++]=$}}}};j.d.A.K9=function(n,q){var self=j.d.A,p=self.XF,E=self.rZ,T=0;for(var R=0;
R<E;R++){for(var i=0;i<p;i++){n[T]=~~(R*q+.5)+~~(n[T]*(1-q)+.5);T++;n[T]=~~(i*q+.5)+~~(n[T]*(1-q)+.5);
T++}}};j.d.A.apf=function(n,q,p,E){var self=j.d.A,T=self.XF,i=self.rZ,H=0;for(var R=0;R<i;R++){for(var Z=0;
Z<T;Z++){q[H]=~~(q[H]*(1-p)+.5)+~~(n[H]*E+.5);H++;q[H]=~~(q[H]*(1-p)+.5)+~~(n[H]*E+.5);H++}}};j.d.A.YP=function(n,q,p){var self=j.d.A,E=self.XF,T=self.rZ,i=0,H=0;
for(var R=0;R<T;R++){for(var Z=0;Z<E;Z++){var w=n[i++],d=n[i++];q[H++]=d%p>=2&&w%p>=2?255:0}}};j.d.A.vg=function(n,q,p,E,T,i,H){var self=j.d.A,Z=self.XF,w=self.rZ,d=0,O=0,W=0;
for(var R=0;R<w;R++){var C=R%n<p||w-p<=R;for(var a=0;a<Z;a++){H[d++]=C||a%q<E||Z-E<=a?T:i}}};j.d.A.yV=function(n,q,p,E){var self=j.d.A,T=self.XF,i=self.rZ,H=bf.yV(q),Z=H[0],w=H[1],d=j.U(Z.P()*4);
d.fill(4294967295);j.s0(w,d);var O=j.scale.qb(d,Z.v,Z.o),W=j.scale.a0(O,null,T,i,p/100,p/100,0,0);j.J2(W,n,0);
if(E)j.z3(n)};j.d.A.yd=function(n){return~~Math.min(255,Math.max(0,n))};j.d.A.cD=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
j.d.A.Yn=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];j.d.A.dO=function(n){return n>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][n-41]:n/40};
j.d.A.ac1=function(n,q,p){var self=j.d.A,E=self.XF,T=self.rZ,i=p,H=p>>1,Z=H-1,w=i*i,d=0;for(var R=0;
R<T;R++){var O=0,W=0,C=0,a=~~(R/p)*p,B=0;for(var $=0;$<i;$++){for(var I=0;I<i;I++){var x=B+I,U=a+$;if(x>=E)x=E-1;
if(U>=T)U=T-1;O+=n[U*E+x<<2];W+=n[(U*E+x<<2)+1];C+=n[(U*E+x<<2)+2]}}var N=~~(O/w),m=~~(W/w),f=~~(C/w);
q[d]=N;q[d+1]=m;q[d+2]=f;q[d+3]=n[d+3];d+=4;for(var c=1;c<E;c++){for(var $=0;$<i;$++){var D=c-1,z=D+i,U=a+$;
if(z>=E)z=E-1;if(U>=T)U=T-1;var _=U*E,v=_+z<<2,o=_+D<<2;O+=n[v]-n[o];W+=n[v+1]-n[o+1];C+=n[v+2]-n[o+2]}if(c%p==0){N=~~(O/w);
m=~~(W/w);f=~~(C/w)}q[d]=N;q[d+1]=m;q[d+2]=f;q[d+3]=n[d+3];d+=4}}};j.d.A.ab5=function(n,q,p,E,T){var self=j.d.A,i=self.XF,H=self.rZ,Z=0,w=0,d=0,O=0;
for(var R=O;R<H+O;R++){var W=R%q>=E||R<E||H+O-E<=R;for(var C=0;C<i;C++){n[Z++]=W&&(C%p>=T||C<T||i-T<=C)?255:0}}};
j.d.A.a5h=function(n,q,p){var E=function(d,O){return O<=d?d/O&1?O-d%O:d%O:d},T=[function(Z,w){return E(Z,255)/255},function(Z,w){return(255+E(Z,255)-E(w,255))/510},function(Z,w){return(255-E(w,255))/255},function(Z,w){return(510-E(Z,255)-E(w,255))/510},function(Z,w){return(255-E(Z,255))/255},function(Z,w){return(255-E(Z,255)+E(w,255))/510},function(Z,w){return E(w,255)/255},function(Z,w){return(E(Z,255)+E(w,255))/510}][p],i=0,H=0;
for(var R=0;R<j.d.A.Fe;R++){var Z=n[i++],w=n[i++];q[H++]=~~(255*T(Z,w))}};j.d.acX=function(){var n=[],q=new Uint8Array(512),p=new Float32Array(512),E=new Float32Array(512),T=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],H=0,Z,B=0;
for(;H<256;H++)n[H]=H;while(H!=0){H--;Z=Math.floor(Math.random()*H);n[Z]^=n[H]^(n[H]=n[Z])}function w(w){w=Math.floor(w*65536);
if(w<256){w|=w<<8}for(var R=0;R<256;R++){var x=R+256,U=n[R]^(R&1?w:w>>8)&255;q[R]=q[x]=U;U=U%8;p[R]=p[x]=T[U];
E[R]=E[x]=i[U]}}function d(x){return x*x*x*(x*(x*6-15)+10)}function O(x,U,N){return(1-N)*x+N*U}function W(x,U){return x&U}function C(x,U){return x%U}function a(x,U,N,m,f){var c=Math.floor(x),D=Math.floor(U),H,z,_,v,o,y;
x=x-c;U=U-D;c=c&255;D=D&255;H=c+q[D];v=p[H]*x+E[H]*U;H=c+q[f(D+1,m)];_=p[H]*x+E[H]*(U-1);H=f(c+1,N)+q[D];
o=p[H]*(x-1)+E[H]*U;H=f(c+1,N)+q[f(D+1,m)];y=p[H]*(x-1)+E[H]*(U-1);z=d(x);return O(O(v,o,z),O(_,y,z),d(U))}function $(x,H,U){x[H]=U}function I(x,U,N,m,f){var c=Math.min(Math.min(U,256),Math.min(256,N)),D=c==256||c<8,z=8,_=new Uint32Array(z),v=new Uint32Array(z),o=new Float32Array(z),y=new Float32Array(z),k=1,S=1,L=D?W:C,X=$,s;
for(var R=0;R<z;R++){s=S*1/c;if(D){v[R]=(1<<Math.ceil(Math.log2(N*s)))-1;_[R]=(1<<Math.ceil(Math.log2(U*s)))-1}else{v[R]=s*N;
_[R]=s*U}o[R]=k;y[R]=s;k*=.5;S=S<<1}w(Math.random());for(var M=0,H=0;M<N;M++){for(var V=0;V<U;V++){var l=0;
for(var e=0;e<z;e++){s=y[e];l+=a(V*s,M*s,_[e],v[e],L)*o[e]}X(m,H++,Math.round(Math.max(0,255*Math.min(1,.5+l*.5))))}}}return I}();
j.d.aiq=function(){function n(q,p,E,T){var i=new Uint8Array(q.length>>>2),H=new Uint8Array(q.length>>>2),Z=new Uint8Array(q.length);
for(var R=0;R<q.length;R+=4){var w=q[R+0]*.3+q[R+1]*.59+q[R+2]*.11;H[R>>>2]=w;Z[R]=q[R];Z[R+1]=q[R+1];
Z[R+2]=q[R+2]}j.wn.Sq(H,i,p,E);j.wn.W4(q,T,p,E,j.wn.W$[1],0,!0);for(var R=0;R<q.length;R+=4){Z[R+3]=255-i[R>>>2]}for(var R=0,d=q.length;
R<d;R+=4){var O=Z[R+3]/255;T[R]=Z[R]*O+T[R]*(1-O);T[R+1]=Z[R+1]*O+T[R+1]*(1-O);T[R+2]=Z[R+2]*O+T[R+2]*(1-O)}}return n}();
j.d.a4V=function(){function n(i,H,Z,w,d){var O=new Uint32Array(i.buffer),W=0;for(var R=0;R<Z;R++){for(var C=0;
C<H;C++,W+=4){var a=O[R*H+C],B=a&255,$=a>>>8&255,I=a>>>16&255,x=a>>>24&255,U=~~(Math.random()*8),N=U%3,m=0,f=0;
if(U<3){f--}else if(U>4){f++}if(N==0){m--}else if(N==2){m++}var c=C+m,D=R+f;if(c<0)c=0;else if(c>H-1)c=H-1;
if(D<0)D=0;else if(D>Z-1)D=Z-1;var a=O[D*H+c],z=a&255,_=a>>>8&255,v=a>>>16&255,o=a>>>24&255;w[W]=d(B,z);
w[W+1]=d($,_);w[W+2]=d(I,v);w[W+3]=d(x,o)}}}function q(i,H){return H}function p(i,H){return i>H?H:i}function E(i,H){return i<H?H:i}function T(i,H,Z,w,d){var O=d[0];
if(O==0)n(i,H,Z,w,q);else if(O==1)n(i,H,Z,w,p);else if(O==2)n(i,H,Z,w,E);else if(O==3){console.error("Not implemented")}else console.error("Mew mew")}return T}();
j.d.anh=function(){function n(q,p,E,T,i){var H=i&&i[0]?i[0]:4,Z,w,d,O,W,C,a;for(var R=0;R<E;R++){var B=Math.max(R-H,0),$=Math.min(R+H,E-1);
for(var I=0;I<p;I++){var x=Math.max(I-H,0),U=Math.min(I+H,p-1);Z=B*p+x<<2;O=q[Z];W=q[Z+1];C=q[Z+2];a=q[Z+3];
Z=B*p+U<<2;O+=q[Z];W+=q[Z+1];C+=q[Z+2];a+=q[Z+3];Z=$*p+x<<2;O+=q[Z];W+=q[Z+1];C+=q[Z+2];a+=q[Z+3];Z=$*p+U<<2;
O+=q[Z];W+=q[Z+1];C+=q[Z+2];a+=q[Z+3];Z=R*p+I<<2;T[Z]=O+2>>>2;T[Z+1]=W+2>>>2;T[Z+2]=C+2>>>2;T[Z+3]=a+2>>>2}}}return n}();
j.d.aht=function(){function n(q,p,E,T){var i=new Uint8Array(q.length),H=new Uint8Array(q.length>>>2),Z=new Uint8Array(q.length>>>2);
j.wn.W4(q,i,p,E,j.wn.W$[2],0,!0);for(var R=0;R<q.length;R+=4){var w=i[R+0]*.3+i[R+1]*.59+i[R+2]*.11;
H[R>>>2]=w;T[R+0]=q[R+0];T[R+1]=q[R+1];T[R+2]=q[R+2];T[R+3]=q[R+3]}j.wn.Sq(H,Z,p,E);for(var R=0;R<q.length;
R+=4){i[R+3]=~~(Math.max(0,255-Z[R>>>2]-50)*(255/205))}for(var R=0,d=q.length;R<d;R+=4){var O=i[R+3]/255;
T[R]=i[R]*O+T[R]*(1-O);T[R+1]=i[R+1]*O+T[R+1]*(1-O);T[R+2]=i[R+2]*O+T[R+2]*(1-O)}}return n}();j.d.ov=function(){function n(U,N){return U[N]+U[N+1]+U[N+2]+U[N+3]}function q(U,N){return U[N]+U[N+1]+U[N+2]+2*U[N+3]}function p(U,N,m,f){U[N]=m[f];
U[N+1]=m[f+1];U[N+2]=m[f+2];U[N+3]=m[f+3]}function E(U,N,m){U[N]=U[m];U[N+1]=U[m+1];U[N+2]=U[m+2];U[N+3]=U[m+3]}function T(U,N,m){U[m]=N[m];
U[m+1]=N[m+1];U[m+2]=N[m+2];U[m+3]=255-N[m+3]}function i(U){for(var R=0,N=U.length;R<N;R+=4){U[R+3]=255-U[R+3]}}function H(){var U=Math.random();
if(U>.5)return 0;if(U>.25)return 1;if(U>.1)return 2;if(U>.02143)return 3;if(U>.00445)return 4;if(U>65e-5)return 5;
if(U>415e-6)return 6;if(U>55e-6)return 7;return 8}function Z(U,N,m,f,c,D){U[N]=m[f]+(c[D]-m[f]>>1);U[N+1]=m[f+1]+(c[D+1]-m[f+1]>>1);
U[N+2]=m[f+2]+(c[D+2]-m[f+2]>>1);U[N+3]=m[f+3]+(c[D+3]-m[f+3]>>1)}function w(U,N,m,f,c,D){U[N]=c[D]+m[f]>>1;
U[N+1]=c[D+1]+m[f+1]>>1;U[N+2]=c[D+2]+m[f+2]>>1;U[N+3]=c[D+3]+m[f+3]>>1}function d(U,N,m,f,c,D,z,_,v){var o=0,y=0,k=0,R,S=c[D],L;
Z(_,0,U,N,U,m);for(R=0;R<S;R++){Z(_,(R+1)*4,_,R*4,U,m)}y=(S+1)*4;k+=S;D--;p(U,N,_,y-4);f[D]=n(U,N);N-=v;
while(D>0&&f[D-1]<f[D]){L=_;_=z;z=L;o=y;w(_,0,U,N-v,z,0);for(R=4;R<o;R+=4){w(_,R,_,R-4,z,R)}S=c[D];for(R=k;
R<S;R++){Z(_,y,_,y-4,z,o-4);y+=4;k++}D--;p(U,N,_,y-4);f[D]=n(U,N);N-=v}}function O(U,N,m,f,c){var D=N*4,z=0,_,v,o=new Uint8Array(N+1),y=new Uint8Array(10*4),k=new Uint8Array(10*4);
for(var R=0;R<m;R++){T(f,U,z);c[0]=n(f,z);o[0]=H();_=z;z+=4;for(var S=1;S<N;S++){T(f,U,z);c[S]=n(f,z);
v=H();o[S]=v;if(c[S-1]<c[S]&&v>0){d(f,z-4,z,c,o,S,y,k,4)}z+=4}c[N]=c[0];o[N]=o[0];if(c[N-1]<c[N]&&v>0){d(f,z,_,c,o,N,y,k,4)}}i(f)}function W(){var U=Math.random();
if(U>.659755)return 0;if(U>.1625)return 10;if(U>.06)return 20;if(U>.01)return 30;if(U>.0035)return 40;
if(U>65e-5)return 50;if(U>415e-6)return 60;if(U>55e-6)return 70;return 80}function C(U,N,m,f,c,D){var z=W()+1,_=f[c];
for(var R=1;R<z;R++){if(0>c)break;if(f[c-R]<_){E(U,N,m)}else{break}N+=D}}function a(U,N,m,f,c){var D=N*4,z=0;
for(var R=0;R<m;R++){T(f,U,z);c[0]=n(f,z);z+=4;for(var _=1;_<N;_++){T(f,U,z);c[_]=n(U,z);if(c[_-1]<c[_]){C(f,z-4,z,c,_,-4)}z+=4}c[N]=c[0];
if(c[_-1]<c[_]){C(f,z-4,z-D,c,_,-4)}}i(f)}function B(U,N,m,f,c,D){var z=1,_,v,o=new Uint8Array(4),y,k=N;
while(Math.random()<1/z){k=N;if(f<=1)break;_=m[f];v=m[f-1];if(_<=v)break;p(o,0,U,k-D);y=!0;for(var R=f;
R<c;R++){if(v>m[R]){p(U,k-D,o,0);m[R-1]=v;y=!1;break}p(U,k-D,U,k);m[R-1]=m[R];k+=D}if(y){p(U,k-D,o,0);
m[c-1]=v}z++;f--;N-=D}}function $(U,N,m,f,c){var D=0,z=0,_=N*4;for(var R=0;R<m;R++){z=D;for(var v=0;
v<N;v++){T(f,U,D);c[v]=q(f,D);D+=4}D=z;for(var v=1;v<N;v++){if(c[v-1]<c[v]&&Math.random()<.66){B(f,D+4,c,v,N,4)}D+=4}D+=4}i(f)}function I(U,N,m,f,c){var D=c[0],z=c[1],_=new Uint16Array(N+1),v=U,o=f,y;
if(z){y=f.slice(0);x(U,f,N,m);v=f;o=y}if(D==0)O(v,N,m,o,_);else if(D==1)a(v,N,m,o,_);else if(D==2)$(v,N,m,o,_);
if(z){x(y,f,N,m)}}function x(U,N,m,f){for(var c=0;c<f;c++)for(var D=0;D<m;D++){var z=c*m+D<<2,_=c*m+(m-1-D)<<2;
N[_]=U[z];N[_+1]=U[z+1];N[_+2]=U[z+2];N[_+3]=U[z+3]}}return I}();j.d.a4_=function(n,q,p,E,T){var i=j.d.A,H=1,I=0,N=0;
i.xI(q,p);i.ot(T[2]);var Z=3<<13,w=Math.PI/2.43,d=w/256,O=Math.PI*2/256;function W(){var D=i.random()*256,z=i.random()*256;
return H*~~(Math.tan(w-D*d)*325*Math.cos(z*O)*256)+Z>>16}H=T[0];var C=T[1],a=(C+2)/2,B=i.random()*255,$=i.Dk(1);
for(var R=0;R<p;R++){var x=i.yd(W()+B);for(var U=0;U<q;U++){x=i.yd(W()+x);$[I++]=x}}I=q;for(var R=1;
R<p;R++){var m=i.yd(W()+$[N++]);$[I++]=m;for(var U=1;U<q;U++){var f=N+1;if(U+1==q){f--}var c=(a+m+$[f]+$[N]*C)/(C+2);
m=i.yd(W()+c);$[I++]=m;N++}}i.yU($,E)};var fd=function(){function n(G){G=G^61^G>>>16;G=G+(G<<3);G=G^G>>>4;
G=G*668265261;G=G^G>>>15;return G}var q=function(){var q=function(G){if(G){this.jS=G}this.jS=n(this.jS);
return(this.jS&16777215)*(1/16777215)};return q};function p(G,F){if(F==null){F=[0,0]}return Math.sqrt((F[0]-G[0])*(F[0]-G[0])+(F[1]-G[1])*(F[1]-G[1]))}function E(G,F){if(F==null){F=[0,0]}return[-(F[1]-G[1])/p(G,F),(F[0]-G[0])/p(G,F)]}function T(G){return[Math.cos(G),Math.sin(G)]}function i(G){var F=p(G,[0,0]),b=[G[0]/F,G[1]/F],h=Math.atan(b[1]/b[0]);
if(b[0]>0&&b[1]<0){h+=2*Math.PI}else if(b[0]<0&&b[1]<0){h+=Math.PI}else if(b[0]<0&&b[1]>0){h+=Math.PI}return h}function H(G){var H=0;
for(var R=1;R<G.length/2;++R){H+=p([G[2*R],G[2*R+1]],[G[2*(R-1)],G[2*(R-1)+1]])}return H}function Z(G,F,b){var h=new Float32Array(G.length),bj=1/(G.length/2),i4=f(b);
for(var R=0;R<G.length/2;++R){var t=R*bj,aG=t/2+.5,Q=1,jd=0;if(b.shape==2){Q=1/(2*aG)}if(b.shape==3){aG=(1-t)/2+.5;
Q=1/(2*aG)+.5}if(b.shape==4){aG=t;Q=Math.sin(3/2*Math.PI*aG)/4+1}if(b.shape==5){aG=(t-.5)*6;Q=(-Math.atan(aG)/1.25+1)/5+.6-.2*t}var bP=[null,null];
if(R==0){bP=E([G[2*R],G[2*R+1]],[G[2*(R+1)],G[2*(R+1)+1]])}else if(R==G.length/2-1){bP=E([G[2*(R-1)],G[2*(R-1)+1]],[G[2*R],G[2*R+1]])}else{bP=E([G[2*(R-1)],G[2*(R-1)+1]],[G[2*(R+1)],G[2*(R+1)+1]])}h[2*R]=G[2*R]+(Q*F+jd)*bP[0];
h[2*R+1]=G[2*R+1]+(Q*F+jd)*bP[1];if(b.style==2){h[2*R]+=c(2*R/h.length,i4,b)}}return h}function w(G,F,b){var h=new Float32Array(G.length),bj=1/(G.length/2);
for(var R=0;R<G.length/2;++R){var i4=R*bj,t=[null,null],aG=.6*b.I2*_(i4,F.apk)*b.vT/100,Q=.6*b.I2*_(i4,F.a8d)*b.vT/100,jd=F.ap6*aG+(1-F.ap6)*Q;
if(R==0){t=E([G[2*R],G[2*R+1]],[G[2*(R+1)],G[2*(R+1)+1]])}else if(R==G.length/2-1){t=E([G[2*(R-1)],G[2*(R-1)+1]],[G[2*R],G[2*R+1]])}else{t=E([G[2*(R-1)],G[2*(R-1)+1]],[G[2*(R+1)],G[2*(R+1)+1]])}h[2*R]=G[2*R]+jd*t[0];
h[2*R+1]=G[2*R+1]+jd*t[1]}return h}function d(G){if(G.w8==1){return[.150684932,.205479452,.465753425,.178082192]}else if(G.w8==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var F=[],b=1/(k(G)-1);
for(var R=0;R<k(G)-1;++R){F.push(b)}return F}}function O(G,F,b){var h=[],bj=F-G,i4=G;for(var R=0;R<b.length-1;
++R){h.push(i4+b[R]*bj);i4=h[R]}return h}function W(G,F,b,h){var bj=new Float32Array(b.length),i4=0,t={shape:Math.floor(h.random()*2.99),a8q:h.random()*.1+.15};
for(var R=0;R<b.length-1;++R){var aG=i4+b[R];bj[R]=((1-aG)*G+aG*F)*x(h,aG,t);i4=aG}return bj}function C(G,F,b,h){var bj=o(h),i4=h.random(),t=i4*20+(1-i4)*26,aG=new Float32Array(b.length),Q=0;
for(var R=0;R<b.length-1;++R){var jd=Q+b[R];aG[R]=(1-jd)*G+jd*F+bj/t*(2/3*Math.sin(Math.PI*jd)+1/3*Math.sqrt(Math.sin(Math.PI*jd)));
Q=jd}return aG}function a(G,F,b){var h=[];for(var R=0;R<F.length-1;++R){h.push(F[R].slice());var bj=R*(k(b)-1),i4=(R+1)*(k(b)-1),t=G[i4]-G[bj];
for(var aG=bj+1;aG<i4;++aG){var Q=f(b),jd=new Float32Array(F[0].length),bP=(G[aG]-G[bj])/t;for(var gz=0;
gz<F[0].length/2;++gz){jd[2*gz]=(1-bP)*F[R][2*gz]+bP*F[R+1][2*gz];jd[2*gz+1]=(1-bP)*F[R][2*gz+1]+bP*F[R+1][2*gz+1];
if(b.style==2){jd[2*gz]+=c(2*gz/F[0].length,Q,b)}}h.push(jd)}}h.push(F[F.length-1]);return h}function B(G,F,b){var h=new Array(F.length),bj=l(G),t=null;
for(var R=0;R<F.length;++R){h[R]=Z(bj,(F[R]-.5)*b.vT,b)}var i4=1+.05*b.aeu*o(b)/o({w8:1});for(var R=0;
R<F.length;++R){if(F[R]==0){t=R}}for(var R=0;R<F.length;++R){var aG=(b.random()-.5)*2,Q=Math.round(b.random()*9+1),jd=new Float32Array(Q*2+2);
for(var bP=0;bP<=Q;++bP){jd[2*bP]=h[R][0]-(h[R][2*bP]-h[R][0]);jd[2*bP+1]=h[R][1]-(h[R][2*bP+1]-h[R][1])}if(R==t){aG*=.1}for(var bP=(h[R].length-1)/2;
bP>Q;--bP){h[R][2*bP]=(1-aG)*h[R][2*bP]+aG*(h[R][2*(bP-Q)]+i4*(h[R][2*bP]-h[R][2*(bP-Q)]));h[R][2*bP+1]=(1-aG)*h[R][2*bP+1]+aG*(h[R][2*(bP-Q)+1]+i4*(h[R][2*bP+1]-h[R][2*(bP-Q)+1]))}for(var bP=Q-1;
bP>=0;--bP){h[R][2*bP]=(1-aG)*h[R][2*bP]+aG*(jd[2*(Q-bP)]+i4*(h[R][2*bP]-jd[2*(Q-bP)]));h[R][2*bP+1]=(1-aG)*h[R][2*bP+1]+aG*(jd[2*(Q-bP)+1]+i4*(h[R][2*bP+1]-jd[2*(Q-bP)+1]))}}var gz=z(F,b);
if(b.I2>0){var fZ=0;for(var R=0;R<F.length;++R){if(R==0){fZ+=F[R]}else{fZ+=Math.abs(F[R]-F[R-1])}var dt=fZ-Math.floor(fZ),a9=1;
if(dt==0){a9=0}h[R]=w(h[R],{apk:gz[Math.floor(fZ)],a8d:gz[Math.floor(fZ)+a9],ap6:dt},b)}}return h}function $(G,F){var b=X(F,G),h=s(F,G),bj=[],i4=[],t=[],aG=d(G);
for(var R=0;R<F.length-1;++R){bj.push(F[R]);i4.push(b[R]);t.push(h[R]);var Q=O(F[R],F[R+1],aG),jd=W(b[R],b[R+1],aG,G),bP=C(h[R],h[R+1],aG,G);
for(var gz=0;gz<Q.length;++gz){bj.push(Q[gz]);i4.push(jd[gz]);t.push(bP[gz])}}bj.push(F[F.length-1]);
i4.push(b[b.length-1]);t.push(h[h.length-1]);return{ad_:bj,a9e:i4,r4:t}}function I(G,F,b,h){var bj=new Float32Array(2*h),i4=G.length/2,t=i4-F,aG=b*t,Q=aG/h;
for(var R=0;R<h;++R){var jd=Math.floor(F+R*Q),bP=Math.ceil(F+R*Q),b=F+R*Q,gz=bP-jd,fZ=1,dt=0;if(gz!=0){fZ=(bP-b)/gz;
dt=(b-jd)/gz}bj[2*R]=fZ*G[2*jd]+dt*G[2*bP];bj[2*R+1]=fZ*G[2*jd+1]+dt*G[2*bP+1]}return bj}function x(G,F,b){var h=b.a8q,bj=F*2*Math.PI,i4=bj,t=0;
if(b.shape==0){t=(Math.sin(2*i4+Math.PI/2)+1)/2}else if(b.shape==1){t=(Math.sin(i4+Math.PI/2)+1)/2}else{t=(4*Math.sin(3/4*i4+Math.PI)+Math.sin(Math.PI/2+2*i4)-2*i4/Math.PI+6)/7}return Math.min(1,1-h+h*t)}function U(G,F,b,h){var bj=[];
for(var R=0;R<G.length;++R){bj.push(I(G[R],F[R],b[R],h))}return bj}function N(G,F,b){var h=[];for(var R=0;
R<G.length;++R){var bj=T(2*Math.PI*b.random()),i4=T(2*Math.PI*b.random()),t=b.EE*.5*S({w8:1})/S(b),aG=t*b.vT/200,Q=t*F/500,jd=new Float32Array(G[0].length);
for(var bP=0;bP<G[0].length/2;++bP){var gz=T(2*Math.PI*b.random()),fZ=2*bP/G[0].length;jd[2*bP]=G[R][2*bP]+aG*(gz[0]+((1-fZ)*bj[0]+fZ*i4[0]));
jd[2*bP+1]=G[R][2*bP+1]+Q*(gz[1]+((1-fZ)*bj[1]+fZ*i4[1]))}h.push(jd)}return h}function m(G,F,b){var h=b.EI,bj=2/h,i4=[1/10,1/30,1/40,1/45,1/100],t=i4[b.w8-1],aG=4*(b.opacity/25*bj*t)*(1-b.EE/150),gz=0,dt=0;
if(b.style==3){return aG*.09}var Q=2.2*(G-.5),jd=Q*Q*Q*Q+.27+Math.max(0,(b.opacity-50)/15),bP=2*(Math.sin(3*Math.PI*F)/(Math.PI*F+2)+1.1)-F/2;
F=2*F;if(F<.41){var fZ=2*Math.PI*F/.41;gz=(Math.sin(fZ-Math.PI/2)+1)/4+.5}else if(F<.77){var fZ=2*Math.PI*(F-.41)/.36;
gz=(Math.sin(fZ-Math.PI/2)+1)/4+.5-fZ/2/Math.PI*.5}else{var fZ=2*Math.PI*(F-.77)/.23;gz=(Math.sin(fZ-Math.PI/2)+1)/2*.12}gz*=3;
gz+=Math.max(0,(b.opacity-50)/15);if(b.type==6){dt=bP}else{dt=gz}return aG*jd*dt}function f(G){return{C:G.random()*7/2+.5,MR:G.random()*2*Math.PI}}function c(G,F,b){return b.vT/300*k({w8:1})/k(b)*10*(Math.sin(F.C*2*Math.PI*G+F.MR)+10*(b.random()-.5))}function D(G){var F=Math.exp(-G.I2/25);
return{C:G.random()*3/2+.5,MR:G.random()*2*Math.PI,lI:(G.random()-.5)*10*F}}function z(G,F){var b=Math.ceil(M(G)),h=[];
for(var R=0;R<=b;++R){h.push(D(F))}return h}function _(G,F){var b=F.C*4*Math.PI*G+F.MR;return Math.exp(-1/2*Math.PI*G)*Math.cos(b)*Math.cos(b)*Math.cos(b)*Math.cos(b)*Math.cos(b)+G*F.lI-F.lI/4}function v(G,F,b,h,bj){var i4=0,t=S(F)-1;
for(var R=0;R<t;++R){for(var aG=0;aG<G.length-1;aG+=k(F)-1){for(var Q=R;Q<G[0].length/2-t;Q+=t){for(var jd=aG;
jd<aG+(k(F)-1);++jd){b[bj+i4]=m(jd*(F.EI-1)/(G.length-1)%1,Q/G[0].length,F);var bP=0,gz=0;if(F.type==6&&jd!=0&&jd!=G.length-1){gz=(G[jd][2*(Q+1)+1]-G[jd][2*Q+1])/2;
bP=(G[jd][2*(Q+1)]-G[jd][2*Q])/2}h[8*bj+8*i4]=G[jd][2*Q]+bP;h[8*bj+8*i4+1]=G[jd][2*Q+1]+gz;h[8*bj+8*i4+2]=G[jd][2*(Q+t)]+bP;
h[8*bj+8*i4+3]=G[jd][2*(Q+t)+1]+gz;h[8*bj+8*i4+4]=G[jd+1][2*(Q+t)];h[8*bj+8*i4+5]=G[jd+1][2*(Q+t)+1];
h[8*bj+8*i4+6]=G[jd+1][2*Q];h[8*bj+8*i4+7]=G[jd+1][2*Q+1];++i4}}}}}function o(G){var F=[100,300,500,700,1e3];
return F[G.w8-1]}function y(G){var F=[30,70,100,140,300];return F[G.w8-1]}function k(G){var F=[5,7,26,40,100];
return F[G.w8-1]}function S(G){if(G.w8==1){return 4}else if(G.w8==2){return 8}else{return Math.floor(y(G)/9)}}function L(G){var F=G.EI,b=new Float32Array(F),h=null;
for(var R=0;R<F;++R){b[R]=G.random()}if(G.EI<=3){b[0]=0;b[G.EI-1]=1}else{for(var R=0;R<2;++R){var bj=Math.floor(G.random()*F);
if(h==null||h!=bj){b[bj]=R;h=bj}else{b[bj+1]=R}}}return b}function X(G,F){var b=[],h=.2,i4=0;for(var R=0;
R<G.length;++R){var bj=F.random()*(1-h)+h;b.push(bj)}var t=Math.min(3,F.EI);for(var R=0;R<G.length;++R){if(b[R]>.9){++i4}}while(i4<t){var aG=Math.floor(F.random()*G.length);
if(b[aG]<=.9){b[aG]=.9+.1*F.random();++i4}}return b}function s(G,F){var b=o(F),h=o({w8:1}),bj=[];for(var R=0;
R<G.length;++R){bj.push(Math.max(1,(F.random()*10+2)*b/h))}return bj}function M(G){var F=0;for(var R=0;
R<G.length;++R){if(R==0){F+=G[R]}else{F+=Math.abs(G[R]-G[R-1])}}return F}function V(G,F){if(G.length/2-1==o(F)){return G}var b=new Float32Array(2*(o(F)+1)),h=(G.length-2)/(b.length-2);
for(var R=0;R<b.length/2;++R){var bj=R*h,i4=Math.floor(bj),t=Math.ceil(bj),aG=t-i4,Q=1,jd=0;if(aG!=0){Q=(t-bj)/aG;
jd=(bj-i4)/aG}b[2*R]=Q*G[2*i4]+jd*G[2*t];b[2*R+1]=Q*G[2*i4+1]+jd*G[2*t+1]}return b}function l(G,F){var b=G.length/2,h=H(G),bj=h/b,i4=!1,Q=0,jd=0,bP=1;
if(F){var t=Math.floor(h/F.a37),aG=F.a37;if(F.anA&&G[0]==G[G.length-2]&&G[1]==G[G.length-1]){i4=!0;aG=h/(t+1)}if(F.type==2&&!i4&&aG*t+F.length>h){b=t+1}else{b=t+2}bj=aG}var gz=new Float32Array(b*2);
gz[0]=G[0];gz[1]=G[1];for(var R=1;R<b;++R){while(Q<=R*bj){jd=Q;Q+=p([G[2*bP],G[2*bP+1]],[G[2*(bP-1)],G[2*(bP-1)+1]]);
++bP}var fZ=1-(R*bj-jd)/(Q-jd);gz[2*R]=(1-fZ)*G[2*bP]+fZ*G[2*(bP-1)];gz[2*R+1]=(1-fZ)*G[2*bP+1]+fZ*G[2*(bP-1)+1]}gz[gz.length-2]=G[G.length-2];
gz[gz.length-1]=G[G.length-1];return gz}function e(G,F){var b=l(G,F),h=[];for(var R=0;R<(b.length-2)/2;
++R){var bj=[];bj.push(b[2*R]);bj.push(b[2*R+1]);var i4=p([b[2*(R+1)],b[2*(R+1)+1]],[b[2*R],b[2*R+1]]),t=[(b[2*(R+1)]-b[2*R])/i4,(b[2*(R+1)+1]-b[2*R+1])/i4],aG=T((F.a6X-90)/360*2*Math.PI),Q=t;
if(F.type==3){Q=aG}else if(F.type==4){Q=T(i(t)+i(aG))}else if(F.type==5){Q=T(((F.random()-.5)*F.a6X-90)/360*2*Math.PI)}var jd=F.length;
if(F.a7R){jd=2*F.random()*F.length}bj.push(b[2*R]+Q[0]*jd);bj.push(b[2*R+1]+Q[1]*jd);h.push(bj)}return h}function Y(G){if(G.a8S){G.uS=100*Math.random()}else{G.uS=G.a6m}G.random=new q;
G.random(G.uS);if(G.type==6){G.EI=2;G.shape=5;G.aeu=0}}function J(G,F){G=V(G,F);var b=[G],jd=0;if(F.type>=2&&F.type<6){b=e(G,F)}var h=S(F)-1,bj=y(F)-h,i4=(F.EI-1)*(k(F)-1),t=b.length*bj*i4,aG=new Float32Array(t),Q=new Float32Array(8*t);
for(var R=0;R<b.length;++R){for(var bP=0;bP<1e4;++bP){F.uS=n(F.uS)}F.random(F.uS);var G=V(b[R],F),gz=L(F),fZ=M(gz),dt=B(G,gz,F),a9=$(F,gz),bi=a(a9.ad_,dt,F);
bi=U(bi,a9.r4,a9.a9e,y(F));if(F.EE>0){bi=N(bi,H(b[R]),F)}v(bi,F,aG,Q,jd);jd+=bj*i4}return[aG,Q]}var fd=function(G){var F=performance.now(),b=G[0],h=G[1];
Y(h);var bj=[new Float32Array(0),new Float32Array(0)];for(var R=0;R<b.length;++R){h.uS=n(h.uS);var i4=J(b[R],h),t=new Float32Array(bj[0].length+i4[0].length),aG=new Float32Array(bj[1].length+i4[1].length);
t.set(bj[0]);t.set(i4[0],bj[0].length);bj[0]=t;aG.set(bj[1]);aG.set(i4[1],bj[1].length);bj[1]=aG}var Q=performance.now();
if(h.a1S){console.fh("Geometry: "+String(Q-F)+"ms")}return bj};return fd}(),j9=function(){function n(T,i){var H=[],Z=0,w=i.length,d=0,O=0,W=new eL,C=0,a=1e9;
for(O=0;O<w;O++){var B=O*8,$=i[O];if($<a)a=$;var I=T[B+0],x=T[B+1],U=T[B+2],N=T[B+3],m=T[B+4],f=T[B+5],c=T[B+6],D=T[B+7],z=Math.min(I,U,m,c),_=Math.max(I,U,m,c),v=Math.min(x,N,f,D),o=Math.max(x,N,f,D),y=new eL(z,v,_-z,o-v),k=y.AL(W),S=C+$;
if(O-d<10&&(O==d||k.P()*.8<y.P()+W.P())){W=k;C=S}else{H.push(O-d);d=O;W=y;C=$;a=$}}if(O!=d)H.push(O-d);
return H}function q(T,i,H,Z,w,d){var O=document.createElement("canvas"),x=0,t=.8;O.width=i;O.height=H;
var W=O.getContext("2d"),C=w[0],a=w[1],B=new Float64Array(i*H),$=Date.now(),I=n(a,C);for(var U=0;U<I.length;
U++){var N=x,m=x+I[U],D=1e9,_=1e9,X=0;x=m;var f=N*8,c=m*8,z=-D,v=-_;for(var o=f;o<c;o+=2){var y=a[o],k=a[o+1];
if(y<D)D=y;if(y>z)z=y;if(k<_)_=k;if(k>v)v=k}D=Math.floor(D);z=Math.ceil(z);_=Math.floor(_);v=Math.ceil(v);
var S=z-D,L=v-_;for(var s=N;s<m;s++)X+=C[s];for(var o=f;o<c;o+=8){var M=C[o>>>3],V=a[o+0],l=a[o+1],e=a[o+2],Y=a[o+3],J=a[o+4],G=a[o+5],F=a[o+6],b=a[o+7];
W.fillStyle="rgba(0,0,0,"+M/X+")";W.beginPath();W.moveTo(V,l);W.lineTo(e,Y);W.lineTo(J,G);W.lineTo(F,b);
W.closePath();W.fill()}var h=W.getImageData(D,_,S,L).data;for(var k=0;k<L;k++)for(var y=0;y<S;y++){var R=k*S+y,bj=h[R*4+3],i4=(_+k)*i+D+y;
if(bj!=0)B[i4]+=bj*X}W.clearRect(D,_,S,L)}var aG=d[1].color,Q=Math.pow(aG._/255,t),jd=Math.pow(aG.q/255,t),bP=Math.pow(aG.X/255,t),gz=new eL(0,0,i,H),fZ=j.U(i*H*4);
for(var k=0;k<H;k++)for(var y=0;y<i;y++){var R=k*i+y,s=R*4,C=B[R]*(1/255);fZ[s]=E(Q,C);fZ[s+1]=E(jd,C);
fZ[s+2]=E(bP,C);fZ[s+3]=Math.min(255,C*255)}j.a.Ef("norm",fZ,gz,Z,gz,gz,1)}var p=new Uint8Array(2e3);
for(var R=0;R<2e3;R++)p[R]=255*Math.min(1,Math.log(R/700+1));function E(T,i){return p[Math.min(1500,~~(T*i*1e3))]}return q}();
j.WF={a9a:function(n,q){var R=n.length;n.push(q);var p=R>>>1;while(p!=0&&n[R][0]<n[p][0]){var E=n[R];
n[R]=n[p];n[p]=E;R=p;p=R>>>1}},ahA:function(n){if(n.length==2)return n.pop();var top=n[1],R=1;n[1]=n.pop();
var q=n.length;while(!0){var p=R<<1,E=p+1,T=R;if(p<q&&n[p][0]<n[T][0])T=p;if(E<q&&n[E][0]<n[T][0])T=E;
if(T==R)break;var i=n[R];n[R]=n[T];n[T]=i;R=T}return top},a7j:function(n){for(var R=1;R<n.length;R++){var q=R,p=1e9;
while(q!=0){var E=n[q][0];if(E>p){console.log(R);throw"e"}p=E;q=q>>>1}}}};j.a={};j.a.gw=new Float64Array(256);
j.a.hn=new Uint8Array(256*256);j.a.GO=new Uint8Array(256*256);(function(){for(var R=0;R<256;R++)j.a.gw[R]=255/R;
for(var R=0;R<256;R++)for(var n=0;n<256;n++)j.a.hn[R*256+n]=R==0?0:Math.round(n*255/R);for(var R=0;R<256;
R++)for(var n=0;n<256;n++)j.a.GO[R*256+n]=Math.round(R*(255-n)/255)}());j.a.Ef=function(n,q,p,E,T,i,H,Z){if(Z==null)Z=cU.k0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(n)==-1){H=H*Z.fill;Z.fill=1;Z.style=!1}var w="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),d="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),O=j.a[n+"F"];
if(Z.rU==null&&n=="norm")j.a.acR(q,p,E,T,i,H,O,Z.fC?1:0);else if(n=="diss")j.a.a6n(q,p,E,T,i,H,O,Z.fC?1:0);
else if(w.indexOf(n)!=-1)j.a.a9D(q,p,E,T,i,H,O,Z);else if(d.indexOf(n)!=-1)j.a.aso(q,p,E,T,i,H,O,Z)};
j.a.adU=function(n,q,p){var E=n*p+1-p;return E<.001?0:1-Math.min(1,(1-q)/E)};j.a.a5_=function(n,q,p){return n*p==1?1:Math.min(1,q/(1-n*p))};
j.a.qv=function(n){return n<=.25?((16*n-12)*n+4)*n:Math.sqrt(n)};j.a.normF=function(n,q,p){return n};
j.a.darkF=function(n,q,p){return Math.min(n,q)};j.a["mul F"]=function(n,q,p){return n*q};j.a.idivF=function(n,q,p){var E=n*p+1-p;
return q==1?1:1-q>=E?0:1-(1-q)/E};j.a.lbrnF=function(n,q,p){return Math.max(0,n*p+q-p)};j.a.dkClF=function(n,q,p){var E=j.hR(n)<j.hR(q)?n:q;
p._=E._;p.q=E.q;p.X=E.X;return p};j.a.liteF=function(n,q,p){return Math.max(n,q)};j.a.scrnF=function(n,q,p){return q+n-q*n};
j.a["div F"]=function(n,q,p){n*=p;return q==0?0:q>=1-n?1:q/(1-n)};j.a.lddgF=function(n,q,p){n*=p;return Math.min(1,n+q)};
j.a.lgClF=function(n,q,p){var E=j.hR(n)>j.hR(q)?n:q;p._=E._;p.q=E.q;p.X=E.X;return p};j.a.overF=function(n,q,p){return j.a.hLitF(q,n,p)};
j.a.sLitF=function(n,q,p){return n<=.5?q-(1-2*n)*q*(1-q):q+(2*n-1)*(j.a.qv(q)-q)};j.a.hLitF=function(n,q,p){return n<=.5?j.a["mul F"](2*n,q,p):j.a.scrnF(2*n-1,q,p)};
j.a.vLitF=function(n,q,p){return n<=.5?j.a.adU(2*n,q,p):j.a.a5_(2*n-1,q,p)};j.a.lLitF=function(n,q,p){return n<=.5?j.a.lbrnF(2*n,q,p):j.a.lddgF(2*n-1,q,p)};
j.a.pLitF=function(n,q,p){return n<=.5?j.a.darkF(2*n,q,p):j.a.liteF(2*n-1,q,p)};j.a.hMixF=function(n,q,p){if(p>.99)return n+q<1?0:1;
return Math.min(1,Math.max(0,(q+n*p-p)/(1-p+1e-6)))};j.a.diffF=function(n,q,p){n*=p;return Math.abs(n-q)};
j.a.smudF=function(n,q,p){return n+q-2*n*q};j.a.fsubF=function(n,q,p){return Math.max(q-n,0)};j.a.fdivF=function(n,q,p){return Math.min(q/n,1)};
j.a["hue F"]=function(n,q,p){j.a.Ol(n,j.Ay(q),p);j.a.NK(p,j.hR(q),p)};j.a["sat F"]=function(n,q,p){j.a.Ol(q,j.Ay(n),p);
j.a.NK(p,j.hR(q),p)};j.a.colrF=function(n,q,p){j.a.NK(n,j.hR(q),p)};j.a["lum F"]=function(n,q,p){j.a.NK(q,j.hR(n),p)};
j.a.NK=function(n,q,p){var E=q-j.hR(n);p._=n._+E;p.q=n.q+E;p.X=n.X+E;j.a.aoU(p)};j.a.aoU=function(n){var q=n._,p=n.q,E=n.X,T=j.lU(q,p,E),eR=Math.min(q,p,E),i=Math.max(q,p,E);
if(eR<0){var H=T/(T-eR);q=T+(q-T)*H;p=T+(p-T)*H;E=T+(E-T)*H}if(i>1){var H=(1-T)/(i-T);q=T+(q-T)*H;p=T+(p-T)*H;
E=T+(E-T)*H}n._=q;n.q=p;n.X=E};j.a.Ol=function(n,q,p){var E=j.a.a21,T=n._,i=n.q,H=n.X;if(T==i&&i==H){p._=p.q=p.X=0}else if(T>i){if(T>H){if(i>H){p._=q;
p.q=E(T,i,H,q);p.X=0}else{p._=q;p.X=E(T,H,i,q);p.q=0}}else{p.X=q;p._=E(H,T,i,q);p.q=0}}else{if(T<H){if(i>H){p.q=q;
p.X=E(i,H,T,q);p._=0}else{p.X=q;p.q=E(H,i,T,q);p._=0}}else{p.q=q;p._=E(i,T,H,q);p.X=0}}};j.a.a21=function(n,q,p,E){return(q-p)*E/(n-p)};
j.a.acR=function(n,q,p,E,T,i,H,Z){var w=q.O1(E).O1(T),d=Math.max(0,w.x-q.x),O=Math.max(0,w.x-E.x),W=Math.max(0,w.y-q.y),C=Math.max(0,w.y-E.y),a=w.v,B=w.o,$=q.v,I=E.v,x=j.a.hn,U=j.a.GO,N=new Uint32Array(n.buffer),m=new Uint32Array(p.buffer);
for(var R=0;R<B;R++){var f=(W+R)*$+d,c=(C+R)*I+O;for(var D=0;D<a;D++){var z=N[f+D],o=255;if(z>>>24==0)continue;
if(z>>>24==255&&i==1&&Z==0){m[c+D]=N[f+D];continue}var _=m[c+D],v=255*i&255;if(Z==0){v=(z>>>24)*i&255;
o=_>>>24}var y=U[o<<8|v],k=v+y,S=z&255,L=z>>>8&255,X=z>>>16&255,s=_&255,M=_>>>8&255,V=_>>>16&255;m[c+D]=Z*(_>>>24)+(1-Z)*k<<24|x[k<<8|j.zp(X*v+V*y)]<<16|x[k<<8|j.zp(L*v+M*y)]<<8|x[k<<8|j.zp(S*v+s*y)]}}};
j.a.ao4=function(n,q,p,E,T,i){var H=q.O1(E).O1(T),Z=Math.max(0,H.x-q.x),w=Math.max(0,H.x-E.x),d=Math.max(0,H.y-q.y),O=Math.max(0,H.y-E.y),W=H.v,C=H.o,a=q.v,B=E.v,$=j.a.hn,I=j.a.GO,x=new Uint32Array(n.buffer),U=new Uint32Array(p.buffer),N=Math.floor(Math.random()*16777215),m=0;
for(var R=0;R<C;R++){var f=(d+R)*a+Z,c=(O+R)*B+w;for(var D=0;D<W;D++){var z=x[f+D];if(z>>>24==0)continue;
if(z>>24==255&&i==1){U[c+D]=z;continue}var _=U[c+D],v=(z>>>24)*i*(1/255),o=(_>>>24)*(1/255),y=o*(1-v),k=v+y,S=z&255,L=z>>>8&255,X=z>>>16&255,s=_&255,M=_>>>8&255,V=_>>>16&255;
m>>>=8;if((D&3)==0)m=j.a.aB(c+D+N);var l=k==0?0:1/k,e=Math.floor(k*(256*255))+(m&255)>>>8,Y=Math.floor((X*v+V*y)*l+.5),J=Math.floor((L*v+M*y)*l+.5),G=Math.floor((S*v+s*y)*l+.5);
U[c+D]=e<<24|Y<<16|J<<8|G}}};j.a.WZ=function(n,q,p,E,T,i,H,Z){var w=j.lU(n,q,p),d=j.lU(E,T,i),O=Math.min,W=j.a.a9j,C=W(w,Z,0);
C=O(C,W(n,Z,8));C=O(C,W(q,Z,16));C=O(C,W(p,Z,24));var a=W(d,Z,4);a=O(a,W(E,Z,12));a=O(a,W(T,Z,20));a=O(a,W(i,Z,28));
a=Math.max(a,1-H);var B=Math.min(C,a);return B<0?0:B>1?1:B};j.a.a9j=function(n,q,R){return Math.min((n-q[R])*q[R+1],(n-q[R+3])*q[R+2])};
j.a.a9D=function(n,q,p,E,T,i,H,Z){var w=1/255,d=w*i,O=Z.fC?1:0,W=Z.fill,C=Z.style,a=q.O1(E).O1(T),B=Math.max(0,a.x-q.x),$=Math.max(0,a.x-E.x),I=Math.max(0,a.y-q.y),x=Math.max(0,a.y-E.y),U=a.v,N=a.o,m=q.v,f=E.v,c=new Uint32Array(n.buffer),D=new Uint32Array(p.buffer);
for(var R=0;R<N;R++){var z=(I+R)*m+B,_=(x+R)*f+$;for(var v=0;v<U;v++,z++,_++){var o=c[z],l=1;if(o>>>24==0)continue;
var y=D[_],k=(o&255)*w,S=(o>>>8&255)*w,L=(o>>>16&255)*w,X=(y&255)*w,s=(y>>>8&255)*w,M=(y>>>16&255)*w,V=i;
if(O==0){V=(o>>>24)*d;l=(y>>>24)*w}if(Z.rU)V*=j.a.WZ(k,S,L,X,s,M,l,Z.rU);var e=l*(1-V),Y=V+e,J=Y==0?0:255/Y,G=C?1:V,F=((1-l)*V*k+(1-G)*l*X+G*l*H(k,X,(1+V-G)*W))*J,b=((1-l)*V*S+(1-G)*l*s+G*l*H(S,s,(1+V-G)*W))*J,h=((1-l)*V*L+(1-G)*l*M+G*l*H(L,M,(1+V-G)*W))*J;
Y=V*W+l*(1-V*W);var bj=~~(Y*255+.5);D[_]=O*(y>>>24)+(1-O)*bj<<24|h<<16|b<<8|F}}};j.a.aso=function(n,q,p,E,T,i,H,Z){var w=1/255,d=w*i,O=Z.fC?1:0,W=q.O1(E).O1(T),C=Math.max(0,W.x-q.x),a=Math.max(0,W.x-E.x),B=Math.max(0,W.y-q.y),$=Math.max(0,W.y-E.y),I=W.v,x=W.o,U=new Uint32Array(n.buffer),N=new Uint32Array(p.buffer),m={_:0,q:0,X:0},f={_:0,q:0,X:0},c={_:0,q:0,X:0};
for(var R=0;R<x;R++){var D=(B+R)*q.v+C,z=($+R)*E.v+a;for(var _=0;_<I;_++,D++,z++){var v=U[D],o=N[z],y=(v&255)*w,k=(v>>>8&255)*w,S=(v>>>16&255)*w,L=(o&255)*w,X=(o>>>8&255)*w,s=(o>>>16&255)*w,M=i,V=1;
if(O==0){M=(v>>>24)*d;V=(o>>>24)*w}if(Z.rU)M*=j.a.WZ(y,k,S,L,X,s,V,Z.rU);var l=V*(1-M),e=M+l,Y=255/e;
m._=y;m.q=k;m.X=S;f._=L;f.q=X;f.X=s;H(m,f,c);var J=(((1-V)*y+V*c._)*M+L*l)*Y,G=(((1-V)*k+V*c.q)*M+X*l)*Y,F=(((1-V)*S+V*c.X)*M+s*l)*Y,b=O*(o>>>24)+(1-O)*Math.round(e*255);
N[z]=b<<24|F<<16|G<<8|J}}};j.a.I8=function(n){n=n^61^n>>>16;n=n+(n<<3);n=n^n>>>4;n=n*668265261;n=n^n>>15;
return(n&16777215)*(1/16777215)};j.a.aB=function(n){n=n^61^n>>>16;n=n+(n<<3);n=n^n>>>4;n=n*668265261;
n=n^n>>>15;return n};j.a.hb=function(n){this.ot=n};j.a.hb.prototype.get=function(){var n=this.ot=j.a.aB(this.ot);
return(n&16777215)*(1/16777215)};j.a.a6n=function(n,q,p,E,T,i,H,Z){var w=1/255,d=w*i,O=Math.round(i*(256*256*256/255)),W=q.O1(E).O1(T),C=Math.max(0,W.x-q.x),a=Math.max(0,W.x-E.x),B=Math.max(0,W.y-q.y),$=Math.max(0,W.y-E.y),I=W.v,x=W.o,U=new Uint32Array(n.buffer),N=new Uint32Array(p.buffer);
for(var R=0;R<x;R++){var m=(B+R)*q.v+C,f=($+R)*E.v+a;for(var c=0;c<I;c++,m++,f++){var D=U[m],z=N[f],_=Z*255+(1-Z)*(D>>>24);
if((j.a.aB(m)&16777215)>=_*O)continue;N[f]=D&16777215|Z*(z>>>24)+(1-Z)*255<<24}}};j.a.akV=function(n,q,p){for(var R=0;
R<n.length;R+=4){var E=p[R>>>2];if(E==0)continue;var T=E*(1/255),i=1/T,H=q[R],Z=q[R+1],w=q[R+2],d=n[R],O=n[R+1],W=n[R+2];
q[R]=Math.min(255,Math.max(0,Math.round((H-(1-T)*d)*i)));q[R+1]=Math.min(255,Math.max(0,Math.round((Z-(1-T)*O)*i)));
q[R+2]=Math.min(255,Math.max(0,Math.round((w-(1-T)*W)*i)));q[R+3]=255}};j.a.ZH=function(n,q,p,E,T,i,H,Z,w,d,O){if(d==null)d=!1;
if(O==null)O=[1,1,1];var W=255<<24|O[2]*16711680|O[1]*65280|O[0]*255,C=~W;if(T&&!q.rv(i)){var a=j.U(q.P()*4);
a.fill(H);j.cg(T,i,a,q);T=a;i=q}if(d){if(T==null)j.a.a7U(n,q,p,E,T,Z,w,W,C);else j.a.aeb(n,q,p,E,T,Z,w)}else{if(T==null)j.a.a3x(n,q,p,E,T,Z,w,W,C);
else j.a.a8Y(n,q,p,E,T,Z,w)}};j.a.a3x=function(n,q,p,E,T,i,H,Z,w){var d=1/255,O=q.O1(E).O1(i),W=Math.max(0,O.x-q.x),C=Math.max(0,O.x-E.x),a=Math.max(0,O.y-q.y),B=Math.max(0,O.y-E.y),$=O.v,I=O.o,x=new Uint32Array(n.buffer),U=new Uint32Array(p.buffer),N=j.a.hn,m=H*255&255;
for(var R=0;R<I;R++){var f=(a+R)*q.v+W,c=(B+R)*E.v+C;for(var D=0;D<$;D++,f++,c++){var z=x[f],_=U[c],v=z>>>24,o=_>>>24,y=j.zp(m*v+(255-m)*o),k=j.zp(v*m),S=j.zp(o*(255-m)),L=z&255,X=z>>>8&255,s=z>>>16&255,M=_&255,V=_>>>8&255,l=_>>>16&255,e=k*L+M*S,Y=k*X+V*S,J=k*s+l*S;
e=N[y<<8|j.zp(e)];Y=N[y<<8|j.zp(Y)];J=N[y<<8|j.zp(J)];var G=y<<24|J<<16|Y<<8|e;U[c]=w&_|Z&G}}};j.a.a7U=function(n,q,p,E,T,i,H,Z,w){var d=1/255,O=q.O1(E).O1(i),W=Math.max(0,O.x-q.x),C=Math.max(0,O.x-E.x),a=Math.max(0,O.y-q.y),B=Math.max(0,O.y-E.y),$=O.v,I=O.o,x=new Uint32Array(n.buffer),U=new Uint32Array(p.buffer),N=j.a.hn,m=H*16777215&16777215;
for(var R=0;R<I;R++){var f=(a+R)*q.v+W,c=(B+R)*E.v+C;for(var D=0;D<$;D++,f++,c++){if((j.a.aB(f)&16777215)<m){U[c]=w&U[c]|Z&x[f]}}}};
j.a.a8Y=function(n,q,p,E,T,i,H){var Z=1/255,w=q.O1(E).O1(i),d=Math.max(0,w.x-q.x),O=Math.max(0,w.x-E.x),W=Math.max(0,w.y-q.y),C=Math.max(0,w.y-E.y),a=w.v,B=w.o,$=new Uint32Array(n.buffer),I=new Uint32Array(p.buffer),x=j.a.hn;
for(var R=0;R<B;R++){var U=(W+R)*q.v+d,N=(C+R)*E.v+O;for(var m=0;m<a;m++,U++,N++){var f=T[U]*H&255;if(f==0)continue;
if(f==255){I[N]=$[U];continue}var c=$[U],D=I[N],z=c>>>24,_=D>>>24,v=j.zp(f*z+(255-f)*_),o=j.zp(z*f),y=j.zp(_*(255-f)),k=c&255,S=c>>>8&255,L=c>>>16&255,X=D&255,s=D>>>8&255,M=D>>>16&255,V=x[v<<8|j.zp(o*k+X*y)],l=x[v<<8|j.zp(o*S+s*y)],e=x[v<<8|j.zp(o*L+M*y)];
I[N]=v<<24|e<<16|l<<8|V}}};j.a.aeb=function(n,q,p,E,T,i,H){var Z=1/255,w=q.O1(E).O1(i),d=Math.max(0,w.x-q.x),O=Math.max(0,w.x-E.x),W=Math.max(0,w.y-q.y),C=Math.max(0,w.y-E.y),a=w.v,B=w.o,$=new Uint32Array(n.buffer),I=new Uint32Array(p.buffer),x=j.a.hn,U=Math.round(H*257);
for(var R=0;R<B;R++){var N=(W+R)*q.v+d,m=(C+R)*E.v+O;for(var f=0;f<a;f++,N++,m++){var c=T[N]*U;if((j.a.aB(N)&65535)<c)I[m]=$[N]}}};
j.a.d3=function(n,q,p,E,T,i,H){var Z=1/255,w=q.O1(E).O1(i),d=Math.max(0,w.x-q.x),O=Math.max(0,w.x-E.x),W=Math.max(0,w.y-q.y),C=Math.max(0,w.y-E.y),a=w.v,B=w.o,$=new Uint32Array(n.buffer),I=new Uint32Array(p.buffer),x=Math.floor(Math.random()*E.P()),U=j.a.abc;
for(var R=0;R<B;R++){var N=(W+R)*q.v+d,m=(C+R)*E.v+O;for(var f=0;f<a;f++){var c=T[N+f]*H;if(c==0)continue;
if(c==255){I[m+f]=$[N+f];continue}var D=$[N+f],z=I[m+f],_=D>>>24,v=z>>>24,o=_*c*(1/255),y=v*(255-c)*(1/255),k=D&255,S=D>>>8&255,L=D>>>16&255,X=z&255,s=z>>>8&255,M=z>>>16&255,V=j.a.aB(m+f+x),l=Math.floor((o+y)*256+.5)+(V>>>0&255)>>>8,e=l==0?0:256/(o+y),Y=k*o+X*y,J=S*o+s*y,G=L*o+M*y,F=Math.floor(Y*e+.5)+(V>>>8&255)>>>8,b=Math.floor(J*e+.5)+(V>>>16&255)>>>8,h=Math.floor(G*e+.5)+(V>>>21&248)>>>8;
I[m+f]=l<<24|h<<16|b<<8|F}}};j.a.abc=function(n){return Math.floor(n+Math.random())};j.a.jG=function(n,q,p,E,T,i,H){var Z=1/255,w=q.O1(E).O1(i),d=Math.max(0,w.x-q.x),O=Math.max(0,w.x-E.x),W=Math.max(0,w.y-q.y),C=Math.max(0,w.y-E.y),a=w.v,B=w.o;
for(var R=0;R<B;R++){var $=(W+R)*q.v+d,I=(C+R)*E.v+O;for(var x=0;x<a;x++,$++,I++){var U=H*T[$]*Z;if(U==0)continue;
if(U==1){p[I]=n[$];continue}p[I]=n[$]*U+p[I]*(1-U)}}};j.sA={};j.sA.ao7=function(n,q,p,E,T,i){j.sA.bQ(n,q,p,E,T,i,null,0)};
j.sA.an9=function(n,q,p,E,T){j.sA.bQ(n,q,p,E,T,null,null,0)};j.sA.am0=function(n,q,p,E,T,i,H){j.sA.bQ(n,q,p,E,T,null,i,H*.5)};
j.sA.bQ=function(n,q,p,E,T,i,H,Z){var w=0,y=0,k=1e9,S=0,L=1e9,X=0,s=1e9,M=0,V=0,l=0,e=0;if(i){w=T*.5;
T=3+Math.round((T-3)*.75)}if(H){T=Math.round(T*2.2)}var d=1/T,O=Math.floor(q*d)+1,W=Math.floor(p*d)+1,C=[],a=new Uint8Array(O*W*4),B=H?.5:1,$=i?64:0;
for(var I=0;I<W;I++){var x=H?.5*(I&1):0;for(var U=0;U<O;U++){var N=(U+Math.random()*B+x)*T,m=(I+Math.random()*B)*T;
C.push(N,m);var f=Math.min(q-1,Math.floor(N)),c=Math.min(p-1,Math.floor(m)),D=(c*q+f)*4,z=(I*O+U)*4;
for(var R=0;R<4;R++)a[z+R]=Math.max(0,Math.min(255,Math.floor(n[D+R]+(Math.random()-.5)*$)))}}var _=i?i:H?H:[0,0,0],v=O*W*2,o=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1];
for(var I=0;I<p;I++){l=0;for(var U=0;U<q;U++){var Y=U+.5,J=I+.5,G=Math.floor(J*d),F=Math.floor(Y*d),b=G*O+F,i4=0,t=0;
if(l>1+Z){k=j.sA.Tf(C,y,Y,J);M=Math.sqrt(k);l--;e++}else{k=L=s=1e9;for(var R=0;R<o.length;R++){var h=(b+o[R])*2;
if(h<0||h>=v)continue;var bj=j.sA.Tf(C,h,Y,J);if(bj<s){if(bj<L){if(bj<k){X=S;s=L;S=y;L=k;y=h;k=bj}else{X=S;
s=L;S=h;L=bj}}else{X=h;s=bj}}}M=Math.sqrt(k);V=Math.sqrt(L);l=V-(M+V)*.5}if(H==null){var aG=(M+V)*.5,Q=i?Math.max(0,aG-w):0;
i4=Math.max(0,Math.min(1,.5+aG-M-Q));t=Math.max(0,Math.min(1,1-(.5+aG-M)-Q))}else{var jd=Math.min(j.sA.gy(C,y,S,Y,J),j.sA.gy(C,y,X,Y,J));
i4=Math.max(0,Math.min(1,jd-Z*.5));if(Y<Z||q-Z<Y||J<Z||p-Z<J)i4=0;t=0}var bP=1-t-i4,z=I*q+U<<2,gz=y<<1,fZ=S<<1;
E[z+0]=Math.floor(.5+i4*a[gz+0]+t*a[fZ+0]+bP*_[0]);E[z+1]=Math.floor(.5+i4*a[gz+1]+t*a[fZ+1]+bP*_[1]);
E[z+2]=Math.floor(.5+i4*a[gz+2]+t*a[fZ+2]+bP*_[2]);E[z+3]=n[z+3]}}};j.sA.Tf=function(n,q,p,E){var T=p-n[q],i=E-n[q+1];
return T*T+i*i};j.sA.gy=function(n,q,p,E,T){var i=n[q],H=n[q+1],Z=n[p],w=n[p+1],d=(i+Z)*.5,O=(H+w)*.5,W=d+(w-H),C=O-(Z-i),a=C-O,B=W-d;
return Math.abs(a*E-B*T+W*O-C*d)/Math.sqrt(B*B+a*a)};j.Lw={};j.Lw.w3=function(n){if(j.Lw.j7.length<n)j.Lw.j7=j.U(n);
return j.Lw.j7};j.Lw.j7=j.U(0);j.Lw.J$=function(n){if(j.Lw.Km.length<n)j.Lw.Km=new Float32Array(n);return j.Lw.Km};
j.Lw.Km=new Float32Array(0);j.Lw.BE=function(n,q,p,E){var T=p.v,i=p.o;j.Lw.alk(n,q,T,i,E)};j.Lw.ut=function(n,q,p,E){var T=p.v,i=p.o;
j.Lw.a6k(n,q,T,i,E)};j.Lw.akE=function(n,q,p){var E=q.v,T=q.o;j.Lw.ac5(n,E,T,p)};j.Lw.zy=function(n,q,p,E,T){var i=p.v,H=p.o;
j.Lw.aop(n,q,i,H,E,T)};j.Lw.jg=function(n,q,p,E){var T=p.v,i=p.o;E=Math.round(E);var H=j.Lw.w3(T*i);
j.Sa(n,q);j.Lw.xF(q,H,T,i,E)};j.Lw.vd=function(n,q,p){var E=q.v,T=q.o;p=Math.round(p);var i=j.Lw.w3(E*T*4);
j.Lw.AS(n,i,E,T,p)};j.Lw.rl=function(n,q,p,E){var T=p.v,i=p.o;E=Math.round(E);var H=j.Lw.J$(T*i);j.Sa(n,q);
j.Lw.IW(q,H,T,i,E)};j.Lw.aC=function(n,q,p){var E=q.v,T=q.o;p=Math.round(p);var i=j.Lw.w3(E*T*4);j.Lw.m9(n,i,E,T,p);
j.Sa(i,n)};j.Lw.mv=function(n,eR){var q=Math.sqrt(12*n*n/eR+1),p=Math.floor(q);if(p%2==0)p--;var E=p+2,T=(12*n*n-eR*p*p-4*eR*p-3*eR)/(-4*p-4),i=Math.round(T),H=[];
for(var R=0;R<eR;R++)H.push(R<i?p:E);return H};j.Lw.alk=function(n,q,p,E,T){var i=j.Lw.mv(T,3),H=j.Lw.w3(p*E);
j.Sa(n,q);j.Lw.xF(q,H,p,E,i[0]-1>>1);j.Lw.xF(q,H,p,E,i[1]-1>>1);j.Lw.xF(q,H,p,E,i[2]-1>>1)};j.Lw.a6k=function(n,q,p,E,T){var i=j.Lw.mv(T,2),H=j.Lw.w3(p*E);
j.Sa(n,q);j.Lw.xF(q,H,p,E,i[0]-1>>1);j.Lw.xF(q,H,p,E,i[1]-1>>1)};j.Lw.ac5=function(n,q,p,E){var T=j.Lw.mv(E,3),i=j.Lw.w3(q*p*4);
j.Lw.AS(n,i,q,p,T[0]-1>>1);j.Lw.AS(n,i,q,p,T[1]-1>>1);j.Lw.AS(n,i,q,p,T[2]-1>>1)};j.Lw.aop=function(n,q,p,E,T,i){if(i==null)i=3;
var H=j.Lw.mv(T,i),Z=j.Lw.J$(p*E);j.Sa(n,q);for(var R=0;R<i;R++)j.Lw.IW(q,Z,p,E,(H[R]-1)/2)};j.Lw.xF=function(n,q,p,E,T){j.Lw.a5w(n,q,p,E,T);
j.Lw.al3(q,n,p,E,T)};j.Lw.AS=function(n,q,p,E,T){j.Lw.m9(n,q,p,E,T);j.Lw.amA(q,n,p,E,T)};j.Lw.IW=function(n,q,p,E,T){j.Lw.akM(n,q,p,E,T);
j.Lw.afA(q,n,p,E,T)};j.Lw.sR=[];j.Lw.ZF=function(n){if(j.Lw.sR[n])return j.Lw.sR[n];var q=1/(n+n+1),p=(n+n+1)*256,E=j.U(p);
for(var R=0;R<p;R++)E[R]=Math.round(R*q);j.Lw.sR[n]=E;return E};j.Lw.a5w=function(n,q,p,E,T){var i=1/(T+T+1),H=p-T-T-1,Z=j.Lw.ZF(T);
for(var R=0;R<E;R++){var w=R*p,d=w,O=w+T,W=n[w],C=n[w+p-1],a=(T+1)*W;for(var B=0;B<T;B++)a+=n[w+B];for(var B=0;
B<=T;B++){a+=n[O+B]-W;q[w+B]=Z[a]}O+=T+1;w+=T+1;for(var B=0;B<H;B++){a+=n[O+B]-n[d+B];q[w+B]=Z[a]}O+=H;
d+=H;w+=H;for(var B=p-T;B<p;B++){a+=C-n[d++];q[w++]=Z[a]}}};j.Lw.m9=function(n,q,p,E,T){var i=p<<2,H=T<<2,Z=1/(T+T+1),w=p-T-T-1,d=w<<2,O=j.Lw.ZF(T);
for(var R=0;R<E;R++){var W=R*i,C=W,a=W+H,B=W+i,$=n[W],I=n[W+1],x=n[W+2],U=n[W+3],N=(T+1)*$,m=(T+1)*I,f=(T+1)*x,c=(T+1)*U;
for(var D=0;D<H;D+=4){N+=n[W+D];m+=n[W+D+1];f+=n[W+D+2];c+=n[W+D+3]}for(var D=0;D<=H;D+=4){N+=n[a]-$;
q[W]=O[N];m+=n[a+1]-I;q[W+1]=O[m];f+=n[a+2]-x;q[W+2]=O[f];c+=n[a+3]-U;q[W+3]=O[c];a+=4;W+=4}for(var D=0;
D<d;D+=4){N+=n[a+D]-n[C+D];q[W+D]=O[N];m+=n[a+D+1]-n[C+D+1];q[W+D+1]=O[m];f+=n[a+D+2]-n[C+D+2];q[W+D+2]=O[f];
c+=n[a+D+3]-n[C+D+3];q[W+D+3]=O[c]}a+=d;C+=d;W+=d;$=n[B-4];I=n[B-3];x=n[B-2];U=n[B-1];for(var D=p-T;
D<p;D++){N+=$-n[C];q[W]=O[N];m+=I-n[C+1];q[W+1]=O[m];f+=x-n[C+2];q[W+2]=O[f];c+=U-n[C+3];q[W+3]=O[c];
C+=4;W+=4}}};j.Lw.akM=function(n,q,p,E,T){var i=1/(T+T+1),H=p-T-T-1;for(var R=0;R<E;R++){var Z=R*p,w=Z,d=Z+T,O=n[Z],W=n[Z+p-1],C=(T+1)*O;
for(var a=0;a<T;a++)C+=n[Z+a];for(var a=0;a<=T;a++){C+=n[d+a]-O;q[Z+a]=C*i}d+=T+1;Z+=T+1;for(var a=0;
a<H;a++){C+=n[d+a]-n[w+a];q[Z+a]=C*i}d+=H;w+=H;Z+=H;for(var a=p-T;a<p;a++){C+=W-n[w++];q[Z++]=C*i}}};
j.Lw.al3=function(n,q,p,E,T){var i=1/(T+T+1),H=E-T-T-1,Z=j.Lw.ZF(T);for(var R=0;R<p;R++){var w=R,d=w,O=w+T*p,W=n[w],C=n[w+p*(E-1)],a=(T+1)*W;
for(var B=0;B<T;B++)a+=n[w+B*p];for(var B=0;B<=T;B++){a+=n[O]-W;q[w]=Z[a];O+=p;w+=p}for(var B=0;B<H;
B++){var $=B*p;a+=n[O+$]-n[d+$];q[w+$]=Z[a]}d+=H*p;O+=H*p;w+=H*p;for(var B=E-T;B<E;B++){a+=C-n[d];q[w]=Z[a];
d+=p;w+=p}}};j.Lw.amA=function(n,q,p,E,T){var i=p<<2,H=T<<2,Z=1/(T+T+1),w=E-T-T-1,d=w<<2,O=j.Lw.ZF(T);
for(var R=0;R<p;R++){var W=R<<2,C=W,a=W+T*i,B=W+i*(E-1),$=n[W],I=n[W+1],x=n[W+2],U=n[W+3],N=(T+1)*$,m=(T+1)*I,f=(T+1)*x,c=(T+1)*U;
for(var D=0;D<T;D++){var z=W+D*i;N+=n[z];m+=n[z+1];f+=n[z+2];c+=n[z+3]}for(var D=0;D<=T;D++){N+=n[a]-$;
q[W]=O[N];m+=n[a+1]-I;q[W+1]=O[m];f+=n[a+2]-x;q[W+2]=O[f];c+=n[a+3]-U;q[W+3]=O[c];a+=i;W+=i}for(var D=0;
D<w;D++){var _=D*i;N+=n[a+_]-n[C+_];q[W+_]=O[N];m+=n[a+_+1]-n[C+_+1];q[W+_+1]=O[m];f+=n[a+_+2]-n[C+_+2];
q[W+_+2]=O[f];c+=n[a+_+3]-n[C+_+3];q[W+_+3]=O[c]}C+=w*i;a+=w*i;W+=w*i;$=n[B];I=n[B+1];x=n[B+2];U=n[B+3];
for(var D=E-T;D<E;D++){N+=$-n[C];q[W]=O[N];m+=I-n[C+1];q[W+1]=O[m];f+=x-n[C+2];q[W+2]=O[f];c+=U-n[C+3];
q[W+3]=O[c];C+=i;W+=i}}};j.Lw.afA=function(n,q,p,E,T){var i=1/(T+T+1),H=E-T-T-1;for(var R=0;R<p;R++){var Z=R,w=Z,d=Z+T*p,O=n[Z],W=n[Z+p*(E-1)],C=(T+1)*O;
for(var a=0;a<T;a++)C+=n[Z+a*p];for(var a=0;a<=T;a++){C+=n[d]-O;q[Z]=C*i;d+=p;Z+=p}for(var a=0;a<H;a++){var B=a*p;
C+=n[d+B]-n[w+B];q[Z+B]=C*i}w+=H*p;d+=H*p;Z+=H*p;for(var a=E-T;a<E;a++){C+=W-n[w];q[Z]=C*i;w+=p;Z+=p}}};
j.c0={};j.c0.U=function(n,q,p,E){var T=[];for(var i=0;i<4;i++)for(var H=0;H<4;H++)T.push(n+p*H/3,q+E*i/3);
return T};j.c0.tW=function(n,q){var p=n.slice(0);for(var R=0;R<4;R++)for(var E=0;E<4;E++){var T=2*(R*4+E),i=2*(E*4+(3-R));
if(q){var H=T;T=i;i=H}p[i]=n[T];p[i+1]=n[T+1]}return p};j.c0.Ds=j.U(0);j.c0.drawImage=function(n,q,p,E,T,i,H){var Z=!1,w=Date.now(),d=2,O=p+2*d,W=E+2*d,C=new eL(d,d,p,E),a=C.clone(),U=50;
a.ZU(d,d);var B=j.c0.Ds;if(B.length!=a.P()*4)B=j.c0.Ds=j.U(a.P()*4);else B.fill(0);j.hk(q,C,B,a);if(Z)console.log(Date.now()-w,"copy rect");
w=Date.now();j.Gy(B);if(Z)console.log(Date.now()-w,"multiply alpha");w=Date.now();var $=[],I=[],x=[];
for(var N=0;N<U+1;N++)for(var m=0;m<U+1;m++){var f=m/U,c=N/U;$.push(O*f,W*c);if(m<U&&N<U){var D=N*(U+1)+m,z=D+1,_=D+U+1,v=_+1;
I.push(D,z,_);I.push(_,z,v)}var o=j.c0.asM(n,f,c);x.push(-o)}var y=$.slice(0);j.c0.B(n,y,new eL(d,d,p,E));
j.O.B(y,new b$(1,0,0,1,-i.x,-i.y),y);if(Z)console.log(Date.now()-w,"mesh built");w=Date.now();var k=i.v,S=i.o;
j.Gr.JS(B,O,W,T,k,S,$,y,x,I);if(Z)console.log(Date.now()-w,"rendered");w=Date.now();j.X8(T);if(Z)console.log(Date.now()-w,"divided");
w=Date.now()};j.c0.gF=new Array(10);j.c0.acC=function(n,q){var p=200,E=0,T=0,i=1e9,H=j.c0.gF;for(var Z=0;
Z<p+1;Z++)for(var w=0;w<p+1;w++){var d=w/p,O=Z/p;j.c0.Ta(n,d,O,H);var W=H[8]-q.x,C=H[9]-q.y,a=W*W+C*C;
if(a<i){i=a;E=d;T=O}}return[E,T]};j.c0.B=function(n,q,p){var E=p.x,T=p.y,i=1/p.v,H=1/p.o,Z=j.c0.gF;for(var w=0;
w<q.length;w+=2){var d=(q[w]-E)*i,O=(q[w+1]-T)*H;j.c0.Ta(n,d,O,Z);q[w]=Z[8];q[w+1]=Z[9]}};j.c0.asM=function(n,q,p){var E,T,i,H,Z=j.c0.gF;
j.c0.a0t(n,q,p,Z);E=Z[8];T=Z[9];j.c0.abC(n,q,p,Z);i=Z[8];H=Z[9];return E*H-T*i};j.c0.Ta=function(n,q,p,E){j.c0.nB(E,0,p);
j.c0.nB(E,4,q);j.c0.gK(n,E)};j.c0.a0t=function(n,q,p,E){j.c0.nB(E,0,p);j.c0.Ee(E,4,q);j.c0.gK(n,E)};
j.c0.abC=function(n,q,p,E){j.c0.Ee(E,0,p);j.c0.nB(E,4,q);j.c0.gK(n,E)};j.c0.Ee=function(n,R,q){var p=1-q;
n[R]=-3*(p*p);n[R+1]=3*(p*p)-6*(q*p);n[R+2]=6*(q*p)-3*(q*q);n[R+3]=3*(q*q)};j.c0.nB=function(n,R,q){var p=1-q;
n[R]=p*(p*p);n[R+1]=3*q*(p*p);n[R+2]=3*(q*q)*p;n[R+3]=q*q*q};j.c0.gK=function(n,q){var p=0,E=0,T=0,i=q[0],H=q[1],Z=q[2],w=q[3],d=q[4],O=q[5],W=q[6],C=q[7];
T=i*d;p+=n[0]*T;E+=n[1]*T;T=i*O;p+=n[2]*T;E+=n[3]*T;T=i*W;p+=n[4]*T;E+=n[5]*T;T=i*C;p+=n[6]*T;E+=n[7]*T;
T=H*d;p+=n[8]*T;E+=n[9]*T;T=H*O;p+=n[10]*T;E+=n[11]*T;T=H*W;p+=n[12]*T;E+=n[13]*T;T=H*C;p+=n[14]*T;E+=n[15]*T;
T=Z*d;p+=n[16]*T;E+=n[17]*T;T=Z*O;p+=n[18]*T;E+=n[19]*T;T=Z*W;p+=n[20]*T;E+=n[21]*T;T=Z*C;p+=n[22]*T;
E+=n[23]*T;T=w*d;p+=n[24]*T;E+=n[25]*T;T=w*O;p+=n[26]*T;E+=n[27]*T;T=w*W;p+=n[28]*T;E+=n[29]*T;T=w*C;
p+=n[30]*T;E+=n[31]*T;q[8]=p;q[9]=E};j.rQ={};j.rQ.al2=function(n,q,p){var E=Date.now(),T=new ArrayBuffer(q*p*16),i=j.rQ.a3a(n,q,p,T),H=j.rQ.a7y(q,p,T);
return{UH:H,Nb:i}};j.rQ.a8r=function(n,q,p){var E=Math.round(n.length/8),T=new Uint32Array(E),i=new Uint8Array(E),H=new Uint32Array(E);
j.nz(T,4294967295,0);T[p]=0;var Z=new bH(E);Z.push(p,T[p]);var w={UH:n,Nb:q,rj:T,gf:i,Ru:H,Q_:Z,ahH:p};
return w};j.rQ.Fl=function(n,q){var p=n.UH,E=n.Nb,T=n.rj,i=n.gf,H=n.Ru,Z=n.Q_;while(!Z.M6()&&(q==null||i[q]==0)){var w=Z.pop();
i[w]=1;for(var R=0;R<8;R++){var d=p[8*w+R],O=w+d;if(d==0||i[O])continue;var W=T[w]+E[8*w+R];if(Z.contains(O)&&W<T[O])Z.remove(O,T[O]);
if(!Z.contains(O)){T[O]=W;H[O]=w;Z.push(O,T[O])}}}};function bH(n){this._W=new Uint32Array(n);this.list=[];
this.l4=0;this.eI=4294967295}bH.prototype.M6=function(){return this.l4==0};bH.prototype.push=function(n,q){var p=this.list;
if(p[q]==null)p[q]=[];p[q].push(n);this.l4++;this._W[n]=p[q].length-1+1;this.eI=Math.min(this.eI,q)};
bH.prototype.pop=function(){this.l4--;var n=this.list,q=this.eI,p=n[q].pop();if(n[q].length==0)n[q]=null;
this.Xw();this._W[p]=0;return p};bH.prototype.contains=function(n){return this._W[n]!=0};bH.prototype.remove=function(n,q){this.l4--;
var p=this.list,R=this._W[n]-1;if(R==p[q].length-1)p[q].pop();else{var E=p[q].pop();p[q][R]=E;this._W[E]=R+1}if(p[q].length==0)p[q]=null;
this._W[n]=0;this.Xw()};bH.prototype.Xw=function(){if(this.l4==0){this.eI=4294967295;return}var n=this.eI,q=this.list;
while(q[n]==null)n++;this.eI=n};j.rQ.a6l=function(n,q,p,E){var T=new Int16Array(E);for(var i=0;i<p;i++)for(var H=0;
H<q;H++){var R=i*q+H,Z=0;if(1<H&&H<q-2&&1<i&&i<p-2){Z+=n[R-q-q];Z+=n[R-q-1]+2*n[R-q]+n[R-q+1];Z+=n[R-2]+2*n[R-1]-16*n[R]+2*n[R+1]+n[R+2];
Z+=n[R+q-1]+2*n[R+q]+n[R+q+1];Z+=n[R+q+q]}else Z=-16*n[R];T[R]=Z}return T};j.rQ.aol=function(n,q,p,E){if(E==null)E=128;
var T=new Uint8Array(q*p);for(var i=1;i<p-1;i++)for(var H=1;H<q-1;H++){var R=i*q+H;T[R]=j.rQ.aaZ(n[R],n[R-1],n[R+1],n[R-q],n[R+q],E)}return T};
j.rQ.aaZ=function(n,q,p,E,T,i){var H=Math.abs(n);return n*q<0&&H<Math.abs(q)&&Math.abs(q-n)>i||n*p<0&&H<Math.abs(p)&&Math.abs(p-n)>i||n*E<0&&H<Math.abs(E)&&Math.abs(E-n)>i||n*T<0&&H<Math.abs(T)&&Math.abs(T-n)>i?1:0};
j.rQ.agN=function(n,q,p,E){var T=new Float32Array(E),i=0;new Uint32Array(E).fill(0);for(var H=0;H<p;
H++)for(var Z=0;Z<q;Z++){var w=0,d=0,R=H*q+Z,O=R*3;if(0<Z&&Z<q-1)w=n[R+1]-n[R-1];if(0<H&&H<p-1)d=n[R+q]-n[R-q];
var W=T[O+2]=Math.sqrt(w*w+d*d);if(W!=0){var C=1/W;T[O]=w*C;T[O+1]=d*C}if(W>i)i=W}var a=q*p,B=i==0?0:1/i;
for(var R=0;R<a;R++)T[R*3+2]=1-T[R*3+2]*B;return T};j.rQ.a2$=function(n,q,p){return p[~~((.5+.5*n)*255)]+p[~~((.5+.5*q)*255)]};
j.rQ.a3a=function(n,q,p,E){var T=Date.now(),i=j.rQ.a6l(n,q,p,E),H=j.rQ.aol(i,q,p),Z=j.rQ.agN(n,q,p,E),w=new Float32Array(256);
for(var R=0;R<256;R++)w[R]=Math.acos(-1+2*R/255)*(.95/Math.PI);var d=[-1,0,1,1,1,0,-1,-1],O=[-1,-1,-1,0,1,1,1,0];
for(var R=0;R<8;R++){var W=1/Math.sqrt(d[R]*d[R]+O[R]*O[R]);d[R]*=W;O[R]*=W}var C=[d[0],O[0],d[1],O[1],d[2],O[2],d[3],O[3]],a=[-q-1,-q,-q+1,1],B=new Uint8Array(q*p*8);
new Uint32Array(B.buffer).fill(4294967295);var $=q*p;for(var I=1;I<p-1;I++)for(var x=1;x<q-1;x++){var U=I*q+x,N=1-H[U],m=Z[U*3+2],f=Z[3*U+1],c=-Z[3*U];
for(var D=0;D<4;D++){var z=U+a[D];j.rQ.a2S(U,z,D,B,H,Z,N,m,f,c,C,w)}}return B};j.rQ.a2S=function(n,q,p,E,T,i,H,Z,w,d,O,W){var C=1-T[q],a=(p&1)==0?1:Math.SQRT1_2,B=i[q*3+2]*a,$=i[3*q+1],I=-i[3*q],x=Z*a,U=O[p+p],N=O[p+p+1],m=w*U+d*N,f=$*U+I*N;
if(m+f<0){m=-m;f=-f}var c=j.rQ.a2$(m,f,W);E[(n<<3)+p]=j.rQ.fn(C,c,B);E[(q<<3)+p+4]=j.rQ.fn(H,c,x)};j.rQ.fn=function(n,q,p){return 1+~~(.5+20*(.43*n+.43*q+.14*p))};
j.rQ.a7y=function(n,q,p){var E=new Int16Array(p),T=E,R=0,i=0;new Uint32Array(p).fill(0);for(var H=0;
H<q;H++)for(var Z=0;Z<n;Z++){if(H>0&&Z>0)T[i+0]=-n-1;if(H>0)T[i+1]=-n;if(H>0&&Z<n-1)T[i+2]=-n+1;if(Z<n-1)T[i+3]=1;
if(H<q-1&&Z<n-1)T[i+4]=n+1;if(H<q-1)T[i+5]=n;if(H<q-1&&Z>0)T[i+6]=n-1;if(Z>0)T[i+7]=-1;R++;i+=8}return E};
j.wn={};j.wn.Jz=function(n){var q=n.slice(0),p=0;for(var R=0;R<n.length;R++)p+=n[R];for(var R=0;R<n.length;
R++)q[R]/=p;return q};j.wn.W$=[j.wn.Jz([1,2,1,2,16,2,1,2,1]),j.wn.Jz([1,2,1,2,4,2,1,2,1]),j.wn.Jz([0,-1,0,-1,8,-1,0,-1,0]),j.wn.Jz([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
j.wn.W4=function(n,q,p,E,T,i,H,Z){if(H==null)H=!1;if(Z==null)Z=!1;var w=Math.floor(Math.sqrt(T.length)),d=w-1>>>1,O=new Uint32Array(n.buffer),q=new Uint8ClampedArray(q.buffer);
for(var R=0;R<E;R++)for(var W=0;W<p;W++){var C=0,a=0,B=0,$=0;for(var I=0;I<w;I++)for(var x=0;x<w;x++){var U=T[I*w+x];
if(U==0)continue;var N=W-d+x,m=R-d+I;if(N<0)N=0;else if(N>p-1)N=p-1;if(m<0)m=0;else if(m>E-1)m=E-1;if(Z&&O[m*p+N]>>>24==0){m=R;
N=W}var f=O[m*p+N];C+=(f&255)*U;a+=(f>>>8&255)*U;B+=(f>>>16&255)*U;$+=(f>>>24&255)*U}if(H){if(C<0)C=-C;
if(a<0)a=-a;if(B<0)B=-B;if($<0)$=-$}if(Z){C=Math.max(0,Math.min(255,C));a=Math.max(0,Math.min(255,a));
B=Math.max(0,Math.min(255,B));$=Math.max(0,Math.min(255,$))}var c=R*p+W<<2;q[c]=~~(.5+C);q[c+1]=~~(.5+a);
q[c+2]=~~(.5+B);q[c+3]=255-i&q[c+3]|i&~~(.5+$)}};j.wn.wc=function(n,q,p,E){var T=n.length,i=new Uint8Array(T);
j.wn.W4(n,q,p,E,j.wn.W$[4],0,!0);j.wn.W4(n,i,p,E,j.wn.W$[5],0,!0);for(var R=0;R<T;R+=4){var H=q[R],Z=q[R+1],w=q[R+2],d=q[R+3],O=i[R],W=i[R+1],C=i[R+2],a=i[R+3];
q[R]=255-Math.max(0,Math.min(255,Math.sqrt(H*H+O*O)));q[R+1]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+W*W)));
q[R+2]=255-Math.max(0,Math.min(255,Math.sqrt(w*w+C*C)))}};j.wn.Sq=function(n,q,p,E){var T=n.length,i=new Uint8Array(T);
j.wn.t4(n,q,p,E,j.wn.W$[4],!0);j.wn.t4(n,i,p,E,j.wn.W$[5],!0);for(var R=0;R<T;R++){var H=q[R],Z=i[R];
q[R]=255-Math.max(0,Math.min(255,Math.sqrt(H*H+Z*Z)))}};j.wn.t4=function(n,q,p,E,T,i){q=new Uint8ClampedArray(q.buffer);
var H=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1],Z=E-1,w=p-1;for(var R=1;R<Z;R++)for(var d=1;d<w;d++){var O=R*p+d,W=j.wn.Bk(n,O,p,T);
if(i){if(W<0)W=-W}q[O]=~~(W+.5)}};j.wn.Bk=function(n,q,p,E){return n[q-p-1]*E[0]+n[q-p]*E[1]+n[q-p+1]*E[2]+n[q-1]*E[3]+n[q]*E[4]+n[q+1]*E[5]+n[q+p-1]*E[6]+n[q+p]*E[7]+n[q+p+1]*E[8]};
j.wn.rK=function(n,q,p,E,T){var i=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1],H=E-1,Z=p-1;for(var R=1;R<H;R++)for(var w=1;
w<Z;w++){var d=R*p+w;q[d]=j.wn.amd(n,d,p,T)}};j.wn.amd=function(n,q,p,E){return n[q-p-1]*E[0]+n[q-p]*E[1]+n[q-p+1]*E[2]+n[q-1]*E[3]+n[q]*E[4]+n[q+1]*E[5]+n[q+p-1]*E[6]+n[q+p]*E[7]+n[q+p+1]*E[8]};
j.gb={};j.gb.oB=function(){function n(H,Z,w,d,O,W,C){if(O==0){Z.set(H);return}var a=j.U(w*d),B=j.U(w*d);
if(j.yz(H)){q(H,Z,w,d,O,W,C);var $=[j.gb.YW,j.gb.bq],I=$.indexOf(W),x=I!=-1?$[1-I]:W;j.J2(H,a,3);j.gb.qD(a,B,w,d,O,x,C);
j.yI(B,Z,3)}else{for(var R=0;R<3;R++){j.J2(H,a,R);j.gb.qD(a,B,w,d,O,W,C);j.yI(B,Z,R)}}}function q(H,Z,w,d,O,W,C){var a=0,B=new ArrayBuffer(512*4*3),$=[new Int32Array(B,0),new Int32Array(B,2048),new Int32Array(B,2*2048)],I=1+2*Math.round(Math.sqrt(O)),x=I>>>1,U=new Array(I),N=new Array(I);
for(var R=0;R<I;R++){var B=new ArrayBuffer(512*4*3);U[R]=[new Int32Array(B,0),new Int32Array(B,2048),new Int32Array(B,2*2048)];
N[R]=U[R][0]}var m=W[0],f=W[1],c=$[0];for(var D=0;D<w;D++)if(D<O||D>w-O-I-1){c.fill(0);var z=Math.max(D-O,0),_=Math.min(w,D+O+1),v=_-z;
for(var o=0;o<O;o++)E(c,H,o*w+z,o*w+_,1);for(var o=0;o<d;o++){var y=o-O-1,k=o+O;if(k<d)E(c,H,k*w+z,k*w+_,1);
if(y>=0)E(c,H,y*w+z,y*w+_,-1);var S=o*w+D<<2;a=c[300];if(a!=0)for(var R=0;R<3;R++)Z[S+R]=m($[R],H[S+R],a,C)}}else{for(var R=0;
R<I;R++)N[R].fill(0);var z=D-O+x,_=D+O+1+x;for(var o=0;o<O;o++)p(N,H,o*w+z,o*w+_,1,x);for(var o=0;o<d;
o++){var y=o-O-1,k=o+O;if(y>=0)p(N,H,y*w+z,y*w+_,-1,x);if(k<d)p(N,H,k*w+z,k*w+_,1,x);var L=U[x];a=L[0][300];
for(var R=0;R<x;R++){var X=x-1-R,s=x+1+R,M=U[X],V=U[s],l=a+M[0][300],e=a+V[0][300],Y=o*w+D+X<<2,J=o*w+D+s<<2;
if(l!=0)for(var G=0;G<3;G++)Z[Y+G]=f(L[G],M[G],H[Y+G],l,C);if(e!=0)for(var G=0;G<3;G++)Z[J+G]=f(L[G],V[G],H[J+G],e,C)}var S=o*w+D+x<<2;
if(a!=0)for(var G=0;G<3;G++)Z[S+G]=m(L[G],H[S+G],a,C)}D+=I-1}}function p(H,Z,w,d,O,W){var C=T,a=w<<2,B=d<<2;
C(H[W-1],Z,w-1<<2,O);C(H[W-1],Z,d-1<<2,-O);C(H[W+1],Z,d<<2,O);C(H[W+1],Z,w<<2,-O);for(var R=1;R<W;R++){var $=H[W-R-1],I=H[W+R+1];
for(var x=0;x<=R;x++){var U=x<<2;C($,Z,w-1-x<<2,O);C($,Z,d-1-x<<2,-O);C(I,Z,d+x<<2,O);C(I,Z,w+x<<2,-O)}}E(H[W],Z,w,d,O)}function E(H,Z,R,w,d){var O=R<<2,W=w<<2;
while(O<W){T(H,Z,O,d);O+=4}}function T(H,Z,w,d){var O=d*Z[w+3];H[300]+=O;i(H,Z[w],0,O);i(H,Z[w+1],512,O);
i(H,Z[w+2],1024,O)}function i(H,Z,w,d){H[w|Z]+=d;H[w|256|Z>>>4]+=d}return n}();j.gb.qD=function(){function n(W,C,a,B,$,I,x){if($==0){C.set(W);
return}if($<=80)q(W,C,a,B,$,I,x);else i(W,C,a,B,$,I,x)}function q(W,C,a,B,$,I,x){var U=0,N=new Int32Array(512),m=1+2*Math.round(Math.sqrt($)),f=m>>>1,c=new Array(m);
for(var R=0;R<m;R++)c[R]=new Int32Array(512);var D=I[0],z=I[1];for(var _=0;_<a;_++)if(_<$||_>a-$-m-1){N.fill(0);
U=0;var v=Math.max(_-$,0),o=Math.min(a,_+$+1),y=o-v;for(var k=0;k<$;k++){U+=y;E(N,W,k*a+v,k*a+o,1)}for(var k=0;
k<B;k++){var S=k-$-1,L=k+$;if(S>=0){U-=y;E(N,W,S*a+v,S*a+o,-1)}if(L<B){U+=y;E(N,W,L*a+v,L*a+o,1)}var X=D(N,W[k*a+_],U,x);
C[k*a+_]=X}}else{for(var R=0;R<m;R++)c[R].fill(0);U=0;var v=_-$+f,o=_+$+1+f,y=o-v;for(var k=0;k<$;k++){U+=y;
p(c,W,k*a+v,k*a+o,1,f)}for(var k=0;k<B;k++){var S=k-$-1,L=k+$;if(S>=0){U-=y;p(c,W,S*a+v,S*a+o,-1,f)}if(L<B){U+=y;
p(c,W,L*a+v,L*a+o,1,f)}for(var R=0;R<f;R++){var s=f-1-R,M=f+1+R;C[k*a+_+s]=z(c[f],c[s],W[k*a+_+s],U,x);
C[k*a+_+M]=z(c[f],c[M],W[k*a+_+M],U,x)}C[k*a+_+f]=D(c[f],W[k*a+_+f],U,x)}_+=m-1}}function p(W,C,a,B,$,I){var x=T;
x(W[I-1],C[a-1],0,$);x(W[I-1],C[B-1],0,-$);x(W[I+1],C[B],0,$);x(W[I+1],C[a],0,-$);for(var R=1;R<I;R++){var U=W[I-R-1],N=W[I+R+1];
for(var m=0;m<=R;m++){x(U,C[a-1-m],0,$);x(U,C[B-1-m],0,-$);x(N,C[B+m],0,$);x(N,C[a+m],0,-$)}}E(W[I],C,a,B,$)}function E(W,C,R,a,B){while(R<a)T(W,C[R++],0,B)}function T(W,C,a,B){W[a|C]+=B;
W[a|256|C>>>4]+=B}function i(W,C,a,B,$,I,x){var U=0,N=new Int32Array(512),m=new Int32Array(1*a),f=new Int32Array(512*a),c=Math.min($,a),D=Math.min($,B),z=I[0];
for(var _=0;_<D;_++)H(f,m,W,a,_,1);for(var _=0;_<B;_++){if(_+$<B)H(f,m,W,a,_+$,1);if(_-$-1>=0)H(f,m,W,a,_-$-1,-1);
N.fill(0);U=0;for(var v=0;v<c;v++){U+=m[v];Z(N,f,v)}for(var v=0;v<a;v++){var o=v-$-1,y=v+$;if(o>=0&&m[o]!=0){U-=m[o];
w(N,f,o)}if(y<a&&m[y]!=0){U+=m[y];Z(N,f,y)}var k=U==0?0:z(N,W[_*a+v],U,x);C[_*a+v]=k}}}function H(W,C,a,B,$,I){var R=$*B;
for(var x=0;x<B;x++){T(W,a[R+x],x<<9,I);C[x]+=I}}function Z(W,C,a){for(var R=0;R<16;R++){var B=C[a<<9|256|R];
if(B==0)continue;W[256|R]+=B;var $=R<<4,I=a<<9|$;d(W,C,$,I);d(W,C,$+4,I+4);d(W,C,$+8,I+8);d(W,C,$+12,I+12)}}function w(W,C,a){for(var R=0;
R<16;R++){var B=C[a<<9|256|R];if(B==0)continue;W[256|R]-=B;var $=R<<4,I=a<<9|$;O(W,C,$,I);O(W,C,$+4,I+4);
O(W,C,$+8,I+8);O(W,C,$+12,I+12)}}function d(W,C,a,B){W[a]+=C[B];W[a+1]+=C[B+1];W[a+2]+=C[B+2];W[a+3]+=C[B+3]}function O(W,C,a,B){W[a]-=C[B];
W[a+1]-=C[B+1];W[a+2]-=C[B+2];W[a+3]-=C[B+3]}return n}();j.gb.bq=[function(n,q,p,E){var R=15;while(n[256|R]==0&&R>0)R--;
R=(R<<4)+15;while(n[R]==0&&R>0)R--;return R},function(n,q,p,E,T){var R=15;while(n[256|R]+q[256|R]==0&&R>0)R--;
R=(R<<4)+15;while(n[R]+q[R]==0&&R>0)R--;return R}];j.gb.YW=[function(n,q,p,E){var R=0;while(n[256|R]==0&&R<15)R++;
R=R<<4;while(n[R]==0&&R<255)R++;return R},function(n,q,p,E,T){var R=0;while(n[256|R]+q[256|R]==0&&R<15)R++;
R=R<<4;while(n[R]+q[R]==0&&R<255)R++;return R}];j.gb.Fa=.5;j.gb.UZ=[function(n,q,p,E){var T=~~(.5+j.gb.Fa*p),i=0,R=256;
while(i+n[R]<=T)i+=n[R++];R=R-256<<4;while(i<=T)i+=n[R++];return R-1},function(n,q,p,E,T){var i=~~(.5+j.gb.Fa*E),H=0,R=256;
while(H+n[R]+q[R]<=i){H+=n[R]+q[R];R++}R=R-256<<4;while(H<=i){H+=n[R]+q[R];R++}return R-1}];j.gb.oX=[function(n,q,p,E){var T=E[0],i=0,H=0,R=Math.max(0,q-T),Z=Math.min(256,q+T+1);
while(R<Z){var w=n[R];i+=R*w;H+=w;R++}return H==0?0:i/H},function(n,q,p,E,T){var i=T[0],H=0,Z=0,R=Math.max(0,p-i),w=Math.min(256,p+i+1);
while(R<w){var d=n[R]+q[R];H+=R*d;Z+=d;R++}return Z==0?0:H/Z}];j.V={};j.V.hm=function(n){var q=A.Z.ZA(n.Trnf),p=n.Sz.v,E=j.V.EY(q,new eL(0,0,p.Wdth.v,p.Hght.v));
return j.V.RE(E)};j.V.EY=function(n,q){var p=n[0],E=n[1],T=n[2],i=n[3],H=n[6],Z=n[7],w=n[4],d=n[5],O=0,W=0,C=1,a=0,B=0,$=1,I=1,x=1;
if(q){O=q.x;W=q.y;C=q.x+q.v;a=q.y;B=q.x;$=q.y+q.o;I=q.x+q.v;x=q.y+q.o}return j.V.z0(n,[O,W,C,a,I,x,B,$])};
j.V.z0=function(n,q){var p=n[0],E=n[1],T=n[2],i=n[3],H=n[6],Z=n[7],w=n[4],d=n[5],O=q[0],W=q[1],C=q[2],a=q[3],B=q[6],$=q[7],I=q[4],x=q[5],U=[[O,W,1,0,0,0,-O*p,-W*p,p],[0,0,0,O,W,1,-O*E,-W*E,E],[C,a,1,0,0,0,-C*T,-a*T,T],[0,0,0,C,a,1,-C*i,-a*i,i],[B,$,1,0,0,0,-B*H,-$*H,H],[0,0,0,B,$,1,-B*Z,-$*Z,Z],[I,x,1,0,0,0,-I*w,-x*w,w],[0,0,0,I,x,1,-I*d,-x*d,d]],N=[0,0,0,0,0,0,0,0],m=j.Oc.TD(U,N);
if(m!=0)N=[0,0,0,0,0,0,0,0];return N};j.V.xV=function(n){return Math.abs(n[6])<1e-10&&Math.abs(n[7])<1e-10};
j.V.RE=function(n){return new b$(n[0],n[3],n[1],n[4],n[2],n[5])};j.V.fa=function(n){return[n.jS,n.kr,n.R_,n.X,n.FF,n.so,0,0]};
j.V.B=function(n,q){var p=new Float64Array(2);for(var E=0;E<q.length;E+=2){var T=q[E],i=q[E+1];j.V.vW(T,i,n,p);
q[E]=p[0];q[E+1]=p[1]}};j.V.vW=function(n,q,p,E){var T=1/(p[6]*n+p[7]*q+1);E[0]=(p[0]*n+p[1]*q+p[2])*T;
E[1]=(p[3]*n+p[4]*q+p[5])*T};j.V.Mj=function(n,q){var p=new Float64Array(2);j.V.vW(q.x,q.y,n,p);return new fc(p[0],p[1])};
j.V.O5=function(n,q,p,E){n=new Uint32Array(n.buffer);q=new Uint32Array(q.buffer);for(var T=0;T<E;T++){for(var i=0;
i<p;i++){q[i*E+T]=n[T*p+i]}}};j.V.ajS=function(n,q,p,E){n=new Uint32Array(n.buffer);q=new Uint32Array(q.buffer);
for(var T=0;T<E;T++){for(var i=0;i<p;i++){q[T*p+i]=n[T*p+p-1-i]}}};j.V.HQ=function(n){return Math.abs(n[6])<1e-9&&Math.abs(n[7])<1e-9};
j.V.kG=function(n){return Math.abs(n[0])<1e-9&&Math.abs(n[4])<1e-9||Math.abs(n[1])<1e-9&&Math.abs(n[3])<1e-9};
j.V.drawImage=function(n,q,p,E,T,i,H,Z,w){if(H==null)H=!1;if(Z==null)Z=!1;var d=j.V.z3(n),O=!0,W=0,C=1/Math.sqrt(Math.abs(n[0]/p*n[4]/E-n[1]/p*n[3]/E));
for(var R=0;R<8;R++){var a=Math.round(n[R]);if(R!=2&&R!=5)W+=Math.abs(a);if(Math.abs(a-n[R])>1e-9)O=!1}var B=j.V.HQ(n),$=j.V.kG(n)&&B,I=$?1:0;
if(H||O&&W==p+E&&B){j.V.a0q(d,q,p,E,T,i,Z,B,w);return}var x=i.v,U=i.o,N=new Float64Array(2);T=new Uint32Array(T.buffer);
q=new Uint32Array(q.buffer);for(var m=0;m<U;m++)for(var f=0;f<x;f++){var c=m*x+f,D,z,_,v,F=0,b=0,h=0,bj=0;
T[c]=0;var o=f+i.x+.5,y=m+i.y+.5;D=o;z=y;_=d;v=1/(_[6]*D+_[7]*z+1);var k=(_[0]*D+_[1]*z+_[2])*v,S=(_[3]*D+_[4]*z+_[5])*v,L=k*p,X=S*E,s=L<-1||L>p+1||X<-1||X>E+1;
if(Z){L=Math.max(.001,Math.min(p-1,L));X=Math.max(.001,Math.min(E-1,X))}else if(s)continue;var M=C;if(!B){var V=0,l=0;
_=n;D=k+1/p;z=S;v=1/(_[6]*D+_[7]*z+1);V=(_[0]*D+_[1]*z+_[2])*v-o;l=(_[3]*D+_[4]*z+_[5])*v-y;var e=V*V+l*l;
D=k;z=S+1/E;v=1/(_[6]*D+_[7]*z+1);V=(_[0]*D+_[1]*z+_[2])*v-o;l=(_[3]*D+_[4]*z+_[5])*v-y;var Y=V*V+l*l;
M=1/Math.sqrt(Math.max(e,Y))}if(M<1.1){j.V.ET(L,X,q,p,E,T,c,I);continue}var J=Math.round(M*2.3);if(!Z&&(L<.6||L>p-.6||X<.6||X>E-.6)){J=Math.max(J,5)}if(Z&&s)J=1;
var G=1/J,i4=i.x+f,t=i.y+m;_=d;for(var R=0;R<J;R++)for(var aG=0;aG<J;aG++){D=i4+(R+.5)*G;z=t+(aG+.5)*G;
v=1/(_[6]*D+_[7]*z+1);var L=(_[0]*D+_[1]*z+_[2])*v,X=(_[3]*D+_[4]*z+_[5])*v;if(Z){L=Math.max(.001,Math.min(.999,L));
X=Math.max(.001,Math.min(.999,X))}else if(L<0||L>=1||X<0||X>=1)continue;L=Math.floor(L*p);X=Math.floor(X*E);
var Q=X*p+L,jd=q[Q],bP=jd>>>24;F+=(jd&255)*bP;b+=(jd>>>8&255)*bP;h+=(jd>>>16&255)*bP;bj+=bP}if(bj!=0){var gz=1/bj;
F=~~(F*gz+.5);b=~~(b*gz+.5);h=~~(h*gz+.5);bj=~~(bj*G*G+.5);T[c]=bj<<24|h<<16|b<<8|F}}};j.V.a0q=function(n,q,p,E,T,i,H,Z,w){if(Z&&!H&&i.P()>4e6&&w){j.V.aml(n,q,p,E,T,i,H,Z,w);
return}var d=i.x+i.v,O=i.y+i.o,W=0,C=new Uint32Array(T.buffer),a=new Uint32Array(q.buffer),B=n[0]*p,$=n[1]*p,I=n[2]*p,x=n[3]*E,U=n[4]*E,N=n[5]*E,m=n[6],f=n[7];
if(Z&&!H)for(var c=i.y+.5;c<O;c++)for(var D=i.x+.5;D<d;D++){var z=B*D+$*c+I,_=x*D+U*c+N;if(0<z&&z<p&&0<_&&_<E){var v=~~_*p+~~z;
C[W]=a[v]}else C[W]=0;W++}else for(var c=i.y+.5;c<O;c++)for(var D=i.x+.5;D<d;D++){var o=1/(m*D+f*c+1),z=(B*D+$*c+I)*o,_=(x*D+U*c+N)*o;
if(H){z=Math.max(.001,Math.min(p-1,z));_=Math.max(.001,Math.min(E-1,_))}if(0<z&&z<p&&0<_&&_<E){var v=Math.floor(_)*p+Math.floor(z);
C[W]=a[v]}else C[W]=0;W++}};j.V.aml=function(n,q,p,E,T,i,H,Z,w){var d=new Uint32Array(T.buffer),O=new Uint32Array(q.buffer),f=0;
if(w&&(i.v&3)!=0)throw"e";var W=n[0]*p,C=n[1]*p,a=n[2]*p,B=n[3]*E,$=n[4]*E,I=n[5]*E,x=n[6],U=n[7],N=i.v,m=i.o,c=i.x+.5,D=i.y+.5,z=(N>>>2<<2)-1e-9,_=-.1+(m>>>1<<1)-1e-9,v=~~p,o=W==0?0:1/W,y=B==0?0:1/B;
for(var k=0;k<m;k++){var S=c*W+C*(k+D)+a,L=c*B+$*(k+D)+I,X=0,s=N;if(W==0){}else if(o>0){X=Math.max(X,-S*o);
s=Math.min(s,(p-S)*o)}else{s=Math.min(s,-S*o);X=Math.max(X,(p-S)*o)}if(B==0){}else if(y>0){X=Math.max(X,-L*y);
s=Math.min(s,(E-L)*y)}else{s=Math.min(s,-L*y);X=Math.max(X,(E-L)*y)}if(s<0)s=0;if(X>s)X=s;X=Math.ceil(X);
s=~~s;f=~~(k*N);for(var M=0;M<X;M++)d[f++]=0;for(var M=X;M<s;M+=4){var V=W*M+S,l=B*M+L,e=~~l*v+~~V;d[f++]=d[f++]=d[f++]=d[f++]=O[e]}for(var M=s;
M<N;M++)d[f++]=0}};j.V.z3=function(n){var q=n[4]-n[5]*n[7],p=n[2]*n[7]-n[1],E=n[1]*n[5]-n[2]*n[4],T=n[5]*n[6]-n[3],i=n[0]-n[2]*n[6],H=n[3]*n[2]-n[0]*n[5],Z=n[3]*n[7]-n[4]*n[6],w=n[1]*n[6]-n[0]*n[7],d=1/(n[0]*n[4]-n[1]*n[3]);
return[q*d,p*d,E*d,T*d,i*d,H*d,Z*d,w*d]};j.V.LT=function(n,q){var p=n[0],E=n[1],T=n[2],i=n[3],H=n[4],Z=n[5],w=n[6],d=n[7],O=q[0],W=q[1],C=q[2],a=q[3],B=q[4],$=q[5],U=q[6],N=q[7],m=[p*O+E*a+T*U,p*W+E*B+T*N,p*C+E*$+T,i*O+H*a+Z*U,i*W+H*B+Z*N,i*C+H*$+Z,w*O+d*a+U,w*W+d*B+N],f=1/(w*C+d*$+1);
for(var R=0;R<8;R++)m[R]*=f;return m};j.V.ET=function(n,q,p,E,T,i,H,Z){var w=n,d=q,C=0,a=0,B=0,$=0;n-=.499999;
q-=.499999;var O=Math.floor(n),W=Math.floor(q);if(Z==0){var R=W*E+O,I=O>=0&&O<E,x=O+1>=0&&O+1<E,U=W>=0&&W<T,N=W+1>=0&&W+1<T;
if(I&&U)C=p[R];if(x&&U)a=p[R+1];if(I&&N)B=p[R+E];if(x&&N)$=p[R+E+1]}else if(Z==1){var m=O<0?0:O>E-1?E-1:O,f=O<-1?0:O>E-2?E-1:O+1,c=W<0?0:W>T-1?T-1:W,D=W<-1?0:W>T-2?T-1:W+1;
C=p[c*E+m];a=p[c*E+f];B=p[D*E+m];$=p[D*E+f]}else{var m=(O+50*E)%E,f=(O+50*E)%E,c=(W+50*T)%T,D=(W+50*T)%T;
C=p[c*E+m];a=p[c*E+f];B=p[D*E+m];$=p[D*E+f]}var z=n-O,_=q-W,v=(1-_)*(1-z)*(C>>>24),o=(1-_)*z*(a>>>24),y=_*(1-z)*(B>>>24),k=_*z*($>>>24),S=v+o+y+k,L=v*(C&255)+o*(a&255)+y*(B&255)+k*($&255),X=v*(C>>>8&255)+o*(a>>>8&255)+y*(B>>>8&255)+k*($>>>8&255),s=v*(C>>>16&255)+o*(a>>>16&255)+y*(B>>>16&255)+k*($>>>16&255);
if(S==0)i[H]=0;else{var M=1/S;L=~~(L*M+.5);X=~~(X*M+.5);s=~~(s*M+.5);S=~~(S+.5);i[H]=S<<24|s<<16|X<<8|L}};
j.V.VU=function(n,q,p,E,T,i){var H=n-.499999,Z=q-.499999,w=~~H,d=~~Z,O=H-w,W=Z-d,C=(1-W)*(1-O),a=(1-W)*O,B=W*(1-O),$=W*O,I=d*E+w<<2,x=(d+1)*E+w<<2,U=C*p[I]+a*p[I+4]+B*p[x]+$*p[x+4],N=C*p[I+1]+a*p[I+5]+B*p[x+1]+$*p[x+5],m=C*p[I+2]+a*p[I+6]+B*p[x+2]+$*p[x+6],f=C*p[I+3]+a*p[I+7]+B*p[x+3]+$*p[x+7];
i[0]=U;i[1]=N;i[2]=m;i[3]=f};j.V.NI=function(n,q,p,E,T){n-=.499999;q-=.499999;var i=Math.floor(n),H=Math.floor(q),Z=n-i,w=q-H,d=(1-w)*(1-Z),O=(1-w)*Z,W=w*(1-Z),C=w*Z,a=(i+50*E)%E,B=(i+1+50*E)%E,$=(H+50*T)%T,I=(H+1+50*T)%T,x=p[$*E+a],U=p[$*E+B],N=p[I*E+a],m=p[I*E+B];
if(x==null||m==null)throw"e";return d*x+O*U+W*N+C*m};j.V.L2=function(n,q,p,E,T,i,H,Z,w,d,O,W){var C=new Uint32Array(n.buffer),a=new Uint32Array(E.buffer),B=(1+2*d)/T,$=[],I=[];
for(var x=0;x<T;x++){var U=-.25+d-x*B;$.push(Math.cos(2*Math.PI*U)*W/O);$.push(Math.sin(2*Math.PI*U)/O)}H*=q;
Z*=p;for(var N=0;N<i;N++){var m=Math.pow(N/i,w)*i;for(var x=0;x<T;x++){var f=H+$[x<<1]*m,c=Z+$[(x<<1)+1]*m,D=~~(.5+(f<0?0:f>q-1?q-1:f)),z=~~(.5+(c<0?0:c>p-1?p-1:c));
a[N*T+x]=C[z*q+D]}}};j.V.q_=function(n,q,p,E,T,i,H,Z,w,d,O,W){var C=new Uint32Array(n.buffer),a=new Uint32Array(E.buffer),B=1/W,$=[],I=p*4,x=1/I;
for(var U=0;U<I;U++)$.push(Math.pow(U*x,1/w)*p*O);H*=T;Z*=i;for(var U=0;U<i;U++)for(var N=0;N<T;N++){var m=B*(N-H),f=U-Z,c=1.75-Math.atan2(f,m)*(1/(2*Math.PI));
c=c-~~c;c=(c+d)*(1/(1+2*d));var D=Math.sqrt(m*m+f*f);D=$[~~(D*4)];j.V.ET(c*q+.5,D+.5,C,q,p,a,U*T+N,1)}};
j.V.lx=function(n,q,p,E,T){var i=T[0],H=T[1];for(var Z=0;Z<H;Z++)for(var w=0;w<i;w++){var d=T[2]*w+T[3]*Z+T[4],O=T[5]*w+T[6]*Z+T[7],W=Z*i+w<<2,C=O*q+d<<2;
E[W]=n[C+0];E[W+1]=n[C+1];E[W+2]=n[C+2];E[W+3]=n[C+3]}};j.f={Dt:function(n,q){var p=~~(.499+n*q);return p<0?0:p>q?q:p},akr:function(n,q,p,E,T,i,H,Z){var w=p[0],d=p[1],O=p[2],W=p[3],C=E.v,a=E.o,B=new Float64Array(C*4+8),$=new Float64Array(C*4+8);
for(var I=0,R=0;I<a;I++){var x=B;B=$;$=x;$.fill(0);for(var U=0;U<C;U++,R++){var N=U+T,m=I+i,f=w*N+d*m,c=O*N+W*m,D=0,v=0;
if(Z==0)D=f+.5;else if(Z==1)D=2*Math.sqrt(f*f+c*c);else if(Z==2)D=(Math.PI+Math.atan2(-c,-f))/(2*Math.PI);
else if(Z==3)D=Math.abs(f*2);else if(Z==4)D=2*(Math.abs(f)+Math.abs(c));var z=j.f.Dt(D,H)*4,_=U*4;for(var o=0;
o<4;o++){var y=Math.max(0,Math.min(254.999,q[z+o]+B[_+4+o])),k=Math.floor(y);if(Math.random()<y-k)k++;
var S=y-k;B[_+8+o]=S*(7/16);$[_+0+o]=S*(3/16);$[_+4+o]=S*(5/16);$[_+8+o]=S*(1/16);v|=k<<o*8}n[R]=v}}},wA:[function(n,q,p,E,T,i,H){var Z=p[0],w=p[1],d=p[2],O=p[3],W=E.v,C=E.o;
for(var a=0,R=0;a<C;a++)for(var B=0;B<W;B++,R++){var $=B+T,I=a+i,x=Z*$+w*I,U=d*$+O*I,N=x+.5;n[R]=q[j.f.Dt(N,H)]}},function(n,q,p,E,T,i,H){var Z=p[0],w=p[1],d=p[2],O=p[3],W=E.v,C=E.o;
for(var a=0,R=0;a<C;a++)for(var B=0;B<W;B++,R++){var $=B+T,I=a+i,x=Z*$+w*I,U=d*$+O*I,N=2*Math.sqrt(x*x+U*U);
n[R]=q[j.f.Dt(N,H)]}},function(n,q,p,E,T,i,H){var Z=p[0],w=p[1],d=p[2],O=p[3],W=E.v,C=E.o;for(var a=0,R=0;
a<C;a++)for(var B=0;B<W;B++,R++){var $=B+T,I=a+i,x=Z*$+w*I,U=d*$+O*I,N=(Math.PI+Math.atan2(-U,-x))/(2*Math.PI);
n[R]=q[j.f.Dt(N,H)]}},function(n,q,p,E,T,i,H){var Z=p[0],w=p[1],d=p[2],O=p[3],W=E.v,C=E.o;for(var a=0,R=0;
a<C;a++)for(var B=0;B<W;B++,R++){var $=B+T,I=a+i,x=Z*$+w*I,U=d*$+O*I,N=Math.abs(x*2);n[R]=q[j.f.Dt(N,H)]}},function(n,q,p,E,T,i,H){var Z=p[0],w=p[1],d=p[2],O=p[3],W=E.v,C=E.o;
for(var a=0,R=0;a<C;a++)for(var B=0;B<W;B++,R++){var $=B+T,I=a+i,x=Z*$+w*I,U=d*$+O*I,N=2*(Math.abs(x)+Math.abs(U));
n[R]=q[j.f.Dt(N,H)]}}]};j.f.a5$=function(n,q){return n+.5};j.f.a9f=function(n,q){return 2*Math.sqrt(n*n+q*q)};
j.f.akG=function(n,q){return(Math.PI+Math.atan2(-q,-n))/(2*Math.PI)};j.f.afv=function(n,q){return Math.abs(n*2)};
j.f.agb=function(n,q){return 2*(Math.abs(n)+Math.abs(q))};j.f.Ma=function(n,q,p,E,T,i,H,Z,w,d,O,W){if(n.Clrs==null)return;
var C=new Uint32Array(q.buffer),a=1023,B=j.f.fZ(n.Clrs.v,w,d);if(W){var $=j.f.anj(n,B,a+1,H);j.f.akr(C,$,E,p,p.x-T,p.y-i,a,Z);
return}var I=j.f.jW(n,B,a+1,H);if(Z<5){j.f.wA[Z](C,I,E,p,p.x-T,p.y-i,a)}else{var x=new Uint8Array(I.buffer),U=p.v,N=p.o,m=O.uP-O.DC,f=1/m,c=O.mV.v-p.v>>1,D=O.mV.o-p.o>>1,z=O.mV.v,_=-.6*f,v=(-.6+.4)*f,o=(-.6+2*.4)*f,y=(-.6+3*.4)*f;
for(var k=0,R=0;k<N;k++)for(var S=0;S<U;S++,R+=4){var L=0,X=0,s=0,M=0,V=(k+D)*z+S+c,l=(O.B9[V]-O.DC)*f,e=0;
if(l<=0||l>=1){e=(l<=0?0:a)<<2;q[R]=x[e];q[R+1]=x[e+1];q[R+2]=x[e+2];q[R+3]=x[e+3];continue}e=Math.max(0,Math.min(a-1,Math.round((l+_)*a)))<<2;
X+=x[e];s+=x[e+1];M+=x[e+2];L+=x[e+3];e=Math.max(0,Math.min(a-1,Math.round((l+v)*a)))<<2;X+=x[e];s+=x[e+1];
M+=x[e+2];L+=x[e+3];e=Math.max(0,Math.min(a-1,Math.round((l+o)*a)))<<2;X+=x[e];s+=x[e+1];M+=x[e+2];L+=x[e+3];
e=Math.max(0,Math.min(a-1,Math.round((l+y)*a)))<<2;X+=x[e];s+=x[e+1];M+=x[e+2];L+=x[e+3];q[R]=X>>>2;
q[R+1]=s>>>2;q[R+2]=M>>>2;q[R+3]=L>>>2}}};j.f.fZ=function(n,q,p){var E=[];for(var R=0;R<n.length;R++){var T;
if(n[R].v.Type.v.Clry=="FrgC")T={_:q>>16&255,q:q>>8&255,X:q&255};else if(n[R].v.Type.v.Clry=="BckC")T={_:p>>16&255,q:p>>8&255,X:p&255};
else T=j.f.aV(n[R].v.Clr.v);E.push(T)}return E};j.f.aV=function(n){var q,p=n.classID;if(p=="RGBC"){if(n.Rd)q={_:n.Rd.v,q:n.Grn.v,X:n.Bl.v};
else q={_:n.redFloat.v*255,q:n.greenFloat.v*255,X:n.blueFloat.v*255}}else if(p=="HSBC"){q=j.RF(n.H.v.val/360,n.Strt.v/100,n.Brgh.v/100);
q._*=255;q.q*=255;q.X*=255}else if(p=="CMYC"){var E=100-n.Cyn.v,T=100-n.Mgnt.v,i=100-n.Ylw.v,H=100-n.Blck.v,Z=255*E*H*1e-4,w=255*(.2*E+.8*T)*H*1e-4,d=255*(.2*T+.8*i)*H*1e-4;
q={_:Z,q:w,X:d}}else if(p=="Grsc")q={_:255-n.Gry.v,q:255-n.Gry.v,X:255-n.Gry.v};else if(p=="LbCl"){q=j.X1(n.Lmnc.v,n.A.v,n.B.v)}else console.log(n);
if(isNaN(q._))q._=q.q=q.X=0;return q};j.f.iB=function(n){return{classID:"RGBC",Rd:{t:"doub",v:n._},Grn:{t:"doub",v:n.q},Bl:{t:"doub",v:n.X}}};
j.f.anj=function(n,q,p,E){var T=[],i=1/(p-0);for(var R=0;R<p;R++){var H=R*4,Z=j.f.Zv(n,q,(E?p-1-R:R)*i);
T[H]=Z[0];T[H+1]=Z[1];T[H+2]=Z[2];T[H+3]=Z[3]}return T};j.f.jW=function(n,q,p,E){var T=new Uint32Array(p),i=1/(p-0);
for(var R=0;R<p;R++)T[R]=j.f.Jx(n,q,(E?p-1-R:R)*i);return T};j.f.Zv=function(n,q,p){var E=4096,T=1/4096,i=n.Intr.v*T,H=n.Clrs.v,Z=n.Trns.v,w=H.length-1,d=Z.length-1,R=-1,O=0,W=0,C=0,a=0;
while(R<d&&Z[R+1].v.Lctn.v<=p*E)R++;if(R==-1){O=Z[0].v.Opct.v.val*(255/100)}else if(R==d){O=Z[R].v.Opct.v.val*(255/100)}else{var B=j.f.vN(Z,T,R,p,i);
O=(B*Z[R].v.Opct.v.val+(1-B)*Z[R+1].v.Opct.v.val)*(255/100)}R=-1;while(R<w&&H[R+1].v.Lctn.v<=p*E)R++;
if(R==-1){var $=q[0];W=$._;C=$.q;a=$.X}else if(R==w){var $=q[R];W=$._;C=$.q;a=$.X}else{var I=q[R],x=q[R+1],U=j.f.vN(H,T,R,p,i);
W=U*I._+(1-U)*x._;C=U*I.q+(1-U)*x.q;a=U*I.X+(1-U)*x.X}return[W,C,a,O]};j.f.Jx=function(n,q,p){var E=j.f.Zv(n,q,p),T=~~(.5+E[0]),i=~~(.5+E[1]),H=~~(.5+E[2]),Z=~~(.5+E[3]);
return Z<<24|H<<16|i<<8|T};j.f.vN=function(n,q,R,p,E){if(n.length==2)E*=.5;var T=n[R].v.Lctn.v*q,i=n[R+1].v.Lctn.v*q,H=T+n[R+1].v.Mdpn.v*.01*(i-T),Z;
if(p<H)Z=.5*(p-T)/(H-T);else Z=.5+.5*(p-H)/(i-H);Z=.5+.5*(E*Math.cos(Math.PI*Z)+(1-E)*(1-2*Z));return Z};
j.f.M5=function(n,q){var p=Math.PI*n.Angl.v.val/180,E=n.Scl.v.val/100,T=n.Ofst.v,i=T.Hrzn.v.val/100,H=T.Vrtc.v.val/100,Z=Math.cos(p),w=-Math.sin(p),d=.5*q.o,O=d*(Z/w),W=Math.sqrt(d*d+O*O),C=.5*q.v,a=C*(w/Z),B=Math.sqrt(C*C+a*a),$=Math.min(W,B)*E,I=q.x+q.v/2+i*q.v,x=q.y+q.o/2+H*q.o;
return[new fc(I,x),new fc(I+Z*$,x+w*$)]};j.f.hp=function(n,q,p,E){var T=q.x-n.x,i=-(q.y-n.y),H=Math.sqrt(T*T+i*i),Z=Math.atan2(i,T),w=Math.cos(Z),d=-Math.sin(Z),O=.5*p.o,W=O*(w/d),C=Math.sqrt(O*O+W*W),a=.5*p.v,B=a*(d/w),$=Math.sqrt(a*a+B*B),I=H/Math.min(C,$),x=(n.x-p.x-p.v/2)/p.v,U=(n.y-p.y-p.o/2)/p.o;
E.Angl.v.val=180*Z/Math.PI;E.Scl.v.val=I*100;var N=E.Ofst.v;N.Hrzn.v.val=x*100;N.Vrtc.v.val=U*100};j.f.Rj=function(n,q){for(var R=0;
R<n.length;R++){var p=n[R],E=Math.round(p[0]*4096),T=p[1],i=p[2],H=p[3];if(i==null)i=1;if(H==null)H=.5;
var Z=j.f.iB({_:T[0]*255,q:T[1]*255,X:T[2]*255});q.Clrs.v[R]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:E},Mdpn:{t:"long",v:Math.round(H*100)},Clr:{t:"Objc",v:Z},Type:{t:"enum",v:{Clry:"UsrS"}}}};
q.Trns.v[R]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:E},Mdpn:{t:"long",v:Math.round(H*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
j.TM={};j.TM.aqT=function(n,q,p,E,T,i,H,Z,w,d,O,W){var C,a,B,$=Date.now(),I=!1,x=H,U=d,N,m,f,c,D=i*255,z=255-w*255,_=1+T*6,v=1+Z*6,o=1+W*4,y=(o-1)/7,k=0,S=255-0,L,X,s,M,V,l,e,Y,J,G,F,b,h,bj=0,i4=1,t,aG,Q,jd,bP,gz,fZ,dt,a9,bi,az=1+O,hd,aB=j.U(p*E),cv=j.U(p*E),c$=j.U(p*E),cT=j.U(p*E),fp=255/D,cD=255/(255-z);
for(a=0;a<E;a++){for(C=0;C<p;C++){var R=a*p+C,f_=R<<2;t=j.lU(n[f_],n[f_+1],n[f_+2]);cT[R]=t;if(t<D)aB[R]=255-t*fp;
if(t>z)cv[R]=255-(255-t)*cD}}if(I)console.log("init",Date.now()-$);$=Date.now();if(T*x>0){c$.set(aB);
j.Lw.ut(c$,aB,new eL(0,0,p,E),x)}if(Z*U>0){c$.set(cv);j.Lw.ut(c$,cv,new eL(0,0,p,E),U)}if(I)console.log("blur",Date.now()-$);
$=Date.now();var f9=j.U(256),dO=j.U(256);for(var R=0;R<256;R++){var a6=R*(1/255),hb=0;hb=(1-Math.pow(1-a6,_))*255;
f9[R]=Math.max(0,Math.min(255,~~(hb+.5)));hb=Math.pow(a6,v)*255;dO[R]=Math.max(0,Math.min(255,~~(hb+.5)))}var jr=new Uint8ClampedArray(q.buffer),dh=new Float32Array(32768);
for(var R=0;R<32768;R++){hd=Math.sqrt(R)*(1/128);if(az>1)hd=(1-hd)*(az-1)+1;else hd=hd*(az-1)+1;dh[R]=hd}for(a=0;
a<E;a++){for(C=0;C<p;C++){var R=a*p+C,f_=R<<2,hb=cT[R],jq=aB[R]*(1/255),g3=cv[R]*(1/255);hb=(1-jq)*hb+jq*f9[~~hb];
hb=(1-g3)*hb+g3*dO[~~hb];t=hb;var c6=n[f_],cd=n[f_+1],jn=n[f_+2];aG=-c6*.168736-cd*.331264+jn*.5;Q=c6*.5-cd*.418688-jn*.081312;
hd=dh[~~(.5+aG*aG+Q*Q)];jd=aG*hd;gz=Q*hd;i4=1-Math.min(2-(jq+g3),1);aG=i4*aG+(1-i4)*jd;Q=i4*Q+(1-i4)*gz;
dt=t+1.402*Q;a9=t-.34414*aG-.71414*Q;bi=t+1.772*aG;jr[f_]=~~(.5+dt);jr[f_+1]=~~(.5+a9);jr[f_+2]=~~(.5+bi)}}if(I)console.log("apply masks",Date.now()-$);
$=Date.now()};j.Sn={};j.Sn.ST=function(n,q,p,E,T){var i=!1,B=1,S=0,L=0,J=0,az=0;if(!q.Gf(T)){var H=q.AL(T),Z=j.U(H.P()*4);
j.hk(n,q,Z,H);n=Z;q=H}var w=j.U(q.P());j.cg(p,T,w,q);j.round(w);T=T.O1(q);var d=T.v,O=T.o,W=d*3<O?2:1,C=O*3<d?2:1;
if(T.P()*(W*2+1)*(C*2+1)<q.P()){var H=new eL(T.x-d*W,T.y-O*W,d*(W*2+1),O*(C*2+1)).O1(q),Z=j.U(H.P()*4);
j.hk(n,q,Z,H);var a=j.U(H.P());j.cg(w,q,a,H);q=H;n=Z;w=a}while((q.v+q.o)/2/B>400)B++;var $=n,I=q,x=w,U=Math.floor(I.v/B),N=Math.floor(I.o/B);
n=j.U(U*N*4);j.scale.z_($,I.v,I.o,n,U,N,1/B);w=j.U(U*N);j.scale.lx(x,I.v,I.o,w,U,N,1/B);j.round(w,1);
var m=j.YA(w,new eL(0,0,U,N));if(m.M6())return 1;var f=Math.round((m.v+m.o)/2/15),c=Date.now(),D=j.U(U*N*4);
j.anC(n,D);var z=Int16Array,_=new z(U*N*24),v=new z(64),o=new z(64),y=new z(64),k=new z(64);for(var X=3;
X<N-4;X++)for(var s=3;s<U-4;s++){var M=X*U+s;if(w[M]==255)continue;if(j.Sn.aph(D,w,s,X,U,N,v,o,y)!=0)continue;
j.Sn.st(v,k);_[S]=s;_[S+1]=X;j.Sn.Sa(v,_,S+4,12);S+=16;j.Sn.st(o,k);j.Sn.Sa(o,_,S,4);S+=4;j.Sn.st(y,k);
j.Sn.Sa(y,_,S,4);S+=4;var V=_[S-24+5],l=_[S-24+6];_[S-24+5]=_[S-24+20];_[S-24+6]=_[S-24+16];_[S-24+16]=V;
_[S-24+20]=l;L++}if(L==0)return 2;if(i)console.log(Date.now()-c,"FWHT computed");c=Date.now();var e=[];
j.Sn._$(0,L-1,e,_,new z(2*24));if(i)console.log(Date.now()-c,"KD tree computed");c=Date.now();var Y=new Float32Array(U*N*4);
for(var R=0;R<L;R++){var G=R,F=j.Sn.acq(G,_,e,f);if(F==-1)continue;var b=G*24,h=F*24,bj=_[b],i4=_[b+1],t=_[h],aG=_[h+1];
J+=j.Sn.getError(h,b,_,1e99);var bP=t-bj,gz=aG-i4;Y[(N+gz)*2*U+(U+bP)]+=1}if(i)console.log(Date.now()-c,"NN found");
c=Date.now();var fZ=[],dt=1/(2*U);for(var R=0;R<Y.length;R++){if(Y[R]>0){var X=Math.floor(R*dt),s=R-X*2*U;
fZ.push({x:s-U,y:X-N,k:Y[R],S0:-1})}}fZ.sort(function(g3,c6){return c6.k-g3.k});var a9=new Int32Array(U*N),bi=[];
for(var R=0;R<U*N;R++){if(w[R]==255){a9[R]=az;bi.push(R%U,Math.floor(R/U));az++}else if(n[(R<<2)+3]<200){a9[R]=-2}else{a9[R]=-1}}var hd=j.Sn.a4v(U,N,fZ,a9,bi,az);
if(hd==null){return 3}var aB=hd.eO,top=hd.top;aB=j.Sn.a4g(aB,n,U,N,top,a9,bi,az);if(i)console.log(Date.now()-c,"optimal labeling found");
c=Date.now();var H=T.clone();H.ZU(1,1);H=H.O1(I);var cv=j.U(H.P()*4),c$=j.U(H.P());j.hk($,I,cv,H);var cT=I.v,fp=I.o;
for(var X=0;X<fp;X++)for(var s=0;s<cT;s++){if(x[X*cT+s]==0)continue;var cD=Math.min(Math.floor(s/B),U-1),f_=Math.min(Math.floor(X/B),N-1),f9=a9[f_*U+cD];
if(f9==-1)continue;var dO=aB[f9],a6=top[dO],hb=s+a6.x*B,jr=X+a6.y*B,dh=jr*cT+hb<<2,jq=(X-H.y+I.y)*H.v+(s-H.x+I.x)<<2;
cv[jq]=$[dh];cv[jq+1]=$[dh+1];cv[jq+2]=$[dh+2];cv[jq+3]=$[dh+3];cv[jq+3]=$[dh+3];c$[jq>>2]=dO+1}if(i)console.log(Date.now()-c,"copied back");
c=Date.now();j.ue.ST(cv,c$,H,null,1e3);if(i)console.log(Date.now()-c,"poisson smooth");c=Date.now();
j.hk(cv,H,E,T);return 0};j.Sn.Ns=function(n,q,p,E,T,i){return j.Sn.Jb(n+T.x,q+T.y,p,E)&&i[(q+T.y)*p+(n+T.x)]==-1?0:1e9};
j.Sn.a4g=function(n,q,p,E,top,T,i,H){var Z=Date.now(),w=[-1,0,0,-1,1,0,0,1],d=1e99,O=[],W=[],C=2*(H*2*3+H*2),a=null,B=0,$=0,I=0,x=1e99;
while(!0&&Date.now()<Z+12e3){I++;var U=null,N=d;for(var m=0;m<top.length;m++){var f=top[m],c=0,D=H+2,z=0;
for(var R=0;R<H;R++){var _=i[R*2],v=i[R*2+1],o=top[n[R]],y=j.Sn.Ns(_,v,p,E,f,T),k=n[R]==m?1e9:j.Sn.Ns(_,v,p,E,o,T);
for(var eR=0;eR<4;eR++){if(eR==0&&_==0||eR==1&&v==0||eR==2&&_==p-1||eR==3&&v==E-1)continue;var S=w[2*eR],L=w[2*eR+1],X=_+S,s=v+L,M=T[s*p+X];
if(M==-2){}else if(M==-1){y+=3*j.Sn.ne(X+f.x,s+f.y,X,s,p,E,q,T);y+=2*j.Sn.ne(X+f.x+S,s+f.y+L,X+S,s+L,p,E,q,T);
k+=3*j.Sn.ne(X+o.x,s+o.y,X,s,p,E,q,T);k+=2*j.Sn.ne(X+o.x+S,s+o.y+L,X+S,s+L,p,E,q,T)}else if(eR>1){if(n[R]==n[M]){var V=0;
V+=j.Sn.ne(_+o.x,v+o.y,_+f.x,v+f.y,p,E,q,T);V+=j.Sn.ne(X+o.x,s+o.y,X+f.x,s+f.y,p,E,q,T);O[c]=R;O[c+1]=M;
W[c]=V;W[c+1]=V;c+=2}else{var l=top[n[M]],e=D,Y=0,J=0,G=0;D++;Y+=j.Sn.ne(_+o.x,v+o.y,_+f.x,v+f.y,p,E,q,T);
Y+=j.Sn.ne(X+o.x,s+o.y,X+f.x,s+f.y,p,E,q,T);J+=j.Sn.ne(_+l.x,v+l.y,_+f.x,v+f.y,p,E,q,T);J+=j.Sn.ne(X+l.x,s+l.y,X+f.x,s+f.y,p,E,q,T);
G+=j.Sn.ne(_+l.x,v+l.y,_+o.x,v+o.y,p,E,q,T);G+=j.Sn.ne(X+l.x,s+l.y,X+o.x,s+o.y,p,E,q,T);O[c]=R;O[c+1]=e;
W[c]=Y;W[c+1]=Y;c+=2;O[c]=M;O[c+1]=e;W[c]=J;W[c+1]=J;c+=2;O[c]=e;O[c+1]=H+1;W[c]=G;W[c+1]=0;c+=2}}}O[c]=H;
O[c+1]=R;W[c]=y;W[c+1]=0;c+=2;O[c]=R;O[c+1]=H+1;W[c]=k;W[c+1]=0;c+=2;z+=Math.min(y,k)}if(z>N)continue;
var F=j.Rp.TD(D,c,H,H+1,O,W,N);if(F.rj<N){N=F.rj;var b=n.slice(0);j.Sn.aav(b,c,O,F.W0,m,H);U=b}}if(N*1>=d){break}d=N;
n=U;if((I&3)==0){if(N*1.03>=x)break;x=N}if((I&3)==0){var h=0*top.length;for(var R=0;R<top.length&&top.length>h;
R++){if(n.indexOf(R)!=-1)continue;top.splice(R,1);for(var M=0;M<n.length;M++)if(n[M]>R)n[M]--;R--}}}return n};
j.Sn.aav=function(n,q,p,E,T,i){for(var R=0;R<E.length;R++){var H=E[R]<<1,Z=0,w=0;if(H<q){Z=p[H];w=p[H+1]}else{w=p[H];
Z=p[H+1]}if(Z==i&&n[w]!=T)n[w]=T}};j.Sn.qe=function(top,n,q,p,E,T,i,H,Z){for(var R=0;R<q.length;R++){var w=q[R],d=!0;
if(H!=null&&!(j.Sn.Jb(H+w.x,Z+w.y,T,i)&&p[T*(Z+w.y)+H+w.x]==-1))continue;if(w.S0==-1)w.S0=j.Sn.aba(w,p,E,T,i);
if(w.S0<=0)continue;for(var O=0;O<top.length;O++){var W=top[O],C=w.x-W.x,a=w.y-W.y;if(C*C+a*a<n){d=!1;
break}}if(d)return w}return null};j.Sn.aba=function(n,q,p,E,T){var i=0;for(var R=0;R<p.length;R+=2){var H=p[R]+n.x,Z=p[R+1]+n.y;
if(j.Sn.Jb(H,Z,E,T)&&q[E*Z+H]==-1)i++}return i/(p.length>>1)};j.Sn.a4v=function(n,q,p,E,T,i){var top=[];
for(var R=0;R<60;R++){var H=j.Sn.qe(top,25,p,E,T,n,q);if(H==null)break;else top.push(H)}if(top.length==0)return null;
var Z=[];for(var R=0;R<i;R++){var w=T[R*2],d=T[R*2+1],O=-1,W=0;while(!0){W++;var C=Math.random();O=Math.floor(C*.99999*top.length);
var a=top[O],B=w+a.x,$=d+a.y;if(j.Sn.Jb(B,$,n,q)&&E[$*n+B]==-1)break;if(W>100){var H;H=j.Sn.qe(top,0,p,E,T,n,q,w,d);
if(H==null)return null;top.push(H);W=0}}Z.push(O)}return{top:top,eO:Z}};j.Sn.ne=function(n,q,p,E,T,i,H,Z){if(n==p&&q==E)return 0;
if(n<0||q<0||n>=T||q>=i||p<0||E<0||p>=T||E>=i||Z[q*T+n]!=-1||Z[E*T+p]!=-1)return 1e7;var w=q*T+n<<2,d=E*T+p<<2,O=H[w]-H[d],W=H[w+1]-H[d+1],C=H[w+2]-H[d+2];
return 1+(O*O+W*W+C*C)};j.Sn.Jb=function(n,q,p,E){return n>=0&&n<p&&q>=0&&q<E};j.Sn.acq=function(n,q,p,E){var T=24*n,i=q[T],H=q[T+1],Z=E*E,w=0,C=1e9;
while(p[w]!=99)if(q[T+p[w]]<p[w+1])w=p[w+2];else w=p[w+3];var d=p[w+1],O=p[w+2],W=-1;for(var R=d;R<=O;
R++){var w=R,a=w*24,B=q[a],$=q[a+1];if((B-i)*(B-i)+($-H)*($-H)<Z)continue;var I=j.Sn.getError(a,T,q,C);
if(I<C){C=I;W=w}}return W};j.Sn.getError=function(n,q,p,E){var T=0;for(var i=4;i<24;i+=4){var H=p[q+i]-p[n+i],Z=p[q+i+1]-p[n+i+1],w=p[q+i+2]-p[n+i+2],d=p[q+i+3]-p[n+i+3];
T+=H*H+Z*Z+w*w+d*d;if(T>=E)return T+1}return T};j.Sn._$=function(n,q,p,E,T){var i=16,C=0;if(q-n<=i){p.push(99,n,q);
return}j.Sn.Uh(n,q,E,T);var H=-1,Z=-1;for(var R=4;R<24;R++){var w=T[2*R+1]-T[2*R];if(w>Z){Z=w;H=R}}var d=n+q>>1,O=j.Sn.a6v(d,n,q,E,H),W=-1;
for(var R=n;R<=q;R++)if(E[24*R+H]==O){if(W==-1)W=R;C=R}if(n+8<W&&W-n>q-C)d=W;else if(C+1<q-8)d=C+1;else if(q-n<64){p.push(99,n,q);
return}else d=d;var a=p.length;p.push(H,O,0,0);p[a+2]=a+4;j.Sn._$(n,d-1,p,E,T);p[a+3]=p.length;j.Sn._$(d,q,p,E,T)};
j.Sn.Uh=function(n,q,p,E){for(var R=0;R<48;R+=4){E[R]=3e4;E[R+1]=-3e4;E[R+2]=3e4;E[R+3]=-3e4}for(var R=n;
R<=q;R++){var T=R*24;for(var i=0;i<24;i++){var H=p[T+i],Z=E[i<<1],w=E[(i<<1)+1];if(H<Z)E[i<<1]=H;if(H>w)E[(i<<1)+1]=H}}};
j.Sn.St=function(n,q,p){var E=0,R=0;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;
R++;E=p[n+R];p[n+R]=p[q+R];p[q+R]=E;R++};j.Sn.hf=function(n,q,p,E){var T=p+E>>>1,i=n[24*T+q];while(p<=E){while(n[24*p+q]<i)p++;
while(n[24*E+q]>i)E--;if(p<=E){if(n[24*p+q]!=n[24*E+q])j.Sn.St(p*24,E*24,n);p++;E--}}return p};j.Sn.a6v=function(n,q,p,E,T){var i=0;
while(q!=p){i=j.Sn.hf(E,T,q,p);if(n<i)p=i-1;else q=i}return E[n*24+T]};j.Sn.Sa=function(n,q,p,E){for(var R=0;
R<E;R++)q[p+R]=n[R]};j.Sn.aph=function(n,q,p,E,T,i,H,Z,w){var d=(E-3)*T+(p-3),O=d<<2;for(var W=0;W<8;
W++){if(q[d]+q[d+1]+q[d+2]+q[d+3]+q[d+4]+q[d+5]+q[d+6]+q[d+7]!=0||n[O+3]<200||n[O+7]<200||n[O+11]<200||n[O+15]<200||n[O+19]<200||n[O+23]<200||n[O+27]<200||n[O+31]<200)return 1;
var R=W<<3;H[R+0]=n[O+0];Z[R+0]=n[O+1];w[R+0]=n[O+2];H[R+1]=n[O+4];Z[R+1]=n[O+5];w[R+1]=n[O+6];H[R+2]=n[O+8];
Z[R+2]=n[O+9];w[R+2]=n[O+10];H[R+3]=n[O+12];Z[R+3]=n[O+13];w[R+3]=n[O+14];H[R+4]=n[O+16];Z[R+4]=n[O+17];
w[R+4]=n[O+18];H[R+5]=n[O+20];Z[R+5]=n[O+21];w[R+5]=n[O+22];H[R+6]=n[O+24];Z[R+6]=n[O+25];w[R+6]=n[O+26];
H[R+7]=n[O+28];Z[R+7]=n[O+29];w[R+7]=n[O+30];O+=T<<2;d+=T}return 0};j.Sn.st=function(n,q){q[0]=n[32]+n[0];
q[1]=n[33]+n[1];q[2]=n[34]+n[2];q[3]=n[35]+n[3];q[4]=n[36]+n[4];q[5]=n[37]+n[5];q[6]=n[38]+n[6];q[7]=n[39]+n[7];
q[8]=n[40]+n[8];q[9]=n[41]+n[9];q[10]=n[42]+n[10];q[11]=n[43]+n[11];q[12]=n[44]+n[12];q[13]=n[45]+n[13];
q[14]=n[46]+n[14];q[15]=n[47]+n[15];q[16]=n[48]+n[16];q[17]=n[49]+n[17];q[18]=n[50]+n[18];q[19]=n[51]+n[19];
q[20]=n[52]+n[20];q[21]=n[53]+n[21];q[22]=n[54]+n[22];q[23]=n[55]+n[23];q[24]=n[56]+n[24];q[25]=n[57]+n[25];
q[26]=n[58]+n[26];q[27]=n[59]+n[27];q[28]=n[60]+n[28];q[29]=n[61]+n[29];q[30]=n[62]+n[30];q[31]=n[63]+n[31];
q[32]=n[0]-n[32];q[33]=n[1]-n[33];q[34]=n[2]-n[34];q[35]=n[3]-n[35];q[36]=n[4]-n[36];q[37]=n[5]-n[37];
q[38]=n[6]-n[38];q[39]=n[7]-n[39];q[40]=n[8]-n[40];q[41]=n[9]-n[41];q[42]=n[10]-n[42];q[43]=n[11]-n[43];
q[44]=n[12]-n[44];q[45]=n[13]-n[45];q[46]=n[14]-n[46];q[47]=n[15]-n[47];q[48]=n[16]-n[48];q[49]=n[17]-n[49];
q[50]=n[18]-n[50];q[51]=n[19]-n[51];q[52]=n[20]-n[52];q[53]=n[21]-n[53];q[54]=n[22]-n[54];q[55]=n[23]-n[55];
q[56]=n[24]-n[56];q[57]=n[25]-n[57];q[58]=n[26]-n[58];q[59]=n[27]-n[59];q[60]=n[28]-n[60];q[61]=n[29]-n[61];
q[62]=n[30]-n[62];q[63]=n[31]-n[63];n[0]=q[16]+q[0];n[1]=q[17]+q[1];n[2]=q[18]+q[2];n[3]=q[19]+q[3];
n[4]=q[20]+q[4];n[5]=q[21]+q[5];n[6]=q[22]+q[6];n[7]=q[23]+q[7];n[8]=q[24]+q[8];n[9]=q[25]+q[9];n[10]=q[26]+q[10];
n[11]=q[27]+q[11];n[12]=q[28]+q[12];n[13]=q[29]+q[13];n[14]=q[30]+q[14];n[15]=q[31]+q[15];n[16]=q[0]-q[16];
n[17]=q[1]-q[17];n[18]=q[2]-q[18];n[19]=q[3]-q[19];n[20]=q[4]-q[20];n[21]=q[5]-q[21];n[22]=q[6]-q[22];
n[23]=q[7]-q[23];n[24]=q[8]-q[24];n[25]=q[9]-q[25];n[26]=q[10]-q[26];n[27]=q[11]-q[27];n[28]=q[12]-q[28];
n[29]=q[13]-q[29];n[30]=q[14]-q[30];n[31]=q[15]-q[31];q[0]=n[8]+n[0];q[1]=n[9]+n[1];q[2]=n[10]+n[2];
q[3]=n[11]+n[3];q[4]=n[12]+n[4];q[5]=n[13]+n[5];q[6]=n[14]+n[6];q[7]=n[15]+n[7];q[8]=n[0]-n[8];q[9]=n[1]-n[9];
q[10]=n[2]-n[10];q[11]=n[3]-n[11];q[12]=n[4]-n[12];q[13]=n[5]-n[13];q[14]=n[6]-n[14];q[15]=n[7]-n[15];
n[0]=q[4]+q[0];n[1]=q[5]+q[1];n[2]=q[6]+q[2];n[3]=q[7]+q[3];n[4]=q[0]-q[4];n[5]=q[1]-q[5];n[6]=q[2]-q[6];
n[7]=q[3]-q[7];n[8]=q[12]+q[8];n[9]=q[13]+q[9];n[10]=q[14]+q[10];n[11]=q[15]+q[11];n[12]=q[8]-q[12];
n[13]=q[9]-q[13];n[14]=q[10]-q[14];n[15]=q[11]-q[15];q[0]=n[2]+n[0];q[1]=n[3]+n[1];q[2]=n[0]-n[2];q[3]=n[1]-n[3];
q[4]=n[6]+n[4];q[5]=n[7]+n[5];q[6]=n[4]-n[6];q[7]=n[5]-n[7];q[8]=n[10]+n[8];q[9]=n[11]+n[9];q[10]=n[8]-n[10];
q[11]=n[9]-n[11];q[12]=n[14]+n[12];q[13]=n[15]+n[13];q[14]=n[12]-n[14];q[15]=n[13]-n[15];n[0]=q[1]+q[0];
n[1]=q[0]-q[1];n[2]=q[3]+q[2];n[3]=q[2]-q[3];n[4]=q[5]+q[4];n[5]=q[4]-q[5];n[6]=q[7]+q[6];n[7]=q[6]-q[7];
n[8]=q[9]+q[8];n[9]=q[8]-q[9];n[10]=q[11]+q[10];n[11]=q[10]-q[11];n[12]=q[13]+q[12];n[13]=q[12]-q[13];
n[14]=q[15]+q[14];n[15]=q[14]-q[15]};j.Sn.aog=function(){var n="",eR=64,q="v",p="t",E="a",T=5,R,i,H;
for(R=eR>>1;R>0;R>>=1,T--){for(i=0;i<eR;i++){H=(i>>T&1)!=0;if(H){n+=p+"["+i+"] = "+q+"["+(-R+i)+"] - "+q+"["+i+"];  "}else{n+=p+"["+i+"] = "+q+"["+(R+i)+"] + "+q+"["+i+"];  "}}E=q;
q=p;p=E;n+="\n"}console.log(n)};j.Sn.a9$=function(eR,n,q){var p=n,E=q,T=p,i=0,R,Z,w;while(eR>>i!=2)i++;
var H=i;for(R=eR>>1;R>0;R>>=1,i--){for(Z=0;Z<eR;Z++){w=(Z>>i&1)!=0;if(w)E[Z]=p[-R+Z]-p[Z];else E[Z]=p[R+Z]+p[Z]}T=p;
p=E;E=T}if((H&1)==1)for(R=0;R<eR;R++)q[R]=p[R]};j.Vv={};j.Vv.Cc=function(n,q,p,E,T,i,H,Z,w){var d=Date.now(),O=new Uint32Array(n.buffer),W=new Uint32Array(q.buffer),C=H/p,a=Z/E,B=1/C,$=1/a,I=new Float64Array(2),x=3,U=1/x,N=1/(x*x),m=0,f=0,c=p,D=E;
if(T){m=T.x;f=T.y;c=T.v;D=T.o}for(var z=0;z<D;z++)for(var _=0;_<c;_++){var v=m+_,o=f+z,R=o*p+v,y=R<<1,k=R<<2;
j.Vv.akS(i,H,Z,(v+.5)*C,(o+.5)*a,I);var S=I[0]*B,L=I[1]*$;if(S==0&&L==0)W[R]=O[R];else{j.V.ET(v+S+.5,o+L+.5,O,p,E,W,R,w)}}};
j.Vv.akS=function(n,q,p,E,T,i){E-=.499999;T-=.499999;var H=~~E,Z=~~T,w=E-H,d=T-Z,O=(1-d)*(1-w),W=(1-d)*w,C=d*(1-w),a=d*w,B=H<q-1?H+1:H,$=Z<p-1?Z+1:Z,I=Z*q+H<<1,x=Z*q+B<<1,U=$*q+H<<1,N=$*q+B<<1;
i[0]=O*n[I]+W*n[x]+C*n[U]+a*n[N];i[1]=O*n[I+1]+W*n[x+1]+C*n[U+1]+a*n[N+1]};j.Vv.aoA=function(n,q,p,E,T){var i=1/n,H=[-1,1,-n,n],Z=E.length;
for(var w=0;w<Z;w++){var R=E[w],d=R<<1,O=w<<1,W=~~(R*i),C=R-n*W,a=p[d],B=p[d+1],$=0,I=0;if(C!=0&&C!=n-1){var x=R-1<<1,U=R+1<<1,N=p[x],m=p[U],f=p[x+1],c=p[U+1],D=a-(N+m)*.5,z=B-(f+c)*.5;
$-=D*T;I-=z*T}if(W!=0&&W!=q-1){var x=R-n<<1,U=R+n<<1,N=p[x],m=p[U],f=p[x+1],c=p[U+1],D=a-(N+m)*.5,z=B-(f+c)*.5;
$-=D*T;I-=z*T}p[d]=a+$;p[d+1]=B+I}};j.Vv.aij=function(n,q){var p=n+","+q;if(j.Vv.CG==p)return j.Vv.dX;
var E=j.Vv.dX=[];j.Vv.CG=p;for(var R=0;R<=1e3;R++){var T=R*.001,i=Math.sqrt(T),H=Math.exp(-4*i),Z=.96*(1-i*i),w=q*((1-n)*H+n*Z);
E[R]=w}return E};j.Vv.CG="";j.Vv.dX=[];j.Vv.agY=function(n,q,p,E,T,i,H,Z,w,d,O,W,C){var a=Math.max(0,Math.floor(T-H-1)),B=Math.min(q,Math.ceil(T+H+1)),$=Math.max(0,Math.floor(i-H-1)),I=Math.min(p,Math.ceil(i+H+1)),x=2*q,U=H*H,N=1/H,m=0;
if(C&&(E==3||E==6))w=-w;var f=j.Vv.aij(Z,w);for(var c=$;c<I;c++)for(var D=a;D<B;D++){var R=c*q+D,z=R<<1,_=(T-D)*N,v=(i-c)*N,o=_*_+v*v;
if(o<1){W[m]=R;var y=f[~~(o*1e3)];if(E==1){n[z]=n[z]*(1-y*.05);n[z+1]=n[z+1]*(1-y*.05)}else{var k=0,S=0,s,M,V,l;
if(E==0){k=d*y;S=O*y}else if(E==2){}else if(E==3){k=y*v;S=-y*_}else if(E==4){k=y*_;S=y*v}else if(E==5){k=-y*_;
S=-y*v}else if(E==6){k=O*y;S=-d*y}var L=n[z],X=n[z+1];if(D==0||D!=q-1&&k<0){s=1+n[z+2]-L;V=n[z+3]-X}else{s=L-n[z-2]+1;
V=X-n[z-1]}if(c==0||c!=p-1&&S<0){M=n[z+x]-L;l=1+n[z+x+1]-X}else{M=L-n[z-x];l=X-n[z-x+1]+1}n[z]=-(s*k+M*S-L);
n[z+1]=-(V*k+l*S-X)}m++}}};j.Vv.arx=function(n){var q=n[0],p=n[0],E=n[1],T=n[1];for(var R=0;R<n.length;
R+=2){var i=n[R],H=n[R+1];if(i<q)q=i;else if(i>p)p=i;if(H<E)E=H;else if(H>T)T=H}return[q,E,p,T]};j.aei=function(n,q,p,E,T){function i(t,aG,Q,jd){return Math.sqrt((t-Q)*(t-Q)+(aG-jd)*(aG-jd))}function H(t,aG){return t>=0&&t<q&&aG>=0&&aG<p}function Z(t){if(t<0)return 0;
if(t>=q)return q-1;return t}function w(t){if(t<0)return 0;if(t>=p)return p-1;return t}function d(R,t){var aG=t[3]*(1/255),Q=E[R]+t[0]*aG;
if(Q>255)Q=255;E[R]=Q;Q=E[R+1]+t[1]*aG;if(Q>255)Q=255;E[R+1]=Q;Q=E[R+2]+t[2]*aG;if(Q>255)Q=255;E[R+2]=Q}function O(t,aG,Q){if(!e(t,aG))return;
if(Q[3]<0)Q[3]=0;d((aG*q+t)*4,Q)}function W(t){var aG=t.slice(0,3);aG[3]=0;return aG}var C=q/800;function a(t){return Math.round(t*C)}function B(){for(var R=0;
R<=300;R++){J[R]=$(R)}}function $(p){var t=.8,aG=.2,Q=t*aG,jd=p/60%2-1,bP=Q*(1-jd*jd),gz=aG-Q,fZ;if(p<60){fZ=[Q+gz,bP,0]}else if(p<120){fZ=[bP,Q,0]}else if(p<180){fZ=[0,Q,bP]}else if(p<240){fZ=[0,bP,Q]}else if(p<300){fZ=[bP,0,Q]}else{fZ=[Q,0,bP]}return[(fZ[0]+gz)*255,(fZ[1]+gz)*255,(fZ[2]+gz)*255]}function I(p){return J[~~p]}function x(t){return 1-U(t)}function U(t){return t-~~t}function N(t,aG,Q,jd){V(t,aG,Q,0,aG+1,1,jd)}function m(t,aG,Q,jd,bP,gz){V(t,aG,Q,0,jd,1,bP,gz)}function f(t){for(var R=0;
R<E.length;R+=4){d(R,t)}}function c(t,aG,Q,jd,bP,gz,fZ,dt){D(t,aG,Q,jd,bP,1,gz,fZ,dt)}function D(t,aG,Q,jd,bP,gz,fZ,dt,a9){if(gz==null)gz=.5;
if(fZ==null)fZ=0;if(dt==null)dt=0;if(a9==null)a9=!1;var bi=t.x,az=t.y,hd=Q.slice(0),aB=~~(Q[3]*F);jd=jd*F;
if(!a9){aG=l(aG);bP=l(bP);fZ=l(fZ);dt=l(dt)}var cv=Z(bi-aG),c$=Z(bi+aG);for(var cT=cv;cT<=c$;cT++){var fp=cT-bi,cD=Math.floor(Math.sqrt(aG*aG-fp*fp)),f_=w(az-cD),f9=w(az);
for(var dO=f_;dO<=f9;dO++){var a6=i(cT,dO,bi,az);if(a6>aG||a6<=aG-bP)break;var hb=(a6-aG+bP)/bP;hd[3]=aB-jd*(gz==1?hb:Math.pow(hb,gz));
d((dO*q+cT)*4,hd)}f_=w(az+cD);for(var dO=f_;dO>f9;dO--){var a6=i(cT,dO,bi,az);if(a6>aG||a6<=aG-bP)break;
var hb=(a6-aG+bP)/bP;hd[3]=aB-jd*(gz==1?hb:Math.pow(hb,gz));d((dO*q+cT)*4,hd)}}if(fZ>0){V(t,aG+fZ,hd,hd[3],fZ,1,0,0,!0)}if(dt>0){V(t,aG-bP,Y(Q),-Q[3],dt,1,0,0,!0)}}function z(t,aG,Q,jd,bP,gz){V(t,aG,Q,Q[3],aG+1,1,jd,bP,gz)}function _(t,aG,Q,jd,bP){if(bP==null)bP=!1;
var gz=t.x,fZ=t.y;jd*=F;if(!bP){aG=l(aG);Q=l(Q)}var dt=Z(gz-aG),a9=Z(gz+aG);for(var bi=dt;bi<a9;bi++){var az=bi-gz,hd=~~Math.sqrt(aG*aG-az*az),aB=w(fZ-hd),cv=w(fZ);
for(var c$=aB;c$<=cv;c$++){var cT=i(bi,c$,gz,fZ);if(cT>aG||cT<=aG-Q)break;var fp=(aG-cT)/Q,cD=I(300*fp);
cD[3]=jd;d((c$*q+bi)*4,cD)}aB=w(fZ+hd);for(var c$=aB;c$>cv;c$--){var cT=i(bi,c$,gz,fZ);if(cT>aG||cT<=aG-Q)break;
var fp=(aG-cT)/Q,cD=I(300*fp);cD[3]=jd;d((c$*q+bi)*4,cD)}}}function v(G,t){var aG=G.rx,Q=G.tD,jd=t.slice(0),bP=t[3]*F,gz=Math.abs(Q.y-aG.y)>Math.abs(Q.x-aG.x);
if(gz){var fZ=aG.x;aG.x=aG.y;aG.y=fZ;fZ=Q.x;Q.x=Q.y;Q.y=fZ}if(aG.x>Q.x){var fZ=aG;aG=Q;Q=fZ}var dt=Q.x-aG.x,a9=Q.y-aG.y,bi=dt==0?1:a9/dt,az=Math.round(aG.x),hd=aG.y+bi*(az-aG.x),aB=x(aG.x+.5),cv=az,c$=~~hd;
if(gz){jd[3]=bP*x(hd)*aB;O(c$,cv,jd);jd[3]=bP*U(hd)*aB;O(c$+1,cv,jd)}else{jd[3]=bP*x(hd)*aB;O(cv,c$,jd);
jd[3]=bP*U(hd)*aB;O(cv,c$+1,jd)}var cT=hd-bi;az=Math.round(Q.x);hd=Q.y+bi*(az-Q.x);aB=U(Q.x+.5);var fp=az,cD=~~hd;
if(gz){jd[3]=bP*x(hd)*aB;O(cD,fp,jd);jd[3]=bP*U(hd)*aB;O(cD+1,fp,jd)}else{jd[3]=bP*x(hd)*aB;O(fp,cD,jd);
jd[3]=bP*U(hd)*aB;O(fp,cD+1,jd)}if(gz){for(var f_=cv+1;f_<=fp-1;f_++){jd[3]=bP*x(cT);O(~~cT,f_,jd);jd[3]=bP*U(cT);
O(~~cT+1,f_,jd);cT+=bi}}else{for(var f_=cv+1;f_<=fp-1;f_++){jd[3]=bP*x(cT);O(f_,~~cT,jd);jd[3]=bP*U(cT);
O(f_,~~cT+1,jd);cT+=bi}}}function o(t,aG,Q,jd){for(var R=0;R<4;R++){var bP=t.tX(aG+1.3*R,Q);v(bP,jd,1)}}function fc(t,aG){this.x=Math.round(t);
this.y=Math.round(aG)}var y=Math.PI/180;fc.prototype.tX=function(t,aG){t=t*y;var Q=this.x+aG*Math.cos(t),jd=this.y+aG*Math.sin(t);
return new k(this.x,this.y,Q,jd)};fc.prototype.a7h=function(t,aG){t=t*y;var Q=this.GX+aG*Math.cos(t),jd=this.a2R+aG*Math.sin(t);
return new fc(Q,jd)};function k(t,aG,Q,jd){this.rx=new fc(t,aG);this.tD=new fc(Q,jd)}k.prototype.mB=function(t){var aG=t*this.rx.x+(1-t)*this.tD.x,Q=t*this.rx.y+(1-t)*this.tD.y;
return new fc(aG,Q)};var S=c,L=z,X=N,s=m,M=_,V=D,l=a,e=H,Y=W,J=[];B();for(var R=0;R<n.length;R++){E[R]=n[R]}var G=new k(q*T[2],p*T[3],q/2,p/2),F=T[1],b=[];
b[0]=function h(){var t=[80,40,15,60],Q=0,jd=0;X(G.mB(1.4),260,t,10);X(G.mB(1),100,[240,50,50,30],30);
L(G.mB(1),60,[255,40,0,40]);var aG=[255,255,255,255];V(G.mB(1),70,aG,aG[3],58,.5);X(G.mB(1),12,aG);aG[3]=40;
S(G.mB(1),150,aG,aG[3],150);for(var R=0;R<40;R++){Q+=Math.random()*25;jd=Math.random()*l(300)+l(100);
var bP=G.mB(1).tX(Q,jd);v(G.mB(1).tX(Q,jd),[110,110,110,30])}L(G.mB(1),130,[255,255,255,8]);var gz=[170,30,23,70];
s(G.mB(1),70,gz,1,3,3);var fZ=[60,60,130,40];X(G.mB(.47),44,fZ,5);X(G.mB(.43),22,fZ,3);fZ[3]=16;X(G.mB(.53),15,fZ,2);
var dt=[138,94,42,100];X(G.mB(.2),16,dt,2);var a9=[130,255,170,180];L(G.mB(0),4,a9);L(G.mB(-.25),5,a9);
dt=[150,90,0,50];S(G.mB(-.45),55,Y(dt),-dt[3],40,2);X(G.mB(-.42),35,dt,2);X(G.mB(-.5),15,dt,2);M(G.mB(-1.28),145,11,70);
var bi=I(0);bi[3]=50;S(G.mB(-1.28),149,bi,bi[3],4);bi=I(300);bi[3]=50;S(G.mB(-1.28),155-1,Y(bi),-bi[3],3);
var az=[130,130,10,50];s(G.mB(-1),73,az,3,2);var hd=[40,130,70,40];S(G.mB(-1),70,Y(hd),-hd[3],35);hd=[40,170,60,50];
X(G.mB(-.7),25,hd,4);var hd=[70,110,50,60];S(G.mB(1.3),30,Y(hd),-hd[3],11,3);fZ=[0,50,210,80];L(G.mB(-.72),20,fZ)};
b[1]=function bj(){L(G.mB(1),150,[240,70,70,60]);X(G.mB(1),100,[200,60,60,40],30);var t=[255,255,255,255],aG=0,Q=0;
V(G.mB(1),75,t,t[3],63);X(G.mB(1),12,t);L(G.mB(1),270,[200,200,200,20],10);for(var R=0;R<10;R++){aG+=10+Math.random()*40;
Q=Math.random()*l(250)+l(80);var jd=G.mB(1).tX(aG,Q);v(jd,[110,110,110,35])}aG=5;Q=100;for(var R=0;R<12;
R++){aG+=30;o(G.mB(1),aG,Q,[90,90,90,40])}var bP=[150,40,23,100];s(G.mB(1),70,bP,1,3,3);var gz=[30,100,60,40];
L(G.mB(-.9),180,[255,255,255,20]);X(G.mB(-.9),140,gz,15);var fZ=[170,80,25,15];s(G.mB(-.9),120,fZ,1,4,4);
var dt=[110,240,190,200];L(G.mB(-.6),3,dt);dt[3]=100;L(G.mB(-.6),7,dt);var a9=[230,120,40,85];L(G.mB(-.73),9,a9);
var bi=[60,60,190,50];X(G.mB(.3),28,bi,6);bi[3]=25;X(G.mB(.34),20,bi,3)};b[2]=function i4(){var t=[255,255,255,255],Q=0,jd=0;
X(G.mB(1),13,t);V(G.mB(1),150,t,t[3],137);var aG=[120,80,35,20];X(G.mB(1.4),260,aG,10);for(var R=0;R<40;
R++){Q+=5+Math.random()*30;jd=Math.random()*l(300);v(G.mB(1).tX(Q,jd),[110,110,110,20])}var bP=[10,30,255,30];
X(G.mB(1),70,bP,50);var gz=[15,90,170,15];X(G.mB(1.5),60,gz);var fZ=[220,220,20,50];X(G.mB(-1.15),8,fZ,2);
var t=[255,255,255,40];L(G.mB(-1.18),6,t);L(G.mB(-1.18),4,t);fZ=[110,110,10,8];S(G.mB(-1.2),32,Y(fZ),-fZ[3],20,3);
var dt=[5,0,16,255];for(var R=0;R<4;R++){X(G.mB(-1.36),10,dt,3)}var a9=[90,200,150,20],bi=a9.slice(0);
bi[3]*=2;X(G.mB(-1.32),7,bi,3);X(G.mB(-1.36),7,bi,3);X(G.mB(-1.4),7,bi,3);var t=[230,230,230,100];L(G.mB(-1.36),2,t);
t[3]=3;X(G.mB(-.55),10,t);fZ=[120,100,10,18];X(G.mB(-.55),160,fZ,8);X(G.mB(-.55),80,fZ,4);a9[3]=3;bi[3]=6;
S(G.mB(-.49),13,Y(bi),-bi[3],13,2);S(G.mB(-.55),13,Y(bi),-bi[3],13,2);a9[3]=20;X(G.mB(.15),25,a9,3);
fZ[3]=100;L(G.mB(-.52),3,fZ);fZ=[200,200,50,40];X(G.mB(.27),1,fZ,4);var az=[150,40,23,30];S(G.mB(1),80,Y(az),-az[3],2,1)};
return b[T[0]]()};j.Oc={};j.Oc.O5=function(n){var q=n.length,eR=n[0].length,p=new Array(eR);for(var R=0;
R<eR;R++)p[R]=new Array(q);for(var R=0;R<eR;R++)for(var E=0;E<q;E++)p[R][E]=n[E][R];return p};j.Oc.NH=function(n,q){var p=n.length,eR=n[0].length,E=new Array(p);
for(var R=0;R<p;R++)E[R]=new Array(eR);for(var R=0;R<p;R++)for(var T=0;T<eR;T++)E[R][T]=n[R][T]-q[R][T];
return E};j.Oc.add=function(n,q){var p=n.length,eR=n[0].length,E=new Array(p);for(var R=0;R<p;R++)E[R]=new Array(eR);
for(var R=0;R<p;R++)for(var T=0;T<eR;T++)E[R][T]=n[R][T]+q[R][T];return E};j.Oc.multiply=function(n,q){var p=n.length,E=n[0].length,eR=q[0].length;
if(E!=q.length)throw"e";var T=new Array(p);for(var R=0;R<p;R++)T[R]=new Array(eR);if((E&1)!=0)for(var R=0;
R<p;R++){var i=n[R],H=T[R];for(var Z=0;Z<eR;Z++){var w=0;for(var d=0;d<E;d++)w+=i[d]*q[d][Z];H[Z]=w}}else for(var R=0;
R<p;R++){var i=n[R],H=T[R];for(var Z=0;Z<eR;Z++){var w=0;for(var d=0;d<E;d+=2)w+=i[d]*q[d][Z]+i[d+1]*q[d+1][Z];
H[Z]=w}}return T};j.Oc.cn=function(n,q){var p=n.length,eR=n[0].length,E=new Array(p);for(var R=0;R<p;
R++){var T=0;for(var i=0;i<eR;i++)T+=n[R][i]*q[i];E[R]=T}return E};j.Oc.r4=function(n,q){var p=[];for(var R=0;
R<n;R++){p.push([]);for(var E=0;E<q;E++)p[R].push(0)}return p};j.Oc.af8=function(n){for(var R=0;R<n.length;
R++)console.log(JSON.stringify(n[R]))};j.Oc.a2g=function(n){var q=[];for(var R=0;R<n.length;R++)q.push(n[R].join(","));
return"["+q.join(";")+"]"};j.Oc.TD=function(n,q){var p=n.length;for(var E=0;E<p;E++){var T=0,i=Number.NEGATIVE_INFINITY;
for(var R=E;R<p;R++)if(Math.abs(n[R][E])>i){T=R;i=Math.abs(n[R][E])}j.Oc.apW(n,E,T);for(var R=E+1;R<p;
R++){if(n[E][E]==0)return 1;var H=n[R][E]/n[E][E];for(var Z=E;Z<p+1;Z++)n[R][Z]-=n[E][Z]*H}}for(var R=p-1;
R>=0;R--){if(n[R][R]==0)return 1;var w=n[R][p]/n[R][R];q[R]=w;for(var Z=R-1;Z>=0;Z--){n[Z][p]-=n[Z][R]*w;
n[Z][R]=0}}return 0};j.Oc.apW=function(n,q,p){var E=n[q];n[q]=n[p];n[p]=E};j.Oc.a8U=function(n){var q=n.length,p=j.Oc.r4(q,q);
for(var R=0;R<q;R++)p[R][R]=n[R];return p};j.Oc.arZ=function(n){var q=n.length,p=n[0].length,E=new Array(q);
for(var R=0;R<q;R++){E[R]=0;for(var T=0;T<p;T++)E[R]+=n[R][T];E[R]/=p}return E};j.Oc.VT=function(n){var q=0;
for(var R=0;R<n.length;R++)q+=n[R]*n[R];return Math.sqrt(q)};j.JV={};j.JV.ow=function(n){var q=~~(n+.5);
return q<0?0:q>255?255:q};j.JV.transform=function(n,q,p){var E=j.JV.ow,T=n._.length;for(var R=0;R<T;
R++){var i=n._[R],H=n.q[R],Z=n.X[R];q._[R]=E(p[0]*i+p[1]*H+p[2]*Z+p[3]*255);q.q[R]=E(p[4]*i+p[5]*H+p[6]*Z+p[7]*255);
q.X[R]=E(p[8]*i+p[9]*H+p[10]*Z+p[11]*255)}};j.JV._K=function(n,q,p){var E=j.JV.ow,T=n.length;for(var R=0;
R<T;R+=4){var i=n[R],H=n[R+1],Z=n[R+2];q[R]=E(p[0]*i+p[1]*H+p[2]*Z+p[3]*255);q[R+1]=E(p[4]*i+p[5]*H+p[6]*Z+p[7]*255);
q[R+2]=E(p[8]*i+p[9]*H+p[10]*Z+p[11]*255)}};j.JV.Si=function(n){var q=n[0]+n[1]+n[2],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(q==1){var E=n.indexOf(1);p[E]=p[E+4]=p[E+8]=1}else{p[0]=n[0];p[5]=n[1];p[10]=n[2]}return p};j.JV.t2=function(n,q,p){return[1,0,0,n,0,1,0,q,0,0,1,p,0,0,0,1]};
j.JV.oR=function(n,q,p){return[n,0,0,0,0,q,0,0,0,0,p,0,0,0,0,1]};j.JV.ahw=function(n){return[n[0],n[1],n[2],n[4],n[5],n[6],n[8],n[9],n[10]]};
j.JV.Me=function(n){return[n[0],n[1],n[2],0,n[3],n[4],n[5],0,n[6],n[7],n[8],0,0,0,0,1]};j.JV.hI=function(n,q){return[n[0]*q[0]+n[1]*q[1]+n[2]*q[2]+n[3]*q[3],n[4]*q[0]+n[5]*q[1]+n[6]*q[2]+n[7]*q[3],n[8]*q[0]+n[9]*q[1]+n[10]*q[2]+n[11]*q[3],n[12]*q[0]+n[13]*q[1]+n[14]*q[2]+n[15]*q[3]]};
j.JV.O5=function(n){var q=[];q[0]=n[0];q[1]=n[4];q[2]=n[8];q[3]=n[12];q[4]=n[1];q[5]=n[5];q[6]=n[9];
q[7]=n[13];q[8]=n[2];q[9]=n[6];q[10]=n[10];q[11]=n[14];q[12]=n[3];q[13]=n[7];q[14]=n[11];q[15]=n[15];
return q};j.JV.multiply=function(n,q){var p=[];p[0]=n[0]*q[0]+n[1]*q[4]+n[2]*q[8]+n[3]*q[12];p[1]=n[0]*q[1]+n[1]*q[5]+n[2]*q[9]+n[3]*q[13];
p[2]=n[0]*q[2]+n[1]*q[6]+n[2]*q[10]+n[3]*q[14];p[3]=n[0]*q[3]+n[1]*q[7]+n[2]*q[11]+n[3]*q[15];p[4]=n[4]*q[0]+n[5]*q[4]+n[6]*q[8]+n[7]*q[12];
p[5]=n[4]*q[1]+n[5]*q[5]+n[6]*q[9]+n[7]*q[13];p[6]=n[4]*q[2]+n[5]*q[6]+n[6]*q[10]+n[7]*q[14];p[7]=n[4]*q[3]+n[5]*q[7]+n[6]*q[11]+n[7]*q[15];
p[8]=n[8]*q[0]+n[9]*q[4]+n[10]*q[8]+n[11]*q[12];p[9]=n[8]*q[1]+n[9]*q[5]+n[10]*q[9]+n[11]*q[13];p[10]=n[8]*q[2]+n[9]*q[6]+n[10]*q[10]+n[11]*q[14];
p[11]=n[8]*q[3]+n[9]*q[7]+n[10]*q[11]+n[11]*q[15];p[12]=n[12]*q[0]+n[13]*q[4]+n[14]*q[8]+n[15]*q[12];
p[13]=n[12]*q[1]+n[13]*q[5]+n[14]*q[9]+n[15]*q[13];p[14]=n[12]*q[2]+n[13]*q[6]+n[14]*q[10]+n[15]*q[14];
p[15]=n[12]*q[3]+n[13]*q[7]+n[14]*q[11]+n[15]*q[15];return p};j.JV.z3=function(n){var q=[];q[0]=n[5]*n[10]*n[15]-n[5]*n[14]*n[11]-n[6]*n[9]*n[15]+n[6]*n[13]*n[11]+n[7]*n[9]*n[14]-n[7]*n[13]*n[10];
q[1]=-n[1]*n[10]*n[15]+n[1]*n[14]*n[11]+n[2]*n[9]*n[15]-n[2]*n[13]*n[11]-n[3]*n[9]*n[14]+n[3]*n[13]*n[10];
q[2]=n[1]*n[6]*n[15]-n[1]*n[14]*n[7]-n[2]*n[5]*n[15]+n[2]*n[13]*n[7]+n[3]*n[5]*n[14]-n[3]*n[13]*n[6];
q[3]=-n[1]*n[6]*n[11]+n[1]*n[10]*n[7]+n[2]*n[5]*n[11]-n[2]*n[9]*n[7]-n[3]*n[5]*n[10]+n[3]*n[9]*n[6];
q[4]=-n[4]*n[10]*n[15]+n[4]*n[14]*n[11]+n[6]*n[8]*n[15]-n[6]*n[12]*n[11]-n[7]*n[8]*n[14]+n[7]*n[12]*n[10];
q[5]=n[0]*n[10]*n[15]-n[0]*n[14]*n[11]-n[2]*n[8]*n[15]+n[2]*n[12]*n[11]+n[3]*n[8]*n[14]-n[3]*n[12]*n[10];
q[6]=-n[0]*n[6]*n[15]+n[0]*n[14]*n[7]+n[2]*n[4]*n[15]-n[2]*n[12]*n[7]-n[3]*n[4]*n[14]+n[3]*n[12]*n[6];
q[7]=n[0]*n[6]*n[11]-n[0]*n[10]*n[7]-n[2]*n[4]*n[11]+n[2]*n[8]*n[7]+n[3]*n[4]*n[10]-n[3]*n[8]*n[6];q[8]=n[4]*n[9]*n[15]-n[4]*n[13]*n[11]-n[5]*n[8]*n[15]+n[5]*n[12]*n[11]+n[7]*n[8]*n[13]-n[7]*n[12]*n[9];
q[9]=-n[0]*n[9]*n[15]+n[0]*n[13]*n[11]+n[1]*n[8]*n[15]-n[1]*n[12]*n[11]-n[3]*n[8]*n[13]+n[3]*n[12]*n[9];
q[10]=n[0]*n[5]*n[15]-n[0]*n[13]*n[7]-n[1]*n[4]*n[15]+n[1]*n[12]*n[7]+n[3]*n[4]*n[13]-n[3]*n[12]*n[5];
q[11]=-n[0]*n[5]*n[11]+n[0]*n[9]*n[7]+n[1]*n[4]*n[11]-n[1]*n[8]*n[7]-n[3]*n[4]*n[9]+n[3]*n[8]*n[5];q[12]=-n[4]*n[9]*n[14]+n[4]*n[13]*n[10]+n[5]*n[8]*n[14]-n[5]*n[12]*n[10]-n[6]*n[8]*n[13]+n[6]*n[12]*n[9];
q[13]=n[0]*n[9]*n[14]-n[0]*n[13]*n[10]-n[1]*n[8]*n[14]+n[1]*n[12]*n[10]+n[2]*n[8]*n[13]-n[2]*n[12]*n[9];
q[14]=-n[0]*n[5]*n[14]+n[0]*n[13]*n[6]+n[1]*n[4]*n[14]-n[1]*n[12]*n[6]-n[2]*n[4]*n[13]+n[2]*n[12]*n[5];
q[15]=n[0]*n[5]*n[10]-n[0]*n[9]*n[6]-n[1]*n[4]*n[10]+n[1]*n[8]*n[6]+n[2]*n[4]*n[9]-n[2]*n[8]*n[5];var p=n[0]*q[0]+n[1]*q[4]+n[2]*q[8]+n[3]*q[12];
for(var R=0;R<16;R++)q[R]/=p;return q};j.JV.a8a=function(n){var q=[],p=n[5]*n[10]*n[15]-n[5]*n[14]*n[11]-n[6]*n[9]*n[15]+n[6]*n[13]*n[11]+n[7]*n[9]*n[14]-n[7]*n[13]*n[10],E=-n[4]*n[10]*n[15]+n[4]*n[14]*n[11]+n[6]*n[8]*n[15]-n[6]*n[12]*n[11]-n[7]*n[8]*n[14]+n[7]*n[12]*n[10],T=n[4]*n[9]*n[15]-n[4]*n[13]*n[11]-n[5]*n[8]*n[15]+n[5]*n[12]*n[11]+n[7]*n[8]*n[13]-n[7]*n[12]*n[9],i=-n[4]*n[9]*n[14]+n[4]*n[13]*n[10]+n[5]*n[8]*n[14]-n[5]*n[12]*n[10]-n[6]*n[8]*n[13]+n[6]*n[12]*n[9];
return n[0]*p+n[1]*E+n[2]*T+n[3]*i};j.JV.r8=j.JV.Me([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
j.JV.arD=j.JV.Me([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
j.JV.abj=j.JV.z3(j.JV.r8);j.Rp={};j.Rp.$B=new Uint32Array(1);j.Rp.D5=function(n,q,p,E,T,i){var H=new Uint32Array(n),Z=0,w=j.Rp.$B;
if(w.length<q*4)j.Rp.$B=w=new Uint32Array(q*4);var d=new Float64Array(w.buffer);for(var R=0;R<q;R+=2){var O=T[R],W=T[R+1],C=i[R],a=i[R+1];
w[Z]=W;d[Z+2>>1]=C;w[Z+1]=H[O];H[O]=Z+1;Z+=4;w[Z]=O;d[Z+2>>1]=a;w[Z+1]=H[W];H[W]=Z+1;Z+=4}return{gf:w,aqo:d,a3M:H}};
j.Rp.TD=function(n,q,p,E,T,i,H){var Z=1,w=j.Rp.D5(n,q,p,E,T,i),d=w.gf,O=w.aqo,W=w.a3M,C=new Uint32Array(n),a=new j.Rp.N2(n),$=1,m=0;
a.push(p);a.push(E);var B=new j.Rp.N2(n),I=new Uint8Array(n),x=new Uint32Array(n);I[p]=1;I[E]=2;var U=new Uint32Array(n),N=new Uint32Array(n);
N[p]=N[E]=0;U[p]=U[E]=1;while(!0){var f=-1,y=0,X=1e30;while(!a.WV()&&f==-1){var c=a.top(),D=I[c],z=W[c]-1;
while(z!=-1){var _=d[z],v=I[_],o=z^D-1<<2;if(O[o+2>>1]!=0){if(v==0){j.Rp.ib(c,z,_,I,x,N,U);a.push(_)}else if(v==D&&U[_]<=U[c]&&N[_]>N[c])j.Rp.ib(c,z,_,I,x,N,U);
else if(v!=D){f=o}}z=d[z+1]-1}if(f!=-1)break;a.pop()}if(f==-1){break}$++;var k=f;while(k!=-1){C[y]=k;
y++;k=x[d[k^4]]-1}var S=y>>1;for(var R=0;R<S;R++){var L=C[R];C[R]=C[y-R-1];C[y-R-1]=L}k=x[d[f]]-1;while(k!=-1){C[y]=k^4;
y++;k=x[d[k^4]]-1}for(var R=0;R<y;R++)X=Math.min(X,O[C[R]+2>>1]);m+=X;if(m>=H)return{W0:null,rj:m};for(var R=0;
R<y;R++){var s=C[R],M=s^4,c=d[M],_=d[s];O[s+2>>1]-=X;O[M+2>>1]+=X;if(O[s+2>>1]==0&&I[c]==I[_]){if(I[c]==1){x[_]=0;
B.push(_)}if(I[c]==2){x[c]=0;B.push(c)}}}while(!B.WV()){var c=B.pop(),D=I[c],z=W[c]-1,V=D==1?4:0,l=0,e=0,Y=1e9;
while(z!=-1){var _=d[z],J=z^4,o=z^V;if(I[_]==D&&O[o+2>>1]>0&&j.Rp.a6F(_,p,E,x,d,$,U,N)+1<Y){l=_;e=J;
Y=N[_]+1}z=d[z+1]-1}if(e!=0){j.Rp.ib(l,e,c,I,x,N,U);continue}z=W[c]-1;while(z!=-1){var _=d[z],o=z^V;
if(I[_]==D){if(O[o+2>>1]>0){a.push(_)}if(x[_]==z+1){x[_]=0;B.push(_)}}z=d[z+1]-1}I[c]=0;a.remove(c)}}var G=[];
for(var R=0;R<q;R+=2){var c=T[R],_=T[R+1];if(I[c]==1&&I[_]!=1){G.push(R>>1)}if(I[_]==1&&I[c]!=1){G.push(q+R>>1)}}return{W0:G,rj:m}};
j.Rp.ib=function(n,q,p,E,T,i,H){E[p]=E[n];T[p]=q+1;i[p]=i[n]+1;H[p]=H[n]};j.Rp.a6F=function(n,q,p,E,T,i,H,Z){var w=n,d=E[n]-1,O=0;
while(d!=-1&&H[n]!=i){n=T[d^4];d=E[n]-1;O++}if(d==-1&&n!=q&&n!=p)return 1e9;var W=Z[n]+O;O=0;d=E[w]-1;
while(w!=n){Z[w]=W-O;O++;H[w]=i;w=T[d^4];d=E[w]-1}return W};j.Rp.apY=function(n,q,p,E,T,i){var H=j.Rp.D5(n,q,p,E,T,i),Z=H.gf,w=H.aqo,d=H.a3M,O=0,W=0,C=new Uint32Array(n*2),a=new j.Rp.BV(n),B=0;
while(!0){a.reset();a.push(p);for(var R=0;R<n;R++)C[R<<1]=0;while(!a.WV()){var $=a.pop(),I=d[$]-1;while(I!=-1){B=Z[I];
if(C[B<<1]==0&&w[I+2>>1]>0&&B!=p){C[B<<1]=$+1;C[(B<<1)+1]=I;a.push(B)}I=Z[I+1]-1}if(C[E<<1]!=0){break}}if(C[E<<1]==0){break}var x=1e30;
B=E;while(!0){var U=C[B<<1]-1;if(U==-1)break;var N=C[(B<<1)+1];x=Math.min(x,w[N+2>>1]);B=U}B=E;while(!0){var U=C[B<<1]-1;
if(U==-1)break;var N=C[(B<<1)+1],m=N^4;w[N+2>>1]-=x;w[m+2>>1]+=x;B=U}O+=x}var f=[];for(var R=0;R<q;R+=2){var U=T[R],B=T[R+1];
if((C[U<<1]!=0||U==p)&&C[B<<1]==0&&B!=p){f.push(R>>1)}if((C[B<<1]!=0||B==p)&&C[U<<1]==0&&U!=p){f.push(q+R>>1)}}return{W0:f,rj:O}};
j.Rp.BV=function(n){n|=n>>1;n|=n>>2;n|=n>>4;n|=n>>8;n|=n>>16;this.CY=new Uint32Array(n+1);this.Wm=n;
this.iw=0;this._l=0};j.Rp.BV.prototype={push:function(n){var q=this._l;this.CY[q]=n;this._l=q+1&this.Wm},pop:function(){var n=this.iw,q=this.CY[n];
this.iw=n+1&this.Wm;return q},WV:function(){return this.iw==this._l},reset:function(){this.iw=0;this._l=0}};
j.Rp.N2=function(n){n|=n>>1;n|=n>>2;n|=n>>4;n|=n>>8;n|=n>>16;this.CY=new Uint32Array(n+1);this.ry=new Uint32Array(n+1);
this.Wm=n;this.iw=0;this._l=0};j.Rp.N2.prototype={top:function(){return this.CY[this.iw]},a0i:function(){return this.CY[this._l]},push:function(n){if(this.ry[n]!=0)return;
this.ry[n]=this._l+1;var q=this._l;this.CY[q]=n;this._l=q+1&this.Wm},pop:function(){var n=this.iw,q=this.CY[n];
this.ry[q]=0;this.iw=n+1&this.Wm;return q},WV:function(){return this.iw==this._l},remove:function(n){var q=this.ry[n]-1;
if(q==-1)return;this.ry[n]=0;if(q==this.iw){this.pop();return}var p=this.pop();this.CY[q]=p;this.ry[p]=q+1},Eb:function(R){return R+this.Wm+1&this.Wm}};
j.Rp.qM=function(n,q,p){var E=j.Rp.hf(n,q,p);if(q<E-1)j.Rp.qM(n,q,E-1);if(E<p)j.Rp.qM(n,E,p)};j.Rp.hf=function(n,q,p){var E=n[q+p>>>1];
while(q<=p){while(n[q]<E)q++;while(n[p]>E)p--;if(q<=p){j.Rp.St(n,q,p);q++;p--}}return q};j.Rp.St=function(n,q,p){var E=n[q];
n[q]=n[p];n[p]=E};j.k4={};j.k4.ait=function(n){for(var R=0;R<n.length;R++)j.k4.ik(n,R)};j.k4.ik=function(n,R){n[R].v.keyShapeInvalidated={t:"bool",v:!0}};
j.k4.ag0=function(n){for(var R=0;R<n.length;R++)n[R].v.keyOriginIndex.v=R};j.k4.Ji=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
j.k4.sH=function(n){n=n.v;var q={Rctn:2,Ln:4,Elps:5},p=q[n.classID],E=n.topLeft?j.k4.xb(n):null,T=null,i=0;
if(p==4){var H=n.Strt.v,Z=n.End.v;T=[H.Hrzn.v.val,H.Vrtc.v.val,Z.Hrzn.v.val,Z.Vrtc.v.val];i=n.Wdth.v.val}if(p==null)return null;
return j.k4.$L(p,p==4?null:j.k4.pW(n),E,T,i)};j.k4.Az=function(n,q,p,E,T,i){var H={classID:n,unitValueQuadVersion:{t:"long",v:1}};
if(q)j.k4.xD(H,["Left","Top","Rght","Btom"],q);if(p)j.k4.xD(H,["topLeft","topRight","bottomRight","bottomLeft"],p);
if(n=="Ln"){H.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:E[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:E[1]}}}},H.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:E[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:E[3]}}}},H.Wdth={t:"UntF",v:{type:"#Pxl",val:T}}}if(i)H.Nm={t:"TEXT",v:i};
return{t:"Objc",v:H}};j.k4.$L=function(n,q,p,E,T){var i=j.k4.Ji(),H=i.v;delete H.keyShapeInvalidated;
H.keyOriginType={t:"long",v:n};H.keyOriginResolution={t:"doub",v:75};if(n==4){H.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:E[0]},Vrtc:{t:"doub",v:E[1]}}};
H.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:E[2]},Vrtc:{t:"doub",v:E[3]}}};q=[Math.min(E[0],E[2]),Math.min(E[1],E[3]),Math.max(E[0],E[2]),Math.max(E[1],E[3])];
H.keyOriginLineWeight={t:"doub",v:T},H.keyOriginLineArrowSt={t:"bool",v:!1};H.keyOriginLineArrowEnd={t:"bool",v:!1};
H.keyOriginLineArrWdth={t:"doub",v:0};H.keyOriginLineArrLngth={t:"doub",v:0};H.keyOriginLineArrConc={t:"long",v:0}}var Z={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
H.keyOriginShapeBBox={t:"Objc",v:Z};j.k4.s8(H,q);if(p!=null){var w={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
H.keyOriginRRectRadii={t:"Objc",v:w};j.k4.SC(H,p)}return i};j.k4.B=function(n,q,p,E){var T=j.V.kG(q),i=j.V.HQ(q),H=Math.max(Math.abs(q[0]),Math.abs(q[1])),Z=Math.max(Math.abs(q[3]),Math.abs(q[4]));
for(var R=0;R<n.length;R++){var w=n[R].v,d=w.keyShapeInvalidated;if(d&&d.v||w.keyOriginType==null)continue;
if(p.length!=0&&p.indexOf(R)==-1)continue;var O=w.keyOriginType.v;if(!T||!i||E&&O==2&&Math.abs(1-H/Z)>.01){j.k4.ik(n,R);
continue}var W=j.k4.oN(w);j.V.B(q,W);j.k4.s8(w,[Math.min(W[0],W[2]),Math.min(W[1],W[3]),Math.max(W[0],W[2]),Math.max(W[1],W[3])]);
if(O==2){var C=j.k4.CT(w),a=new b$(q[0],q[1],q[3],q[4],0,0);a.it();if(a.jS==0){C.push(C.shift());a.rotate(Math.PI/2);
a.it()}if(a.jS<0){var B=C[0];C[0]=C[1];C[1]=B;B=C[2];C[2]=C[3];C[3]=B}if(a.FF<0){var B=C[0];C[0]=C[3];
C[3]=B;B=C[1];C[1]=C[2];C[2]=B}if(E)for(var $=0;$<4;$++)C[$]=C[$]*H;j.k4.SC(w,C)}if(O==4){w.keyOriginLineWeight.v*=H;
var I=j.k4.Gz(w);j.V.B(q,I);j.k4.a58(w,I)}}};j.k4.dA=function(n,q){var p=q.Q;for(var R=0;R<n.length;
R++){var E=n[R].v,T=E.keyShapeInvalidated,W;if(T&&T.v||E.keyOriginType==null)continue;var i=E.keyOriginType.v,H=j.k4.oN(E),Z=H[0],w=H[1],d=H[2],O=H[3];
if(i==1)W=j.G.la.Rect(Z,w,d-Z,O-w,0);else if(i==2){var C=j.k4.CT(E);W=j.G.la.Rect(Z,w,d-Z,O-w,C)}else if(i==4){var a=j.k4.Gz(E);
W=j.G.la._t(a[0],a[1],a[2],a[3],E.keyOriginLineWeight.v)}else if(i==5)W=j.G.la.OG(Z,w,d-Z,O-w);var B=j.G.HC(p,R),$=j.G.mE(p,R);
W[2].HW=p[B].HW;var I=p;p=p.slice(0,B);for(var x=2;x<W.length;x++)p.push(W[x]);for(var x=B+$;x<I.length;
x++)p.push(I[x])}q.Q=p;q.zK=!0};j.k4.EY=function(n){var q=1e9,p=-q,E=1e9,T=-E,i=null,H=n.Jy(),Z=H[0],w=H[1];
for(var d=0;d<w.length;d++){var O=Z[w[d]],W=O.add.vogk;if(W==null)continue;var C=O.add.vmsk.p;for(var a=0;
a<W.length;a++){var B=W[a].v,$=B.keyShapeInvalidated;if($&&$.v||B.keyOriginType==null)continue;if(w.length==1&&C.length!=0&&C.indexOf(a)==-1)continue;
var I=B.keyOriginType.v;if(I!=4){var x=j.k4.oN(B);q=Math.min(q,x[0]);E=Math.min(E,x[1]);p=Math.max(p,x[2]);
T=Math.max(T,x[3])}if(I==2&&i==null){i=j.k4.CT(B)}}}return[q<p?[q,E,p,T]:null,i]};j.k4.arE=function(n,q,p){var E=j.k4.EY(n)[0],T;
if(E){var i=new b$;i.translate(-E[0],-E[1]);i.scale(1/(E[2]-E[0]),1/(E[3]-E[1]));i.scale(q[2]-q[0],q[3]-q[1]);
i.translate(q[0],q[1]);T=j.V.fa(i)}var H=n.Jy(),Z=H[0],w=H[1];for(var d=0;d<w.length;d++){var O=Z[w[d]],W=O.add.vogk;
if(W==null)continue;var C=O.add.vmsk.p;for(var a=0;a<W.length;a++){var B=W[a].v,$=B.keyShapeInvalidated;
if($&&$.v||B.keyOriginType==null)continue;if(w.length==1&&C.length!=0&&C.indexOf(a)==-1)continue;var I=B.keyOriginType.v;
if(I!=4&&q[0]!=null){var q=j.k4.oN(B);j.V.B(T,q);j.k4.s8(B,q)}if(I==2&&p!=null){j.k4.SC(B,p)}}}};j.k4.oN=function(n){return j.k4.pW(n.keyOriginShapeBBox.v)};
j.k4.pW=function(n){var q=n.Left.v.val,p=n.Rght.v.val,E=n.Top.v.val,T=n.Btom.v.val;return[q,E,p,T]};
j.k4.s8=function(n,q){j.k4.xD(n.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],q)};j.k4.CT=function(n){return j.k4.xb(n.keyOriginRRectRadii.v)};
j.k4.xb=function(n){var q=[],p=["topLeft","topRight","bottomRight","bottomLeft"];for(var E=0;E<4;E++)q.push(n[p[E]].v.val);
return q};j.k4.SC=function(n,q){j.k4.xD(n.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],q)};
j.k4.xD=function(n,q,p){for(var R=0;R<4;R++)if(p[R]!=null)n[q[R]]={t:"UntF",v:{type:"#Pxl",val:p[R]}}};
j.k4.Gz=function(n){var q=n.keyOriginLineStart.v,p=n.keyOriginLineEnd.v;return[q.Hrzn.v,q.Vrtc.v,p.Hrzn.v,p.Vrtc.v]};
j.k4.a58=function(n,q){var p=n.keyOriginLineStart.v,E=n.keyOriginLineEnd.v;p.Hrzn.v=q[0];p.Vrtc.v=q[1];
E.Hrzn.v=q[2];E.Vrtc.v=q[3]};j.O={};j.O.clone=function(n){return{F:n.F.slice(0),W:n.W.slice(0)}};j.O.hj=function(n){if(n.length<6)return!0;
var q=n.length-4;for(var R=0;R<q;R+=2)if(!j.O.rM(n[R],n[R+1],n[R+2],n[R+3],n[R+4],n[R+5]))return!1;if(!j.O.rM(n[q],n[q+1],n[q+2],n[q+3],n[0],n[1]))return!1;
if(!j.O.rM(n[q+2],n[q+3],n[0],n[1],n[2],n[3]))return!1;return!0};j.O.rM=function(n,q,p,E,T,i){return(q-E)*(T-p)+(p-n)*(i-E)>=0};
j.O.$V=function(n){var q={},p=null,E=0,T={M:2,L:2,Q:4,C:6};for(var R=0;R<n.F.length;R++){var i=n.F[R];
if(i.charAt(0)=="#"){if(q[i]==null)q[i]={W:[],F:[]};p=q[i]}else if(i!="X"){p.F.push(i);var H=T[i];if(H==null)H=0;
for(var Z=0;Z<H;Z++)p.W.push(n.W[E+Z]);E+=H}}return q};j.O.zt=function(n,q,p){n=j.O.TR(n);var E=n.W,T=n.F,i=0,H=[],Z=null;
for(var R=0;R<T.length;R++){var w=T[R];if(w=="M"){Z={a4D:i,Fe:0,qy:!1};H.push(Z);i+=2}if(w=="C"){Z.Fe++;
i+=6}if(w=="Z"){Z.qy=!0}}var d=[];for(var R=0;R<H.length;R++)if(H[R].Fe!=0)d.push(H[R]);H=d;for(var R=0;
R<H.length;R++){var O=H[R],W=O.a4D,C=W+2+O.Fe*6,B=0;O.C8=j.O.Uh(E,W,C);var a=E[W]==E[C-2]&&E[W+1]==E[C-1];
for(var $=0;$<O.Fe;$++){var I=W+$*6,x=I+6;B+=(E[x]-E[I])*(E[x+1]+E[I+1])}if(O.Fe==2){var U=function(b,h,bj){var i4=1-bj;
return i4*i4*i4*b[h]+3*i4*i4*bj*b[h+2]+3*i4*bj*bj*b[h+4]+bj*bj*bj*b[h+6]},N=E[W],m=E[W+1],f=E[W+6],c=E[W+7],D=E[W+6],z=E[W+7],_=U(E,W,.5),v=U(E,W+1,.5),o=U(E,W+6,.5),y=U(E,W+7,.5);
B=(_-N)*(v-m)+(f-_)*(c-v)+(o-f)*(y-c)+(D-o)*(z-y)}if(!a)B+=(E[W]-E[C-2])*(E[W+1]+E[C-1]);O.Pf=B<=0}for(var R=0;
R<H.length-1;R++)for(var I=R+1;I<H.length;I++){var k=H[R],S=H[I];if(S.C8.Gf(k.C8)){H[R]=S;H[I]=k}}var L=H.length==0?!0:H[0].Pf,X=[{type:6},{type:8,all:0}];
for(var R=0;R<H.length;R++){var O=H[R],W=O.a4D,C=W+2+O.Fe*6,a=E[W]==E[C-2]&&E[W+1]==E[C-1],s=O.qy||a?0:3,M=O.Pf==L&&!q?1:0;
if(!q&&R!=0){if(H[R-1].C8.Gf(O.C8)&&H[R-1].Pf!=O.Pf)M=0;for(var I=0;I<H.length;I++)if(I!=R&&H[I].C8.Gf(O.C8))M=0}X.push({type:s,length:O.Fe+(a?0:1),HW:p?1:M,cZ:2});
for(var I=0;I<O.Fe;I++){var i=W+I*6,V=new fc(E[i],E[i+1]),l=new fc(E[i+2],E[i+3]),e;if(I==0){if(a)e=new fc(E[C-4],E[C-3]);
else e=V.clone()}else e=new fc(E[i-2],E[i-1]);X.push({type:s+2,m5:e,L:V,OR:l})}if(!a){var Y=new fc(E[C-2],E[C-1]);
X.push({type:s+2,m5:new fc(E[C-4],E[C-3]),L:Y,OR:Y.clone()})}}for(var I=0;I<X.length;I++){var J=X[I];
if(J.type>5||J.type==0||J.type==3)continue;var F=J.m5.rv(J.L)||J.OR.rv(J.OR);if(!F){var k=J.m5.x*(J.L.y-J.OR.y)+J.L.x*(J.OR.y-J.m5.y)+J.OR.x*(J.m5.y-J.L.y);
if(Math.abs(k)<1e-6)F=!0}if(F)J.type--}return X};j.O.kF=function(n){var q=j.G.ji(n),p=!1;for(var R=2;
R<n.length;R++){var E=n[R].HW;if(E!=null){if(E==2||E==0||E==3)p=!0}}if(p&&n.length<15e3&&q>1)n=j.G.zz(n);
var T=j.O.kp(n);return{IT:T,Qx:p?1:0}};j.O.kp=function(){function n(E,T,i,H){if(!H&&E.OR.rv(E.L)&&T.m5.rv(T.L)){i.W.push(T.L.x,T.L.y);
i.F.push("L")}else{i.W.push(E.OR.x,E.OR.y,T.m5.x,T.m5.y,T.L.x,T.L.y);i.F.push("C")}}function q(E,T,R,i,H,Z){var w=T[R];
E.W.push(w.L.x,w.L.y);E.F.push("M");for(var d=R;d<R+i-1;d++)n(T[d],T[d+1],E,Z);if(!H)n(T[d],T[R],E,Z)}function p(E,T){if(T==null)T=!1;
var i={W:[],F:[]};for(var R=0;R<E.length;R++){if(E[R].type>5)continue;var H=E[R].length;if(H==0)continue;
if(R==E.length-1)break;var Z=E[R].type==3;q(i,E,R+1,H,Z,T);if(!Z)i.F.push("Z");R+=H}return i}return p}();
j.O.aiA=function(n){var q=n.W,p=[],E,T=0;for(var R=0;R<n.F.length;R++){var i=n.F[R];if(i=="C"){E.push(q[T++],q[T++],q[T++],q[T++],q[T++],q[T++])}else if(i=="Z"){}else{E=[];
if(i!="M"){E.push(i);R++}E.push(q[T++],q[T++]);p.push(E)}}return p};j.O.YJ=function(n,q,p,E){if(E==null)E=1e9;
var T=1e9,i=0;for(var R=0;R<n.length;R+=2){var H=q-n[R],Z=p-n[R+1],w=H*H+Z*Z;if(w<T){T=w;i=R>>>1}}return T<E*E?i:-1};
j.O.OQ=function(n,q,p,E){for(var R=0;R<n.length;R+=2){var T=n[R],i=n[R+1],H=q[R],Z=q[R+1];p[R]=T+(H-T)*E;
p[R+1]=i+(Z-i)*E}};j.O.B=function(n,q,p){for(var R=0;R<n.length;R+=2){var E=n[R],T=n[R+1];p[R]=E*q.jS+T*q.kr+q.R_;
p[R+1]=E*q.X+T*q.FF+q.so}};j.O.Uh=function(n,q,p){if(q==null)q=0;if(p==null)p=n.length;var E=99999999999,T=-E,i=99999999999,H=-i;
for(var R=q;R<p;R+=2){var Z=n[R],w=n[R+1];E=Math.min(E,Z);i=Math.min(i,w);T=Math.max(T,Z);H=Math.max(H,w)}return new eL(E,i,T-E,H-i)};
j.O.QR=function(n,q){var p=Math.max(q.x,Math.min(q.x+q.v,n.x)),E=Math.max(q.y,Math.min(q.y+q.o,n.y)),T=n.x-p,i=n.y-E;
return Math.sqrt(T*T+i*i)};j.O.Xf=function(n){if(n.M6())return new eL(Math.floor(n.x),Math.floor(n.y),Math.ceil(n.v),Math.ceil(n.o));
var q=Math.floor(n.x),p=Math.ceil(n.x+n.v),E=Math.floor(n.y),T=Math.ceil(n.y+n.o);return new eL(q,E,p-q,T-E)};
j.O.vK=function(n){return j.O.Xf(j.O.Uh(n))};j.O.aS=function(n){var q=n.x,p=n.y,E=n.x+n.v,T=n.y+n.o;
return{F:["M","L","L","L","Z"],W:[q,p,E,p,E,T,q,T]}};j.O.concat=function(n,q,p){if(p==null)p=new b$;
for(var R=0;R<q.W.length;R+=2){var E=q.W[R],T=q.W[R+1];n.W.push(E*p.jS+T*p.kr+p.R_);n.W.push(E*p.X+T*p.FF+p.so)}for(var R=0;
R<q.F.length;R++)n.F.push(q.F[R])};j.O.TR=function(n){var q=n.W,p=[],E=[],T=0,i=0,H=0,Z=0,w=0,d=0,O=0,W=0,C=0;
for(var R=0;R<n.F.length;R++){var a=n.F[R];if(a=="M"){i=q[T];H=q[T+1];T+=2;E.push(a);p.push(i,H)}else if(a=="C"){Z=q[T];
w=q[T+1];d=q[T+2];O=q[T+3];W=q[T+4];C=q[T+5];T+=6;E.push(a);p.push(Z,w,d,O,W,C);i=W;H=C}else if(a=="Q"){Z=q[T];
w=q[T+1];d=q[T+2];O=q[T+3];T+=4;var B=Z-i,$=w-H,I=d-Z,x=O-w;E.push("C");p.push(i+2/3*B,H+2/3*$,Z+1/3*I,w+1/3*x,d,O);
i=d;H=O}else if(a=="L"){Z=q[T];w=q[T+1];T+=2;var U=Z-i,N=w-H;E.push("C");p.push(i,H,Z,w,Z,w);i=Z;H=w}else E.push(a)}return{F:E,W:p}};
j.O.arV=function(n){var q=n.W,p=[],E=[],T=0;for(var R=0;R<n.F.length;R++){var i=n.F[R];if(i=="Q"){var H=q[T-2],Z=q[T-1],w=q[T],d=q[T+1],O=q[T+2],W=q[T+3];
T+=4;var C=w-H,a=d-Z,B=O-w,$=W-d;E.push("C");p.push(H+2/3*C,Z+2/3*a,w+1/3*B,d+1/3*$,O,W)}else{var I=0;
if(i=="M"||i=="L")I=2;else if(i=="C")I=6;for(var x=0;x<I;x++)p.push(q[T+x]);T+=I;E.push(i)}}return{F:E,W:p}};
j.O.hF=function(n,q){var p=n.W,E=[],T=[],i=0,H=0,Z=0,w=0,d=0,O=0,W=0,C=0,a=0;for(var R=0;R<n.F.length;
R++){var B=n.F[R];if(B=="M"){H=p[i];Z=p[i+1];i+=2;T.push(B);E.push(H,Z)}else if(B=="C"){w=p[i];d=p[i+1];
O=p[i+2];W=p[i+3];C=p[i+4];a=p[i+5];i+=6;j.O.gQ(H,Z,w,d,O,W,C,a,q,T,E,0);H=C;Z=a}else T.push(B)}return{F:T,W:E}};
j.O.gQ=function(n,q,p,E,T,i,H,Z,w,d,O,W){var C=Math.sqrt((H-n)*(H-n)+(Z-q)*(Z-q)),a=Math.sqrt((H-T)*(H-T)+(Z-i)*(Z-i))+Math.sqrt((T-p)*(T-p)+(i-E)*(i-E))+Math.sqrt((p-n)*(p-n)+(E-q)*(E-q)),B=(C+a)/2;
if(B<=w){d.push("C");O.push(p,E,T,i,H,Z)}else{var $=0,I=0,x=0,U=0,N=0,m=0,f=0,c=0,D=0,z=0,_=0,v=0,o=0;
I=(n+p)/2;x=(q+E)/2;U=(p+T)/2;N=(E+i)/2;m=(T+H)/2;f=(i+Z)/2;c=(I+U)/2;D=(x+N)/2;z=(U+m)/2;_=(N+f)/2;
v=(c+z)/2;o=(D+_)/2;j.O.gQ(n,q,I,x,c,D,v,o,w,d,O,W+1);j.O.gQ(v,o,z,_,m,f,H,Z,w,d,O,W+1)}};j.O.B$=function(n,q,p,E,T){var i=Date.now(),H=j.O.ajK(n,q,p);
if(T){console.log("trace polygons",Date.now()-i);i=Date.now()}var Z=[];for(var R=0;R<H.length;R++){var w=H[R],d=w[0],O=["M"],W=n[d[1]*q+d[0]];
if(d.length>8)d=j.O.If(d,E,w[1]);if(d.length<=4)continue;for(var C=2;C<d.length;C+=2)O.push("L");O.push("Z");
Z.push({path:{W:d,F:O},color:W,parent:-1,C8:j.O.Uh(d)})}if(T){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var R=1;R<Z.length;R++){var a=Z[R].C8;for(var C=R-1;C>=0;C--)if(Z[C].C8.Gf(a)){Z[R].parent=C;
break}}if(T){console.log("checking parents",Date.now()-i);i=Date.now()}return Z};j.O.ajK=function(n,q,p){var E=q*p,T=new Uint16Array(q*p),H=0;
for(var R=0;R<E;R++)T[R]=n[R];var i=new Uint8Array(q*p);i[1*q+1]=i[(p-1)*q+1]=i[1*q+q-1]=i[(p-1)*q+q-1]=1;
for(var Z=1;Z<p;Z++)for(var w=1;w<q;w++){var R=Z*q+w,d=T[R-q-1],O=T[R-q],W=T[R-1],C=T[R],a=d==C&&O==W&&d!=O,B=0;
if(C<W){H=C;C=W;W=H}if(W<O){H=W;W=O;O=H}if(O<d){H=O;O=d;d=H}if(C<W){H=C;C=W;W=H}if(W<O){H=W;W=O;O=H}if(C<W){H=C;
C=W;W=H}if(d!=O)B++;if(O!=W)B++;if(W!=C)B++;if(C!=d)B++;if(B>=3||a)i[R]=1}var $=[];for(var Z=1;Z<p;Z++)for(var w=1;
w<q;w++){var R=Z*q+w;if(T[R]!=T[R-1]){var I=j.O.akx(T,q,p,w,Z),x=[];for(var U=0;U<I.length;U+=2)if(i[I[U+1]*q+I[U]]==1)x.push(U>>>1);
$.push([I,x]);j.O.Z7(T,q,p,w,Z)}}return $};j.O.Z7=function(n,q,p,E,T){var i=[T*q+E],H=n[T*q+E];n[T*q+E]=65535;
while(i.length!=0){var R=i.pop();n[R]=0;if(n[R+q]==H){i.push(R+q);n[R+q]=65535}if(n[R-q]==H){i.push(R-q);
n[R-q]=65535}if(n[R-1]==H){i.push(R-1);n[R-1]=65535}if(n[R+1]==H){i.push(R+1);n[R+1]=65535}}};j.O.akx=function(n,q,p,E,T){var i=[0,-1,1,0,0,1,-1,0],O=1;
function H(C,a,O){var R=d*q+w,B=0;if(O==0)B=R-q;else if(O==1)B=R;else if(O==2)B=R-1;else if(O==3)B=R-q-1;
return n[B]}var Z=[],w=E,d=T,W=H(w,d,O);do{Z.push(w,d);w+=i[O*2];d+=i[O*2+1];if(H(w,d,O)!=W)O=O+1&3;
else if(H(w,d,O+3&3)!=W)O=O;else if(H(w,d,O+2&3)!=W)O=O+3&3}while(w!=E||d!=T);return Z};j.O.If=function(n,q,p){var E=n.length-2;
if(p&&p.length!=0){var T=p[0]*2,i=p[p.length-1]*2,H=T==0?E:T-2,Z=n.slice(i);for(var R=0;R<T;R++)Z.push(n[R]);
if(T==i)Z.push(.9*n[T]+.1*n[H],.9*n[T+1]+.1*n[H+1]);else Z.push(n[T],n[T+1]);Z=j.O.a$(Z,q);Z.pop();Z.pop();
for(var R=0;R<p.length-1;R++){var w=n.slice(p[R]*2,p[R+1]*2+2);w=j.O.a$(w,q);for(var d=0;d<w.length-2;
d++)Z.push(w[d])}return Z}var O=n.slice(0);O.push(.9*n[0]+.1*n[E],.9*n[1]+.1*n[E+1]);O=j.O.a$(O,q);O.pop();
O.pop();return O};j.O.a$=function(n,q){var p=n.length-2,E=n[0],T=n[1],i=n[p],H=n[p+1],Z=i-E,w=H-T,d=1/Math.sqrt(Z*Z+w*w),O=i*T-H*E,W=-1,C=-1,a=0;
for(var R=2;R<p;R+=2){var B=n[R],$=n[R+1],I=$*$*1e6+B*B,x=Math.abs(w*B-Z*$+O)*d;if(x>C||x==C&&I>a){C=x;
W=R;a=I}}if(C<q)return[E,T,i,H];var U=j.O.a$(n.slice(0,W+2),q),N=j.O.a$(n.slice(W),q);for(var R=2;R<N.length;
R++)U.push(N[R]);return U};j.O.ahM=function(){var n=function(E,T,i,H,Z,w){return(T-H)*(Z-i)+(i-E)*(w-H)>=0},q=function(E,T,i,H,Z,w,d,O){var W=d-i,C=O-H,a=Z-i,B=w-H,$=E-i,I=T-H,x=W*W+C*C,U=W*a+C*B,N=W*$+C*I,m=a*a+B*B,f=a*$+B*I,c=1/(x*m-U*U),D=(m*N-U*f)*c,z=(x*f-U*N)*c;
return D>=0&&z>=0&&D+z<1},p=function(E){var eR=E.length>>>1,R=0;if(eR<3)return[];var T=[],i=[];for(var R=0;
R<eR;R++)i.push(R);var H=eR;while(H>3){var Z=i[(R+0)%H],w=i[(R+1)%H],d=i[(R+2)%H],O=E[2*Z],W=E[2*Z+1],C=E[2*w],a=E[2*w+1],B=E[2*d],$=E[2*d+1],I=!1;
if(n(O,W,C,a,B,$)){I=!0;for(var x=0;x<H;x++){var U=i[x];if(U==Z||U==w||U==d)continue;if(q(E[2*U],E[2*U+1],O,W,C,a,B,$)){I=!1;
break}}}if(I){T.push(Z,w,d);i.splice((R+1)%H,1);H--;R=0}else if(R++>3*H)break}T.push(i[0],i[1],i[2]);
return T};return p}();j.O.aoF=function(n,q){var p={},E={F:[],W:[]};for(var R=0;R<q.length;R+=3){var T=q[R]*2,i=q[R+1]*2,H=q[R+2]*2;
j.O.Fx(n,T,i,E,p);j.O.Fx(n,T,H,E,p);j.O.Fx(n,i,H,E,p)}return E};j.O.Fx=function(n,q,p,E,T){if(q>p){var i=p;
p=q;q=i}if(T[q+","+p])return;T[q+","+p]=!0;E.F.push("M","L");E.W.push(n[q],n[q+1],n[p],n[p+1])};j.O.vR=function(n,q){var p=[],E=n.length;
for(var R=0;R<E;R+=2){var T=n[R],i=n[R+1],H=n[(R+2)%E],Z=n[(R+3)%E];if(Z<i){var w=i;i=Z;Z=w}if(i<q&&q<Z){var d=(q-i)/(Z-i);
p.push(T+d*(H-T))}}p.sort(function(O,W){return O-W});return p};j.O.afK=function(n,q){var p=q.slice(0),eR=n.length/2,E=[],T=[];
for(var R=0;R<eR;R++){var i=(R+1)%eR,H=n[2*R]-n[2*i],Z=n[2*R+1]-n[2*i+1];T[R]=Math.sqrt(H*H+Z*Z)}for(var R=0;
R<eR;R++){var w=(R-1+eR)%eR,i=(R+1)%eR,d=q[R],O=d+q[w],W=d+q[i];if(O!=0)p[R]=Math.min(p[R],T[w]*d/O);
if(W!=0)p[R]=Math.min(p[R],T[R]*d/W)}for(var R=0;R<eR;R++){var i=(R+1)%eR,C=(R+2)%eR,a=p[R],B=p[i],$=n[2*R],I=n[2*R+1],x=n[2*i],U=n[2*i+1],N=n[2*C],m=n[2*C+1],f=T[R],c=T[i],D=j.O.a0k($,I,x,U,N,m,a,B,f,c);
E.push(D[0],D[1],D[0],D[1],D[2],D[3]);E.push(D[2],D[3],D[4],D[5],D[6],D[7])}return E};j.O.a0k=function(n,q,p,E,T,i,H,Z,w,d){if(w==null)w=Math.sqrt((p-n)*(p-n)+(E-q)*(E-q));
if(d==null)d=Math.sqrt((T-p)*(T-p)+(i-E)*(i-E));var O=.553,W=0,C=0,a=0,B=0;if(w!=0){W=(p-n)/w;C=(E-q)/w}if(d!=0){a=(T-p)/d;
B=(i-E)/d}var $=n+H*W,I=q+H*C,x=p-Z*W,U=E-Z*C;return[$,I,x,U,p-Z*W*(1-O),E-Z*C*(1-O),p+Z*a*(1-O),E+Z*B*(1-O),p+Z*a,E+Z*B]};
j.O.p9=function(n,q,p,E,T,i,H){var Z=n-p,w=q-E,d=T-p,O=i-E,W=1/Math.sqrt(Z*Z+w*w),C=1/Math.sqrt(d*d+O*O),a=Z*W,B=w*W,$=d*C,I=O*C,x=B*H,U=-a*H,N=-I*H,m=$*H,f=j.O.Yb(x,U,a,B,N,m,$,I),c=x+a*f,D=U+B*f,f=j.O.Yb(0,0,a,B,c,D,-B,a),z=a*f,_=B*f;
return[Math.sqrt(z*z+_*_),a,B,$,I]};j.O.aD=function(n,q,p,E,T,i,H){var Z=j.O.p9(n,q,p,E,T,i,H),w=Z[0],d=Z[1],O=Z[2],W=Z[3],C=Z[4],a=Math.atan2(d*C-O*W,d*W+O*C);
if(a<0){a=a*-1}var B=Math.PI-a,$=4/3*Math.tan(B/4),I=p+w*d,x=E+w*O,U=p+w*W,N=E+w*C,m=I+$*H*-d,f=x+$*H*-O,c=U+$*H*-W,D=N+$*H*-C;
return[0,0,I,x,m,f,c,D,U,N]};j.O.Yb=function(n,q,p,E,T,i,H,Z){var w=H*(q-i)-Z*(n-T),d=Z*p-H*E;if(d==0)return 0;
return w/d};j.O.aD(0,50,0,0,30,30,10);j.ue=function(){};j.ue.ST=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=new Int32Array(Z),eR=0;
for(var R=0;R<Z;R++)if(q[R]!=0){w[R]=eR;eR++}else if(n[(R<<2)+3]<200){w[R]=-2}else w[R]=-1;if(eR==0)return;
var d=new j.Mg(eR,eR),O=new Array(3*eR),W=new Array(3*eR);for(var R=0;R<W.length;R++)W[R]=O[R]=0;var C=1/255,a=[-i,-1,1,i],B=[],$=[];
for(var I=0;I<H;I++)for(var x=0;x<i;x++){var U=I*i+x,N=U<<2,R=w[U],m=R*3,f=0,c=0,D=0;if(R==-1||R==-2)continue;
for(var z=0;z<4;z++){if(z==2){c=D;B[D]=0;$[D]=R;D++}var _=U+a[z],v=_<<2,o=w[_];if(z==0&&I==0||z==1&&x==0||z==2&&x==i-1||z==3&&I==H-1||o==-2)continue;
f++;if(o==-1){O[m+0]+=n[v+0];O[m+1]+=n[v+1];O[m+2]+=n[v+2]}else{B[D]=-1;$[D]=o;D++;if(q[U]==q[_]){O[m+0]+=n[N+0]-n[v+0];
O[m+1]+=n[N+1]-n[v+1];O[m+2]+=n[N+2]-n[v+2]}}}B[c]=f;d.fO(B,$,D)}for(var R=0;R<Z;R++)if(w[R]!=-1){var y=R<<2,k=w[R],S=k*3;
W[S]=n[y+0];W[S+1]=n[y+1];W[S+2]=n[y+2]}var L=Date.now();d.aaL(W,O,E,T);console.log(Date.now()-L);for(var R=0;
R<Z;R++){var k=w[R],X=k*3,y=R<<2;if(k==-1||n[y+3]!=255)continue;n[y+0]=~~(.5+Math.max(0,Math.min(255,W[X+0])));
n[y+1]=~~(.5+Math.max(0,Math.min(255,W[X+1])));n[y+2]=~~(.5+Math.max(0,Math.min(255,W[X+2])))}};j.rect={};
j.rect.sK=function(n,q){var p=[n],E=[];for(var R=0;R<q.length;R++){var T=q[R],i=!1;for(var H=R+1;H<q.length;
H++){var Z=q[H];if(Z[0]<=T[0]&&Z[1]<=T[1]&&T[2]<=Z[2]&&T[3]<=Z[3]){i=!0;break}}if(!i)E.push(T)}q=E;for(var R=0;
R<q.length;R++){var T=q[R];for(var H=0;H<p.length;H++){var Z=p[H],w=Math.max(T[0],Z[0]),d=Math.min(T[2],Z[2]),O=Math.max(T[1],Z[1]),W=Math.min(T[3],Z[3]);
if(w<d&&O<W){var C=[];if(Z[1]<T[1]){var a=Z.slice(0);a[3]=T[1];C.push(a)}if(Z[0]<T[0]){var B=Z.slice(0);
B[1]=O;B[2]=T[0];C.push(B)}if(T[2]<Z[2]){var $=Z.slice(0);$[1]=O;$[0]=T[2];C.push($)}if(T[3]<Z[3]){var I=[w,W,d,Z[3]];
C.push(I)}if(C.length!=0){p[H]=C[0];for(var x=1;x<C.length;x++)p.push(C[x])}}}p.push(T);p=j.rect.aan(p)}p.sort(function(T,Z){return T[1]!=Z[1]?T[1]-Z[1]:T[0]-Z[0]});
for(var R=1;R<p.length;R++){var T=p[R-1],Z=p[R];if(T[0]==Z[0]&&T[1]==Z[1]&&T[2]==Z[2]&&T[3]==Z[3]){p.splice(T[4]==null?R-1:R,1);
R--}}return p};j.rect.aan=function(n){n=n.slice(0);for(var R=0;R<n.length;R++){var q=n[R],p=null;if(q[4]!=null)continue;
for(var E=0;E<n.length;E++){var T=n[E];if(R==E||T[4]!=null)continue;var i=q[0]==T[0],H=q[1]==T[1],Z=q[2]==T[2],w=q[3]==T[3];
if(H&&w&&(q[2]==T[0]||q[0]==T[2])){p=[Math.min(q[0],T[0]),q[1],Math.max(q[2],T[2]),q[3]]}if(i&&Z&&(q[3]==T[1]||q[1]==T[3])){p=[q[0],Math.min(q[1],T[1]),q[2],Math.max(q[3],T[3])]}if(p){n[R]=p;
n.splice(E,1);break}}if(p){R--}}return n};j.rect.Yg=function(n){var q=new eL;for(var R=0;R<n.length;
R++)q=q.AL(n[R]);return q};j.rect.anB=function(n,q){var p=j.rect.Yg,E=new UnionFind(n.length),c=1e3,D=1e3;
for(var R=0;R<n.length;R++)for(var T=R+1;T<n.length;T++){if(!q)continue;var i=n[R],H=n[T],W=1e9,C=1e9;
if(i.Y9(H)){E.link(R,T);continue}var Z=i.x+i.v,w=i.y+i.o,d=H.x+H.v,O=H.y+H.o;if((Z<H.x||d<i.x)&&(w<H.y||O<i.y))continue;
if(!(w<H.y||O<i.y))W=Math.min(Math.abs(Z-H.x),Math.abs(i.x-d));if(!(Z<H.x||d<i.x))C=Math.min(Math.abs(w-H.y),Math.abs(i.y-O));
var a=Math.min(W,C),B=Math.min(i.v,i.o,H.v,H.o);if(a<.3*B)E.link(R,T)}var $=[],I={};for(var R=0;R<n.length;
R++){var x=E.find(R),U=n[R];if(I[x]==null){I[x]=$.length;$.push([])}$[I[x]].push(U)}var N=[],m=[];for(var R=0;
R<$.length;R++){N.push(p($[R]));var f=p($[R]);f.Eb=R;m.push(f)}m.sort(function(s,M){return Math.max(M.o,M.v)-Math.max(s.o,s.v)});
var z=new NETXUS.RectanglePacker(c,D);while(!0){var _=!1;z.reset(c,D);for(var R=0;R<m.length;R++){var v=z.findCoords(m[R].v,m[R].o);
if(v){m[R].x=v.x;m[R].y=v.y}else{c=Math.floor(c*1.1);D=Math.floor(D*1.1);_=!0;break}}if(_)continue;break}for(var R=0;
R<$.length;R++){var o=m[R],y=o.Eb,k=N[y],S=$[y],L=o.x-k.x,X=o.y-k.y;for(var T=0;T<S.length;T++)S[T].offset(L,X)}};
j.L6=function(){};j.L6.Aq=Math.floor(16*window.devicePixelRatio);j.L6.u$={};j.L6.ZN=0;j.L6.ed=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
j.L6.abX=["px","in","cm","mm","%"];j.L6.xU=function(n,q,p,E){var T=[1,q,q/2.54,q/25.4,p/100][E];return n*T};
j.L6.a1n=function(n,q,p,E){var T=[1,q,q/2.54,q/25.4,p/100][E];return n/T};j.L6.Kc=function(n,q,p,E,T){var i=p.yM.XN,H=[1,q,q/2.54,q/25.4,E/100][i],Z=[2,3,2,1,2][i];
n=n/H;var w=Math.round(n),d=i==0&&Math.abs(n-w)<1e-6?w+"":n.toFixed(Z);if(T)d+=" "+j.L6.abX[i];return d};
j.L6.a9U=function(n,q,p,E){var T=p.yM.XN,i=[1,q,q/2.54,q/25.4,E/100][T];n=parseFloat(n)*i;return n};
j.L6.afo=function(n,q){var p=n+","+q;if(j.L6.u$.clr==p)return;var E=Math.round(j.L6.Aq*.5);j.L6.ZN=E;
var T=document.createElement("canvas");T.width=T.height=E;var i=T.getContext("2d");i.font=E*1.5+"px monospace";
var H="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var R=0;R<H.length;R++){i.fillStyle="#"+j.E2(q);i.fillRect(0,0,E,E);
i.fillStyle="#"+j.E2(n);i.fillText(H[R],0,E);j.L6.u$[H[R]]=i.getImageData(0,0,E,E).data}j.L6.u$.clr=p};
j.L6.a7k=function(n,q,p){var E=0,T=0,i=4*j.L6.Aq;for(var R=9;R>=0;R--){var H=Math.pow(10,R);if(5*H*n<=i){E=5*H;
T=10;break}if(2*H*n<=i){E=2*H;T=4;break}if(1*H*n<=i){E=1*H;T=10;break}}if(E==0){E=1;T=10}var Z=Math.ceil(E*n),w=j.U(Z*j.L6.Aq*4);
j.nz(w,4278190080|p);for(var R=0;R<j.L6.Aq;R++)j.L6.Rz(w,4*R*Z,q);for(var R=0;R<Z;R++)j.L6.Rz(w,4*((j.L6.Aq-1)*Z+R),q);
if(E==2)T=2;if(E==5)T=5;if(E>1||E==1&&Z>20)for(var R=1;R<T;R++)j.L6.abk(w,R*(Z/T),Z,(R&1)==1?.8:.7,q);
return{Xt:w,step:E}};j.L6.abk=function(n,q,p,E,T){var q=Math.round(q);for(var i=Math.round(j.L6.Aq*E);
i<j.L6.Aq-1;i++)j.L6.Rz(n,4*(i*p+q),T)};j.L6.Rz=function(n,q,p){n[q+0]=p>>16&255;n[q+1]=p>>8&255;n[q+2]=p&255};
j.L6.ajz=function(n,q,p,E,T,i,H){var Z=n.fM.v,w=n.fM.o,d=j.L6.Aq,O=q&255,W=q>>8&255,C=q>>16&255;q=Math.round(O*.6)<<16|Math.round(W*.6)<<8|Math.round(C*.6);
j.L6.afo(Math.round(O*.8)<<16|Math.round(W*.8)<<8|Math.round(C*.8),p);var a=n.n,B=n.t,$=n.H9;for(var I=0;
I<2;I++){var x=I==0?i:H;n.n=x[0];n.t=x[1];n.H9=0;var U=this.a7k(n.n,q,p),N=n.hQ(0,0),m=n.hQ(Z,w),f=Math.floor(N.x/U.step)*U.step,c=Math.ceil(m.x/U.step)*U.step,D=Math.floor(N.y/U.step)*U.step,z=Math.ceil(m.y/U.step)*U.step,_=n.eh(f,D),v=n.eh(c,D),o=U.step*n.n,y=Math.ceil(o);
if(I==1){var k=U.Xt;U.Xt=j.U(k.length*4);j.V.O5(k,U.Xt,y,d)}var S=I==0?n.u9.data:n.pQ.data,L=new eL(0,0,[Z,d][I],[d,w][I]),X=new eL(0,0,[y,d][I],[d,y][I]),s=new eL([0,Math.round(d*.2)][I],[Math.round(d*.08),0][I],j.L6.ZN,j.L6.ZN),M=(I==0?c-f:z-D)/U.step;
for(var R=0;R<M;R++){if(I==0)X.x=Math.round(_.x+R*o);else X.y=Math.round(_.y+R*o);j.hk(U.Xt,X,S,L,X);
var V=(I==0?f+R*U.step:Math.abs(D+R*U.step)).toString(10);for(var l=0;l<V.length;l++){if(I==0)s.x=X.x+3+l*Math.round(j.L6.ZN*.8);
else s.y=X.y+3+l*Math.round(j.L6.ZN*1.15);var e=j.L6.u$[V[l]];j.hk(e,s,S,L,s)}}}n.n=a;n.t=B;n.H9=$;var Y=Math.floor(d*.6),J=new Uint32Array(n.u9.data.buffer),G=new Uint32Array(n.pQ.data.buffer),F=O<128?4278190080:4294967295;
if(0<E&&E<Z)for(var R=0;R<Y;R++)J[R*Z+E]=F;if(0<T&&T<w)for(var R=0;R<Y;R++)G[T*d+R]=F};j.scale={};j.scale.S=document.createElement("canvas");
j.scale.Jm=j.scale.S.getContext("2d");j.scale.NY=document.createElement("canvas");j.scale.i7=j.scale.NY.getContext("2d");
j.scale.qb=function(n,q,p){var E=j.scale.S,T=j.scale.Jm;E.width=q;E.height=p;var i=new ImageData(new Uint8ClampedArray(n.buffer),q,p);
T.putImageData(i,0,0);return T.createPattern(E,"repeat")};j.scale.a6x=function(n,q,p,E,T,i,H,Z){var w=j.scale.PY(n,p,E,T,i,H,Z);
j.MF(w.data,q)};j.scale.a0=function(n,q,p,E,T,i,H,Z){var w=j.scale.PY(n,p,E,T,i,H,Z).data;if(q)j.Sa(w,q);
return new Uint8Array(w.buffer)};j.scale.PY=function(n,q,p,E,T,i,H){var Z=j.scale.S,w=j.scale.Jm;Z.width=q;
Z.height=p;w.rect(0,0,q,p);w.translate(i,H);w.scale(E,T);w.fillStyle=n;w.fill();return w.getImageData(0,0,q,p)};
j.scale.B=function(n,q,p,E,T){var i=p.clone();i.z3();var H=T.v,Z=T.o,w=j.O.aS(q).W;j.O.B(w,i,w);var d=j.O.vK(w).O1(T),O=d.x,W=d.y,C=O+d.v,a=W+d.o,B=~~q.x,$=~~q.y,I=~~q.v,x=~~q.o;
for(var U=W;U<a;U++)for(var N=O;N<C;N++){var m=N+.5,f=U+.5,c=p.jS*m+p.kr*f+p.R_-B,D=p.X*m+p.FF*f+p.so-$;
if(0<=c&&0<=D&&c<I&&D<x)E[U*H+N]=n[~~D*I+~~c]}};j.scale.PX=function(n,q,p,E,T){var i=new Uint32Array(n.buffer),H=new Uint32Array(E.buffer),Z=p.clone();
Z.z3();var w=T.v,d=T.o,O=j.O.aS(q).W;j.O.B(O,Z,O);var W=j.O.vK(O).O1(T),C=W.x,a=W.y,B=C+W.v,$=a+W.o,I=~~q.x,x=~~q.y,U=~~q.v,N=~~q.o;
for(var m=a;m<$;m++)for(var f=C;f<B;f++){var c=f+.5,D=m+.5,z=p.jS*c+p.kr*D+p.R_-I,_=p.X*c+p.FF*D+p.so-x;
if(0<=z&&0<=_&&z<U&&_<N)H[m*w+f]=i[~~_*U+~~z]}};j.scale.lx=function(n,q,p,E,T,i,H){if(H<1)j.scale.aaz(n,q,p,E,T,i,Math.round(1/H));
else j.scale.aga(n,q,p,E,T,i,H)};j.scale.z_=function(n,q,p,E,T,i,H,Z){if(Z)Z=Z.O1(new eL(0,0,q,p));n=new Uint32Array(n.buffer);
E=new Uint32Array(E.buffer);if(H<1)j.scale.ala(n,q,p,E,T,i,Math.round(1/H),Z);else j.scale.aqY(n,q,p,E,T,i,H)};
j.scale.aga=function(n,q,p,E,T,i,H){for(var Z=0;Z<p;Z++)for(var w=0;w<q;w++){var d=n[Z*q+w],O=Math.min(H,T-w*H),W=Math.min(H,i-Z*H);
for(var R=0;R<W;R++)for(var C=0;C<O;C++)E[(H*Z+R)*T+H*w+C]=d}};j.scale.aaz=function(n,q,p,E,T,i,H){for(var Z=0;
Z<i;Z++)for(var w=0;w<T;w++){var d=0,O=Math.min(H,q-w*H),W=Math.min(H,p-Z*H);for(var R=0;R<W;R++)for(var C=0;
C<O;C++)d+=n[(H*Z+R)*q+(H*w+C)];E[Z*T+w]=Math.round(d/(O*W))}};j.scale.aqY=function(n,q,p,E,T,i,H){for(var Z=0;
Z<p;Z++)for(var w=0;w<q;w++){var d=n[Z*q+w],O=Math.min(H,T-w*H),W=Math.min(H,i-Z*H);for(var R=0;R<W;
R++)for(var C=0;C<O;C++)E[(H*Z+R)*T+H*w+C]=d}};j.scale.ala=function(n,q,p,E,T,i,H,Z){var w=0,d=T,O=0,W=i;
if(Z){w=Math.floor(Z.x/H);d=Math.ceil((Z.x+Z.v)/H);O=Math.floor(Z.y/H);W=Math.ceil((Z.y+Z.o)/H)}for(var C=O;
C<W;C++)for(var a=w;a<d;a++){var B=0,$=0,I=0,x=0,U=Math.min(H,q-a*H),N=Math.min(H,p-C*H);for(var R=0;
R<N;R++)for(var m=0;m<U;m++){var f=n[(H*C+R)*q+H*a+m],c=f>>>24;B+=c;$+=c*(f>>>16&255);I+=c*(f>>>8&255);
x+=c*(f&255)}if(B!=0){var D=1/B;E[C*T+a]=B/(U*N)<<24|$*D<<16|I*D<<8|x*D}else E[C*T+a]=0}};j.$={};j.$.a48=function(n,q,p){var E=128,R=0,T=p.v,i=p.o;
for(var H=0;H<i;H++)for(var Z=0;Z<T;Z++){if(n[R]>=E&&(Z==0||n[R-1]<E||(Z==T-1||n[R+1]<E)||(H==0||n[R-T]<E)||(H==i-1||n[R+T]<E)))q[R]=255;
R++}};j.$.aiO=function(n,q,p,E){var T=new Uint32Array([4278190080,4294967295]),i=p.v,H=p.o,Z=0,w=0,d=i,O=H;
if(E){Z=E.x-p.x;w=E.y-p.y;d=Z+E.v;O=w+E.o}var W=new Uint8Array(q.buffer),C=new Uint32Array(q.buffer);
for(var a=w;a<O;a++)for(var B=Z;B<d;B++){var R=a*i+B;if((n[R]&128)!=0&&(a==0||(n[R-i]&128)==0||B==0||(n[R-1]&128)==0||B==i-1||(n[R+1]&128)==0||a==H-1||(n[R+i]&128)==0)){C[R]=T[(B+a&4)>>>2]}}};
j.$.aoq=function(n,q,p,E,T,i){var H=p.v,Z=p.o,w=0,d=0,O=H,W=Z;if(E){w=E.x-p.x;d=E.y-p.y;O=w+E.v;W=d+E.o}var C=new Uint8Array(q.buffer),a=new Uint32Array(q.buffer);
for(var B=d;B<W;B++)for(var $=w;$<O;$++){var R=B*H+$,I=n[R];if(T==1)a[R]=255-I>>>1<<24|255;else a[R]=255<<24|(I<<16|I<<8|I)}};
j.pB={};j.pB.RS=function(n,q,p){var E,T;if(p==0){E=n.rect.clone();T=j.pB.ahG}if(p==1){E=n.rect.AL(q.rect);
T=j.pB.AL}if(p==2){E=q.rect.clone();T=j.pB.a4S}if(p==3){E=n.rect.O1(q.rect);T=j.pB.O1}if(p==4){E=n.rect.AL(q.rect);
T=j.pB.afD}if(E.M6())return null;var i=j.U(E.P());j.cg(q.channel,q.rect,i,E);var H=j.U(E.P());j.cg(n.channel,n.rect,H,E);
T(H,i,i);var Z=j.YA(i,E);if(Z.M6())return null;if(!Z.rv(E)){var w=j.U(Z.P());j.cg(i,E,w,Z);i=w;E=Z}return{channel:i,rect:E}};
j.pB.ahG=function(n,q,p){for(var R=0;R<n.length;R++)p[R]=n[R]};j.pB.AL=function(n,q,p){for(var R=0;R<n.length;
R++)p[R]=Math.min(n[R]+q[R],255)};j.pB.a4S=function(n,q,p){for(var R=0;R<n.length;R++)p[R]=Math.max(q[R]-n[R],0)};
j.pB.O1=function(n,q,p){var E=1/255;for(var R=0;R<n.length;R++)p[R]=n[R]*q[R]*E};j.pB.afD=function(n,q,p){var E=1/255;
for(var R=0;R<n.length;R++)p[R]=Math.min(n[R]+q[R],255)-n[R]*q[R]*E};j.Mg=function(n,q){this.C=[];this.BZ=[0];
this.gP=[];this.FE=[];this.uo=[0];this.HA=[];this.NG=[];this.rows=n;this.cols=q};j.Mg.prototype.clone=function(){var n=this,q=n.rows,p=n.cols,E=new j.Mg(q,p);
E.C=n.C.slice(0);E.BZ=n.BZ.slice(0);E.gP=n.gP.slice(0);E.FE=n.FE.slice(0);E.uo=n.uo.slice(0);E.HA=n.HA.slice(0);
E.NG=n.NG.slice(0);return E};j.Mg.prototype.fO=function(n,q,p){var E=this.BZ.length-1;for(var R=0;R<p;
R++){var T=n[R],i=q[R];this.C.push(T);this.gP.push(i);if(i==E){this.NG.push(T==0?0:1/T)}else{this.FE.push(T);
this.HA.push(i)}}this.BZ.push(this.C.length);this.uo.push(this.FE.length)};j.Mg.prototype.cn=function(n,q){var p=this,E=p.rows,T=p.C,i=p.gP;
if(q==null)q=new Array(E);for(var R=0;R<E;R++){var H=p.BZ[R],Z=p.BZ[R+1],w=0;while((Z-H&3)!=0){w+=T[H]*n[i[H]];
H++}for(var d=H;d<Z;d+=4)w+=T[d]*n[i[d]]+T[d+1]*n[i[d+1]]+T[d+2]*n[i[d+2]]+T[d+3]*n[i[d+3]];q[R]=w}return q};
j.Mg.prototype.multiply=function(n){return this.ok(n.O5())};j.Mg.prototype.ok=function(n){var q=this,p=q.rows,E=q.cols,T=n.rows,i=new j.Mg(p,T),H=q.gP,Z=n.gP;
for(var R=0;R<p;R++){var w=[],d=[],O=q.BZ[R],W=q.BZ[R+1];for(var C=0;C<T;C++){var a=n.BZ[C],B=n.BZ[C+1],$=0,I=O,x=a;
while(I<W&&x<B){var U=Math.max(H[I],Z[x]);while(I<W&&H[I]<U)I++;while(x<B&&Z[x]<U)x++;if(I<W&&x<B&&H[I]==Z[x])$+=q.C[I++]*n.C[x++]}if($!=0){w.push($);
d.push(C)}}i.fO(w,d,w.length)}return i};j.Mg.prototype.O5=function(){var n=this.rows,q=this.cols,p=[];
for(var R=0;R<q;R++)p.push([[],[]]);var E=this.C,T=this.BZ,i=this.gP;for(var R=0;R<n;R++){var H=T[R],Z=T[R+1];
for(var w=H;w<Z;w++){var d=p[i[w]];d[0].push(E[w]);d[1].push(R)}}var O=new j.Mg(q,n);for(var R=0;R<q;
R++)O.fO(p[R][0],p[R][1],p[R][1].length);return O};j.Mg.prototype.xq=function(){var n=this.rows,q=this.cols,p=new Array(n),E=this.C,T=this.BZ,i=this.gP;
for(var R=0;R<n;R++){var H=p[R]=new Array(q);for(var Z=0;Z<q;Z++)H[Z]=0;var w=T[R],d=T[R+1];for(var O=w;
O<d;O++)H[i[O]]=E[O]}return p};j.Mg.prototype.X2=function(n,q,p,E,T){function i(D,q,z,_){var v=D.length;
for(var R=0;R<v;R++)_[R]=D[R]-q[R]*z}function H(D,q,z,_){var v=D.length,o=0;while((v-o&3)!=0){_[o]=D[o]+q[o]*z;
o++}for(var R=o;R<v;R+=4){_[R]=D[R]+q[R]*z;_[R+1]=D[R+1]+q[R+1]*z;_[R+2]=D[R+2]+q[R+2]*z;_[R+3]=D[R+3]+q[R+3]*z}}function Z(D,q,z){var _=D.length;
for(var R=0;R<_;R++)z[R]=D[R]*q[R]}function w(D,q){var z=D.length,_=0,v=0;while((z-_&3)!=0){v+=D[_]*q[_];
_++}for(var R=_;R<z;R+=4)v+=D[R]*q[R]+D[R+1]*q[R+1]+D[R+2]*q[R+2]+D[R+3]*q[R+3];return v}var d=E!=null?2:1,O=Date.now(),W=0,C=this,a=n.slice(0),B=n.slice(0);
C.cn(n,B);i(q,B,1,a);var $=this.NG;if(d==0){$=a.slice(0);$.fill(1)}var I=a.slice(0);Z($,a,I);var x=I.slice(0),U=w(a,I);
while(!0){C.cn(x,B);var N=U/w(x,B);H(n,x,N,n);i(a,B,N,a);if((W&7)==0&&Math.sqrt(w(a,a))<p)break;if(d<=1)Z($,a,I);
else{var m=a.slice(0);E.a5f(m,a);T.apc(I,m)}var f=w(a,I),c=f/U;H(I,x,c,x);U=f;W++}};j.Mg.prototype.arv=function(n,q,p,E){var T=Date.now(),i=1.96,Z=0;
if(p==null)p=5e-6;if(E==null)E=1e9;var H=1-i,eR=this.rows,w=this.FE,d=this.uo,O=this.HA,W=this.NG;while(!0){var C=0;
for(var R=0;R<eR;R++){var a=q[R],B=d[R],$=d[R+1];if($-B==4)a-=w[B]*n[O[B]]+w[B+1]*n[O[B+1]]+w[B+2]*n[O[B+2]]+w[B+3]*n[O[B+3]];
else for(var I=B;I<$;I++)a-=w[I]*n[O[I]];var x=n[R]*H+W[R]*a*i,U=x-n[R];C+=U*U;n[R]=x}if(C/eR<p||Date.now()>T+E)break}};
j.Mg.prototype.aaL=function(n,q,p,E){var T=Date.now(),i=1.96,Z=0;if(p==null)p=5e-5;if(E==null)E=1e9;
var H=1-i,eR=this.rows,w=this.FE,d=this.uo,O=this.HA,W=this.NG;while(!0){var C=0;for(var R=0;R<eR;R++){var a=R*3,B=q[a],$=q[a+1],I=q[a+2],x=d[R],U=d[R+1];
for(var N=x;N<U;N++){var m=w[N],f=O[N]*3;B-=m*n[f+0];$-=m*n[f+1];I-=m*n[f+2]}var c=W[R]*i,D=n[a+0]*H+B*c,z=n[a+1]*H+$*c,_=n[a+2]*H+I*c,v=D-n[a+0],o=z-n[a+1],y=_-n[a+2];
C+=.4*v*v+.5*o*o+.1*y*y;n[a+0]=D;n[a+1]=z;n[a+2]=_}if(C/eR<p||Date.now()>T+E)break}};j.A6={};j.A6.tB=function(n,q,p){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:n},Vrtc:{t:"doub",v:q},Cnty:{t:"bool",v:p}}}};
j.A6.B=function(n,q){for(var R=0;R<n.length;R++){var p=n[R].v,E=q.i1(new fc(p.Hrzn.v,p.Vrtc.v));p.Hrzn.v=Math.round(E.x);
p.Vrtc.v=Math.round(E.y)}};j.A6.h$=function(n,q,p){var eR=n.length-1,E=j.Oc.r4(eR+1,eR+2);for(var R=1;
R<eR;R++){E[R][R-1]=1/(n[R]-n[R-1]);E[R][R]=2*(1/(n[R]-n[R-1])+1/(n[R+1]-n[R]));E[R][R+1]=1/(n[R+1]-n[R]);
E[R][eR+1]=3*((q[R]-q[R-1])/((n[R]-n[R-1])*(n[R]-n[R-1]))+(q[R+1]-q[R])/((n[R+1]-n[R])*(n[R+1]-n[R])))}E[0][0]=2/(n[1]-n[0]);
E[0][1]=1/(n[1]-n[0]);E[0][eR+1]=3*(q[1]-q[0])/((n[1]-n[0])*(n[1]-n[0]));E[eR][eR-1]=1/(n[eR]-n[eR-1]);
E[eR][eR]=2/(n[eR]-n[eR-1]);E[eR][eR+1]=3*(q[eR]-q[eR-1])/((n[eR]-n[eR-1])*(n[eR]-n[eR-1]));j.Oc.TD(E,p)};
j.A6.a79=function(n,q,p,E){if(n<=q[0])return p[0];if(n>=q[q.length-1])return p[q.length-1];var R=1;while(q[R]<n)R++;
var T=q[R],i=q[R-1],H=p[R],Z=p[R-1],w=(n-i)/(T-i),d=E[R-1]*(T-i)-(H-Z),O=-E[R]*(T-i)+(H-Z),W=(1-w)*Z+w*H+w*(1-w)*(d*(1-w)+O*w);
return W};j.A6.wP=function(n,q,p,E){var T={dB:[n[0]],CP:[q[0]],b8:[]};E[0]=T;for(var R=1;R<n.length-1;
R++){T.dB.push(n[R]);T.CP.push(q[R]);if(p[R]==!1){j.A6.h$(T.dB,T.CP,T.b8);T={dB:[n[R]],CP:[q[R]],b8:[]}}E[R]=T}T.dB.push(n[R]);
T.CP.push(q[R]);j.A6.h$(T.dB,T.CP,T.b8);E[R]=T};j.A6.or=function(n,q,p,E){if(n<=q[0])return p[0];if(n>=q[q.length-1])return p[q.length-1];
var R=1;while(q[R]<n)R++;var T=E[R-1];return j.A6.a79(n,T.dB,T.CP,T.b8)};j.A6.DQ=function(n){var q={dB:[],CP:[],Rc:[]};
for(var R=0;R<n.length;R++){q.dB[R]=n[R].v.Hrzn.v;q.CP[R]=n[R].v.Vrtc.v;q.Rc[R]=n[R].v.Cnty?n[R].v.Cnty.v:!0}return q};
j.A6.Cg=function(n,eR,q){var p=0,E=255;if(q){p=-1e9;E=1e9}var T=j.A6.DQ(n),i=[];j.A6.wP(T.dB,T.CP,T.Rc,i);
var H=[];for(var R=0;R<eR;R++)H[R]=1/255*Math.max(p,Math.min(E,j.A6.or(R*(255/(eR-1)),T.dB,T.CP,i)));
return H};j.A6.akQ=function(n,eR,q){var p=Math.round(n.length/20),E=eR-n.length,T=q?(n[p]-n[0])/p:0,i=q?n[0]-E*T:n[n.length-1],H=[];
for(var R=0;R<E;R++)H.push(i+R*T);return q?H.concat(n):n.concat(H)};j.A6.SK=function(n,eR,q){var p=j.A6.DQ(n),E=[];
j.A6.wP(p.dB,p.CP,p.Rc,E);var T=new Uint8Array(eR),i=eR/256;for(var R=0;R<eR;R++)T[R]=Math.max(0,Math.min(eR-1,j.A6.or(R*i,p.dB,p.CP,E)));
if(q){T[0]=0;if(T[1]>100)T[1]=.4*T[1];if(T[2]>150)T[1]=.7*T[2]}return T};j.A6.fc=function(n,q){var p=new Uint8Array(n.length);
for(var R=0;R<n.length;R++)p[R]=q[n[R]];return p};j.A6.Xm=function(n,q,p){var E=P.z("canvas","");E.width=q;
E.height=p;var T=E.getContext("2d"),i=j.A6.SK(n,256);T.scale(q/255,p/255);T.fillStyle="#fff";T.fillRect(0,0,255,255);
T.fillStyle="#333";T.beginPath();T.moveTo(0,255);for(var R=0;R<i.length;R++)T.lineTo(R,255-i[R]);T.lineTo(255,255);
T.closePath();T.fill();return E.toDataURL()};j.style={};j.style.stroke=function(n,q,p,E){var T=p.v,i=p.o,H=new Float64Array(T*i);
j.style.mJ(n,H,T,i);j.style.Mn(q,p,H,p,E)};j.style.Mn=function(n,q,p,E,T){var i=q.O1(E),H=i.v,Z=i.o;
T+=.5;var w=i.x-q.x,d=i.y-q.y,O=q.v,W=i.x-E.x,C=i.y-E.y,a=E.v;for(var B=0;B<Z;B++){var $=(B+C)*a+W,I=(B+d)*O+w;
for(var x=0;x<H;x++){var U=Math.max(0,Math.min(1,T-p[$+x]));n[I+x]=Math.round(U*255)}}};j.style.an6=function(n,q,p,E){for(var T=0;
T<p;T++)for(var i=0;i<q;i++){var H=T*q+i,Z=0,w=0,d=n[H];if(i==0||T==0){Z=n[H+1]-d;w=n[H+q]-d}else if(i==p-1||T==q-1){Z=d-n[H-1];
w=d-n[H-q]}else{Z=n[H+1]-n[H-1];w=n[H+q]-n[H-q]}if(Z!=0||w!=0){var O=1/Math.sqrt(Z*Z+w*w);Z*=O;w*=O}E[H+H]=Z;
E[H+H+1]=w}};j.style.mJ=function(n,q,p,E){var T=0,i=p*E;for(var R=0;R<i;R++)T|=n[R];if(T==0){q.fill(1e9);
return}var H=j.style.t7(n,p,E);for(var Z=0;Z<E;Z++)for(var w=0;w<p;w++){var R=Z*p+w,d=H[R*2],O=H[R*2+1],W=(Z+O)*p+w+d;
if(d==0&&O==0){q[R]=0;continue}var C=Math.sqrt(d*d+O*O),a=n[W]*(1/255),B=1/C,$=Math.abs(d)*B,I=Math.abs(O)*B;
if(I>$){var x=I;I=$;$=x}q[R]=C+j.style.a2m($,I,a)}};j.style.a2m=function(n,q,p){return(.5-p)*n};j.style.t7=function(n,q,p,E){var T=new Int16Array(q*p*2);
j.style.a3L(n,T,q,p,128);return T};j.style.a0F=function(n,q,p,E){var T=p*E;for(var R=0;R<T;R++)if(n[R]==0){q[R*2]=16383;
q[R*2+1]=16383}for(var i=1;i<=E-1;i++){var R=i*p;for(var H=0;H<=p-1;H++)j.style.Oo(q,n,p,R+H<<1,-1);
for(var H=1;H<=p-1;H++)j.style.Yi(q,n,p,R+H<<1,-1);for(var H=p-2;H>=0;H--)j.style.Yi(q,n,p,R+H<<1,1)}for(var i=E-2;
i>=0;i--){var R=i*p;for(var H=0;H<=p-1;H++)j.style.Oo(q,n,p,R+H<<1,1);for(var H=1;H<=p-1;H++)j.style.Yi(q,n,p,R+H<<1,-1);
for(var H=p-2;H>=0;H--)j.style.Yi(q,n,p,R+H<<1,1)}};j.style.Yi=function(n,q,p,E,T){var i=(E>>>1)+T<<1,H=n[E],Z=n[E+1],w=n[i]+T,d=n[i+1],O=w*w+d*d,W=H*H+Z*Z;
if(d!=16383&&(H==16383||Math.sqrt(O)+(.5-q[(E>>>1)+d*p+w]*(1/255))<Math.sqrt(W)+(.5-q[(E>>>1)+Z*p+H]*(1/255)))){n[E]=w;
n[E+1]=d}};j.style.Oo=function(n,q,p,E,T){var i=(E>>>1)+T*p<<1,H=n[E],Z=n[E+1],w=n[i],d=n[i+1]+T,O=w*w+d*d,W=H*H+Z*Z;
if(w!=16383&&(H==16383||Math.sqrt(O)+(.5-q[(E>>>1)+d*p+w]*(1/255))<Math.sqrt(W)+(.5-q[(E>>>1)+Z*p+H]*(1/255)))){n[E]=w;
n[E+1]=d}};j.style.ae4=function(n,q,p,E){var T=p*E;for(var R=0;R<T;R++)if(n[R]==0){q[R*2]=16383;q[R*2+1]=16383}for(var i=1;
i<=E-1;i++){var R=i*p;for(var H=0;H<=p-1;H++)j.style.qE(q,n,p,R+H<<1,-1);for(var H=1;H<=p-1;H++)j.style.lV(q,n,p,R+H<<1,-1);
for(var H=p-2;H>=0;H--)j.style.lV(q,n,p,R+H<<1,1)}for(var i=E-2;i>=0;i--){var R=i*p;for(var H=0;H<=p-1;
H++)j.style.qE(q,n,p,R+H<<1,1);for(var H=1;H<=p-1;H++)j.style.lV(q,n,p,R+H<<1,-1);for(var H=p-2;H>=0;
H--)j.style.lV(q,n,p,R+H<<1,1)}};j.style.lV=function(n,q,p,E,T){var i=(E>>>1)+T<<1,H=n[E],Z=n[E+1],w=n[i]+T,d=n[i+1],O=w*w+d*d,W=H*H+Z*Z;
if(d!=16383&&(H==16383||O<W)){n[E]=w;n[E+1]=d}};j.style.qE=function(n,q,p,E,T){var i=(E>>>1)+T*p<<1,H=n[E],Z=n[E+1],w=n[i],d=n[i+1]+T,O=w*w+d*d,W=H*H+Z*Z;
if(w!=16383&&(H==16383||O<W)){n[E]=w;n[E+1]=d}};j.style.ar_=function(n,q,p,E,T){var i=p*E,H=(p+E+1)*1.01;
for(var R=0;R<i;R++)if(n[R]<=T)q[R]=H;for(var Z=1;Z<p;Z++)q[Z]=Math.min(q[Z],q[Z-1]);for(var w=1;w<E;
w++){var R=w*p;q[R]=Math.min(q[R],Math.min(q[R-p]+1,q[R-p+1]+Math.SQRT2));for(var Z=1;Z<p-1;Z++){var d=q[++R],O=Math.min(q[R-1]+1,Math.min(q[R-p-1]+Math.SQRT2,Math.min(q[R-p]+1,q[R-p+1]+Math.SQRT2)));
if(O<d)q[R]=O}R++;q[R]=Math.min(q[R],Math.min(q[R-1]+1,Math.min(q[R-p-1]+Math.SQRT2,q[R-p]+1)))}for(var Z=p-2;
Z>=0;Z--)q[Z+i-p]=Math.min(q[Z+i-p],q[Z+i-p+1]);for(var w=E-2;w>=0;w--){var R=w*p+p-1;q[R]=Math.min(q[R],Math.min(q[R+p]+1,q[R+p-1]+Math.SQRT2));
for(var Z=p-2;Z>=1;Z--){var d=q[--R],O=Math.min(q[R+1]+1,Math.min(q[R+p-1]+Math.SQRT2,Math.min(q[R+p]+1,q[R+p+1]+Math.SQRT2)));
if(O<d)q[R]=O}R--;q[R]=Math.min(q[R],Math.min(q[R+1]+1,Math.min(q[R+p]+1,q[R+p+1]+Math.SQRT2)))}};j.style.a3L=function(n,q,p,E,T){var i=new Int32Array(p*E);
j.style.a3o(n,i,p,E,T);j.style.aes(i,q,p,E)};j.style.a3o=function(n,q,p,E,T){var i=new Int32Array(E);
for(var H=0;H<p;H++){var Z=p+E;for(var w=E-1;w>=0;w--){if(n[w*p+H]>T)Z=0;else Z++;i[w]=Z}Z=p+E;for(var w=0;
w<E;w++){if(n[w*p+H]>T)Z=0;else Z++;q[w*p+H]=Z<i[w]?-Z:i[w]}}};j.style.aes=function(n,q,p,E){var T=(p+E)*(p+E),i=new Float64Array(p),H=new Uint16Array(p);
for(var Z=0;Z<E;Z++){var w=Z*p,d=0;H[0]=0;i[0]=-T;i[1]=+T;for(var O=1;O<p;O++){var W=n[O+w]*n[O+w]+O*O,C=(W-(n[H[d]+w]*n[H[d]+w]+H[d]*H[d]))/(2*O-2*H[d]);
while(C<=i[d]){d--;C=(W-(n[H[d]+w]*n[H[d]+w]+H[d]*H[d]))/(2*O-2*H[d])}d++;H[d]=O;i[d]=C;i[d+1]=T}d=0;
for(var O=0;O<p;O++){while(i[d+1]<O)d++;var a=H[d]-O,B=n[H[d]+w],R=Z*p+O<<1;q[R]=a;q[R+1]=B}}};j.style.ix=function(n,q,p){if(p)for(var R=0;
R<n.length;R++){var E=n[R];if(E>0)n[R]=Math.max(0,Math.min(255,E+q*2*(j.style.I8(R)-128)))}else for(var R=0;
R<n.length;R++){var E=n[R];if(E>0)n[R]=Math.max(0,Math.min(255,E+Math.min(E*3,q*2*(j.style.I8(R)-128))))}};
j.style.I8=function(n){n=n^61^n>>16;n=n+(n<<3);n=n^n>>4;n=n*668265261;n=n^n>>15;return n&255};j.wj={};
j.wj.nP=function(n,q,p){var E=n.canvas,T=P.D(),i=Math.floor;if(E.width!=i(q*T)||E.height!=i(p*T))P.jy(E,q,p,n)};
j.wj.xZ=function(n,q,p,E,T,i){j.wj.nP(n,q,p);if(i==null)i=!1;var H=T.channel,Z=T.rect,w=!T.isEnabled;
q=Math.floor(q*P.D());p=Math.floor(p*P.D());if(q*p==0)return;var d=n.createImageData(q,p),O=d.data,W=1/q,C=1/p;
for(var R=0;R<p;R++)for(var a=0;a<q;a++){var B=R*q+a,$=B*4,I=Math.round(E.x+a*W*E.v),x=Math.round(E.y+R*C*E.o),U=0;
if(I<Z.x||I>=Z.x+Z.v||x<Z.y||x>=Z.y+Z.o)U=T.color;else U=H[(x-Z.y)*Z.v+(I-Z.x)];U=255*(255-T.Cm)+U*T.Cm>>>8;
if(i)U=170+Math.round(.4*(U-170));O[$]=U;O[$+1]=U;O[$+2]=U;O[$+3]=255}n.putImageData(d,0,0);if(w)j.wj.Vb(n,q,p)};
j.wj.SR=[];j.wj.anW=function(n,q,p,E){var T,i,H,Z=P.D();q=Math.floor(Z*q);p=Math.floor(Z*p);T=Math.ceil(Math.max(q,p)*.35);
i=q-T;H=p-T;var w=j.wj.SR[T];if(w==null){var d=P.z("canvas"),O=d.getContext("2d");d.width=d.height=T;
O.fillStyle="#eeeeee";O.fillRect(0,0,T,T);var W=Math.round(T*.27),C=O.lineWidth=Math.max(1,Math.round(T*.12)),a=C/2;
O.strokeRect(1+a,1+a,T-C-2,T-C-2);O.strokeRect(W+a,W+a,T-W-W-C,T-W-W-C);w=j.wj.SR[T]=O.getImageData(0,0,T,T)}n.putImageData(w,i,H)};
j.wj.mb=[];j.wj.a0O=function(n,q,p){var E,T,i,H=P.D();q=Math.floor(H*q);p=Math.floor(H*p);E=Math.ceil(Math.max(q,p)*.35);
T=q-E;i=p-E;var Z=j.wj.mb[E];if(Z==null){var w=P.z("canvas"),d=w.getContext("2d");w.width=w.height=E;
d.fillStyle="#eeeeee";d.fillRect(0,0,E,E);d.lineWidth=1;d.strokeRect(2.5,2.5,E-5,E-5);var O=d.createImageData(3,3);
j.nz(O.data,4278190080);O.data[4*4]=O.data[4*4+1]=O.data[4*4+2]=238;d.putImageData(O,1,1);d.putImageData(O,E-4,1);
d.putImageData(O,1,E-4);d.putImageData(O,E-4,E-4);Z=j.wj.mb[E]=d.getImageData(0,0,E,E)}n.putImageData(Z,T,i)};
j.wj.a89=function(n,q,p,E,T){j.wj.nP(n,q,p);q=Math.floor(q*P.D());p=Math.floor(p*P.D());var i=q/E.v;
if(q*p==0)return;n.fillStyle="#999999";n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,q,p);var H=j.wj.ks;
if(H==null){H=j.wj.ks=JSON.parse(JSON.stringify(iq.DL.default));H.strokeEnabled.v=!0}H.strokeStyleLineWidth.v.val=1*P.D()/i;
n.fillStyle="#ffffff";n.scale(i,i);j.G.nN(T.Q,n,0,0);j.G.nN(T.Q,n,0,0,H)};j.wj.Jh=null;j.wj.Uw=function(n,q,p,E,T,i,H,Z){j.wj.nP(n,q,p);
q=Math.floor(q*P.D());p=Math.floor(p*P.D());if(q*p==0)return;var w=Math.max(q,p),d=j.wj.Jh;if(d==null||d.width<w||d.height<w){j.wj.Jh=d=n.createImageData(w,w)}w=d.width;
var O=d.data,W=E.v/q,C=E.o/p,a=i.x,B=i.x+i.v,$=i.y,I=i.y+i.o;for(var R=0;R<p;R++)for(var x=0;x<q;x++){var U=R*w+x,N=U*4,m=~~(E.x+x*W),f=~~(E.y+R*C),c=j.Re(R,x,2);
if(m<a||m>=B||f<$||f>=I){O[N]=c;O[N+1]=c;O[N+2]=c;O[N+3]=255}else{var D=(f-i.y)*i.v+(m-i.x)<<2,z=T[D+3]*(1/255);
O[N]=T[D+0]*z+c*(1-z);O[N+1]=T[D+1]*z+c*(1-z);O[N+2]=T[D+2]*z+c*(1-z);O[N+3]=255}}if(Z!=null)for(var R=0;
R<O.length;R+=4)O[R]=O[R+1]=O[R+2]=O[R+Z];n.putImageData(d,0,0);if(H)j.wj.Vb(n,q,p)};j.wj.a8K=function(n,q,p,E){j.wj.nP(n,q,p);
n.fillStyle=j.wj.aV(E.Clr.v);n.fillRect(0,0,q,p);j.wj.Vn(n,q,p)};j.wj.mL=null;j.wj.a3y=function(n,q,p,E){j.wj.nP(n,q,p);
var T=n.canvas.width,i=n.canvas.height,H=j.wj.mL;if(H==null||H.width!=T||H.height!=i){n.fillStyle="#ffffff";
n.fillRect(0,0,q,p);n.fillStyle="#000000";n.font=""+p*.7+"px serif";n.fillText("T",(q-p*.43)/2,p*.75);
n.fillText("T",(q-p*.43)/2,p*.75);j.wj.mL=n.getImageData(0,0,T,i)}else n.putImageData(H,0,0)};j.wj.asF=function(n,q,p){j.wj.nP(n,q,p);
n.clearRect(0,0,q,p);n.font=p*.7+"px serif";n.fillText(":(",(q-p*.43)/2,p*.7)};j.wj.ap3=function(n,q,p,E){j.wj.nP(n,q,p);
var T=iJ.get(E),i=n.canvas.width,H=j.wj.oM[i+T];if(H==null){var Z=PIMG["adj/"+T],w=al.HM(Z),d=UPNG.decode(w.buffer),O=new Uint8Array(UPNG.toRGBA8(d)[0]),W=new eL(0,0,160,160),C=0,a=i-C*2,B=A.Z.i8([O,W],new b$(a/160,0,0,a/160,0,0)),$=new eL(0,0,i,i),I=j.U($.P()*4);
j.a.Ef("norm",B.buffer,B.rect,I,$,B.rect,1);H=j.wj.oM[i+T]=new ImageData(new Uint8ClampedArray(I.buffer),i,i)}P.oI(n.canvas,"gsicon");
n.canvas.style.border="none";n.putImageData(H,0,0)};j.wj.oM={};j.wj.a70=function(n,q,p,E){j.wj.nP(n,q,p);
var T=n.canvas.width,i=n.canvas.height,H=n.getImageData(0,0,T,i);j.f.Ma(E.Grad.v,new Uint8Array(H.data.buffer),new eL(0,0,T,i),[1/T,0,0,1/i],T/2,i/2,!1,0,16711680,65280);
n.putImageData(H,0,0);j.wj.Vn(n,q,p)};j.wj.abY=function(n,q,p,E,T){j.wj.nP(n,q,p);var i=n,H=cU.Zb(E.Ptrn.v,T.add.Patt);
if(H==null)return;var Z=H.Ac[1];j.wj.Uw(n,q,p,Z,H.Ac[0],Z,!1);j.wj.Vn(i,q,p)};j.wj.Vb=function(n,q,p){q/=P.D();
p/=P.D();n.strokeStyle="#bb0000";n.lineWidth=3;n.beginPath();n.moveTo(q*.15,p*.15);n.lineTo(q*.85,p*.85);
n.moveTo(q*.85,p*.15);n.lineTo(q*.15,p*.85);n.closePath();n.stroke()};j.wj.Vn=function(n,q,p){n.fillStyle="#eeeeee";
n.fillRect(0,p*.75,q,p*.25);n.beginPath();n.moveTo(0,p*.75);n.lineTo(q,p*.75);n.moveTo(q*.1,p*.875);
n.lineTo(q*.9,p*.875);n.moveTo(q*.65,p*.825);n.lineTo(q*.65,p*.95);n.closePath();n.stroke()};j.wj.aV=function(n){var q=j.f.aV(n),p=Math.round(q._)<<16|Math.round(q.q)<<8|Math.round(q.X);
return"#"+j.E2(p)};j.G={};j.G.OO=function(n,q,p){var E=[],T=-1;for(var R=0;R<n.length;R++){var i=n[R];
if((i.type==0||i.type==3)&&i.HW!=-1)T++;if(i.type>5||i.type==0||i.type==3)continue;if(q!=null&&q.indexOf(T)==-1)continue;
if(p!=null&&p.indexOf(R)==-1)continue;E.push(i.m5.x);E.push(i.m5.y);E.push(i.L.x);E.push(i.L.y);E.push(i.OR.x);
E.push(i.OR.y)}return E};j.G.mi=function(n,q,p,E){var T=0,i=-1;for(var R=0;R<q.length;R++){var H=q[R];
if((H.type==0||H.type==3)&&H.HW!=-1)i++;if(H.type>5||H.type==0||H.type==3)continue;if(p!=null&&p.indexOf(i)==-1)continue;
if(E!=null&&E.indexOf(R)==-1)continue;H.m5.Gw(n[T],n[T+1]);H.L.Gw(n[T+2],n[T+3]);H.OR.Gw(n[T+4],n[T+5]);
T+=6}};j.G.ra=function(n,q,p,E){var T=j.G.OO(n,p,E);j.O.B(T,q,T);j.G.mi(T,n,p,E)};j.G.afi=function(n,q,p,E){var T=j.G.OO(n,p,E);
j.V.B(q,T);j.G.mi(T,n,p,E)};j.G.a2U=function(n,q,p,E){if(p==null&&E==null){var T=j.G.amf(n,40);for(var R=0;
R<T.length;R++)n[R]=T[R]}var i=j.G.OO(n,p,E);j.c0.B(q,i,j.O.Uh(i));j.G.mi(i,n,p,E)};j.G.amf=function(n,q){var p=[];
for(var R=0;R<n.length;R++){var E=n[R];if(E.type>5){p.push(JSON.parse(JSON.stringify(E)));continue}var T=j.G.ajp(n,R+1,E.length);
T=j.O.hF(T,q);var i=j.G.a7o(T);R+=E.length;E=JSON.parse(JSON.stringify(E));E.length=i.length;p.push(E);
for(var H=0;H<i.length;H++)p.push(i[H])}return p};j.G.ajp=function(n,q,p){var E={F:["M"],W:[]},T=n[q],i=n[q+p-1];
E.W.push(T.L.x,T.L.y);for(var R=1;R<p;R++){var H=n[q+R-1],Z=n[q+R];E.F.push("C");E.W.push(H.OR.x,H.OR.y,Z.m5.x,Z.m5.y,Z.L.x,Z.L.y)}E.F.push("C");
E.W.push(i.OR.x,i.OR.y,T.m5.x,T.m5.y,T.L.x,T.L.y);return E};j.G.a7o=function(n){var q=[],p=n.F,E=n.W,T=0,eR=E.length;
q.push({type:2,m5:new fc(E[eR-4],E[eR-3]),L:new fc(E[0],E[1]),OR:new fc(E[2],E[3])});for(var R=0;R<p.length-2;
R++){var i=R*6+4;q.push({type:2,m5:new fc(E[i],E[i+1]),L:new fc(E[i+2],E[i+3]),OR:new fc(E[i+4],E[i+5])})}return q};
j.G.a0W=function(n){for(var R=0;R<n.length;R++){if(n[R].type>5)continue;var q=n[R].length;if(!(q==4||q==6||q==8)){R+=q;
continue}for(var p=0;p<q;p++){var E=n[R+1+p],T=n[R+1+(p+1)%q],i=Math.min(E.L.x,T.L.x),H=Math.min(E.L.y,T.L.y),Z=0,w=0;
if(E.L.x<T.L.x){Z=E.L.y-H;w=Z-(T.L.x-i)}else{Z=T.L.y-H;w=Z-(E.L.x-i)}if(Math.abs(w)<.2*Z)return Z}}return-1};
j.G.Sc=function(n,q,p){function E(C,a){var B=Math.min(C.x,a.x),$=Math.min(C.y,a.y),I=Math.max(C.x+C.v,a.x+a.v),x=Math.max(C.y+C.o,a.y+a.o);
return new eL(B,$,I-B,x-$)}var T=null,i=-1,H=!j.G.SJ(n);for(var R=0;R<n.length;R++){var Z=n[R];if(Z.type>5)continue;
if((Z.type==0||Z.type==3)&&Z.HW!=-1)i++;if(q!=null&&q.indexOf(i)==-1)continue;if(R==n.length-1)break;
var w=Z.type==3,d=Z.length,O=Z.HW,W=j.G.a1Y(n,R+1,d,w);if(T==null)T=W;else if(p)T=E(T,W);else if(H){if(q!=null||O==0||O==-1||O==2)T=E(T,W);
else if(O==1)T=T;else if(O==3){T=W;H=!1}}else{if(q!=null||O==0||O==-1||O==1)T=E(T,W);else if(O==2)T=T;
else if(O==3)T=T.O1(W)}R+=d}if(T==null||T.v<0||T.o<0)T=new eL(0,0,0,0);return T};j.G.adR=new Float64Array(4);
j.G.a1Y=function(n,R,q,p){var E=j.G.adR;E[0]=1e30;E[1]=1e30;E[2]=-1e30;E[3]=-1e30;var T=n[R+q-1];if(!p)j.G.hl(T.L.x,T.L.y,T.OR.x,T.OR.y,n[R].m5.x,n[R].m5.y,n[R].L.x,n[R].L.y,E);
for(var i=R;i<R+q-1;i++){var H=n[i],Z=n[i+1];j.G.hl(H.L.x,H.L.y,H.OR.x,H.OR.y,Z.m5.x,Z.m5.y,Z.L.x,Z.L.y,E)}return new eL(E[0],E[1],E[2]-E[0],E[3]-E[1])};
j.G.hl=function(n,q,p,E,T,i,H,Z,w){if(n==p&&q==E&&T==H&&i==Z){w[0]=Math.min(w[0],Math.min(n,H));w[1]=Math.min(w[1],Math.min(q,Z));
w[2]=Math.max(w[2],Math.max(n,H));w[3]=Math.max(w[3],Math.max(q,Z));return}var d=n,O=q,W=n,C=q,a=40,B=1/(a-1);
for(var $=0;$<a;$++){var I=$*B,x=1-I,U=x*x*x,N=3*x*x*I,m=3*x*I*I,f=I*I*I,c=U*n+N*p+m*T+f*H,D=U*q+N*E+m*i+f*Z;
if(c<d)d=c;else if(c>W)W=c;if(D<O)O=D;else if(D>C)C=D}if(d<w[0])w[0]=d;if(O<w[1])w[1]=O;if(W>w[2])w[2]=W;
if(C>w[3])w[3]=C};j.G.l_=function(n,q){var p=n.length-3,E=q%p,T=Math.floor(E);if(q<0||T>=p)return null;
var i=n[3+T],H=n[3+(T+1)%p],Z=i.L,w=i.OR,d=H.m5,O=H.L,W=E-T,C=1-W,a=C*C*C*Z.x+3*C*C*W*w.x+3*C*W*W*d.x+W*W*W*O.x,B=C*C*C*Z.y+3*C*C*W*w.y+3*C*W*W*d.y+W*W*W*O.y;
return new fc(a,B)};j.G.fp=function(n){var q=j.O.kF(n),p=q.IT;q.IT=Typr.U.pathToSVG({crds:p.W,cmds:p.F},2);
return q};j.G.zz=function(n){j.G.CS();var q,p=j.G.YZ(n),E=[];for(var R=0;R<p.length;R++){var T=p[R][0],i=p[R][1];
if(Math.abs(T.area)<1e-5)E.push(T);else if(q==null)q=T;else{if(!T.closed)T.closed=!0;q=q[i](T);q.remove()}}if(q==null)q=new paper.CompoundPath(E);
else{if(q.segments)q=new paper.CompoundPath(q);for(var R=0;R<E.length;R++){q.addChild(E[R])}}var H=n.slice(0,2);
H=H.concat(j.G.I1(q));if(H[2])H[2].HW=1;for(var R=3;R<H.length;R++)if(H[R].HW!=null)H[R].HW=-1;return H};
j.G.CS=function(){if(j.G.ald==null){var n=P.z("canvas");paper.setup(n);j.G.ald=!0}};j.G.ar4=function(n,q){j.G.CS();
var p=[],E=j.G.YZ(n),T=new paper.Path.Rectangle(new paper.Rectangle(q.x,q.y,q.v,q.o));T.remove();T.fillColor=new paper.Color(1,0,0);
for(var R=0;R<E.length;R++){if(T.intersects(E[R][0])||T.contains(E[R][0].children[0].segments[0].point))p.push(R)}return p};
j.G.GM=function(n,q,p,E){j.G.CS();var T=p?{curves:!0,tolerance:E}:null,i=new paper.Point(q.x,q.y),H=j.G.YZ(n);
for(var R=H.length-1;R>=0;R--){var Z=H[R][0],w=Z.hitTest(i,T);if(w!=null)return{ap:R,Og:p?w.location.index:null}}return{ap:-1}};
j.G.gn=function(n,q,p){var E=[[],[],[]];for(var R=0;R<n.length;R++){var T=n[R];if(T.type>5||T.type==0||T.type==3)continue;
var i=p==null?!0:p.indexOf(R)!=-1;if(q.Z4(T.L))E[0].push(R);if(q.Z4(T.m5)&&i)E[1].push(R);if(q.Z4(T.OR)&&i)E[2].push(R)}return E};
j.G.a0V=function(n,q,p){var E=p.slice(0),T=[null,null],i=-1,Z=null;for(var R=2;R<n.length;R++){if((n[R].type==0||n[R].type==3)&&n[R].HW!=-1)i++;
T[R]=p[i]}p=T;var H=n.slice(0,2);T=p.slice(0,2);for(var R=2;R<n.length;R++){if(n[R].type==0||n[R].type==3){Z=n[R];
H.push(Z);T.push(p[R])}else{if(q.indexOf(R)==-1){H.push(n[R]);T.push(p[R])}else{Z.length--;j.k4.ik(p,R)}}}for(var R=2;
R<H.length;R++){var w=H[R];if(w.type!=0&&w.type!=3)continue;if(w.length==0){if(H[R+1]&&H[R+1].HW==-1){H[R+1].HW=w.HW}T.splice(R,1);
H.splice(R,1);R--}}for(var R=0;R<E.length;R++)if(T.indexOf(E[R])==-1){E.splice(R,1);R--}return H};j.G.aqg=function(n,q){var p=n.slice(0,2),E=-1;
for(var R=2;R<n.length;R++){if((n[R].type==0||n[R].type==3)&&n[R].HW!=-1)E++;if(q.indexOf(E)==-1)p.push(n[R])}return p};
j.G.aiw=function(n,q){var p=n.slice(0,2),E=-1;for(var R=2;R<n.length;R++){if((n[R].type==0||n[R].type==3)&&n[R].HW!=-1)E++;
if(q.indexOf(E)!=-1)p.push(n[R])}return p};j.G.apC=function(n){var q=0;for(var R=0;R<n.length;R++)if(n[R].type==0||n[R].type==3)q=R;
return n[q]};j.G.ji=function(n){var q=-1;for(var R=0;R<n.length;R++)if((n[R].type==0||n[R].type==3)&&n[R].HW!=-1)q++;
return q+1};j.G.HC=function(n,q,p){var E=-1;for(var R=0;R<n.length;R++)if((n[R].type==0||n[R].type==3)&&(p||n[R].HW!=-1)){E++;
if(E==q)return R}return-1};j.G.gV=function(n,q,p){var E=-1;for(var R=0;R<n.length;R++)if((n[R].type==0||n[R].type==3)&&(p||n[R].HW!=-1)){if(R>=q)return E;
E++}return E};j.G.mE=function(n,q){var p=-1,E=0;for(var R=0;R<n.length;R++){if((n[R].type==0||n[R].type==3)&&n[R].HW!=-1)p++;
if(p==q)E++}return E};j.G.aqq=function(n){var q=180;for(var R=0;R<n.length;R++){if(n[R].type!=0&&n[R].type!=3)continue;
var p=n[R].length;if(p<3)continue;for(var E=0;E<p;E++){var T=n[R+1+(E-1+p)%p],i=n[R+1+E],H=n[R+1+(E+1)%p],Z=i.L,w=i.m5.rv(Z)?T.OR:i.m5,d=i.OR.rv(Z)?H.m5:i.OR;
if(Z.rv(w)||Z.rv(d))continue;var O=w.x-Z.x,W=w.y-Z.y,C=d.x-Z.x,a=d.y-Z.y,w=Math.atan2(w.y-Z.y,w.x-Z.x)*180/Math.PI,d=Math.atan2(d.y-Z.y,d.x-Z.x)*180/Math.PI,B=Math.abs(d-w)%360,$=B>180?360-B:B;
if($<q)q=$}}return q*Math.PI/180};j.G.I1=function(n){var q=n.segments?[n]:n.children,p=[];for(var R=0;
R<q.length;R++){var E=q[R],T=E.segments,i=E.closed?0:3,H=p.length,Z=null;if(T.length<=1)continue;p.push({type:i,length:T.length,HW:0,cZ:2});
for(var w=0;w<T.length;w++){var d=T[w],O=new fc(d.handleIn.x,d.handleIn.y),W=new fc(d.handleOut.x,d.handleOut.y),C=new fc(d.point.x,d.point.y),a={type:i+1,m5:C.add(O),L:C,OR:C.add(W)};
if(Z==null)Z=a;p.push(a);if(w+1==T.length&&fc.vu(Z.L,a.L)<1e-5){p.pop();p[H].length--;Z.m5=a.m5;if(i==3)for(var B=H;
B<p.length;B++)p[B].type-=3}}}return p};j.G.YZ=function(n){j.G.CS();var q=[],p,E=new paper.Color(1,0,0);
function T(a,Z){a.remove();a.closed=!Z;a.fillRule="evenodd"}for(var R=0;R<n.length;R++){if(n[R].type>5)continue;
var i=n[R].length,H;if(R==n.length-1)break;var Z=n[R].type==3;if(R==2){if(!j.G.jD(n))H="subtract";else H="unite"}else{if(n[R].HW==0)H="exclude";
if(n[R].HW==1)H="unite";if(n[R].HW==2)H="subtract";if(n[R].HW==3)H="intersect"}if(n[R].HW!=-1){p=new paper.CompoundPath;
q.push([p,H]);p.fillRule="evenodd";p.fillColor=E}var w=[];for(var d=0;d<i;d++){var O=n[R+1+d],W=O.m5.NH(O.L),C=O.OR.NH(O.L);
w.push([[O.L.x,O.L.y],[W.x,W.y],[C.x,C.y]])}var a=new paper.Path(w);T(a,Z);p.addChild(a);R+=i}return q};
j.G.wu=function(n){for(var R=0;R<n.length;R++){var q=n[R];if(q.L==null)continue;if(!q.L.rv(q.m5)||!q.L.rv(q.OR))return!1}return!0};
j.G.ahz=function(n){if(n.length<=5)return 0;var q=0,p=n.length-3-1;for(var R=0;R<p;R++){var E=n[3+R],T=n[3+R+1];
if(E.type==0||T.type==0)return 0;q+=(T.L.x-E.L.x)*(E.L.y+T.L.y)}q+=(n[3].L.x-n[3+p].L.x)*(n[3+p].L.y+n[3+1].L.y);
return-q*.5};j.G.SJ=function(n){var q=n[2],p=!1;if(n.length==2)p=n[1].all==0;else if(n[1].all==1){if(q.HW==1||q.HW==3)p=!0;
else p=!1}else{if(q.HW==1||q.HW==3||q.HW==0)p=!0;else p=!1}return p};j.G.jD=function(n){var q=j.G.SJ(n);
for(var R=3;R<n.length;R++)if(n[R].HW==3)q=!0;return q};j.G.a0P=0;j.G.Ad=0;j.G.a3K=0;j.G.a8M=function(n,q,p,E){if(p.M6())return;
var T=p.P(),x=16384;j.G.a0P+=T;if(T>j.G.Ad){j.G.Ad=T}var i=p.v,H=p.o;if(E==null&&j.G.wu(n)){var Z=!0;
for(var R=2;R<n.length;)if(n[R].length==2)R+=3;else{Z=!1;break}if(Z){return}if(j.G.Hk(n)){q.fill(255);
var w=j.G.Sc(n);if(w.P()!=T){var d=1-(w.x-p.x),O=1-(w.y-p.y),W=1-(p.x+p.v-(w.x+w.v)),C=1-(p.x+p.o-(w.x+w.o)),a=~~(d*255),B=~~(W*255),$=~~(O*255),I=~~(C*255);
q.fill($,0,i);q[0]=~~(d*O*255);q[i-1]=~~(W*O*255);for(var R=i;R<T;R+=i){q[R]=a;q[R+i-1]=B}q.fill(I,(H-1)*i,H*i);
q[T-i]=~~(d*C*255);q[T-1]=~~(W*C*255)}return}}var U=Math.ceil(i/x),N=Math.ceil(H/x),m=Math.ceil(i/U),f=Math.ceil(H/N),c=Date.now();
for(var D=0;D<N;D++)for(var z=0;z<U;z++){var _=z*m,v=D*f,o=m,y=f,k=j.vl(o,y);if(!j.G.SJ(n))k.fillRect(0,0,o,y);
j.G.nN(n,k,-p.x-_,-p.y-v,E);var S=new Uint8Array(k.getImageData(0,0,o,y).data.buffer);if(o==i&&y==H)j.J2(S,q,3);
else j.Fm(S,new eL(_,v,o,y),q,new eL(0,0,i,H))}};j.G.nN=function(n,q,p,E,T){if(T!=null){var i=!1,H=!1,Z=0,w=!1;
for(var R=0;R<n.length;R++){var d=n[R].HW;if(d!=null){Z++;if(d==-1)i=!0;if(d>0)H=!0;if(n[R].type==0)w=!0}}if(!i&&Z<20&&(T==null||w))n=j.G.zz(n)}for(var R=0;
R<n.length;R++){if(n[R].type>5)continue;var O=n[R].length;if(O==0)continue;if(R==n.length-1)break;var W=n[R].type==3,d=n[R].HW;
if(d!=-1&&T==null){var C=["xor","source-over","destination-out","source-in"][d];q.globalCompositeOperation=C}if(n[R].HW!=-1){q.beginPath();
if(T){var a=T.strokeStyleLineWidth.v.val,B=T.strokeStyleLineAlignment.v.strokeStyleLineAlignment,$=T.strokeStyleLineCapType.v.strokeStyleLineCapType,I=T.strokeStyleLineJoinType.v.strokeStyleLineJoinType,x=T.strokeStyleMiterLimit.v,U=[],N=T.strokeStyleLineDashSet.v;
for(var m=0;m<N.length;m++)U.push(N[m].v.val*a);q.setLineDash(U);q.lineCap=["butt","round","square"][iq.DL.jY.indexOf($)];
q.lineJoin=["miter","round","bevel"][iq.DL.join.indexOf(I)];q.lineWidth=iq.DL.uO.indexOf(B)==1?a:a*=2;
q.miterLimit=x}}j.G.asp(q,n,R+1,O,p,E,W);if(W){}else q.closePath();if(n[R+1+O]==null||n[R+1+O].HW!=-1){if(T)q.stroke();
else q.fill("evenodd")}R+=O}q.globalCompositeOperation="source-over"};j.G.asp=function(n,q,R,p,E,T,i){var H=q[R],Z=null;
n.moveTo(H.L.x+E,H.L.y+T);for(var w=R;w<R+p-1;w++){H=q[w];Z=q[w+1];n.bezierCurveTo(H.OR.x+E,H.OR.y+T,Z.m5.x+E,Z.m5.y+T,Z.L.x+E,Z.L.y+T)}if(!i){H=q[w];
Z=q[R];n.bezierCurveTo(H.OR.x+E,H.OR.y+T,Z.m5.x+E,Z.m5.y+T,Z.L.x+E,Z.L.y+T)}};j.G.Rk=function(n,q,p){var E=[],T=p?4:1,i=!1;
if(q!=null)for(var R=0;R<q.length;R++)if(q[R]!=0){i=!0;break}if(q!=null&&i){var H=j.O.afK(n,q),Z=H.length/6;
for(var R=0;R<Z;R++){var w=R*6,d=(R-1+Z)%Z*6,O=H[w],W=H[w+1],C=H[w+2],a=H[w+3],B=H[d+4],$=H[d+5];E.push({type:T,m5:new fc(B,$),L:new fc(O,W),OR:new fc(C,a)})}}else{for(var R=0;
R<n.length;R+=2){var I=new fc(n[R],n[R+1]);E.push({type:T,m5:I.clone(),L:I.clone(),OR:I.clone()})}}return E};
j.G.B8=function(n,q){j.G.CS();var p=new paper.Path;p.remove();var E=n.length-1,T=Math.sqrt((n[E-1]-n[0])*(n[E-1]-n[0])+(n[E]-n[1])*(n[E]-n[1]))<3;
p.closed=T;for(var R=0;R<n.length;R+=2)p.add(new paper.Point(n[R],n[R+1]));p.simplify(q);var i=[{type:6},{type:8,all:0}];
i=i.concat(j.G.I1(p));return i};j.G.$R=function(n,q,p){var E=n[q].length,T=n[q].type,i=0,H=n.slice(q+1,q+1+E);
for(var R=0;R<E;R++){var Z=p[(R-1+E)%E],w=p[(R+1+E)%E],d=p[R];if(d!=0){var O=H[(R-1+E)%E].L,W=H[(R+0+E)%E].L,C=H[(R+1+E)%E].L,a=fc.vu(W,O),B=fc.vu(W,C),$=j.O.p9(O.x,O.y,W.x,W.y,C.x,C.y,d)[0],I=Math.min($,Z==0?a:a/2,w==0?B:B/2);
d*=I/$;var x=j.O.aD(O.x,O.y,W.x,W.y,C.x,C.y,d),U={type:T+1,m5:new fc(x[2],x[3]),L:new fc(x[2],x[3]),OR:new fc(x[4],x[5])},N={type:T+1,m5:new fc(x[6],x[7]),L:new fc(x[8],x[9]),OR:new fc(x[8],x[9])};
n.splice(q+i+1,1,U,N);i++;n[q].length++}i++}};j.G.wu=function(n){for(var R=0;R<n.length;R++){var q=n[R],p=q.type;
if(p==1||p==2||p==4||p==5)if(!q.L.rv(q.m5)||!q.L.rv(q.OR))return!1}return!0};j.G.Hk=function(n){if(n.length!=7||!j.G.wu(n))return!1;
for(var R=0;R<4;R++){var q=!0;for(var p=0;p<4;p++){var E=n[3+(R+p&3)],T=n[3+(R+p+1&3)];if(E.L.x!=T.L.x&&E.L.y!=T.L.y)q=!1}if(q)return!0}return!1};
j.G.la={};j.G.la.Pi=function(n,q,p){var E=[{type:6},{type:8,all:0}],T=null;E.push({type:p?3:0,HW:1,length:0,NC:0,Wu:0,cZ:1});
if(q==0)T==null;else if(q instanceof Array)T=q;else{T=[];for(var R=0;R<n.length;R+=2)T.push(q)}E=E.concat(j.G.Rk(n,T,p));
E[2].length=E.length-3;return E};j.G.la.a1$=function(n,q,p,E,T){var i=[],H=[],Z=.553,w=1,d=-1;i.push({type:1,m5:new fc(0,Z),L:new fc(0,0),OR:new fc(0,-Z)});
T+=2;for(var R=0;R<T;R++){var O={type:1};if(R==0){O.L=new fc(1,-1);O.m5=new fc(1-Z,-1);O.OR=new fc(1+Z,-1)}else{var W=-(R+2)*Math.PI/2,C=1+((R&1)==1?R-1:R),a=Math.sin(W),B=Math.cos(W);
w+=C*(a-B);d+=C*(B+a);O.L=new fc(w,d);O.m5=new fc(w+C*B*Z,d-C*a*Z);if((R&1)==1)C+=2;O.OR=new fc(w-C*B*Z,d+C*a*Z)}var $={type:1,m5:new fc(-O.OR.x,-O.OR.y),L:new fc(-O.L.x,-O.L.y),OR:new fc(-O.m5.x,-O.m5.y)};
i.push(O);if(R<T-2)H.push($)}H.reverse();i=i.concat(H);var I=[{type:6},{type:8,all:0}];I.push({type:0,HW:1,length:i.length,NC:0,Wu:0,cZ:1});
I=I.concat(i);var x=new b$(p/T,0,0,p/T,0,0);x.rotate(E);x.translate(n,q);j.G.ra(I,x);return I};j.G.la.Rect=function(n,q,p,E,T){var i=[n,q,n+p,q,n+p,q+E,n,q+E];
return j.G.la.Pi(i,T)};j.G.la.y6=function(n,q,p,E,T,i){var H=[],Z=2*Math.PI/T;for(var R=0;R<T;R++)H.push(Math.cos(R*Z),Math.sin(R*Z));
var w=new b$(p,0,0,p,0,0);w.rotate(E);w.translate(n,q);j.O.B(H,w,H);return j.G.la.Pi(H,i)};j.G.la.Ya=function(n,q,p,E,T,i,H){var Z=[],w=Math.PI/T;
for(var R=0;R<T*2;R++){var d=(R&1)==0?1:H;Z.push(d*Math.cos(R*w),d*Math.sin(R*w))}var O=new b$(p,0,0,p,0,0);
O.rotate(E);O.translate(n,q);j.O.B(Z,O,Z);return j.G.la.Pi(Z,i)};j.G.la._t=function(n,q,p,E,T){return j.G.la.Jk(0,n,q,p,E,T)};
j.G.la.anz=function(n,q,p,E,T,i){return j.G.la.Jk(1,n,q,p,E,T,i)};j.G.la.Jk=function(n,q,p,E,T,i,H){var Z=Math.sqrt((E-q)*(E-q)+(T-p)*(T-p)),w;
i/=2;if(n==0)w=[-i,0,i,0,i,Z,-i,Z];else{var d=i*2*H*1.3/1.5,O=i*H;w=[-i,0,i,0,i,Z-d,O,Z-d,0,Z,-O,Z-d,-i,Z-d]}var W=new b$(1,0,0,1,0,0);
W.rotate(Math.atan2(-T+p,E-q)+Math.PI/2);W.translate(q,p);j.O.B(w,W,w);return j.G.la.Pi(w,0)};j.G.la.OG=function(n,q,p,E){var T=[{type:6},{type:8,all:0}],W=.553;
T.push({type:0,HW:1,length:4,NC:0,Wu:0,cZ:1});var i=n,H=q,Z=n+p,w=q+E,n=(i+Z)/2,q=(H+w)/2,d=(i-Z)/2,O=(H-w)/2;
T.push({type:1,m5:new fc(n-W*d,q-O),L:new fc(n,q-O),OR:new fc(n+W*d,q-O)});T.push({type:1,m5:new fc(n+d,q-W*O),L:new fc(n+d,q),OR:new fc(n+d,q+W*O)});
T.push({type:1,m5:new fc(n+W*d,q+O),L:new fc(n,q+O),OR:new fc(n-W*d,q+O)});T.push({type:1,m5:new fc(n-d,q+W*O),L:new fc(n-d,q),OR:new fc(n-d,q-W*O)});
return T};j.G.la.a4o=function(n,q,p,E,T){var i=[{type:6},{type:8,all:0}];i.push({type:3,HW:1,length:5,NC:0,Wu:0,cZ:1});
var H=(T-E)/4;for(var R=0;R<5;R++){var Z=R*H,w=Math.cos(Z),d=Math.sin(Z),O=.553*(H/(Math.PI/2)),W=d*O,C=-w*O,a=new fc(w,d);
i.push({type:4,m5:R==0?a.clone():new fc(w+W,d+C),L:a,OR:R==4?a.clone():new fc(w-W,d-C)})}var B=new b$;
B.rotate(-E);B.scale(p,p);B.translate(n,q);j.G.ra(i,B);return i};j.bF={};j.bF.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
j.bF.wO=function(n){var q=n.warpStyle.v.warpStyle;if(q=="warpNone")return!0;else if(q=="warpCustom"){var p=!1,E=n.customEnvelopeWarp.v.meshPoints.v.arr,T=E[0].arr,i=E[1].arr;
for(var R=0;R<4;R++)for(var H=0;H<4;H++){if(Math.abs(T[R]-T[H*4+R])>1||Math.abs(i[R*4]-i[R*4+H])>1)p=!0}return!p}else return n.warpValue.v==0&&n.warpPerspective.v==0&&n.warpPerspectiveOther.v==0};
j.bF.U=function(n){var q={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(n){q.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:n.y}},Left:{t:"UntF",v:{type:"#Pxl",val:n.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:n.y+n.o}},Rght:{t:"UntF",v:{type:"#Pxl",val:n.x+n.v}}}};
q.uOrder={t:"long",v:4};q.vOrder={t:"long",v:4}}return q};j.bF.afZ=function(n,q,p,E){for(var R=0;R<n.length;
R+=2){var T=n[R],i=n[R+1],H=(T-q.x)/q.v,Z=(i-q.y)/q.o,w=(1-p)/2,d=1-w,O=w+H*(d-w);Z=.5+(Z-.5)*O*2;var W=(1-E)/2,C=1-W,a=W+Z*(C-W);
H=.5+(H-.5)*a*2;T=q.x+H*q.v;i=q.y+Z*q.o;n[R]=T;n[R+1]=i}};j.bF.XZ=function(n,q){var p=[],E=[];for(var R=0;
R<n.length;R+=2){p.push(n[R]);E.push(n[R+1])}var T=[];T.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:p});
T.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:E});q.warpStyle.v.warpStyle="warpCustom";q.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:T}}}}};
j.bF.Bh=function(n,q){if(q==null){var p=n.bounds.v,E=p.Left.v.val,T=p.Rght.v.val,i=p.Top.v.val,H=p.Btom.v.val;
q=new eL(E,i,T-E,H-i)}if(q.M6())q.v=q.o=1;var Z=[],w=n.warpStyle.v.warpStyle;if(w=="warpCustom"){var d=n.customEnvelopeWarp.v.meshPoints.v.arr,O=d[0].arr,W=d[1].arr;
for(var R=0;R<16;R++)Z.push(O[R],W[R])}else Z=j.bF.bF(q,w,n.warpRotate.v.Ornt=="Hrzn",n.warpValue.v/100,n.warpPerspective.v/100,n.warpPerspectiveOther.v/100);
return Z};j.bF.bF=function(n,q,p,E,T,i){var H=j.c0.U(n.x,n.y,n.v,n.o);if(q=="warpNone")return H;var Z=JSON.parse(JSON.stringify(n)),w=new b$;
if(!p){w.translate(-n.x,-n.y);w.rotate(-Math.PI/2);w.translate(n.o,0);j.O.B(H,w,H);n=new eL(0,0,n.o,n.v);
H=j.c0.tW(H,!1)}j.bF.ajc(H,n,q,E,T,i);if(!p){H=j.c0.tW(H,!0);n=Z;w.z3();j.O.B(H,w,H)}if(E==0)j.bF.afZ(H,n,T,i);
else{var w=new b$(1/n.v,0,0,1/n.o,-n.x,-n.y);w.translate(-.5,-.5);j.O.B(H,w,H);j.bF.agW(H,i,T);w.z3();
j.O.B(H,w,H)}return H};j.bF.ajc=function(n,q,p,E,T,i){for(var R=0;R<4;R++){for(var H=0;H<4;H++){var Z=2*(4*R+H),w=n[Z]-q.x,d=n[Z+1]-q.y,O=w,W=d;
if(E!=0){var C=q.v/2,a=q.o/2;O-=C;W-=a;var B=O,$=O,I=-a,x=a,U=Math.abs(E),N=Math.tan((1-U)*Math.PI/2),m=Math.sqrt(N*N+1),f=Math.atan2(1,N),c=O/C*f,D=C*m,z=C*m+q.o,_=Math.cos(f),v=Math.sin(f),o=j.bF.a83(_,v),y=j.bF.a9c(_,v),k=-N*C+o*D;
if(p=="warpArc"){B=Math.sin(c)*z;I=N*C-Math.cos(f)*z+a;$=Math.sin(c)*D;x=N*C-Math.cos(f)*D+a;if(H==1||H==2){B=H==1?-y*z:y*z;
$=H==1?-y*D:y*D;I=N*C+a-o*z;x=N*C+a-o*D}if(E<0){var S=B;B=$;$=S;S=I;I=-x;x=-S}}if(p=="warpArcLower"){if(H==1||H==2){$=H==1?-y*D:y*D;
x=E<0?a-k:a+k}}if(p=="warpArcUpper"||p=="warpArch"||p=="warpBulge"){if(H==1||H==2){B=H==1?-y*D:y*D;I=E<0?-a+k:-a-k}if(p=="warpArch"){$=B;
x=I+2*a}if(p=="warpBulge"){$=B;x=-I}}if(p=="warpFish"||p=="warpFlag"||p=="warpWave"){if(H==1){I-=E*4*a;
x+=E*4*a}if(H==2){I+=E*4*a;x-=E*4*a}if(p=="warpFlag"||p=="warpWave")I=x-2*a}if(p=="warpRise"){if(H<2)I=-a+E*a*4;
x=I+2*a}var L=(W+a)/q.o;O=B+L*($-B);W=I+L*(x-I);if(p=="warpWave"){if(R==0)W=-a;if(R==3)W=a;if(R==1||R==2)W=2*a*(R/3-.5)*(1/3)+W*(2/3)}if(p=="warpFisheye"){if((R==1||R==2)&&(H==1||H==2)){O=O+4*O*E;
W=W+4*W*E}}if(p=="warpInflate"){var X=2/3;if((R==1||R==2)&&(H==1||H==2)){O=O+.5*O*E;W=W+.5*W*E}else if(R==1||R==2)O=O+X*O*E;
else if(H==1||H==2)W=W+X*W*E}if(p=="warpSqueeze"){var X=2/3;if((R==1||R==2)&&(H==1||H==2)){if(E>0)O=O-X*O*E;
else W=W+X*W*E}else if(R==1||R==2)O=O-X*O*E;else if(H==1||H==2)W=W+X*W*E}if(p=="warpTwist"){if((R==1||R==2)&&(H==1||H==2)){var s=E*Math.PI/2,m=1+Math.abs(E)*2,M=O*Math.cos(s)-W*Math.sin(s),V=O*Math.sin(s)+W*Math.cos(s);
O=M*m;W=V*m}}if(p=="warpShellLower"||p=="warpShellUpper"){if(p=="warpShellUpper"){R=3-R;W=-W}if(R>2||R==2&&(H==0||H==3)){if(E>0){var l=D+R/3*2*a;
O=Math.sin(c)*l;W=-N*C-a+Math.cos(c)*l;if(H==1||H==2){O=H==1?-y*l:y*l;W=-N*C-a+o*l}}else{if((H==1||H==2)&&R==3){O=H==1?-y*D:y*D;
W=N*C-o*D+a}else if(R==2){W=a-a*(2/3)*Math.cos(c);O=O+a*(2/3)*Math.sin(c)}}}if(p=="warpShellUpper"){R=3-R;
W=-W}}O+=C;W+=a}w=O,d=W;n[Z]=w+q.x;n[Z+1]=d+q.y}}};j.bF.agW=function(n,q,p){var E=[];for(var T=0;T<4;
T++)E.push(1-p+T/3*2*p);var i=[];for(var T=0;T<4;T++)i.push(1-q+T/3*2*q);var H=[0,0,0,0],Z=[0,0,0,0];
for(var R=0;R<4;R++)for(var T=0;T<4;T++){var w=2*(4*R+T),d=n[w],O=n[w+1];H[T]+=d/4;Z[T]+=O/4}for(var R=0;
R<4;R++)for(var T=0;T<4;T++){var W=E[T],w=2*(4*R+T),d=n[w],O=n[w+1],C=H[T],a=Z[T];n[w]=C+W*(d-C);n[w+1]=a+W*(O-a)}var B=n.slice(0);
for(var R=0;R<4;R++)for(var T=1;T<3;T++){var w=2*(4*R+T),d=n[w],O=n[w+1],$=w+(T==1?-2:2),I=n[$],x=n[$+1];
n[w]=d-I;n[w+1]=O-x}var U=n[0],N=n[1],m=n[8],f=n[9],c=n[16],D=n[17],z=n[24],_=n[25],v=n[6],o=n[7],y=n[14],k=n[15],S=n[22],L=n[23],X=n[30],s=n[31],M=v-U,V=o-N,l=y-m,e=k-f,Y=S-c,J=L-D,G=X-z,F=s-_;
for(var R=0;R<4;R++){var b=2*R*4,h=0,bj=0,i4=R==1?.33:.66,t=1-i4;if(R==0){h=M;bj=V}if(R==1){h=t*M+i4*-G;
bj=t*V+i4*-F}if(R==2){h=t*M+i4*-G;bj=t*V+i4*-F}if(R==3){h=-G;bj=-F}n[b]=n[b]+h/2;n[b+1]=n[b+1]+bj/2;
n[b+6]=n[b+6]-h/2;n[b+7]=n[b+7]-bj/2}for(var R=0;R<4;R++)for(var T=1;T<3;T++){var w=2*(4*R+T),d=n[w],O=n[w+1],$=w+(T==1?-2:2),I=n[$],x=n[$+1],W=2*R/3;
n[w]=I+W*d;n[w+1]=x+W*O}for(var R=1;R<3;R++)for(var T=1;T<3;T++){var w=2*(4*R+T),d=n[w],O=n[w+1],aG=R==1?-8:-16,Q=R==1?16:8,jd=n[w+aG],bP=n[w+aG+1],gz=n[w+Q],fZ=n[w+Q+1],W=R/3;
d=(1-W)*jd+W*gz;O=(1-W)*bP+W*fZ;n[w]=d;n[w+1]=O}j.O.OQ(B,n,n,q)};j.bF.a83=function(n,q){return(4-n)*(1/3)};
j.bF.a9c=function(n,q){return(1-n)*(3-n)/(3*q)};j.uw={};j.uw.alh=function(n,q,p,E,T,i,H,Z,w,d){for(var O=0;
O<Z;O++)for(var W=0;W<H;W++){var C=3*(O*H+W),a=O+i,B=W+T,$=n[a*q+B];E[C]=$;E[C+1]=$;E[C+2]=$}};j.uw.lx=function(n,q,p,E,T,i,H,Z,w,d){var O=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],W=1/w,C=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],a=new Uint32Array(6);
for(var B=0;B<Z;B++){for(var $=0;$<H;$++){var I=3*(B*H+$),x=B+i,U=$+T;a[0]=0;a[1]=0;a[2]=0;a[3]=0;a[4]=0;
a[5]=0;for(var R=0;R<16;R+=2){var N=U+C[R],m=x+C[R+1],f=N-w*~~(N*W),c=m-w*~~(m*W),D=d[c*w+f];a[D]+=n[m*q+N];
a[D+3]++}var N=U,m=x,f=N-w*~~(N*W),c=m-w*~~(m*W),D=d[c*w+f];a[D]=n[x*q+U];a[D+3]=1;E[I]=a[0]*O[a[3]];
E[I+1]=a[1]*O[a[4]];E[I+2]=a[2]*O[a[5]]}}};j.uw.V9=function(n,q,p){for(var R=0;R<p;R+=2)n[q+R]=n[q+R+1];
q=q+p;for(var R=0;R<p;R+=2)n[q+R+1]=n[q+R]};j.uw.zW=function(n,q,p,E){for(var R=0;R<E;R+=2){var T=q+R*p;
n[T]=n[T+p];n[T+p+1]=n[T+1]}};j.uw.Z2=function(n,q,p,E,T,i){var H=E[T],Z=E[T+1],w=E[i],d=E[i+1],O=Z+w>>>1;
n[q]=n[q+3]=n[p]=n[p+3]=H;n[q+1]=O;n[q+4]=Z;n[p+1]=w;n[p+4]=O;n[q+2]=n[q+5]=n[p+2]=n[p+5]=d};j.uw.aoh=function(n,q,p,E,T,i){var H=i*3;
for(var R=0;R<i;R+=2){var Z=q+R,w=T+R*3;j.uw.Z2(E,w,w+H,n,Z,Z+p)}};j.uw.aaO=function(n,q,p,E,T,i,H){var Z=i*3;
for(var R=0;R<H;R+=2){var w=q+R*p,d=T+R*i*3;j.uw.Z2(E,d,d+Z,n,w,w+p)}};j.uw.lv=function(n,R,q){var p=n[R-q-q],E=n[R-q],T=n[R-2],i=n[R-1],H=n[R],Z=n[R+1],w=n[R+2],d=n[R+q],O=n[R+q+q],W=Math.abs(E-d),C=Math.abs(i-Z),a=Math.abs(H-p)*2+W,B=Math.abs(H-w)*2+C,$=Math.abs(H-T)*2+C,I=Math.abs(H-O)*2+W,x=Math.min(a,Math.min(B,Math.min($,I)));
if(x==a)return E*3+d+H-p>>2;if(x==B)return Z*3+i+H-w>>2;if(x==$)return i*3+Z+H-T>>2;return d*3+E+H-O>>2};
j.uw.TY=function(n,q,p,E,T){if(n<q&&q<p||n>q&&q>p)return~~(.5+E+(T-E)*(q-n)/(p-n));else return(E+T>>1)+(q+q-n-p>>2)};
j.uw.mx=function(n,q,R,p){var E=q[R-p-1],T=q[R-p+1],i=q[R],H=q[R+p-1],Z=q[R+p+1],w=n[R-p-1],d=n[R-p+1],O=n[R],W=n[R+p-1],C=n[R+p+1],a=Math.abs(d-W)+Math.abs(n[R-p-p+2]-O)+Math.abs(O-n[R+p+p-2])+Math.abs(T-i)+Math.abs(i-H),B=Math.abs(w-C)+Math.abs(n[R-p-p-2]-O)+Math.abs(O-n[R+p+p+2])+Math.abs(E-i)+Math.abs(i-Z);
if(a<B)return j.uw.TY(T,i,H,d,W);else return j.uw.TY(E,i,Z,w,C)};j.uw.T2=function(n,q,p,E,T,i){n[q+0]=p[T];
n[q+1]=E[T];n[q+2]=j.uw.mx(p,E,T,i)};j.uw.QG=function(n,q,p,E,T,i){var H=E[T];n[q+0]=j.uw.TY(E[T-1],H,E[T+1],p[T-1],p[T+1]);
n[q+1]=H;n[q+2]=j.uw.TY(E[T-i],H,E[T+i],p[T-i],p[T+i])};j.uw.XX=function(n,q,p,E,T,i){var H=E[T];n[q+0]=j.uw.TY(E[T-i],H,E[T+i],p[T-i],p[T+i]);
n[q+1]=H;n[q+2]=j.uw.TY(E[T-1],H,E[T+1],p[T-1],p[T+1])};j.uw.Ih=function(n,q,p,E,T,i){n[q+0]=j.uw.mx(p,E,T,i);
n[q+1]=E[T];n[q+2]=p[T]};j.uw.ak0=function(n,q,p,E,T,i,H,Z,w){var d=Date.now(),O=2,W=q-2,C=2;if((T&1)==1){O++;
W--}var a=p-2;if((i&1)==1){C++;a--}if(w==1||w==3){O++;W--}var B=n.slice(0);j.uw.V9(B,0,q);j.uw.zW(B,0,q,p);
j.uw.zW(B,q-2,q,p);j.uw.V9(B,(p-2)*q,q);for(var $=C;$<a;$+=2)for(var I=O;I<W;I+=2){var R=$*q+I,x=j.uw.lv(B,R,q),U=j.uw.lv(B,R+q+1,q);
B[R]=Math.max(0,x);B[R+q+1]=Math.max(0,U)}var N=H,m=Z;if(i+Z==p){m-=2;j.uw.aoh(n,(p-2)*q+T,q,E,(Z-2)*H*3,H)}if(T+H==q){N-=2;
j.uw.aaO(n,i*q+T+H-2,q,E,(H-2)*3,H,Z)}if(w==0)for(var $=0;$<m;$+=2)for(var I=0;I<N;I+=2){var f=($+i)*q+I+T,c=($*H+I)*3;
j.uw.T2(E,c,n,B,f,q);j.uw.QG(E,c+3,n,B,f+1,q);f+=q;c+=3*H;j.uw.XX(E,c,n,B,f,q);j.uw.Ih(E,c+3,n,B,f+1,q)}else if(w==1)for(var $=0;
$<m;$+=2)for(var I=0;I<N;I+=2){var f=($+i)*q+I+T,c=($*H+I)*3;j.uw.QG(E,c,n,B,f,q);j.uw.T2(E,c+3,n,B,f+1,q);
f+=q;c+=3*H;j.uw.Ih(E,c,n,B,f,q);j.uw.XX(E,c+3,n,B,f+1,q)}else if(w==2)for(var $=0;$<m;$+=2)for(var I=0;
I<N;I+=2){var f=($+i)*q+I+T,c=($*H+I)*3;j.uw.Ih(E,c,n,B,f,q);j.uw.XX(E,c+3,n,B,f+1,q);f+=q;c+=3*H;j.uw.QG(E,c,n,B,f,q);
j.uw.T2(E,c+3,n,B,f+1,q)}else if(w==3)for(var $=0;$<m;$+=2)for(var I=0;I<N;I+=2){var f=($+i)*q+I+T,c=($*H+I)*3;
j.uw.XX(E,c,n,B,f,q);j.uw.Ih(E,c+3,n,B,f+1,q);f+=q;c+=3*H;j.uw.T2(E,c,n,B,f,q);j.uw.QG(E,c+3,n,B,f+1,q)}};
j.raw={};j.raw.a7H=function(n){var q=Date.now(),p=n.width,E=n.height,T=0,i=0,H=p,Z=E;if(n.t50829){var w=n.t50829;
T=w[1];i=w[0];H=w[3];Z=w[2]}if(n.t50719){var d=n.t50719;T+=d[0]>>1<<1;i+=d[1]>>1<<1}if(n.t50720){var O=n.t50720;
H=T+O[0];Z=i+O[1]}var W=H-T,C=Z-i,a=j.raw.aee(n),B=n.t33422,$=n.t33421;if($){var O=$[0],I=B.slice(0);
for(var x=0;x<O;x++)for(var U=0;U<O;U++){var N=(U+(T&1))%O,m=(x+(i&1))%O;I[x*O+U]=B[m*O+N]}B=I}if(n.t277[0]==1)j.raw.aj2(a,p,E,n,B);
j.raw.JR(2,n,a,p,E);var f=new Float32Array(W*C*3);if(n.t277[0]==1){if($==null){j.uw.alh(a,p,E,f,T,i,W,C)}else if($.length!=2||$[0]!=2||$[1]!=2){console.log("Unknown CFA pattern size",$);
j.uw.lx(a,p,E,f,T,i,W,C,$[0],B)}else{var c=n.t33422.join(","),D=0;if(c=="0,1,1,2")D=0;else if(c=="1,0,2,1")D=1;
else if(c=="2,1,1,0")D=2;else if(c=="1,2,0,1")D=3;else throw"Unknown CFA pattern "+c;if((W&1)!=0||(C&1)!=0)throw"e";
j.uw.ak0(a,p,E,f,T,i,W,C,D)}}else{for(var x=0;x<C;x++)for(var U=0;U<W;U++){var z=((x+i)*p+U+T)*3,_=(x*W+U)*3;
f[_+0]=a[z+0];f[_+1]=a[z+1];f[_+2]=a[z+2]}}var v=f,o=f.length,y=j.raw.iL(n),k=1/y;for(var R=0;R<o;R+=3){f[R]=v[R]*k;
f[R+1]=v[R+1]*k;f[R+2]=v[R+2]*k}j.raw.JR(3,n,f,W,C);var S=n.Nk,L=W,X=C;if(S==1||S==9){}else{var s=j.raw.XH(S,W,C),_=0;
L=s[0];X=s[1];var M=f.slice(0);for(var x=0;x<X;x++)for(var U=0;U<L;U++){var V=s[2]*U+s[3]*x+s[4],l=s[5]*U+s[6]*x+s[7],z=(l*W+V)*3;
f[_]=M[z];f[_+1]=M[z+1];f[_+2]=M[z+2];_+=3}}return{OT:f,Sd:L,vk:X}};j.raw.XH=function(n,q,p){var E=q,T=p;
if(!1){}else if(n==2)return[q,p,-1,0,q-1,0,1,0];else if(n==3)return[q,p,-1,0,q-1,0,-1,p-1];else if(n==4)return[q,p,1,0,0,0,-1,p-1];
else if(n==5)return[p,q,0,1,0,1,0,0];else if(n==6)return[p,q,0,1,0,-1,0,p-1];else if(n==7)return[p,q,0,-1,q-1,-1,0,p-1];
else if(n==8)return[p,q,0,-1,q-1,1,0,0];else throw"unknown orientation "+n};j.raw.aj2=function(n,q,p,E,T){var i=Date.now(),k=0,X=0;
if(j.raw.iL(E)>4e4){for(var R=0;R<n.length;R++)n[R]>>=1;var H=["t50714","t50715","t50712","t50717"];
for(var R=0;R<H.length;R++){var Z=E[H[R]];if(Z)for(var w=0;w<Z.length;w++)Z[w]>>>=1}console.log("remapping to lower bit depth")}var d=~~Math.sqrt(T.length),O=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],W=[];
for(var C=0;C<d;C++)for(var a=0;a<d;a++){var R=C*d+a,B=T[R],$=4,I=4,x=8,U=0,N=0;for(var w=0;w<18;w+=2){var m=(d+a+O[w])%d,f=(d+C+O[w+1])%d,c=T[f*d+m];
if(c==B){}else if($==4){$=c;U=w}else if(I==4&&c!=$){I=c;N=w;break}}if(I<$){var D=I;I=$;$=D;D=N;N=U;U=D}if($<B){var D=$;
$=B;B=D;D=U;U=x;x=D}if(I<$){var D=I;I=$;$=D;D=N;N=U;U=D}W[R*3]=O[x+1]*q+O[x];W[R*3+1]=O[U+1]*q+O[U];
W[R*3+2]=O[N+1]*q+O[N]}var z=~~(.996*j.raw.iL(E)),_=~~(.992*j.raw.iL(E)),v=E.t50728,o=[],y=[0,0,0];for(var C=1;
C<p-1;C++)for(var a=1;a<q-1;a++){var R=C*q+a,S=C%d*d+a%d,B=n[R+W[S*3+0]],$=n[R+W[S*3+1]],I=n[R+W[S*3+2]],L=Math.max(B,$,I);
if(L>z)o.push(R);else if(L>_){y[0]+=B;y[1]+=$;y[2]+=I;k++}}if(o.length==0)return;if(k/(q*p)<1e-5){console.log("not enough semi-saturated pixels",k);
y=v}if(y[1]<y[X])X=1;if(y[2]<y[X])X=2;var s=[y[0]/y[X],y[1]/y[X],y[2]/y[X]],M=n.slice(0);for(var V=0;
V<o.length;V++){var R=o[V],C=~~(R/q),a=R-C*q,S=C%d*d+a%d,l=Math.min(65535,~~(n[R+W[S*3+X]]*s[T[S]]));
if(l>M[R])M[R]=l}n.set(M)};j.raw.sS=function(n,q,p,E){var T=n.OT,i=Math.round(T.length/3),H=bU.abP(E[0],E[1]),Z=j.raw.aa0(p,H),w=j.JV.multiply(j.JV.r8,Z),d=Math.pow(2,E[2]+(p.t50730?p.t50730[0]:0));
w=j.JV.multiply(w,j.JV.oR(d,d,d));var O=p.t50728?p.t50728:[1,1,1],W=[O[1]/O[0],O[2]/O[0],O[0]/O[1],O[2]/O[1],O[0]/O[2],O[1]/O[2]],C=new Float64Array(1e3);
for(var R=0;R<1e3;R++){var a=R*(1/999);a=R==999?1:j.E3(R*(1/999));a=j.raw.Pb.aoc(a,E[3]/100);C[R]=a}var B=Date.now();
for(var R=0;R<i;R++){var $=R<<2,I=$-R,x=T[I],U=T[I+1],N=T[I+2],m=w[0]*x+w[1]*U+w[2]*N,f=w[4]*x+w[5]*U+w[6]*N,c=w[8]*x+w[9]*U+w[10]*N;
if(m<0)m=0;else if(m>1)m=1;if(f<0)f=0;else if(f>1)f=1;if(c<0)c=0;else if(c>1)c=1;m=C[~~(m*999)];f=C[~~(f*999)];
c=C[~~(c*999)];q[$]=~~(.5+m*255);q[$+1]=~~(.5+f*255);q[$+2]=~~(.5+c*255)}};j.raw.Pb={aoc:function(n,q){var p=.5-.5*Math.cos(n*3.2),E=0;
if(q>0){var T=n*.2;E=T*n+(1-T)*p}else{var i=Math.pow(n,.33);E=(1-i)*i+i*(n+(n-p)*.63)}var H=Math.abs(q);
return H*E+(1-H)*n},a5r:function(n,q){var p=0;if(q>0){var E=n*1.47,T=Math.pow(n,2.4);p=Math.min(1,T*n+(1-T)*E)}else{var E=n*.68,T=Math.pow(n,3);
p=T*n*.5+(1-T)*E}var i=Math.abs(q);return i*p+(1-i)*n},aez:function(n,q){var p=0;if(q>0){var E=Math.pow(n,.3),T=n;
p=(1-n)*E+n*T}else{var E=Math.pow(n,2.5),i=n,T=n;p=Math.min(1,(1-i)*E+i*T)}var H=Math.abs(q);return H*p+(1-H)*n}};
j.raw.aee=function(n){var q=n.width,p=n.height,E=q*p*n.t277,T=new Uint16Array(E),i=null,H=0;j.raw.aiD(n,T);
j.raw.JR(1,n,T,q,p);if(n.t50712){i=n.t50712;H=i.length-1;if(i[H]>65535)throw"too big values"}var Z=j.raw.BB(n),w=j.raw.Jq(n);
if(i==null)for(var R=0;R<E;R++)T[R]=Math.max(0,T[R]-Z);else for(var R=0;R<E;R++){var d=T[R];if(d>H)d=H;
d=i[d];T[R]=Math.max(0,d-Z)}return T};j.raw.BB=function(n){var q=n.t50714,p=q?q[0]:0,E=n.t50715,T=n.t50716;
if(E)p+=E[0][0]/E[0][1];if(T)p+=T[0][0]/T[0][1];return Math.round(p)};j.raw.Jq=function(n){var q=null,p=0;
if(n.t50712){q=n.t50712;p=q.length-1}var E=n.t50717?n.t50717[0]:(1<<n.t258[0])-1;if(q)E=Math.min(E,q[p]);
return E};j.raw.iL=function(n){var q=j.raw.BB(n),p=j.raw.Jq(n);return p-q};j.raw.aiD=function(n,q){var p=q.length,E=n.data,T=n.t258[0];
if(T!=16&&T!=14&&T!=12&&T!=10&&T!=8)throw"Unsupported Bits Per Sample:"+T;T=Math.round(E.length*8/p);
if(T==16&&n.isLE){j.Sa(E,q);return}for(var R=0;R<p;R+=2){var i=0,H=0,Z=0;if(T==16){i=R<<1;H=E[i]<<8|E[i+1];
Z=E[i+2]<<8|E[i+3]}else if(T==14){var w=R*14,d=w>>>3,O=E[d]<<24|E[d+1]<<16|E[d+2]<<8|E[d+3];if((w&7)==0){H=O>>>18;
Z=O>>>4&16383}else{H=O>>>14&16383;Z=O&16383}}else if(T==12){i=R+(R>>>1);H=E[i]<<4|E[i+1]>>4;Z=(E[i+1]&15)<<8|E[i+2]}else if(T==10){var w=R*10,d=w>>>3;
if((w&7)==0){H=(E[d]<<2|E[d+1]>>6)&1023;Z=(E[d+1]<<4|E[d+2]>>4)&1023}else{H=(E[d]<<6|E[d+1]>>2)&1023;
Z=(E[d+1]<<8|E[d+2]>>0)&1023}}else if(T==8){i=R;H=E[i];Z=E[i+1]}q[R]=H;q[R+1]=Z}};j.raw.JR=function(n,q,p,E,T){var i=q["t"+[51008,51009,51022][n-1]],O=0;
if(i==null)return;var H=E*T,Z=u.s,w=u.G6,d=new Uint8Array(i),et=u.s(d,O);O+=4;for(var W=0;W<et;W++){var C=Z(d,O);
O+=4;var a=Z(d,O);O+=4;var B=Z(d,O);O+=4;var $=Z(d,O);O+=4;if(!1){}else if(C==1&&n==3){var I=O,x=Z(d,I);
I+=4;var U=w(d,I);I+=8;var N=w(d,I);I+=8;var m=w(d,I);I+=8;var f=w(d,I);I+=8;var c=w(d,I);I+=8;var D=w(d,I);
I+=8;I+=(x-1)*8*6;var z=w(d,I);I+=8;var _=w(d,I);I+=8;var v=z*E,o=_*T,y=Math.max(v,E-v),k=Math.max(o,T-o),S=Math.sqrt(y*y+k*k),L=1/S,X=p.slice(0);
for(var s=0;s<T;s++)for(var M=0;M<E;M++){var V=(M+.5-v)*L,l=(s+.5-o)*L,e=V*V+l*l,Y=U+N*e+m*(e*e)+f*(e*e)*e,J=c*(2*V*l)+D*(e+2*V*V),G=D*(2*V*l)+c*(e+2*l*l),F=~~(v+S*(Y*V+J)),b=~~(o+S*(Y*l+G)),h=(b*E+F)*3,bj=(s*E+M)*3;
p[bj]=X[h];p[bj+1]=X[h+1];p[bj+2]=X[h+2]}}else if(C==3&&n==3){var I=O,i4=w(d,I);I+=8;var t=w(d,I);I+=8;
var aG=w(d,I);I+=8;var Q=w(d,I);I+=8;var jd=w(d,I);I+=8;var z=w(d,I);I+=8;var _=w(d,I);I+=8;var v=z*E,o=_*T,y=Math.max(v,E-v),k=Math.max(o,T-o),S=Math.sqrt(y*y+k*k),L=1/S;
for(var s=0;s<T;s++)for(var M=0;M<E;M++){var V=(M+.5-v)*L,l=(s+.5-o)*L,e=V*V+l*l,bP=1+(i4+(t+(aG+(Q+jd*e)*e)*e)*e)*e,bj=(s*E+M)*3;
p[bj]=bP*p[bj];p[bj+1]=bP*p[bj+1];p[bj+2]=bP*p[bj+2]}}else if(C==4&&n==1){var I=O,gz=Z(d,I);I+=4;var fZ=Z(d,I);
I+=4;for(var R=0;R<H;R++)if(p[R]==gz)p[R]=p[R-2]+p[R+2]>>1}else if(C==5&&n==1){var I=O,dt=Z(d,I);I+=4;
var a9=Z(d,I);I+=4;var bi=Z(d,I);I+=4;for(var R=0;R<a9;R++){var az=Z(d,I);I+=4;var hd=Z(d,I);I+=4;var R=az*E+hd;
p[R]=p[R-2]+p[R+2]>>1}}else if(C==7&&n==1){var I=O,aB=u.oP(d,I);I+=16;var cv=Z(d,I);I+=4;var c$=Z(d,I);
I+=4;var cT=Z(d,I),fp=Z(d,I+4);I+=8;var cD=Z(d,I);I+=4;var f_=new Uint16Array(cD);for(var R=0;R<cD;R++)f_[R]=u.pY(d,I+2*R);
var f9=aB.v,dO=aB.o;for(var s=0;s<dO;s+=cT)for(var M=0;M<f9;M+=fp){var R=(aB.y+s)*E+(aB.x+M);p[R]=f_[p[R]]}}else if(C==9&&n==2){var I=O,aB=u.oP(d,I),fM=!0;
I+=16;var cv=Z(d,I);I+=4;var c$=Z(d,I);I+=4;var cT=Z(d,I),fp=Z(d,I+4);I+=8;var a6=Z(d,I),hb=Z(d,I+4);
I+=8;var jr=w(d,I),dh=w(d,I+8);I+=16;var jq=w(d,I),g3=w(d,I+8);I+=16;var c6=Z(d,I);I+=4;if(c6!=1)throw"more than one map plane";
var cd=a6*hb,jn=new Float32Array(cd);for(var cV=0;cV<cd;cV++)jn[cV]=u.A3(d,I+cV*4);for(var cV=0;cV<cd;
cV++)if(jn[cV]!=1)fM=!1;if(!fM){var f9=aB.v,dO=aB.o,bE=.9999*(hb-1)/f9,gU=.9999*(a6-1)/dO;for(var s=0;
s<dO;s+=cT)for(var M=0;M<f9;M+=fp){var R=(aB.y+s)*E+(aB.x+M),g6=M*bE,cu=s*gU,f5=Math.floor(g6),iP=Math.floor(cu),id=g6-f5,aY=cu-iP,bj=iP*hb+f5,fT=jn[bj]*(1-id)+jn[bj+1]*id,h8=jn[bj+hb]*(1-id)+jn[bj+1+hb]*id,jf=fT*(1-aY)+h8*aY;
p[R]=Math.max(0,Math.min(65535,~~(p[R]*jf+.5)))}}}else console.log("Unknown opcode "+C+" in OpcodeList"+n+". Length: "+$);
O+=$}};j.raw.aa0=function(n,q){var p=bU.nU(q),E=j.raw.hg(n,q),T=j.JV.z3(E),i=bU.ahx(p,bU.nU(bU.a1P)),H=j.JV.multiply(i,T);
return H};j.raw.afX=function(n){var q=(n.t50728?n.t50728:[1,1,1]).slice(0),E=1;q.push(0);var p={x:.34567,y:.3585};
do{var T=j.JV.z3(j.raw.hg(n,p)),i=j.JV.hI(T,q),H=bU.a2B(i);E=Math.abs(p.x-H.x)+Math.abs(p.y-H.y);p=H}while(E>1e-7);
return p};j.raw.hg=function(n,q){var p=bU.OX(q),E=j.raw.a1J,T=n.t50778?n.t50778[0]:0,i=n.t50779?n.t50779[0]:0,H=E(n.t50721,n.t50722,T,i,p.xO),Z=E(n.t50723,n.t50724,T,i,p.xO);
H=H||[1,0,0,0,1,0,0,0,1];Z=Z||[1,0,0,0,1,0,0,0,1];var w=n.t50727?[n.t50727[0],0,0,0,n.t50727[1],0,0,0,n.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return j.JV.multiply(j.JV.Me(w),j.JV.multiply(j.JV.Me(Z),j.JV.Me(H)))};j.raw.a1J=function(n,q,p,E,T){if(!n&&!q){return null}else if(n&&!q){return n}else if(T<p){return n}else if(T>E){return q}else{var i=(1/T-1/E)/(1/p-1/E),H=1-i,Z=[];
for(var R=0;R<9;R++)Z[R]=n[R]*i+q[R]*H;return Z}};var bU={};bU.a1P={x:.34567,y:.3585};bU.eK=[{_:0,eR:.18006,Gm:.26352,UG:-.24341},{_:10,eR:.18066,Gm:.26589,UG:-.25479},{_:20,eR:.18133,Gm:.26846,UG:-.26876},{_:30,eR:.18208,Gm:.27119,UG:-.28539},{_:40,eR:.18293,Gm:.27407,UG:-.3047},{_:50,eR:.18388,Gm:.27709,UG:-.32675},{_:60,eR:.18494,Gm:.28021,UG:-.35156},{_:70,eR:.18611,Gm:.28342,UG:-.37915},{_:80,eR:.1874,Gm:.28668,UG:-.40955},{_:90,eR:.1888,Gm:.28997,UG:-.44278},{_:100,eR:.19032,Gm:.29326,UG:-.47888},{_:125,eR:.19462,Gm:.30141,UG:-.58204},{_:150,eR:.19962,Gm:.30921,UG:-.70471},{_:175,eR:.20525,Gm:.31647,UG:-.84901},{_:200,eR:.21142,Gm:.32312,UG:-1.0182},{_:225,eR:.21807,Gm:.32909,UG:-1.2168},{_:250,eR:.22511,Gm:.33439,UG:-1.4512},{_:275,eR:.23247,Gm:.33904,UG:-1.7298},{_:300,eR:.2401,Gm:.34308,UG:-2.0637},{_:325,eR:.24792,Gm:.34655,UG:-2.4681},{_:350,eR:.25591,Gm:.34951,UG:-2.9641},{_:375,eR:.264,Gm:.352,UG:-3.5814},{_:400,eR:.27218,Gm:.35407,UG:-4.3633},{_:425,eR:.28039,Gm:.35577,UG:-5.3762},{_:450,eR:.28863,Gm:.35714,UG:-6.7262},{_:475,eR:.29685,Gm:.35823,UG:-8.5955},{_:500,eR:.30505,Gm:.35907,UG:-11.324},{_:525,eR:.3132,Gm:.35968,UG:-15.628},{_:550,eR:.32129,Gm:.36011,UG:-23.325},{_:575,eR:.32931,Gm:.36038,UG:-40.77},{_:600,eR:.33724,Gm:.36051,UG:-116.45}];
bU.OX=function(n){var q=bU.eK,p=2*n.x/(1.5-n.x+6*n.y),E=3*n.y/(1.5-n.x+6*n.y),T=0,i=0,H=0;for(;H<31;
H++){T=E-q[H].Gm-q[H].UG*(p-q[H].eR);if(H>0&&T<0){break}i=T}while(H>=q.length)H--;T/=Math.sqrt(1+q[H].UG*q[H].UG);
i/=Math.sqrt(1+q[H-1].UG*q[H-1].UG);var Z=i/(i-T),w=1e6/((q[H]._-q[H-1]._)*Z+q[H-1]._),d=p-((q[H].eR-q[H-1].eR)*Z+q[H-1].eR),O=E-((q[H].Gm-q[H-1].Gm)*Z+q[H-1].Gm),W=Math.sqrt(1+q[H].UG*q[H].UG),C=1/W,a=q[H].UG/W,B=Math.sqrt(1+q[H-1].UG*q[H-1].UG),$=1/B,I=q[H-1].UG/B,x=(C-$)*Z+$,U=(a-I)*Z+I,N=Math.sqrt(x*x+U*U);
x/=N;U/=N;var m=(d*x+O*U)*-3e3;return{xO:w,Hm:m}};bU.abP=function(n,q){var p=bU.eK,E=1e6/n,T=1;for(;
T<31;T++){if(E<p[T]._){break}}var i=(p[T]._-E)/(p[T]._-p[T-1]._),H=(p[T-1].eR-p[T].eR)*i+p[T].eR,Z=(p[T-1].Gm-p[T].Gm)*i+p[T].Gm,w=Math.sqrt(1+p[T].UG*p[T].UG),d=1/w,O=p[T].UG/w,W=Math.sqrt(1+p[T-1].UG*p[T-1].UG),C=1/W,a=p[T-1].UG/W,B=(C-d)*i+d,$=(a-O)*i+O,I=Math.sqrt(B*B+$*$);
B/=I;$/=I;H+=B*q/-3e3;Z+=$*q/-3e3;return{x:1.5*H/(H-4*Z+2),y:Z/(H-4*Z+2)}};bU.a2B=function(n){var q=n[0]+n[1]+n[2];
return{x:n[0]/q,y:n[1]/q}};bU.nU=function(n){return{x:n.x/n.y,y:1,xh:(1-n.x-n.y)/n.y}};bU.ahx=function(n,q){var p=j.JV.Me([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),E=[n.x,n.y,n.xh,0],T=[q.x,q.y,q.xh,0];
E=j.JV.hI(p,E);T=j.JV.hI(p,T);var i=T[0]/E[0],H=T[1]/E[1],Z=T[2]/E[2],w=j.JV.Me([i,0,0,0,H,0,0,0,Z]),d=j.JV.z3(p);
return j.JV.multiply(j.JV.multiply(d,w),p)};j.raw.VT={};j.raw.tK=function(n){n*=8;var q=[8,10,12,14,16];
for(var p in j.raw.sT){var E=j.raw.sT[p];if(E.length==4)continue;var T=E[4],i=E[5];for(var R=0;R<q.length;
R++)if(T*i*q[R]==n)return[p,q[R]]}var H=[[4e3,3e3]];for(var R=0;R<H.length;R++){var E=H[R],T=E[0],i=E[1];
for(var R=0;R<q.length;R++)if(T*i*q[R]==n)return[E,q[R]]}return null};j.raw.agp=function(n){var n=new Uint8Array(n);
for(var R=0;R<n.length;R+=2){var q=n[R];n[R]=n[R+1];n[R+1]=q}var p=j.raw.tK(n.length),E=j.raw.sT[p[0]];
if(E==null)E=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,p[0][0],p[0][1]];var T=E[4],i=E[5],H=Math.max(E[2],116),Z={data:n,Nk:1,width:T,height:i,t256:[T],t257:[i],t258:[p[1]],t277:[1],t33421:[2,2],t33422:j.raw.BX[E[1]],t50706:[1,2,0,0],t50714:[H,H,H,H],t50717:[E[3]],t50721:E[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var R=0;R<9;R++)Z.t50721[R]/=1e4;return Z};j.raw._w=function(n){if(n==null||n.length==0||typeof n[0]=="number")return n;
var q=[];for(var R=0;R<n.length;R++)q[R]=n[R][1]==0?0:n[R][0]/n[R][1];return q};j.raw.BX=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
j.raw.normalize=function(n,q){if(n.t50706!=null||n.t271[0].startsWith("Hasselblad")){var p=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var R=0;R<p.length;R++)if(n["t"+p[R]]!=null)n["t"+p[R]]=j.raw._w(n["t"+p[R]]);if(n.t271&&n.t271[0].startsWith("Hasselblad")){n.t50706=[1,2,0,0];
n.t33422=j.raw.BX[1];n.t50723=[1,0,0,0,1,0,0,0,1];n.t50778=[17];if(!n.isLE)for(var R=0;R<n.data.length;
R+=2){var E=n.data[R];n.data[R]=n.data[R+1];n.data[R+1]=E}}return}var T=n.t258[0],i=n.exifIFD,q=new Uint8Array(q);
n.t50706=[1,2,0,0];var H=n.t272[0].trim();if(H.indexOf(" ")==-1)H=n.t271[0].trim()+" "+H;if(n.t50708==null)n.t50708=[H];
var Z=H.toLowerCase(),w=j.raw.sT,d=w[Z];if(d==null)for(var O in w)if(Z.startsWith(O))d=w[O];if(d==null)alert("Unknown camera:"+H);
else{var W=d[2];n.t50714=[W,W,W,W];n.t50717=[d[3]];n.t50721=d[0].slice(0);for(var R=0;R<9;R++)n.t50721[R]=n.t50721[R]*(1/1e4)}n.t50723=[1,0,0,0,1,0,0,0,1];
if(n.t50728==null)n.t50728=[.35,1,.6];n.t50778=[17];if(n.t271[0].startsWith("SONY")){var C=UTIF["_bin"+(n.isLE?"LE":"BE")],a=n.t28688,m;
if(JSON.stringify(a)!="[8000,10400,12900,14100]")console.log(a);if(a){var B=[0,0,0,0,0,4095],$=new Uint16Array(16385);
for(var R=0;R<4;R++){var I=a[R]>>>2;B[R+1]=I;if(I>4095)throw"e"}for(var R=0;R<16385;R++)$[R]=R;for(var R=0;
R<5;R++)for(var x=B[R]+1;x<=B[R+1];x++)$[x]=$[x-1]+(1<<R);var U=q.length*8<n.width*n.height*T;if(U)n.t50712=$}else console.log("no curve");
var N=n.dngPrvt;if(N){var f=N.t29184[0],c=N.t29185[0],D=(n.isLE?u.fo:u.s)(N.t29217,0),z=new Uint32Array(q.slice(f,f+(c&4294967292)).buffer),_=new Uint32Array(c>>>2);
j.raw.ajv(z,_,c>>>2,D);var v=new Uint8Array(f+c);v.set(new Uint8Array(_.buffer),f);var o=[];UTIF._readIFD(C,v,f,o,0,!1);
var y=o.pop(),k=y.t29458;n.t50728=[k[1]/k[0],1,k[1]/k[3]];n.t50730=[.5];var S=y.t29891;n.t50829=[S[1],S[0],S[3],S[2]]}else if(i.makerNote&&i.makerNote.t8208){var m=i.makerNote,L=m.t8208,X=L.length,s=0,M=new Uint8Array(256);
for(var R=249;R<256;R++)M[R]=R;for(var R=0;R<249;R++)M[R*R*R%249]=R;for(var R=0;R<X;R++)L[R]=M[L[R]];
if(X==6604)s=612;else throw"e";var k=[];for(var R=0;R<3;R++)k.push(u.Hw(L,s+R*2));console.log(k);n.t50728=[k[1]/k[0],1,k[1]/k[2]]}else console.log("no white balance");
if(n.width*n.height*1.5==n.t279[0]){W=W>>>2;n.t50714=[W,W,W,W];n.t50717=[d[3]>>>2]}}else if(n.t271[0].startsWith("Canon")){var q=n.data,V=q.slice(0),l=n.t50752,e=[],J=0;
if(l==null||l[0]==0&&l[1]==0)e.push(n.width);else{for(var R=0;R<l[0];R++)e.push(l[1]);e.push(l[2])}var Y=n.width*2;
for(var G=0;G<e.length;G++){var F=e[G],b=2*J,h=2*F;for(var bj=0;bj<n.height;bj+=2){var i4=bj*Y+b,t=n.height*b+(bj>>1)*h*2;
for(var R=0;R<h;R++){q[i4+R]=V[t+R];q[i4+R+Y]=V[t+R+h]}}J+=F}var m=i.makerNote;if(m.t16385){var aG=m.t224,bP=0;
if(aG){n.t50719=[aG[5],aG[6]];n.t50720=[aG[7]+1-aG[5],aG[8]+1-aG[6]]}var Q=m.t16385,jd=Q.length;if(jd==582)bP=1;
else if(jd==653)bP=2;else if(jd==796)bP=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(jd)!=-1)bP=4;
else if(jd==5120){bP=5;Q=new Int16Array(Q.slice(0).buffer)}else if(jd==1273||jd==1275)bP=6;else if([1312,1313,1316,1506].indexOf(jd)!=-1)bP=7;
else if([1560,1592,1353,1602].indexOf(jd)!=-1)bP=8;else throw"e"+jd;var gz=Q[0],fZ=[null,[25,166],[34,286],[63,196],[63],[71,gz==-4?333:264],[63,251],[63,gz==10?504:728],[63,326]],s=fZ[bP][0],dt=fZ[bP][1];
if(bP==4){if(Q[0]==2)dt=231;else if(Q[0]==3)dt=231;else if(Q[0]==4)dt=231;else if(Q[0]==5)dt=231;else if(Q[0]==6)dt=231;
else if(Q[0]==7)dt=231;else if(Q[0]==9)dt=231;else throw"e"}n.t50728=[Q[s+1]/Q[s],1,Q[s+1]/Q[s+3]];var W=dt==null?1024:Q[dt];
if(bP!=4)n.t50714=[W,W,W,W]}else{n.t50728=[.4,1,.6]}}else if(n.t271[0].startsWith("NIKON")){var m=i.makerNote,a9=n.isLE?u.Hw:u.Io,c$=0,cT=0,f9,g3=0;
if(m.t61){var bi=m.t61,az=[];for(var R=0;R<4;R++)az[R]=bi[R]/Math.pow(2,14-T);n.t50714=az}if(m.t3585){var hd=m.t3585,R=0,f=22;
while(f<hd.length&&R!=-4){var aB=u.fo(hd,f);f+=4;f+=14;R=u.fo(hd,f)-4;f+=4;if(aB==1990472198){if(hd[f]!=0)throw"Flip"}if(aB==1990472199){var cv=u.Hw(hd,f);
if(cv==0)n.Nk=1;else if(cv==270)n.Nk=8;else throw"e "+cv}f+=R}}if(m.t183){var fp=m.t183,cD=[];for(var R=0;
R<6;R++)cD.push(a9(fp,16+R*2));c$=cD[0];cT=cD[1]}if(m.t3614){var f_=m.t3614;c$=u.fo(f_,8);cT=u.fo(f_,12)}if(c$!=0){if(c$<cT){var E=c$;
c$=cT;cT=E}var J=n.width-c$>>>1,bj=n.height-cT>>>1;n.t50829=[bj,J,bj+cT,J+c$]}if(m.t12){var dO=j.raw._w(m.t12);
f9=[1/dO[0],1,1/dO[1]]}else if(m.t151){var a6=j.raw.adj(m,151),hb=a6[0],e8=a6[1],jr=a6[2];if(hb=="0100"&&e8>=80)throw"e";
else if(hb=="0102"){var dh=[];for(var R=0;R<4;R++)dh.push(a9(jr,6+R*2));f9=[dh[1]/dh[0],1,dh[1]/dh[3]]}else if(hb=="0103"&&e8>=26){var dh=[];
for(var R=0;R<4;R++)dh.push(a9(jr,16+R*2));f9=[dh[1]/dh[0],1,dh[3]/dh[2]]}else if(hb=="0204"&&e8>=564||hb=="0205"&&e8>=284){var f=hb=="0204"?6:14,dh=[];
for(var R=0;R<4;R++)dh.push(a9(jr,f+R*2));f9=[dh[1]/dh[0],1,dh[1]/dh[3]]}else throw"e"}else console.log("no white balance info");
if(H=="NIKON D1")f9=[1,1,1];if(f9)n.t50728=f9;var jq=m.t150?m.t150:m.t140;if(jq){var c6=jq[g3++],cd=jq[g3++],fM;
if(c6==73||cd==88)g3+=2110;g3+=8;var jn=1<<T&32767,cV=a9(jq,g3);g3+=2;var $=[];if(cV>1)fM=Math.floor(jn/(cV-1));
if(c6==68&&cd==32&&fM>0){for(R=0;R<cV;R++){$[R*fM]=a9(jq,g3);g3+=2}for(R=0;R<jn;R++)$[R]=Math.floor(($[R-R%fM]*(fM-R%fM)+$[R-R%fM+fM]*(R%fM))/fM)}else if(c6!=70&&cV<=16385){jn=cV;
for(var R=0;R<cV;R++)$[R]=a9(jq,g3+2*R);g3+=2*cV}if($.length!=0)n.t50712=new Uint16Array($);else if(n.t272[0]=="NIKON D750")n.t50717[0]*=4}}else if(H.startsWith("FujiFilm")){}else alert("Unknown camera "+H)};
j.raw.ajv=function(n,q,p,E){if(0==p)return;var T=new Uint32Array(128),i=new Uint8Array(T.buffer),H=127,Z=0,w=0;
for(var H=0;H<4;H++)T[H]=E=(E*15625>>>0)*3125+1>>>0;T[3]=T[3]<<1|(T[0]^T[2])>>>31;for(var H=4;H<127;
H++)T[H]=(T[H-4]^T[H-2])<<1|(T[H-3]^T[H-1])>>>31;for(var H=0;H<127;H++)T[H]=u.s(i,H*4);for(;p>0;p--){T[H&127]=T[H+1&127]^T[H+1+64&127];
var d=T[H&127],O=n[Z];O^=d;q[w]=O;Z++;w++;H++}};j.raw.a2n=function(n,q){var p=u.xj(q,0,4),E=j.raw.a8y;
for(var R=0;R<E.length;R++)if(E[R][0]==n&&p.startsWith(E[R][1])&&(E[R][2]==0||E[R][2]==q.length))return E[R];
throw"e"};j.raw.adK=function(n){if(n.t29==null)return[];var q=j.raw.a1i,p=j.raw.a6U,E=n.t29[0],T=0,H=0;
for(var R=0;R<E.length;R++){var i=E.charCodeAt(R);T=T*10+(48<=i&&i<=57?i-48:i%10)}var e8=n.t167[0];for(var R=0;
R<4;R++)H^=e8>>>(R<<3)&255;var Z=q[T&255],w=p[H&255];return[Z,w,96]};j.raw.adj=function(n,q){var p=n["t"+q],e8=p.length,E=j.raw.a2n(q,p),T=u.xj(p,0,4),i,H=E[4];
if(H==null)i=p.slice(4);else{i=new Uint8Array(e8-H);var Z=j.raw.adK(n),w=Z[0],d=Z[1],O=Z[2];for(var R=0;
R<i.length;R++){d=d+w*O++&255;i[R]=p[H++]^d}}return[T,e8,i]};j.raw.a8y=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
j.raw.a1i=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
j.raw.a6U=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
j.raw.sT={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,130,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,2049,15400],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2048,15100],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 5":[[8695,-2558,-648,-5015,12711,2575,-1279,2215,7514],1,1008,15520],"nikon z 6":[[9943,-3269,-839,-5323,13269,2259,-1198,2083,7557],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon z 50":[[11640,-4829,-1079,-5107,13006,2325,-972,1711,7380],1,251,3880],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d780":[[9943,-3269,-839,-5323,13269,2259,-1198,2083,7557],1,251,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p950":[[13307,-5641,-1290,-2048,10581,1689,-64,1222,5176],1,200,4095],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"olympus e-m10 mark iv":[[9476,-3182,-765,-2613,10958,1893,-449,1315,5268],1,254,4e3],"olympus e-m5 mark iii":[[11896,-5110,-1076,-3181,11378,2048,-519,1224,5166],1,257,4e3],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dc-fz10002":[[9803,-4185,-992,-4066,12578,1628,-838,1824,5288],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux (typ 114)":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,142,4095],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dc-s1":[[9744,-3905,-779,-4899,12807,2324,-798,1630,5827],1,511,16380],"panasonic dc-s1h":[[9397,-3719,-805,-5425,13326,2309,-972,1715,6034],1,510,16380],"panasonic dc-s5":[[9744,-3905,-779,-4899,12807,2324,-798,1630,5827],1,509,16380],"panasonic dc-s1r":[[11822,-5321,-1249,-5958,15114,766,-614,1264,7043],3,510,16380],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-g95":[[9657,-3963,-748,-3361,11378,2258,-568,1415,5158],0,144,4095],"panasonic dc-g90":[[9657,-3963,-748,-3361,11378,2258,-568,1415,5158],0,144,4095],"panasonic dc-g91":[[9657,-3963,-748,-3361,11378,2258,-568,1415,5158],0,144,4095],"panasonic dc-g99":[[9657,-3963,-748,-3361,11378,2258,-568,1415,5158],0,144,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx880":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz96":[[12194,-5340,-1329,-3035,11394,1858,-50,1418,5219],3,142,4095],"panasonic dc-tz95":[[12194,-5340,-1329,-3035,11394,1858,-50,1418,5219],3,142,4095],"panasonic dc-zs80":[[12194,-5340,-1329,-3035,11394,1858,-50,1418,5219],3,142,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-zs200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx0m2":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16300],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx100m7":[[10315,-4390,-937,-4859,12734,2365,-734,1537,5997],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6100":[[7657,-2847,-607,-4083,11966,2389,-684,1418,5844],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6400":[[7657,-2847,-607,-4083,11966,2389,-684,1418,5844],1,512,16383],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6600":[[7657,-2847,-607,-4083,11966,2389,-684,1418,5844],1,512,16383],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7rm4":[[7662,-2686,-660,-5240,12965,2530,-796,1508,6167],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony ilce-9m2":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16380],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony zv-1":[[8280,-2987,-703,-3531,11645,2133,-550,1542,5312],1,800,16300],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s1":[[12297,-4882,-1202,-2106,10691,1623,-88,1312,4790],1,200,4095],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s7000":[[10190,-3506,-1312,-7153,15051,2238,-2003,2399,7505],3,0,15869],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm gfx 50r":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm gfx 100":[[16212,-8423,-1583,-4336,12583,1937,-195,726,6199],1,63,16383],"fujifilm gfx100s":[[16212,-8423,-1583,-4336,12583,1937,-195,726,6199],1,63,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-pro3":[[13426,-6334,-1177,-4244,12136,2371,-580,1303,5980],2,1022,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm xf10":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100v":[[13426,-6334,-1177,-4244,12136,2371,-580,1303,5980],2,1022,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm x-a10":[[11540,-4999,-991,-2949,10963,2278,-382,1049,5605],1,256,4094],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t4":[[13426,-6334,-1177,-4244,12136,2371,-580,1303,5980],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[13426,-6334,-1177,-4244,12136,2371,-580,1303,5980],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm x-t200":[[15055,-7391,-1274,-4062,12071,2238,-610,1217,6147],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[7791,3128,-776,-8588,16458,2039,-2455,4006,6198],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak easyshare z981 digital camera":[[12729,-4717,-1188,-1367,9187,2582,274,860,4411],2,0,4095],"kodak easyshare z990 digital camera":[[11749,-4048,-1309,-1867,10572,1489,-138,1449,4522],0,0,4e3],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"epson r-d1s":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,62,4095],"epson r-d1x":[[6828,-1878,-732,-8429,16012,2564,-704,592,7145],1,65,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h4d-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,32767],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"hasselblad x1dm2-50c":[[5002,-878,111,-4856,11929,3338,-1183,2041,7022],1,256,62914],"hasselblad x1d ii 50c":[[5002,-878,111,-4856,11929,3338,-1183,2041,7022],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
j.at={};j.at.at=function(n,q,p,E,T){if(E==null)E=3;if(T==null)T=!0;var i=n.v,H=n.o,Z=1/i,w=i*H,d=Date.now(),O=!1,W=j.at.AW(p,i,H,255,128),C=j.at.AW(p,i,H,0,128),i4=0;
if(O)console.log("extract contours",Date.now()-d);d=Date.now();var a=function(jn,cV){var fM=jn<<2,bE=cV<<2;
return q[fM]+q[fM+1]+q[fM+2]-(q[bE]+q[bE+1]+q[bE+2])};W.sort(a);C.sort(a);var B=j.U(w),$=j.U(w),I=[],x=new Uint32Array(i*H);
x.fill(4294967295);for(var R=0;R<w;R++)if(p[R]==0)$[R]=255;else if(p[R]==255)B[R]=255;else{x[R]=I.length;
I.push(R)}var U=W.length,N=C.length,m=I.length;function f(jn,cV,fM,bE){var cu=jn.length,f5=new Array(cu*2);
for(var R=0;R<cu;R++){var s=jn[R],M=~~(s*bE),V=s-M*fM,g3=s<<2;f5[R*2]=V<<16|M;f5[R*2+1]=cV[g3]<<16|cV[g3+1]<<8|cV[g3+2]}return f5}var c=f(W,q,i,Z),D=f(C,q,i,Z),z=f(I,q,i,Z);
if(O)console.log("Itemize",Date.now()-d,"Unknown:",m,U,N);d=Date.now();var _=j.style.t7(B,i,H,!0),v=j.style.t7($,i,H,!0),o=new Array(m),y=new Array(m),k=new Array(m),S=new Array(m),L=new Array(m);
if(O)console.log("Dist transform",Date.now()-d);d=Date.now();var X=j.at.rj;for(var R=0;R<m;R++){var s=I[R],M=~~(s*Z),V=s-M*i,l=_[s<<1],e=_[(s<<1)+1],Y=Math.sqrt(l*l+e*e),J=v[s<<1],G=v[(s<<1)+1],F=Math.sqrt(J*J+G*G);
o[R]=1/Y;y[R]=1/F;var b=Math.floor(j.a.I8(s*17)*U),h=Math.floor(j.a.I8(s*19)*N);k[R]=b;S[R]=h;L[R]=X(z[R*2],z[R*2+1],c[b*2],c[b*2+1],D[h*2],D[h*2+1],o[R],y[R],1e9)}var bj=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(U,N)*Math.pow(.5,i4))>1)i4++;for(var t=0;t<E;t++){var aG=0;for(var R=0;R<m;
R++){var s=I[R],M=~~(s*Z),V=s-M*i,Q=o[R],jd=y[R],bP=z[R*2],gz=z[R*2+1],fZ=L[R],b=k[R],h=S[R],aB=1;if(M!=0&&V!=0&&V!=i-1&&M!=H-1)for(var dt=0;
dt<8;dt++){var a9=x[s+bj[dt]];if(a9==4294967295)continue;var bi=k[a9],az=S[a9];if(bi==b&&az==h)continue;
var hd=X(bP,gz,c[bi*2],c[bi*2+1],D[az*2],D[az*2+1],Q,jd,fZ);if(hd<fZ){fZ=hd;b=bi;h=az}}for(var cv=0;
cv<i4;cv++){var c$=~~(U*aB),cT=~~(N*aB);aB*=.5;var fp=j.a.I8(s+t*17+cv*31),cD=j.a.I8(s+t*29+cv*63),f_=Math.max(0,b-c$),f9=Math.min(b+c$,U-1),dO=Math.max(0,h-cT),a6=Math.min(h+cT,N-1),bi=f_+~~(fp*(f9-f_)),az=dO+~~(cD*(a6-dO)),hd=X(bP,gz,c[bi*2],c[bi*2+1],D[az*2],D[az*2+1],Q,jd,fZ);
if(hd<fZ){fZ=hd;b=bi;h=az}}L[R]=fZ;k[R]=b;S[R]=h;aG+=fZ}}if(O)console.log(aG);if(O)console.log("iterations",Date.now()-d);
d=Date.now();var hb=p.slice(0);for(var R=0;R<m;R++){var jr=j.at.alpha(z[R*2+1],c[k[R]*2+1],D[S[R]*2+1]);
hb[I[R]]=~~(.5+255*jr)}hb=j.nf.amc(hb,q,new eL(0,0,i,H),16,.01*.01);if(O)console.log("guided filter",Date.now()-d);
d=Date.now();if(T)for(var R=0;R<w;R++)if(p[R]==255||p[R]==0)hb[R]=p[R];var dh=q.slice(0);for(var R=0;
R<m;R++){var jq=I[R],b=W[k[R]],fZ=L[R],g3=jq<<2,c6=hb[jq],cd=(c6>=250?jq:b)<<2;dh[g3]=q[cd];dh[g3+1]=q[cd+1];
dh[g3+2]=q[cd+2]}j.yI(hb,dh,3);if(O)console.log(Date.now()-d);d=Date.now();return dh};j.at.rj=function(n,q,p,E,T,i,H,Z,w){var d=n>>>16,O=n&65535,W=d-(p>>>16),C=O-(p&65535),a=d-(T>>>16),B=O-(T&65535),$=Math.sqrt(W*W+C*C)*H,I=Math.sqrt(a*a+B*B)*Z;
if($+I>=w)return 1e9;var x=j.at.a0L(q,E,i);return x+$+I};j.at.a0L=function(n,q,p){var E=n>>>16,T=n>>>8&255,i=n&255,H=q>>>16,Z=q>>>8&255,w=q&255,d=p>>>16,O=p>>>8&255,W=p&255,C=j.at.alpha(n,q,p),a=E-(C*H+(1-C)*d),B=T-(C*Z+(1-C)*O),$=i-(C*w+(1-C)*W);
return Math.sqrt(a*a+B*B+$*$)};j.at.alpha=function(n,q,p){var E=n>>>16,T=n>>>8&255,i=n&255,H=q>>>16,Z=q>>>8&255,w=q&255,d=p>>>16,O=p>>>8&255,W=p&255,C=H-d,a=Z-O,B=w-W,$=E-d,I=T-O,x=i-W,U=C*C+a*a+B*B,N=U==0?.5:($*C+I*a+x*B)/U;
return Math.max(0,Math.min(1,N))};j.at.a4T=function(n){};j.at.AW=function(n,q,p,E,T){var i=[],H=q-1,Z=p-1;
for(var w=1;w<Z;w++)for(var d=1;d<H;d++){var R=w*q+d;if(n[R]==E&&(n[R-q-1]==T||n[R-q]==T||n[R-q+1]==T||(n[R-1]==T||n[R+1]==T)||(n[R+q-1]==T||n[R+q]==T||n[R+q+1]==T)))i.push(R)}return i};
j.nf={};j.nf.a60=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=j.nf.yZ,d=j.U(Z*4),O;j.nz(d,4294967295);
var W=p,C=n,a=q,B=E;j.yI(n,d,0);O=j.N6(d,p);O=j.N6(O.OT,O.rect);W=O.rect;B=E>>>2;console.log(W,B);C=j.U(W.P());
j.J2(O.OT,C,0);j.yI(q,d,0);O=j.N6(d,p);O=j.N6(O.OT,O.rect);a=j.U(W.P());j.J2(O.OT,a,0);var $=j.nf.ajh(C,a,W,B,T),I=$[0],x=$[1],U=new eL(0,0,W.v*2,W.o*2);
I=w(I,W,U,!0);I=w(I,U,p,!0);x=w(x,W,U,!0);x=w(x,U,p,!0);var N=j.U(Z);for(var R=0;R<Z;R++)N[R]=Math.max(0,Math.min(255,Math.floor(.5+(I[R]*q[R]+255*x[R]))));
return N};j.nf.yZ=function(n,q,p,E){var T=p.v,i=p.o,H=q.v,Z=q.o,w=j.nf.ET,d=new Float32Array(T*i);for(var O=0;
O<Z;O++){var W=(O+O)*T;for(var C=0;C<H;C++){if(!0||C==0||O==0||C==H-1||O==Z-1)d[W]=d[W+1]=d[W+T]=d[W+T+1]=n[O*H+C];
else{d[W]=w(C+.25,O+.25,n,H,Z);d[W+1]=w(C+.75,O+.25,n,H,Z);d[W+T]=w(C+.25,O+.75,n,H,Z);d[W+T+1]=w(C+.75,O+.75,n,H,Z)}W+=2}}return d};
j.nf.ET=function(n,q,p,E,T){n-=.499999;q-=.499999;var i=Math.floor(n),H=Math.floor(q),Z=H*E+i,w=n-i,d=q-H,O=(1-d)*(1-w),W=(1-d)*w,C=d*(1-w),a=d*w;
if(p[Z]==null||p[Z+E+1]==null){console.log(n,q,E,T);throw"e"}return O*p[Z+0]+W*p[Z+1]+C*p[Z+E+0]+a*p[Z+E+1]};
j.nf.ajh=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=j.nf.oj,d=j.nf.U,O=j.Lw.rl,W=j.nf.QX,q=w(q),n=w(n),C=d(Z);
O(q,C,p,E);var a=d(Z);O(n,a,p,E);var B=d(Z);W(q,q,B);O(B,B,p,E);var $=d(Z);W(q,n,$);O($,$,p,E);var I=d(Z),x=d(Z);
for(var R=0;R<Z;R++){var U=C[R],N=a[R],m=B[R]-U*U,f=$[R]-U*N,c=f/(m+T),D=N-c*U;I[R]=c;x[R]=D}var z=d(Z);
O(I,z,p,E);var _=d(Z);O(x,_,p,E);return[z,_]};j.nf.amc=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=j.nf.yZ,d=Date.now(),O=!1,W=p,C=n,a=q,B=E;
W=new eL(0,0,i>>>2,H>>>2);B=E>>>2;C=j.nf.amO(n,i,H);a=j.nf.akd(q,i,H);if(O)console.log(Date.now()-d);
d=Date.now();var $=j.nf.a2D(C,a,W,B,T),I=$[0],x=$[1],U=$[2],N=$[3];if(O)console.log(Date.now()-d);d=Date.now();
var m=j.U(Z);for(var f=0;f<H;f++)for(var c=0;c<i;c++){var R=f*i+c,D=(f>>>2)*(i>>>2)+(c>>>2),z=R<<2,_=I[D]*q[z]+x[D]*q[z+1]+U[D]*q[z+2]+N[D]*255;
m[R]=Math.max(0,Math.min(255,~~(.5+_)))}if(O)console.log(Date.now()-d);d=Date.now();return m};j.nf.amO=function(n,q,p){var E=q>>>2,T=p>>>2,i=j.U(q*p);
for(var H=0;H<T;H++)for(var Z=0;Z<E;Z++)i[H*E+Z]=n[H*q+Z<<2];return i};j.nf.akd=function(n,q,p){var E=q>>>2,T=p>>>2,i=j.U(q*p*4);
for(var H=0;H<T;H++)for(var Z=0;Z<E;Z++){var w=H*E+Z<<2,d=H*q+Z<<4;i[w]=n[d];i[w+1]=n[d+1];i[w+2]=n[d+2];
i[w+3]=n[d+3]}return i};j.nf.a2D=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=j.nf.oj,d=j.nf.U,O=j.Lw.rl,W=j.nf.QX,n=w(n),C=new j.U$(i*H);
j.MF(q,C);var q=[w(C._),w(C.q),w(C.X)],a=j.nf.aoP(n,q,p,E,T),B=d(Z);O(n,B,p,E);var $=d(Z);W(q[0],n,$);
O($,$,p,E);var I=d(Z);W(q[1],n,I);O(I,I,p,E);var x=d(Z);W(q[2],n,x);O(x,x,p,E);var U=d(Z),N=d(Z),m=d(Z),f=d(Z);
for(var R=0;R<Z;R++){var c=B[R],D=a.LR[R],z=a.MC[R],_=a.CU[R],v=$[R]-D*c,o=I[R]-z*c,y=x[R]-_*c;U[R]=a.akI[R]*v+a.HG[R]*o+a.jF[R]*y;
N[R]=a.HG[R]*v+a.aiS[R]*o+a.NT[R]*y;m[R]=a.jF[R]*v+a.NT[R]*o+a.af2[R]*y;f[R]=c-U[R]*D-N[R]*z-m[R]*_}O(U,U,p,E);
O(N,N,p,E);O(m,m,p,E);O(f,f,p,E);return[U,N,m,f]};j.nf.aoP=function(n,q,p,E,T){var i=p.v,H=p.o,Z=i*H,w=j.nf.U,d=j.Lw.rl,O=j.nf.QX,W={};
W.LR=w(Z);d(q[0],W.LR,p,E);W.MC=w(Z);d(q[1],W.MC,p,E);W.CU=w(Z);d(q[2],W.CU,p,E);var C=w(Z);O(q[0],q[0],C);
d(C,C,p,E);var a=w(Z);O(q[0],q[1],a);d(a,a,p,E);var B=w(Z);O(q[0],q[2],B);d(B,B,p,E);var $=w(Z);O(q[1],q[1],$);
d($,$,p,E);var I=w(Z);O(q[1],q[2],I);d(I,I,p,E);var x=w(Z);O(q[2],q[2],x);d(x,x,p,E);W.akI=C;W.HG=a;
W.jF=B;W.aiS=$;W.NT=I;W.af2=x;for(var R=0;R<Z;R++){var U=W.LR[R],N=W.MC[R],m=W.CU[R],f=C[R]-U*U+T,c=a[R]-U*N,D=B[R]-U*m,z=$[R]-N*N+T,_=I[R]-N*m,v=x[R]-m*m+T,o=z*v-_*_,y=_*D-c*v,k=c*_-z*D,S=f*v-D*D,L=D*c-f*_,X=f*z-c*c,s=o*f+y*c+k*D,M=1/s;
W.akI[R]=o*M;W.HG[R]=y*M;W.jF[R]=k*M;W.aiS[R]=S*M;W.NT[R]=L*M;W.af2[R]=X*M}return W};j.nf.U=function(n){return new Float32Array(n)};
j.nf.oj=function(n){var q=n.length,p=new Float32Array(q);for(var R=0;R<q;R++)p[R]=n[R]*(1/255);return p};
j.nf.QX=function(n,q,p){for(var R=0;R<n.length;R++)p[R]=n[R]*q[R]};j.Dh={};j.Dh.IU=function(n,q,p,E){var T=n[q]-p[E],i=n[q+1]-p[E+1],H=n[q+2]-p[E+2];
return Math.sqrt(T*T+i*i+H*H)*(1/441.7)};j.Dh.getSelection=function(n,q,p){var E=q*p,T=j.U(E),i=!1,H=Math.round(p*.7),Z=1,w=new Uint32Array(12),d=j.U(12);
for(var O=0;O<H;O++)for(var W=0;W<q;W++){if(W<Z||O<Z||W>q-Z-1||O>p-Z-1){var R=O*q+W,C=R<<2,a=0;if(O<Z)a=4;
else if(W>q-Z-1)a=8;w[a]+=n[C];w[a+1]+=n[C+1];w[a+2]+=n[C+2];w[a+3]++;T[R]=255}}for(var R=0;R<12;R+=4)for(var B=0;
B<3;B++)d[R+B]=w[R+B]/w[R+3];var $=new Float32Array(E);for(var R=0;R<E;R++){var C=R*4,I=j.Dh.IU(n,C,d,0),x=j.Dh.IU(n,C,d,4),U=j.Dh.IU(n,C,d,8),N=Math.max(I,Math.max(x,U));
$[R]=I+x+U-N}j.Dh.wI($);var m=Date.now(),f=new Float32Array(E),c=[],D=j.U(E);for(var R=0;R<3;R++){j.J2(n,D,R);
var z=new Uint16Array(E);c.push(z);j.Dh.anu(D,T,q,p,z)}if(i)console.log("MBD",Date.now()-m);m=Date.now();
for(var R=0;R<E;R++)f[R]=c[0][R]+c[1][R]+c[2][R];j.Dh.wI(f);for(var R=0;R<E;R++)f[R]+=.4*$[R];var _=q>>>1,H=p>>>1,v=1/Math.sqrt(_*_+H*H);
for(var O=0;O<p;O++)for(var W=0;W<q;W++){var o=W-_,y=O-H,k=1-Math.sqrt(o*o+y*y)*v;f[O*q+W]*=k}if(i)console.log("Centeredness",Date.now()-m);
m=Date.now();for(var R=0;R<E;R++)T[R]=f[R]*255;var S=Math.round(q/120),L=Math.round(S*.8);if(i)console.log(S,L);
j.gb.qD(T,D,q,p,S,j.gb.YW,[]);T.set(D);if(i)console.log("erosion",Date.now()-m);m=Date.now();for(var R=0;
R<E;R++)f[R]=T[R];j.Dh.wI(f);var X=j.U(256);for(var R=0;R<256;R++)X[R]=256/(1+Math.exp(-20*(R/255-.5)));
for(var R=0;R<E;R++){var s=~~(f[R]*255+.5);T[R]=X[s]}if(i)console.log("Simoid",Date.now()-m);m=Date.now();
return T};j.Dh.wI=function(n){var q=n.length,p=0;for(var R=0;R<q;R++)p=Math.max(p,n[R]);var E=1/p;for(var R=0;
R<q;R++)n[R]=n[R]*E};j.Dh.anu=function(n,q,p,E,T){var i=p*E,H=n.slice(0),Z=n.slice(0);for(var R=0;R<i;
R++)T[R]=q[R]==255?0:65535;j.Dh.qz(n,Z,H,T,p,E);j.Dh._P(n,Z,H,T,p,E);j.Dh.qz(n,Z,H,T,p,E);j.Dh._P(n,Z,H,T,p,E);
return T};j.Dh.qz=function(n,q,p,E,T,i){for(var H=1;H<T;H++)j.Dh.ay(H,-1,n,q,p,E);for(var Z=1;Z<i;Z++){j.Dh.ay(Z*T,-T,n,q,p,E);
for(var H=1;H<T;H++){var R=Z*T+H;j.Dh.ay(R,-1,n,q,p,E);j.Dh.ay(R,-T,n,q,p,E)}}};j.Dh._P=function(n,q,p,E,T,i){for(var H=T-2;
H>=0;H--)j.Dh.ay(T*i-T+H,1,n,q,p,E);for(var Z=i-2;Z>=0;Z--){j.Dh.ay(Z*T+T-1,T,n,q,p,E);for(var H=T-2;
H>=0;H--){var R=Z*T+H;j.Dh.ay(R,1,n,q,p,E);j.Dh.ay(R,T,n,q,p,E)}}};j.Dh.ay=function(R,n,q,p,E,T){var i=R+n,H=q[R],Z=p[i],w=E[i];
if(Z<H)Z=H;else if(H<w)w=H;var d=Z-w;if(T[i]!=65535&&d<T[R]){T[R]=d;p[R]=Z;E[R]=w}};j.jn={};j.jn.filter=function(n,q,p,E){var T=q.v,i=q.o,H=T*i,Z=E[0],w=E[1],d=E[2],O=E[3],W=E[4],C=E[5],a=E[6],B=Date.now(),$=new Float32Array(T*i*4);
j.jn.a1f(n,T,i,$);var I=Math.ceil(Z*Math.sqrt(-2*Math.log(.1))),x=new ArrayBuffer(H*4),U=new Float32Array(x),N=new Float32Array(H),m=new Float32Array(H);
for(var R=0;R<H;R++){var f=R*4;U[R]=$[f];N[R]=$[f+1];m[R]=$[f+2]}j.Lw.zy(U,U,q,I*1/2.4,2);j.Lw.zy(N,N,q,I*1/2.4,2);
j.Lw.zy(m,m,q,I*1/2.4,2);for(var R=0;R<H;R++){var f=R*4;$[f]=U[R];$[f+1]=N[R];$[f+2]=m[R]}var c=new Uint8Array(x);
for(var R=0;R<H;R++){var f=R*4,D=R*4,U=$[f],N=$[f+1],m=$[f+2],z=Math.sqrt((U-m)*(U-m)+4*N*N),_=(U+m+z)*.5,v=(U+m-z)*.5,o=v-m,y=N,k=o*o+y*y;
if(k!=0){var S=Math.sqrt(k),L=1/S;o*=L;y*=L}c[D]=128+127*o;c[D+1]=128+127*y}var X=1.3*w+2,s=O*(2/10),M=n.slice();
if(K.pb){var V=new Float32Array([1/T,1/i]),l=K.nt(0,T,i);l.set(M);var e=K.nt(1,T,i);e.set(c);K.zJ(l,q);
if(W){l.d5(q);K.filter.ZP({type:K.filter.ajd,ZC:V,ahU:1/d,aaX:s},l.j1)}l.d5(q);K.filter.ZP({type:K.filter.VR,Kh:e.Mw,ZC:V,alx:X,ao$:2},l.j1);
if(W){l.d5(q);K.filter.ZP({type:K.filter.arA,ZC:V,ah1:new Float32Array(a),a2T:C},l.j1)}l.get(p)}else{if(W)j.jn.ix(1/d,s,M,T,i);
j.jn.VR(M,p,c,T,i,X);if(W)j.jn.a7X(T,i,p,a,C)}var Y=H*4;for(var R=3;R<Y;R+=4)p[R]=n[R]};j.jn.VR=function(n,q,p,E,T,i){var H=Math.ceil(2*i),Z=-1/(2*i*i),w=[],d=1;
for(var R=0;R<H+20;R++)w[R]=Math.exp(R*R*Z);var O=[0,0,0,0];for(var W=0;W<T;W++){for(var C=0;C<E;C++){var a=W*E+C,B=a*4,$=1,I=n[B],x=n[B+1],U=n[B+2],N=n[B+3],m=(p[B]-128)*(1/127),f=(p[B+1]-128)*(1/127),c=m,D=f,z=C==0?.51:.49,_=W==0?.51:.49;
for(var R=0;R<2;R++){var v=C+z,o=W+_,y=0;while(y<H){if(v<.5||E-.5<v||o<.5||T-.5<o)break;var k=~~v,S=~~o,L=S*E+k,X=L*4,s=(p[X]-128)*(1/127),M=(p[X+1]-128)*(1/127);
if(s*c+M*D<0){s=-s;M=-M}c=s;D=M;v+=d*s;o+=d*M;if(v<.5||E-.5<v||o<.5||T-.5<o)break;var V=~~v,l=~~o,e=l*E+V<<2;
y+=d;var Y=w[~~y];j.V.VU(v,o,n,E,T,O);I+=O[0]*Y;x+=O[1]*Y;U+=O[2]*Y;N+=O[3]*Y;$+=Y}c=-m;D=-f}var J=1/$;
q[B]=~~(.5+I*J);q[B+1]=~~(.5+x*J);q[B+2]=~~(.5+U*J);q[B+3]=~~(.5+N*J)}}};j.jn.a7X=function(n,q,p,E,T){for(var i=0;
i<q;i++)for(var H=0;H<n;H++){var Z=i*n+H<<2,w=1+j.jn.a3j(H,i,p,n,q,E)*T;p[Z]=Math.max(0,Math.min(255,p[Z]*w));
p[Z+1]=Math.max(0,Math.min(255,p[Z+1]*w));p[Z+2]=Math.max(0,Math.min(255,p[Z+2]*w))}};j.jn.a3j=function(n,q,p,E,T,i){var H=p[(q*E+Math.max(0,n-1))*4+3],Z=p[(q*E+Math.min(E-1,n+1))*4+3],w=p[(Math.max(0,q-1)*E+n)*4+3],d=p[(Math.min(T-1,q+1)*E+n)*4+3],O=.7,W=(Z-H)*(1/255),C=.7,a=(d-w)*(1/255),B=-W*C,$=-O*a,I=O*C,x=Math.sqrt(B*B+$*$+I*I),U=1/x,N=B*U,m=$*U,f=I*U,c=i[0]*N+i[1]*m+i[2]*f;
return c};j.jn.ix=function(n,q,p,E,T){function i(Z,d,O){return Math.max(d,Math.min(O,Z))}for(var H=0;
H<T;H++)for(var Z=0;Z<E;Z++){var w=j.jn.a52(Z+.5,H+.5,n,q);p[(H*E+Z)*4+3]=Math.max(0,Math.min(255,w*255))}};
j.jn.a52=function(n,q,p,E){function T(D,z,_){return(1-_)*D+_*z}var i=(n+613)*p,H=(q+117)*p,Z=~~i,w=~~H,d=i-Z,O=H-w,W=Math.sin(11),C=Math.cos(Z)*W,a=Math.cos(Z+1)*W,B=Math.cos(w)*W,$=Math.cos(w+1)*W,eR=j.jn.hash(C,B),I=j.jn.hash(a,B),x=j.jn.hash(C,$),U=j.jn.hash(a,$),N=T(eR,I,d),m=T(x,U,d),f=T(N,m,O);
f=f<.5?0:1;var c=f+E*j.jn.hash(Math.cos(i)*W,Math.cos(H)*W);return c*(1/3)};j.jn.hash=function(n,q){var p=Math.sin(n*11.697096+q*73.32456)*12157.47691;
return p-Math.floor(p)};j.jn.a1f=function(n,q,p,E){var T=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],H=q-1,Z=p-1,w=q*4;
for(var d=1;d<Z;d++)for(var O=1;O<H;O++){var R=d*q+O,W=R*4,C=j.jn.Bk(n,W,w,T),a=j.jn.Bk(n,W,w,i),B=j.jn.Bk(n,W+1,w,T),$=j.jn.Bk(n,W+1,w,i),I=j.jn.Bk(n,W+2,w,T),x=j.jn.Bk(n,W+2,w,i);
E[W]=C*C+B*B+I*I;E[W+1]=C*a+B*$+I*x;E[W+2]=a*a+$*$+x*x}j.jn.anI(E,q,p)};j.jn.Bk=function(n,q,p,E){return n[q-p-4]*E[0]+n[q-p]*E[1]+n[q-p+4]*E[2]+n[q-4]*E[3]+n[q]*E[4]+n[q+4]*E[5]+n[q+p-4]*E[6]+n[q+p]*E[7]+n[q+p+4]*E[8]};
j.jn.anI=function(n,q,p){function E(w,R,d){var O=R*4,W=d*4;w[W]=w[O];w[W+1]=w[O+1];w[W+2]=w[O+2]}var T=q-1,i=p-1;
E(n,q+1,0);E(n,2*q-2,q-1);for(var H=1;H<T;H++)E(n,q+H,H);for(var Z=1;Z<i;Z++){E(n,Z*q+1,Z*q);E(n,Z*q+q-2,Z*q+q-1)}for(var H=1;
H<T;H++)E(n,(p-2)*q+H,(p-1)*q+H);E(n,(Z-2)*q+1,(Z-1)*q);E(n,(Z-1)*q-2,Z*q-1)};j.lW={};j.lW.Vq=function(n,q,p,E){var T=n[q*2],i=n[q*2+1],H=n[p*2],Z=n[p*2+1],w=n[E*2],d=n[E*2+1];
return T*Z+H*d+w*i-w*Z-H*i-T*d};j.lW.yk=function(n,q){var p=[],E=[],T=[],i={};for(var R=0;R<q.length;
R+=3){var H=~~(R*(1/3)),Z=q[R+0],w=q[R+1],d=q[R+2],O=j.lW.Vq(n,Z,w,d);if(O>0){var W=w;w=d;d=W}var C=i[d+"-"+w],a=i[w+"-"+Z],B=i[Z+"-"+d],$=[d,C,H,null],I=[w,a,H,$],x=[Z,B,H,I];
$[3]=x;if(C)C[1]=$;if(a)a[1]=I;if(B)B[1]=x;i[d+"-"+Z]=x;i[Z+"-"+w]=I;i[w+"-"+d]=$;p[Z]=I;T[R]=I;p[w]=$;
T[R+1]=$;p[d]=x;T[R+2]=x;E[H]=I}return{IE:p,Us:E,e2:T}};j.lW.a9t=function(n){var q=[],p=n.Us;for(var R=0;
R<p.length;R++){var E=p[R];q.push(E[0]);E=E[3];q.push(E[0]);E=E[3];q.push(E[0])}return q};j.lW.aqh=function(n,q,p,E){var T=n[q*2],i=n[q*2+1],H=n[p*2],Z=n[p*2+1],w=n[E*2],d=n[E*2+1],O=H-T,W=Z-i,C=w-T,a=d-i,B=O*(T+H)+W*(i+Z),$=C*(T+w)+a*(i+d),I=2*(O*(d-Z)-W*(w-H));
if(Math.abs(I)<1e-5){var x=Math.min(T,H,w),U=Math.min(i,Z,d),N=(Math.max(T,H,w)-x)*.5,m=(Math.max(i,Z,d)-U)*.5;
return[x+N,U+m,N*N+m*m,1]}var f=(a*B-W*$)/I,c=(O*$-C*B)/I,N=f-T,m=c-i;return[f,c,N*N+m*m,0]};j.lW.ad4=function(n,q,p){var E=p[1],T=p[3],i=T[3],H=E[3],Z=H[3],w=p[2],d=E[2],O=p[0],W=E[0],C=T[0],a=H[0],B=j.lW.aqh(n,W,a,C),$=n[O*2]-B[0],I=n[O*2+1]-B[1],x=$*$+I*I>B[2]&&B[3]==0&&j.lW.Vq(n,a,O,C)<0&&j.lW.Vq(n,C,W,a)<0;
if(x){p[0]=C;E[0]=a;p[3]=i;i[3]=H;H[3]=p;E[3]=Z;Z[3]=T;T[3]=E;T[2]=d;H[2]=w;q.Us[d]=Z;q.Us[w]=i;q.IE[W]=H;
q.IE[O]=T}return x};j.lW.afb=function(n,q,p){var E=n[q*2]-n[p*2],T=n[q*2+1]-n[p*2+1];return Math.sqrt(E*E+T*T)};
j.lW.adi=function(n,q,p){var E=p[1],T=p[3],i=T[3],H,Z,w=p[2],d,O=p[0],W=i[0],C=T[0],a;if(E){H=E[3];Z=H[3];
d=E[2];a=H[0]}var B=n.length>>>1;n[2*B]=(n[2*W]+n[2*O])*.5;n[2*B+1]=(n[2*W+1]+n[2*O+1])*.5;if(!0){var $=w,I=p,x=q.Us.length,U=[B,null,$,I],N=[C,U,x,i];
U[1]=N;var m=[B,null,x,N];T[3]=U;i[3]=m;i[2]=x;q.Us[$]=T;q.Us[x]=m;q.IE[O]=T;q.IE[C]=i;q.e2.push(U,N,m)}if(E){var f=d,c=E,D=x+1;
m[1]=c,c[1]=m;var z=[B,null,f,c],_=[a,z,D,Z];z[1]=_;var v=[B,I,D,_];I[1]=v;H[3]=z;Z[3]=v;Z[2]=D;q.Us[f]=H;
q.Us[D]=Z;q.IE[W]=H;q.IE[a]=Z;q.e2.push(z,_,v)}q.IE[B]=I};j.lW.vp=function(n,q){var p=0;while(!0){var E=p;
for(var R=0;R<q.e2.length;R++){var T=q.e2[R];if(T[1]==null)continue;var i=j.lW.ad4(n,q,T);if(i){p++;
break}}if(E==p)break}return p!=0};j.lW.apH=function(n,q,p,E){var T=0;for(var R=0;R<E;R++){var i=null,H=0;
for(var Z=0;Z<q.e2.length;Z++){var w=q.e2[Z],d=j.lW.afb(n,w[0],w[3][3][0])*(w[1]?1:2);if(d>H){i=w;H=d}}if(H>p){j.lW.adi(n,q,i);
T++}}return T!=0};j.lW.akH=function(n,q){var p=[],C=0;for(var R=0;R<n.length;R++)p.push(0);for(var R=0;
R<q.e2.length;R++){var E=q.e2[R],T=E[0],i=E[3][3][0],H=n[T*2],Z=n[T*2+1],w=n[i*2],d=n[i*2+1],O=H-w,W=Z-d;
p[T*2]+=-O;p[T*2+1]+=-W;p[i*2]+=O;p[i*2+1]+=W}for(var R=0;R<n.length;R+=2){var a=R>>>1,B=q.IE[a],E=B,$=!0;
do{if(E[1]==null){$=!1;break}E=E[1][3]}while(E!=B);if($){var I=.02;n[R]+=I*p[R];n[R+1]+=I*p[R+1];C+=I*(p[R]*p[R]+p[R+1]*p[R+1])}}return C};
j.lW.a5Q=function(n,q,p){var E=j.O.Uh(n),T=j.lW.yk(n,q);j.lW.vp(n,T);for(var i=0;i<300;i++){var H=!1,Z=!1;
H=j.lW.apH(n,T,p,5);if(H)Z=j.lW.vp(n,T);var w=j.lW.akH(n,T);if(!H&&!Z&&w<1e-4){break}}return j.lW.a9t(T)};
j.Gr={};j.Gr.iW=function(n){var q=n.pH,p=n.$r,E=n.dm,T=n.zN,i=n.Zl,H=n.zx,Z=n.Y8,w=j.Oc.cn,U,N,m=0;function d(eR){var jd=new Array(eR);
for(var R=0;R<eR;R++)jd[R]=0;return jd}var O=p.length>>>1,W=d(q.T9*2),C=d(q.T9),a=d(q.T9),B=Date.now();
for(var R=0;R<n.Nq.length;R++){var $=q.adP+R,I=q.XF*(H[R*2]+Z[R*2]),x=q.XF*(H[R*2+1]+Z[R*2+1]);W[$*2]=I;
W[$*2+1]=x;C[$]=I;a[$]=x}q.a17.X2(T,q.afk.cn(W),.01,U,N);for(var R=0;R<q.a3N.e2.length;R++){var f=q.a3N.e2[R],c=f[3][3][0],D=f[0],z=f[3][0],_=f[1]?f[1][3][0]:z;
if(f[1]&&c>D)continue;var v=p[c*2],o=p[c*2+1],k=p[D*2],S=p[D*2+1],L=T[c*2],X=T[c*2+1],M=T[D*2],V=T[D*2+1],l=T[z*2],e=T[z*2+1],Y=T[_*2],J=T[_*2+1],G=[L,X,M,V,l,e];
if(f[1])G.push(Y,J);var F=w(q.arg[m],G),b=F[0],h=F[1],bj=1/Math.sqrt(b*b+h*h);b*=bj;h*=bj;var i4=k-v,t=S-o;
C[m]=b*i4+h*t;a[m]=-h*i4+b*t;m++}var aG=new Array(O),Q=new Array(O);for(var R=0;R<O;R++){aG[R]=i[R*2];
Q[R]=i[R*2+1]}q.a4O.X2(aG,q.alm.cn(C),.5);q.a4O.X2(Q,q.alm.cn(a),.5);for(var R=0;R<O;R++){i[R*2]=aG[R];
i[R*2+1]=Q[R]}};j.Gr.Rn=function(n){var q=n.$r,p=n.dm,E=n.Nq,T=j.Oc.multiply,i=Date.now(),H=j.lW.yk(q,p),Z=q.length>>>1,w=0,B=0,h=1e3;
for(var R=0;R<H.e2.length;R++)w+=H.e2[R][1]?.5:1;var d=w+E.length,O=[],W=new j.Mg(d*2,Z*2),C=new j.Mg(d,Z),a=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],$=[],I=[];
for(var R=0;R<H.e2.length;R++){var x=H.e2[R],U=x[3][3][0],N=x[0],m=x[3][0],f=x[1]?x[1][3][0]:m;if(x[1]&&U>N)continue;
var c=q[U*2],D=q[U*2+1],z=q[N*2],_=q[N*2+1],v=q[m*2],o=q[m*2+1],k=q[f*2],S=q[f*2+1],L=[[c,D,1,0],[D,-c,0,1],[z,_,1,0],[_,-z,0,1],[v,o,1,0],[o,-v,0,1]];
if(x[1])L.push([k,S,1,0],[S,-k,0,1]);var X=j.Oc.O5(L),M=T(linear.invert(T(X,L)),X);M.pop();M.pop();O.push(M);
var V=z-c,l=_-D,e=a[x[1]?1:0];e=j.Oc.NH(e,T([[V,l],[l,-V]],M));var Y=[U*2,U*2+1,N*2,N*2+1,m*2,m*2+1,f*2,f*2+1],J=x[1]?8:6,G=[];
for(var F=0;F<J;F++)G.push([Y[F],e[0][F],e[1][F]]);G.sort(function(jd,bP){return jd[0]-bP[0]});for(var b=0;
b<2;b++){for(var F=0;F<J;F++){$[F]=G[F][0];I[F]=G[F][1+b]}W.fO(I,$,J)}if(U<N)C.fO([-1,1],[U,N],2);else C.fO([1,-1],[N,U],2);
B++}for(var R=0;R<E.length;R++){var bj=E[R];W.fO([h],[bj*2],1);W.fO([h],[bj*2+1],1);C.fO([h],[bj],1)}var i4=W.O5(),t=i4.ok(i4),aG=C.O5(),Q=aG.ok(aG);
return{adP:w,T9:d,afk:i4,a17:t,alm:aG,a4O:Q,a3N:H,arg:O,XF:h}};j.Gr.afU=function(n,q,p,E,T){var i=new eL(0,0,q,p),H=j.U(i.P());
j.J2(n,H,3);j.round(H,70);var Z=j.YA(H,i),w=[.1,.065,.035][E]*Math.max(Z.v,Z.o),d=T+1,O=q+d*2,W=p+d*2,C=new eL(-d,-d,O,W),a=j.U(C.P());
j.cg(H,i,a,C);var B=a.slice(0);for(var $=0;$<T;$++){for(var I=1;I<W-1;I++){for(var x=1;x<O-1;x++){var R=I*O+x;
B[R]=a[R-O]|a[R-1]|a[R]|a[R+1]|a[R+O]}}var U=B;B=a;a=U}var N=gO.Wo(a,O,W,Math.round(Z.P()*5e-4)),m=gO.Jy(N),f=new b$(1,0,0,1,-d,-d);
for(var R=0;R<m.length;R++){var c=m[R];j.O.B(c.path.W,f,c.path.W);c.$r=j.Gr.a3D(c.path);c.dm=j.O.ahM(c.$r);
c.dm=j.lW.a5Q(c.$r,c.dm,w)}return m};j.Gr.a3D=function(n){var q=[],p=n.W,E=n.F.length-1,T=0,i=0;for(var H=0;
H<E;H++){var R=H*6,Z=p[R+6]-p[R+0],w=p[R+7]-p[R+1],d=Math.ceil(Math.sqrt(Z*Z+w*w));for(var O=0;O<d;O++){var W=O/d,C=1-W,a=C*C*C*p[R+0]+3*C*C*W*p[R+2]+3*C*W*W*p[R+4]+W*W*W*p[R+6],B=C*C*C*p[R+1]+3*C*C*W*p[R+3]+3*C*W*W*p[R+5]+W*W*W*p[R+7];
q.push(a,B);T=a;i=B}}q=j.O.If(q,1);var $=[],I=q.length;for(var R=0;R<I;R+=2){var B=q.pop(),a=q.pop();
$.push(a,B)}return $};j.Gr.ajm=function(n,q,p,E){function T(z,_,v,o,y){var k=y[z*2]-y[_*2],S=y[z*2+1]-y[_*2+1],L=Math.sqrt(k*k+S*S);
if(v[z].indexOf(_)==-1){v[z].push(_);o[z].push(L)}if(v[_].indexOf(z)==-1){v[_].push(z);o[_].push(L)}}var i=n.length>>>1,H=new Array(i);
if(p.length==0){H.fill(0);return H}var Z=new Array(i),w=new Array(i);for(var R=0;R<i;R++){Z[R]=[];w[R]=[]}for(var R=0;
R<q.length;R+=3){T(q[R],q[R+1],Z,w,n);T(q[R],q[R+2],Z,w,n);T(q[R+1],q[R+2],Z,w,n)}var d=new Float64Array(i*2),O=new Uint32Array(i*2);
d.fill(1e9);var W=new Uint8Array(i);for(var C=0;C<p.length;C++){W.fill(0);var a=["---",[0,p[C]]];while(a.length!=1){var B=j.WF.ahA(a),$=B[0],I=B[1];
if(W[I]==1)continue;var x=I<<1;if($<d[x]){d[x+1]=d[x];O[x+1]=O[x];d[x]=$;O[x]=C}else if($<d[x+1]){d[x+1]=$;
O[x+1]=C}W[I]=1;var U=Z[I],N=w[I];for(var R=0;R<U.length;R++){var m=U[R];if(W[m]!=1){j.WF.a9a(a,[$+N[R],m])}}}}for(var R=0;
R<i;R++){var x=R<<1,f=d[x],c=d[x+1],D=1/(f+c);H[R]=(1-f*D)*E[O[x]]+(1-c*D)*E[O[x+1]]}return H};j.Gr.akp=function(n){var q={F:[],W:[]},p=[n];
while(p.length!=0){var E=p.pop(),T=E.C8;if(E.a3s instanceof Array||E.aa4 instanceof Array){q.F.push("M","L","L","L","Z");
q.W.push(T[0],T[1],T[2],T[1],T[2],T[3],T[0],T[3])}else p.push(E.a3s,E.aa4)}return q};j.Gr.JS=function(n,q,p,E,T,i,H,Z,w,d){var O=Math.round(d.length/3),W=new Array(O);
for(var R=0;R<O;R++)W[R]=R;W.sort(function(a,B){return w[d[a*3]]-w[d[B*3]]});for(var R=0;R<O;R++){var C=W[R]*3;
j.Gr.acf(d[C]*2,d[C+1]*2,d[C+2]*2,H,Z,n,q,p,E,T,i)}};j.Gr.acf=function(n,q,p,E,T,i,H,Z,w,d,O){var W=j.Gr.qk,C=[n,q,p,1.2,1.2,1.2,0],a=[0,0,0,0],B=T[n],$=T[n+1],I=T[q],x=T[q+1],U=T[p],N=T[p+1],m=Math.max(0,Math.min(H-1,E[n])),f=Math.max(0,Math.min(H-1,E[q])),c=Math.max(0,Math.min(H-1,E[p])),D=Math.max(0,Math.min(Z-1,E[n+1])),z=Math.max(0,Math.min(Z-1,E[q+1])),_=Math.max(0,Math.min(Z-1,E[p+1])),v=I-B,o=x-$,y=U-B,k=N-$,S=1/(v*k-y*o+1e-9),L=Math.max(0,Math.floor(Math.min(B,I,U))),X=Math.min(d,Math.ceil(Math.max(B,I,U))),s=Math.max(0,Math.floor(Math.min($,x,N))),M=Math.min(O,Math.ceil(Math.max($,x,N)));
for(var V=s;V<M;V++)for(var l=L;l<X;l++){var e=l+.5-B,Y=V+.5-$,J=(e*k-y*Y)*S,G=(v*Y-e*o)*S;if(J>=0&&G>=0&&J+G<=1){var F=1-J-G,b=m*F+f*J+c*G,h=D*F+z*J+_*G;
j.V.VU(b,h,i,H,Z,a);j.Gr.a0X(a,w,V*d+l<<2)}}};j.Gr.a0X=function(n,q,p){var E=q[p],T=q[p+1],i=q[p+2],H=q[p+3],Z=1-n[3]*(1/255);
q[p]=~~(.5+n[0]+E*Z);q[p+1]=~~(.5+n[1]+T*Z);q[p+2]=~~(.5+n[2]+i*Z);q[p+3]=~~(.5+n[3]+H*Z)};j.Gr.qk=function(){var n=function(p,E,T,i){var H=i[0],Z=i[1],w=i[2],d=p[H+0],O=p[H+1],W=p[Z+0],C=p[Z+1],a=p[w+0],B=p[w+1],$=W-d,I=C-O,x=a-d,U=B-O,N=E-d,m=T-O,f=$*U-x*I,c=1/(f+1e-9),D=(N*U-x*m)*c,z=($*m-N*I)*c;
if(D>=0&&z>=0&&D+z<=1){i[3]=1-D-z;i[4]=D;i[5]=z;return 1}return 0},q=function(p,E,T,i){var H=[0,0,0,0,0,0];
for(var R=0;R<E.length;R+=3){H[0]=E[R]*2;H[1]=E[R+1]*2;H[2]=E[R+2]*2;if(n(p,T,i,H)==1)return!0}return!1};
return{af3:n,a6K:q}}();j.Mk={};j.Mk.akg=function(n,q,p){var E=j.U(q*p*4),T=!1;j.V.lx(n,q,p,E,[p,q,0,1,0,1,0,0]);
return[j.Mk.Hs(n,q,p,T),j.Mk.Hs(E,p,q,T)]};j.Mk.B=function(n,q){var p=!1,E=n[0],T=n[1],i=E[1],H=E[2],Z=E[3],w=q.v,d=q.o;
if(H==w&&Z==d)i=i.slice(0);else if(Z!=d){var O=j.U(H*d*4);j.Mk.cU(T,d,O,p);i=j.U(H*d*4);j.V.lx(O,d,H,i,[H,d,0,1,0,1,0,0]);
if(H!=w){E=j.Mk.Hs(i,H,d,p);i=j.U(w*d*4);j.Mk.cU(E,w,i,p)}}else if(H!=w){i=j.U(w*Z*4);j.Mk.cU(E,w,i,p)}return i};
j.Mk.Hs=function(n,q,p,E){var T=Date.now(),i=new Uint16Array(q*p),H=1;j.Mk.a0T(n,q,p,i);var Z=Math.ceil(q/H),w=new Uint32Array(H),d=new Uint32Array(H),Z=Math.floor(q/H);
for(var O=0;O<H;O++)d[O]=O<H-1?Z:q-(H-1)*Z;for(var W=0;W<p;W++){var R=W*q;for(var O=0;O<H;O++){var Z=d[O];
for(var C=0;C<Z;C++)w[O]+=i[R+C];R+=Z}}if(E){console.log(Date.now()-T,"cost");T=Date.now()}var a=new Uint32Array(q),B=new Uint32Array(q),$=new Uint32Array(q*p);
for(var C=0;C<q;C++){$[(p-1)*q+C]=i[(p-1)*q+C]}for(var W=p-2;W>=0;W--){var I=W*q;for(var O=0;O<H;O++){var Z=d[O];
$[I]=i[I]+Math.min($[I+q],$[I+q+1]);for(var C=1;C<Z-1;C++){var R=I+C;$[R]=i[R]+Math.min($[R+q-1],Math.min($[R+q],$[R+q+1]))}I+=Z-1;
$[I]=i[I]+Math.min($[I+q-1],$[I+q]);I++}}if(E){console.log(Date.now()-T,"Building M");T=Date.now()}function x(o,y){return o<y?o:y}function U(R,o){var y=B[R],k=$[o],S=~~(y*k*1e-4);
return S}var N=new Uint8Array(q*p),m=new Uint32Array(q);for(var R=0;R<q;R++){a[R]=R;B[R]=i[R]}for(var W=1;
W<p;W++){var f=0,I=W*q;for(var O=0;O<H;O++){var Z=d[O],R=I;m[f]=U(f,R);var c=m[f]+U(f+1,R+1),D=U(f,R+1)+U(f+1,R);
m[f+1]=x(c,D);for(var C=2;C<Z;C++){var R=I+C,z=m[f+C-1]+U(f+C-1,R-1),_=m[f+C-2]+U(f+C-1,R-2)+U(f+C-2,R-1);
m[f+C]=x(z,_)}var C=Z-1;while(C>=2){var R=I+C,z=m[f+C-1]+U(f+C-1,R-1),_=m[f+C-2]+U(f+C-1,R-2)+U(f+C-2,R-1);
if(m[f+C]==z){N[R-q]=1;C-=1}else{N[R-q]=0;N[R-q-1]=2;C-=2}}var R=I;if(C==0){N[R-q]=1}else{if(m[f+1]==c){N[R+1-q]=1;
N[R-q]=1}else{N[R+1-q]=0;N[R-q]=2}}I+=Z;f+=Z}j.Mk.abe(W,q,N,i,a,B,!0,T)}if(E){console.log(Date.now()-T,"Matching");
T=Date.now()}var v=i;return[UZIP.adler(n,0,n.length),n,q,p,H,d,w,a,B,N,v]};j.Mk.cU=function(n,q,p,E){var T=n.slice(0),i=T.shift(),H=T.shift(),Z=T.shift(),w=T.shift(),d=T.shift(),O=T.shift(),W=T.shift(),C=T.shift(),a=T.shift().slice(0),B=T.shift(),$=T.shift(),I=Date.now(),x=Math.abs(Z-q),U=Math.floor(x/d),N=new Uint32Array(d),f=0,c=1e9,z=0,_=0,v=0;
for(var m=0;m<d;m++)N[m]=m<d-1?U:x-(d-1)*U;$.fill(0);for(var D=0;D<Z;D++){f=Math.max(f,a[D]);c=Math.min(c,a[D])}for(var m=0;
m<d;m++){var o=O[m],U=N[m];for(var y=0;y<U;y++){var k=0,S=1e9;for(var D=0;D<o;D++)if(a[_+D]<S){S=a[_+D];
k=_+D}if(q<Z)a[k]=1e9;else a[k]*=1.2;if(v<Z/3)z+=S;var L=C[k],X=$[L],s=X<65280?65280:X+1;if(s<65280)throw"e";
for(var M=0;M<w;M++){var R=M*Z+L;$[R]=s;L+=B[R]-1}v++}_+=o}if(E){console.log(Date.now()-I,"Removing best seams");
I=Date.now()}function V(R,e){var Y=R<<2,J=e<<2;p[Y]=H[J];p[Y+1]=H[J+1];p[Y+2]=H[J+2];p[Y+3]=H[J+3]}for(var M=0;
M<w;M++){var l=0,R=M*Z;for(var D=0;D<q;D++,l++){if(q<Z){while($[R+l]==65280)l++;V(M*q+D,M*Z+l)}else{V(M*q+D,M*Z+l);
while($[R+l]>=65280){$[R+l]--;D++;V(M*q+D,M*Z+l)}}}}if(E){console.log(Date.now()-I,"Shifting image pixels");
I=Date.now()}};j.Mk.abe=function(n,q,p,E,T,i){var H=0,R=n*q;while(H<q){if(p[R-q]==1){i[H]=i[H]+E[R];
H++;R++}else{var Z=T[H];T[H]=T[H+1];T[H+1]=Z;var w=i[H];i[H]=i[H+1]+E[R];i[H+1]=w+E[R+1];H+=2;R+=2}}};
j.Mk.a0T=function(n,q,p,E){function T(n,R,w){var W=R<<2,C=w<<2,a=n[W]-n[C],B=n[W+1]-n[C+1],$=n[W+2]-n[C+2];
return Math.abs(a)+Math.abs(B)+Math.abs($)}for(var i=1;i<q;i++){var H=T(n,i,i-1);E[i-1]+=H;E[i]+=H}for(var Z=1;
Z<p;Z++){var w=Z*q,H=T(n,w,w-q);E[w]+=H;E[w-q]+=H;for(var i=1;i<q;i++){var R=Z*q+i,d=T(n,R,R-1),O=T(n,R,R-q);
E[R-q]+=O;E[R-1]+=d;E[R]+=O+d}}for(var Z=0;Z<p;Z++){E[Z*q]*=2;E[Z*q+q-1]*=2}for(var R=0;R<E.length;R++)if(E[R]==0)E[R]=1};
j.CK=function(){var n=0,q=0,E=15,i=256;function p(O,W,C,a,B,$){var I=(B-1)*W,x=$*W;return O[x+a]-O[x+C-1]-O[I+a]+O[I+C-1]}var T=Math.round(E/8),H=[];
function Z(O,W){for(var C=0;C<W.length;C++){var a=W[C],B=0,$=0,I=O[a.cf],x=I.Jf,U=I.XF,N=I.rZ;for(var m=-E;
m<=E;m++)for(var f=-E;f<=E;f++){var c=f+a.a5W,D=m+a.a1D;if(f*f+m*m>E*E||c<0||D<0||c>=U||D>=U)continue;
var z=x[D*U+c];B+=f*z;$+=m*z}a.Yf=Math.atan2($,B)}}function w(O,W,C,a,B){var $=~~(O+.5),I=~~(W+.5);return p(C,a,$-T,$+T,I-T,I+T)}function d(O,W,C,a,B){n=a;
q=B;if(H.length==0){var $=new j.a.hb(16200817),N=8,m=0;function I(aG){var v=aG[0]-aG[2],o=aG[1]-aG[3];
return v*v+o*o}function x(){var aG=0,Q=0;while(aG===0)aG=$.get();while(Q===0)Q=$.get();return Math.sqrt(-2*Math.log(aG))*Math.cos(2*Math.PI*Q)}var U=x,f=[];
while(m!=i){var c=Math.max(-E,Math.min(E,U()*N)),D=Math.max(-E,Math.min(E,U()*N)),z=Math.max(-E,Math.min(E,U()*N)),_=Math.max(-E,Math.min(E,U()*N)),v=c-z,o=D-_,y=Math.sqrt(v*v+o*o);
if(y<3||y>12)continue;H.push(c,D,z,_);m++}}var k=20;for(var S=0;S<W.length;S++){var L=W[S],X=O[L.cf],s=X.j5,C=X.Jf,a=X.XF,B=X.rZ,M=L.a5W,V=L.a1D,l=L.Yf,e=Math.cos(l),Y=Math.sin(l),J=new Uint8Array(i>>>3);
L.ga=J;for(var R=0;R<i;R++){var G=R*4,c=H[G+0],D=H[G+1],z=H[G+2],_=H[G+3],F=e*c-Y*D,b=Y*c+e*D,h=e*z-Y*_,bj=Y*z+e*_,i4=w(M+F,V+b,s,a,B),t=w(M+h,V+bj,s,a,B);
J[R>>>3]|=(i4<t?0:1)<<(R&7)}}}return{acN:Z,ag1:d}}();j.a4u=function(){var n=0,q=0;function p(i,H,Z,w,d,O){var W=(d-1)*H,C=O*H;
return i[C+w]-i[C+Z-1]-i[W+w]+i[W+Z-1]}function E(i,H,Z){var w=new Uint32Array(H*Z);w[0]=i[0];for(var d=1;
d<H;d++)w[d]=w[d-1]+i[d];for(var O=1;O<Z;O++){var R=O*H;w[R]=w[R-H]+i[R];for(var d=1;d<H;d++)w[R+d]=i[R+d]+w[R+d-1]+w[R+d-H]-w[R+d-H-1]}return w}function T(i,H){var Z=[[9]],w=Date.now(),d=[];
for(var O=0;O<i.length;O++){var W=i[O],C=W.j5,a=n=W.XF,B=q=W.rZ,x=9,D=1,V=24;if(C==null)continue;var $=new Float32Array(a*B),I=new Uint8Array(a*B),U=x>>>1,N=U>>>1,m=Math.round(x/3);
if(m!=x/3)throw"e";var f=1/(x*x),c=1.2*(x/9);for(var z=U+1;z<B-U;z+=D)for(var _=U+1;_<a-U;_+=D){var v=p(C,a,_-N,_+N,z-U,z+U)-3*p(C,a,_-N,_+N,z-U+m,z+U-m),o=p(C,a,_-U,_+U,z-N,z+N)-3*p(C,a,_-U+m,_+U-m,z-N,z+N),y=_-U+1,k=_+U-1,S=z-U+1,L=z+U-1,X=p(C,a,y,_-1,S,z-1)+p(C,a,_+1,k,z+1,L)-p(C,a,_+1,k,S,z-1)-p(C,a,y,_-1,z+1,L),s=(o*v-.9*X*(.9*X))*(f*f);
$[z*a+_]=Math.abs(s);I[z*a+_]=s<0?0:1}var M=a*D;for(var z=V;z<B-V;z+=D)for(var _=V;_<a-V;_+=D){var R=z*a+_,l=$[R];
if(l<16)continue;if($[R-D]>=l||$[R+D]>=l)continue;if($[R-M-D]>=l||$[R-M]>=l||$[R-M+D]>=l)continue;if($[R+M-D]>=l||$[R+M]>=l||$[R+M+D]>=l)continue;
d.push({x:~~(_*W.UT+.5),y:~~(z*W.UT+.5),a5W:_,a1D:z,cf:O,k:l,acL:I[R],dd:c})}}if(H!=null){d.sort(function(bj,i4){return i4.k-bj.k});
d=d.slice(0,H)}return d;var e=[];for(var R=0;R<d.length;R++){var Y=!0,J=d[R];for(var G=0;G<d.length;
G++){var F=d[G];if(G!=R&&F.k>J.k&&(F.cf==J.cf+1||F.cf==J.cf-1)){var b=J.x-F.x,h=J.y-F.y;if(b*b+h*h<5){Y=!1;
break}}}if(Y)e.push(J)}console.log(d.length,e.length);return e}return{agf:T}}();j.et={};j.et.an3=function(n){var q=n.length,p=j.et.$w(n,!1),T=0,i=1;
throw"e";var E=[];for(var R=0;R<q;R++)E[R]=j.et.Xp(p[R]);var H=n[0][1],Z=j.et.match(p[T],p[i],E[i]);
console.log(Z.length);var w=Math.max(Math.min(Z.length,40),Z.length*.54);w=Math.min(w,200);var d=Z.slice(0,w),O=j.vA.a20(p[T],p[i],d,H.v,H.o),W=j.vA.asm(O,[0,0,0],1),C=H.v/2,a=H.o/2,B=1/Math.max(C,a);
for(var R=0;R<1;R++){var $=d[R],I=p[T][$[0]],x=p[i][$[1]],U=j.vA.adZ(W,B*(I.x-C),B*(I.y-a),B*(x.x-C),B*(x.y-a))}var N=j.vA.a7E(O,H),m=[];
for(var R=0;R<2;R++){var f=N[R],c=[f[0][0],f[0][1],f[0][2],f[1][0],f[1][1],f[1][2],f[2][0],f[2][1]],D=A.Z.MY(n[R],null,c);
m.push([D.buffer,D.rect])}return[j.et.aqa(m[0],m[1],p[T],p[i],d,O,N,H)]};j.et.ZV=function(n,q){var p=n.length,E=!1,T=Date.now(),i=j.et.$w(n,!1,1e4);
if(E)console.log("Descriptors ready",Date.now()-T);T=Date.now();for(var R=0;R<p;R++){var H=n[R][1];for(var Z=0;
Z<i[R].length;Z++){i[R][Z].x+=H.x;i[R][Z].y+=H.y}}if(E)console.log("shifted",Date.now()-T);T=Date.now();
var w=[];for(var R=0;R<p;R++)w[R]=j.et.Xp(i[R]);if(E)console.log("trees built",Date.now()-T);T=Date.now();
var d=[];for(var R=0;R<p-1;R++)for(var Z=R+1;Z<p;Z++){var O=j.et.match(i[R],i[Z],w[Z]);if(E)console.log("Matches found",R,Z,O.length);
O=O.slice(0,O.length>>>1);if(O.length<10)return null;var W=j.et.anL(i[R],i[Z],O,2);d.push([R,Z,O,W])}d.sort(function(_,v){return v[2].length-_[2].length});
if(E)console.log("Matches found",Date.now()-T);T=Date.now();var C=[],a=new UnionFind(p);for(var R=0;
R<d.length;R++){var B=d[R],$=a.find(B[0]),I=a.find(B[1]);if($!=I){C.push(B);a.link($,I)}}var x=[];for(var R=0;
R<p;R++)x[R]=[1,0,0,0,1,0,0,0];var U=[0],N=new Uint8Array(p);N[U[0]]=1;while(U.length!=0){var I=U.pop(),W=x[I],m=[];
for(var R=0;R<C.length;R++){var B=C[R],f=B[0],c=B[1];if(f==I&&N[c]==0){x[c]=j.V.LT(W,B[3]);U.push(c);
N[c]=1}if(c==I&&N[f]==0){x[f]=j.V.LT(W,j.V.z3(B[3]));U.push(f);N[f]=1}}}if(q==null){var D=[];for(var R=0;
R<p;R++)D.push([x[R][2],R]);D.sort(function(_,v){return _[0]-v[0]});q=D[D.length>>>1][1]}var z=j.V.z3(x[q]);
for(var R=0;R<p;R++)x[R]=j.V.LT(x[R],z);if(E)console.log("Transforms reordered",Date.now()-T);T=Date.now();
return x};j.et.$w=function(n,q,p){var E=[],T=!1;for(var R=0;R<n.length;R++){var i=n[R][0],H=n[R][1],Z=H.v,w=H.o,d=j.U(H.P());
j.Eq(i,d);var O=Date.now(),W=j.et.adX(d,H,!0);if(T)console.log("Pyramid built ---------------",Date.now()-O);
O=Date.now();var C=j.a4u.agf(W,p);if(T)console.log("SURF Generation",Date.now()-O);O=Date.now();if(!q){j.CK.acN(W,C);
if(T)console.log("ORB Orientations",Date.now()-O);O=Date.now();j.CK.ag1(W,C,d,Z,w);if(T)console.log("ORB Descriptors",Date.now()-O);
O=Date.now()}E.push(C)}return E};j.et.adX=function(n,q,p){function E(d,W,C){var B=new Uint32Array(W*C);
B[0]=d[0];for(var $=1;$<W;$++)B[$]=B[$-1]+d[$];for(var I=1;I<C;I++){var R=I*W;B[R]=B[R-W]+d[R];for(var $=1;
$<W;$++)B[R+$]=d[R+$]+B[R+$-1]+B[R+$-W]-B[R+$-W-1]}return B}var T=[],i=[n,q];j.Lb(i);if(p){var H=j.TF(n,q),Z=H.rect,w=[H.OT,Z];
j.Lb(w)}for(var R=0;R<i.length;R++){var d=i[2*R],O=i[2*R+1],W=O.v,C=O.o,a=Math.min(W,C);if(a<30)break;
if(a<1600)T.push({Jf:d,XF:W,rZ:C,UT:1<<R,j5:E(d,W,C)});if(!p)continue;var d=w[2*R],O=w[2*R+1],W=O.v,C=O.o,a=Math.min(W,C);
if(a<30)break;if(a<1600)T.push({Jf:d,XF:W,rZ:C,UT:(1<<R)*3/2,j5:E(d,W,C)})}return T};j.et.anL=function(n,q,p,E){var T=Date.now(),i,H=0,Z=0,w=p.length,d=new Float64Array(2);
for(var O=0;O<3e3;O++){var W=~~(Math.random()*w),C=~~(Math.random()*w),a=~~(Math.random()*w),B=~~(Math.random()*w),S=0,L=0;
if(W==C||W==a||W==B||C==a||C==B||a==B)continue;var $=p[W],I=p[C],x=p[a],U=p[B],N=n[$[0]],m=q[$[1]],f=n[I[0]],c=q[I[1]],D=n[x[0]],z=q[x[1]],_=n[U[0]],v=q[U[1]],o=[N.x,N.y,f.x,f.y,D.x,D.y,_.x,_.y],y=[m.x,m.y,c.x,c.y,z.x,z.y,v.x,v.y],k=j.V.z0(o,y);
if(k[0]==0&&k[1]==0&&k[3]==0&&k[4]==0)continue;var X=w-H+2;for(var R=0;R<w&&R-S<X;R++){var s=n[p[R][0]],M=q[p[R][1]];
j.V.vW(M.x,M.y,k,d);var V=d[0]-s.x,l=d[1]-s.y,e=V*V+l*l;if(e<E){S++;L+=e}}if(S>H||S==H&&L<Z){i=k;H=S;
Z=L}}return i};var et=new Uint8Array(256);for(var R=0;R<256;R++){var e8=0,eR=R;while(eR!=0){eR=eR&eR-1;
e8++}et[R]=e8}j.et.aly=function(n,q,p){var E=0,T=n.length;for(var R=0;R<T&&E<p;R++)E+=et[n[R]^q[R]];
return E};j.et.arY=function(n,q,p,top,E){if(E[p]==1)return;var T=j.et.aly(n.ga,q.ga,top[0]);if(T<top[0]){if(T<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=T;top[3]=p}else{top[0]=T;top[1]=p}}E[p]=1};j.et.Xp=function(n){var q=[],p=[],E=[[],[]],T=4;
for(var R=0;R<n.length;R++)(n[R].acL==0?q:p).push(R);for(var i=0;i<2;i++){var H=new Array(T),Z=[],w=i==0?q:p,d=w.length/256,O=[];
for(var W=0;W<32;W++){var C=new Array(256),$=0;for(var a=0;a<256;a++)C[a]=[];for(var a=0;a<w.length;
a++){var B=w[a];C[n[B].ga[W]].push(B)}for(var a=0;a<256;a++)$+=Math.abs(C[a].length-d);O.push([$,W,C])}O.sort(function(I,x){return I[0]-x[0]});
var Z=[],H=[];E[i]=[Z,H];for(var R=0;R<T;R++){Z.push(O[R][1]);H.push(O[R][2])}}return E};j.et.match=function(n,q,p){var E=[],T=new Uint16Array(q.length);
T.fill(65535);var i=new Uint8Array(q.length),top=new Uint32Array(4),H=[];for(var Z=0;Z<n.length;Z++){var w=n[Z],d=w.ga;
top.fill(1e6);i.fill(0);var O=p[w.acL];for(var W=0;W<O[1].length;W++){var C=O[1][W][d[O[0][W]]];for(var a=0;
a<C.length;a++){var B=C[a];j.et.arY(w,q[B],B,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var $=T[top[3]];
if($==65535){T[top[3]]=E.length;E.push([Z,top[3],top[2]])}else if(top[2]<E[$][2]){E[$]=[Z,top[3],top[2]]}}}E.sort(function(I,x){return I[2]-x[2]});
return E};j.et.aor=function(n){var q=new eL;for(var R=0;R<n.length;R++)q=q.AL(n[R][1]);var p=j.U(q.P()*4);
for(var R=0;R<n.length;R++)j.a.Ef("norm",n[R][0],n[R][1],p,q,q,1);return[p,q]};j.et.aqa=function(n,q,p,E,T,i,H,Z){var w=n[1].clone(),d=w.clone();
w.x=w.y=0;var O=q[1].clone(),W=O.clone();O.x=O.y=0;O.x=w.v;var C=w.AL(O),a=W.y-d.y,B=j.U(C.P()*4);j.hk(n[0],w,B,C);
j.hk(q[0],new eL(O.x,O.y+a,O.v,O.o),B,C);var $=document.createElement("canvas");$.width=C.v;$.height=C.o;
var I=$.getContext("2d");I.lineWidth=.5;I.putImageData(new ImageData(new Uint8ClampedArray(B.buffer),C.v,C.o),0,0);
if(i){var x=i[0],U=j.Oc.O5(x),N=w.v,m=Z.v;for(var R=0;R<T.length;R++){var f=T[R],n=p[f[0]],q=E[f[1]];
I.strokeStyle="#"+"ff0000";I.beginPath();var c=j.vA.a9T(U,H[0],q,0,m),D=j.vA.a9T(x,H[1],n,0,m);I.moveTo(-d.x+c[0],-d.y+c[1]);
I.lineTo(-d.x+c[2],-d.y+c[3]);I.moveTo(N-W.x+D[0],-W.y+a+D[1]);I.lineTo(N-W.x+D[2],-W.y+a+D[3]);I.stroke()}}if(T){var z=T.length;
for(var R=0;R<z;R++){var f=T[R],n=p[f[0]],q=E[f[1]];I.strokeStyle="#"+"ffff00"}}var _=new Uint8Array(I.getImageData(0,0,C.v,C.o).data.buffer);
if(!1){for(var v=0;v<2;v++){var o=v==0?p:E,y=v*w.v;for(var R=0;R<o.length;R++){var k=o[R],S=~~k.x,L=~~k.y,X=(L*C.v+S+y)*4;
_[X+1]=_[X+2]=k.a9Q*60;_[X+0]=0;_[X+3]=255}}}return[_,C]};j.stack={};j.stack.stack=function(n,q,p){var E=n.length,T=q.length;
if(E==1){q.set(n[0]);return}if(p=="avrg"||p=="stdv"||p=="summ"||p=="vari"){var i=1/E;for(var R=0;R<T;
R++){var H=0;for(var Z=0;Z<E;Z++)H+=n[Z][R];var w=~~(H*i+.5);if(p=="avrg"||(R&3)==3)q[R]=w;else if(p=="summ")q[R]=255*Math.pow(Math.min(255,H)*(1/255),1/2.4);
else{var d=0;for(var Z=0;Z<E;Z++){var O=n[Z][R]-w;d+=O*O}var W=Math.sqrt(d*i)*(1/255);if(p=="stdv")q[R]=255*Math.pow(W,1/2.4);
else q[R]=255*Math.pow(W*W,1/2.4)}}}else if(p=="maxx"){for(var R=0;R<T;R++){var C=0;for(var Z=0;Z<E;
Z++)C=Math.max(C,n[Z][R]);q[R]=C}}else if(p=="minn"){for(var R=0;R<T;R++){var C=255;for(var Z=0;Z<E;
Z++)C=Math.min(C,n[Z][R]);q[R]=C}}else if(p=="medn"||p=="rang"){var a=function(x,U){return x-U},B=new Array(E),$=0,I=0;
if(E%1==0){I=E>>>1;$=I-1}else{$=I=E>>>1}for(var R=0;R<T;R++){for(var Z=0;Z<E;Z++)B[Z]=n[Z][R];B.sort(a);
if(p=="medn")q[R]=B[$]+B[I]>>>1;else q[R]=(R&3)==3?B[E-1]:B[E-1]-B[0]}}else console.log(p)};j.fD={};
j.fD.Pk=function(n,q,p,E){var T=Date.now(),i=new Uint32Array(q*p),H=new Uint8Array(q*p),Z=[],a=0;for(var w=0;
w<p;w++){for(var d=0;d<q;d++){var R=w*q+d;if(H[R]==0){var O=Z.length,W=j.fD.Z7(n,q,p,d,w,H,i,O);Z.push([O,d,w,W[0],W[1],n[R]])}}}H.fill(0);
var C=[];for(var R=0;R<Z.length;R++)if(Z[R][3]<=E)C.push(Z[R]);C.sort(function(z,_){return z[3]-_[3]});
for(var R=0;R<C.length;R++){var W=C[R],B=W[4],$=0,I=0;if(W[3]>E)continue;for(var x=0;x<B.length;x+=2){var U=B[x],N=B[x+1],m=N*q+U,f=i[m],c=Z[f][3],D=Z[f][5];
if(c>I){$=f;I=c}}if(I==0)throw"e";j.fD.a1t(n,q,p,W,Z[$],H,i);a++}};j.fD.a1t=function(n,q,p,E,T,i,H){j.fD.arw(n,q,p,E[1],E[2],T[5],i,H,T[0]);
T[3]+=E[3];E[3]=0;var Z=E[4],w=T[4];for(var d=0;d<Z.length;d++)w.push(Z[d]);j.fD.a5p(i,q,p,E[1],E[2])};
j.fD.a5p=function(n,q,p,E,T){var i=[E,T];n[T*q+E]=2;while(i.length!=0){var H=i.pop(),Z=i.pop(),R=H*q+Z;
n[R]=0;if(H!=p-1&&n[R+q]==1){i.push(Z,H+1);n[R+q]=2}if(H!=0&&n[R-q]==1){i.push(Z,H-1);n[R-q]=2}if(H!=q-1&&n[R+1]==1){i.push(Z+1,H);
n[R+1]=2}if(H!=0&&n[R-1]==1){i.push(Z-1,H);n[R-1]=2}}};j.fD.arw=function(n,q,p,E,T,i,H,Z,w){var d=[E,T],O=n[T*q+E],W=Z[T*q+E];
H[T*q+E]=1;while(d.length!=0){var C=d.pop(),a=d.pop(),R=C*q+a;n[R]=i;Z[R]=w;if(C!=p-1&&H[R+q]==0&&Z[R+q]==W){d.push(a,C+1);
H[R+q]=1}if(C!=0&&H[R-q]==0&&Z[R-q]==W){d.push(a,C-1);H[R-q]=1}if(C!=q-1&&H[R+1]==0&&Z[R+1]==W){d.push(a+1,C);
H[R+1]=1}if(C!=0&&H[R-1]==0&&Z[R-1]==W){d.push(a-1,C);H[R-1]=1}}};j.fD.Z7=function(n,q,p,E,T,i,H,Z){var w=[E,T],d=n[T*q+E],O=0,W=[];
i[T*q+E]=1;while(w.length!=0){var C=w.pop(),a=w.pop(),R=C*q+a;H[R]=Z;O++;if(C!=p-1)if(n[R+q]==d){if(i[R+q]==0){w.push(a,C+1);
i[R+q]=1}}else W.push(a,C+1);if(C!=0)if(n[R-q]==d){if(i[R-q]==0){w.push(a,C-1);i[R-q]=1}}else W.push(a,C-1);
if(a!=q-1)if(n[R+1]==d){if(i[R+1]==0){w.push(a+1,C);i[R+1]=1}}else W.push(a+1,C);if(a!=0)if(n[R-1]==d){if(i[R-1]==0){w.push(a-1,C);
i[R-1]=1}}else W.push(a-1,C)}return[O,W]};j.fD.aam=function(n,q,p,E,T){var i=j.fD._4(n.buffer,q,p).LW,H=Date.now(),Z=[];
for(var R=0;R<i.length;R++){var w=i[R],d=1;for(var O=0;O<d;O++)Z.push(w.kr)}var W=new Uint32Array(Z),C=UPNG.quantize.getKDtree(new Uint8Array(W.buffer),E),a=[q,1,-q,-1,q+1,-q+1,-q-1,q-1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2],B=new Uint8Array(q*p),$=n;
for(var I=0;I<p;I++)for(var x=0;x<q;x++){var R=I*q+x<<2,U=$[R]*(1/255),N=$[R+1]*(1/255),m=$[R+2]*(1/255),f=$[R+3]*(1/255),c=j.fD.Zy(C,U,N,m,f,T);
if(c==null){var D=[],z=0;while(z<20){var _=I*q+x+a[z]<<2,v=$[_]*(1/255),o=$[_+1]*(1/255),y=$[_+2]*(1/255),k=$[_+3]*(1/255),S=j.fD.Zy(C,v,o,y,k,.005);
if(S!=null){if(D.indexOf(S)==-1){D.push(S);S.Qd=1}else S.Qd++}z++}D.sort(function(f,m){return m.Qd-f.Qd});
while(D.length!=0&&D[D.length-1].Qd<3)D.pop();if(D.length==0)c=j.fD.Zy(C,U,N,m,f,100);else if(D.length==1)c=D[0];
else if(D.length==2){var L=D[0],X=D[1],s=L.est.q,M=X.est.q,V=M[0]-s[0],l=M[1]-s[1],e=M[2]-s[2],Y=M[3]-s[3],J=U-s[0],G=N-s[1],F=m-s[2],b=f-s[3],h=V*V+l*l+e*e+Y*Y,bj=J*J+G*G+F*F+b*b,i4=(J*V+G*l+F*e+b*Y)/h,t=bj-i4*i4*h;
if(t<.5)c=i4<.5?L:X;else{c=j.fD.Zy(C,U,N,m,f,100)}}else{var L=D[0],X=D[1],aG=D[2],s=L.est.q,M=X.est.q,Q=aG.est.q,jd=s[0]-Q[0],bP=s[1]-Q[1],gz=s[2]-Q[2],fZ=s[3]-Q[3],dt=M[0]-Q[0],a9=M[1]-Q[1],bi=M[2]-Q[2],az=M[3]-Q[3],hd=Q[0]-U,aB=Q[1]-N,cv=Q[2]-m,c$=Q[3]-f,cT=jd*jd+bP*bP+gz*gz+fZ*fZ,fp=jd*dt+bP*a9+gz*bi+fZ*az,cD=hd*jd+aB*bP+cv*gz+c$*fZ,f_=jd*dt+bP*a9+gz*bi+fZ*az,f9=dt*dt+a9*a9+bi*bi+az*az,dO=hd*dt+aB*a9+cv*bi+c$*az,a6=1/(fp*f_-cT*f9),i4=(f9*cD-dO*fp)*a6,hb=(dO*cT-cD*f_)*a6,jr=1-i4-hb,dh=Math.max(i4,hb,jr);
if(dh==i4)c=L;else if(dh==hb)c=X;else c=aG}}B[R>>2]=c.ind}return{dm:B,LW:C[1]}};j.fD._4=function(n,q,p){var E=[],T={},i=q-1,H=p-1,Z=0,w=new Uint32Array(n),d=[-q-1,-q,-q+1,-1,1,q-1,q,q+1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2];
for(var O=1;O<H;O++)for(var W=1;W<i;W++){var C=O*q+W,a=w[C],B=!0;for(var R=0;R<8;R++)B=B&&w[C+d[R]]==a;
if(B){Z++;var $=T[a];if($==null){T[a]=E.length;E.push({kr:a,UH:1})}else E[$].UH++}}return{LW:E,a6p:Z}};
j.fD.Zy=function(n,q,p,E,T,i){var H=UPNG.quantize.getNearest(n[0],q,p,E,T);return j.fD.a4C(H,q,p,E,T)<i?H:null};
j.fD.a4C=function(n,q,p,E,T){var i=n.est.q,H=q-i[0],Z=p-i[1],w=E-i[2],d=T-i[3];return H*H+Z*Z+w*w+d*d};
j.fD.RY=function(){function n(x,U,N,m,f,c){var D=[],z=c,_=c,v=c>>>2;for(var o=0;o<f;o++)for(var y=0;
y<m;y++){var k=~~((y+.5)*z),S=~~((o+.5)*_),L=1e9,X=Math.max(0,k-v),s=Math.min(U,k+v+1),M=Math.max(0,S-v),V=Math.min(N,S+v+1);
for(var l=M;l<V;l++)for(var e=X;e<s;e++){var Y=q(x,U,e,l);if(Y<L){k=e;S=l;L=Y}}var J=(S*U+k)*4;D.push(k,S)}return D}function q(x,U,N,m){var f=(m*U+N)*4,c=U*4,D=p(x,f-4,f)+p(x,f,f+4),z=p(x,f-c,f)+p(x,f,f+c);
return D+z}function p(x,U,N){var m=x[U]-x[N],f=x[U+1]-x[N+1],c=x[U+2]-x[N+2];return m*m+f*f+c*c}var E=0,T=0;
function i(x,U,N,m){T++;if(m<E)E=m;x[m].push(U,N)}function H(x){T--;while(x[E].length==0)E++}function Z(x,U,N,m,f){E=0;
T=0;var c=U*N,D=Math.round(Math.min(U,N)/(m?m:50)),X=0,s=16;if(D==0)D=1;var z=(f?f:30)/D,_=Math.floor(U/D),v=Math.floor(N/D),o=new Uint16Array(c);
for(var R=0;R<c;R++)o[R]=65535;var y=n(x,U,N,_,v,D),k=y.length>>>1;if(k>65535)throw k;var S=[];for(var R=0;
R<1e3+N;R++)S.push([]);var L=[0,1,0,-1,-1,0,1,0],M=Math.min(v,5),V=new Uint32Array(k*6);for(var l=0;
l<v;l+=M){var e=Math.min(l+M+1,v);for(var Y=l;Y<e;Y++)for(var J=0;J<_;J++){var R=Y*_+J,G=R*2,F=y[G+1]<<16|y[G];
i(S,F,R,y[G+1]>>>s)}var b=Math.min(N,e*D);if(l+M>=v)b=N;while(T!=0){H(S);var h=S[E].pop(),bj=S[E].pop(),i4=bj>>>16,t=bj&65535,R=i4*U+t;
if(o[R]==65535){var aG=h*6,Q=R<<2;o[R]=h;V[aG]+=x[Q];V[aG+1]+=x[Q+1];V[aG+2]+=x[Q+2];V[aG+3]+=t;V[aG+4]+=i4;
V[aG+5]++;var jd=i4>>>s;if(i4!=b-1&&o[R+U]==65535)i(S,i4+1<<16|t,h,w(x,U,z,t,i4+1,V,aG)+jd);if(i4!=0&&o[R-U]==65535)i(S,i4-1<<16|t,h,w(x,U,z,t,i4-1,V,aG)+jd);
if(t!=0&&o[R-1]==65535)i(S,i4<<16|t-1,h,w(x,U,z,t-1,i4,V,aG)+jd);if(t!=U-1&&o[R+1]==65535)i(S,i4<<16|t+1,h,w(x,U,z,t+1,i4,V,aG)+jd)}}if(b!=i4){var bP=(l+M)*_;
V.fill(0,bP*6,(bP+_)*6);for(var i4=(l+M-2)*D;i4<b;i4++)for(var t=0;t<U;t++){var R=i4*U+t;if(o[R]>=bP){o[R]=65535}}}}return{dm:o,I6:k,B_:V}}j.fD.B8=function(x,U,N,m,f){var c=x.I6,D=U*N,z=x.B_,_=x.dm,v=a(m,_,c,D),o=new UnionFind(c),s=0;
for(var y=1;y<N;y++)for(var k=1;k<U;k++){var R=y*U+k,S=_[R],L=0;if((L=_[R-1])!=S&&v[L]==v[S]&&d(z,0,S*6,L*6)<f)o.link(S,L);
if((L=_[R-U])!=S&&v[L]==v[S]&&d(z,0,S*6,L*6)<f)o.link(S,L)}var X=new Uint16Array(c);X.fill(65535);var M=new Uint16Array(c);
for(var R=0;R<c;R++){var V=o.find(R);if(X[V]==65535)X[V]=s++;M[R]=X[V]}var l=new Uint16Array(D);for(var R=0;
R<D;R++)l[R]=M[_[R]];return{dm:l,I6:s}};j.fD.a7T=function(x,U,N,m){var f=j.U(N),c=U.length,D=0;for(var R=0;
R<c&&D!=3;R++){var z=m[R];if(z==0||z==255){var _=U[R],v=2-(z>>>7);f[_]=D=f[_]|v}}return D!=3};function w(x,U,N,m,f,c,D){var z=(f*U+m)*4,_=c[D+5],v=1/_,o=x[z]*_-c[D],y=x[z+1]*_-c[D+1],k=x[z+2]*_-c[D+2],S=m*_-c[D+3],L=f*_-c[D+4],X=Math.sqrt(o*o+y*y+k*k),s=Math.sqrt(S*S+L*L);
return~~((X+N*s)*v+.5)}function d(x,U,N,m){var f=1/x[N+5],c=1/x[m+5],D=x[N]*f-x[m]*c,z=x[N+1]*f-x[m+1]*c,_=x[N+2]*f-x[m+2]*c,v=x[N+3]*f-x[m+3]*c,o=x[N+4]*f-x[m+4]*c,y=Math.sqrt(D*D+z*z+_*_),k=Math.sqrt(v*v+o*o);
return~~(y+U*k+.5)}function O(x,U,N){var m=j.zZ(x,new eL(0,0,U,N)),f=m.rect.v,c=m.rect.o,D=Z(m.OT,f,c),z=D.dm,_=Date.now(),v=new Uint16Array(U*N);
v.fill(65535);for(var o=0;o<c;o++){for(var y=0;y<f;y++){var k=o*f+y,R=(o<<1)*U+(y<<1),S=z[k];if(z[k-f]!=S||z[k-1]!=S||z[k+1]!=S||z[k+f]!=S)S=65535;
v[R]=S;v[R+1]=S;v[R+U]=S;v[R+U+1]=S}}D.dm=v;return D}function W(x,U){var R=0,N=x.length;while(R!=N&&x[R]!=U)R+=2;
return R==N?-1:R}function C(x,R){if(R==x.length-2){x.pop();x.pop()}else{x[R+1]=x.pop();x[R]=x.pop()}}j.fD.aqr=function(x,U,N,m,f){var c=new Uint32Array(f*4400),q=[];
for(var R=0;R<f;R++)q.push([]);for(var D=0;D<N;D++)for(var z=0;z<U;z++){var R=D*U+z,_=R<<2,v=m[R],o=0,y=x[_]>>>4,k=x[_+1]>>>4,S=x[_+2]>>>4;
c[v*4400+(y<<8|k<<4|S)]++;c[v*4400+4096]++;c[v*4400+4100+(y<<4|k)]++;c[v*4400+4360+y]++;if(z!=0&&(o=m[R-1])!=v&&W(q[v],o)==-1){q[v].push(o,0);
q[o].push(v,0)}if(D!=0&&(o=m[R-U])!=v&&W(q[v],o)==-1){q[v].push(o,0);q[o].push(v,0)}}for(var R=0;R<f;
R++){var S=q[R];for(var L=0;L<S.length;L+=2)S[L+1]=I(c,R,S[L])}return[c,q]};function a(x,U,N,m){var f=j.U(N);
for(var R=0;R<m;R++){var c=x[R];if(c==0||c==255)f[U[R]]=2-(c>>>7)}return f}j.fD.aat=function(x,U,N,m,f,c,D){var z=U*N,_=D[0],q=D[1],v=new UnionFind(m),o=a(f,x,m,z),y=-1,k=!0,S=0;
for(var R=0;R<m;R++)if(o[R]==1){if(y==-1)y=R;else v.link(R,y)}if(y==-1){for(var R=0;R<z;R++)c[R]=f[R]==255?255:0;
return}while(k){while(k){k=!1;for(var R=0;R<m;R++){if(o[R]==0){var L=B(q[R]);if(o[L]==1){o[R]=o[L];k=!0;
v.link(R,L)}}}}k=!0;S=0;while(k){k=!1;for(var R=0;R<m;R++){if(o[R]==0){var L=B(q[R]);if(o[L]==0){var X=R*4400,s=L*4400;
for(var M=0;M<4400;M+=2){_[X+M]+=_[s+M];_[X+M+1]+=_[s+M+1]}$(q,_,R,L);S++;o[L]=3;k=!0;v.link(R,L)}}}}k=S!=0}var V=v.find(y);
for(var R=0;R<m;R++)o[R]=v.find(R)==V?255:0;for(var R=0;R<z;R++){c[R]=o[x[R]]}for(var R=0;R<z;R++){var L=f[R];
if(L==0||L==255)c[R]=L}};function B(x){var U=0,N=0,m=x.length;for(var f=0;f<m;f+=2){var c=x[f+1];if(c>N){N=c;
U=f}}return x[U]}function $(q,x,U,N){var m=q[U],f=q[N];C(m,W(m,N));C(f,W(f,U));for(var R=0;R<f.length;
R+=2){var c=f[R],D=q[c];C(D,W(D,N));if(W(D,U)==-1){D.push(U,0);m.push(c,0)}}for(var R=0;R<m.length;R+=2){var c=m[R],D=q[c],z=I(x,U,c);
m[R+1]=z;D[W(D,U)+1]=z}}function I(x,U,N){var m=0,f=4096,c=U*4400,D=N*4400;for(var z=0;z<16;z++){if(x[c+4360+z]==0||x[D+4360+z]==0)continue;
for(var _=0;_<16;_++){var v=z<<4|_;if(x[c+4100+v]==0||x[D+4100+v]==0)continue;var o=c+(v<<4),y=D+(v<<4);
for(var R=0;R<16;R++)m+=Math.sqrt(x[o+R]*x[y+R])}}var k=m/Math.sqrt(x[c+f]*x[D+f]);return~~(999.99999*k)}return Z}();
var gO=function(){function n(){this.P=0;this.Fe=0;this.$K={};this.vO=[];this.Yz=1e5;this.Rh=1e5;this.q0=-1;
this.Gk=-1;this.color=0}function q(eR){this.yO=eR;this.nd=new Array(eR);this.kr=new Array(eR*6);this.arH=0;
this.jI=new Array(eR*2);this.alpha=new Array(eR);this.d2=new Array(eR);this.ME=new Array(eR)}function p(T,i,H,Z){function w(I,x,T,i){return T[i*x+I]}function d(R){var D=T.length;
while(R<D&&T[R]==0)R++;return R<D?R:-1}function O(I,x,D){for(var R=2;R<5;R++){var z=0;for(var _=-R+1;
_<=R-1;_++){z+=w(I+_,x+R-1,T,i)==D?1:-1;z+=w(I+R-1,x+_-1,T,i)==D?1:-1;z+=w(I+_-1,x-R,T,i)==D?1:-1;z+=w(I-R,x+_,T,i)==D?1:-1}if(z>0)return 1;
else if(z<0)return 0}return 0}function W(D,B){var $=new n,I=D,x=B,z=0,_=1,v;$.color=T[B*i+D];$.sign=w(D,B,T,i)==$.color?"+":"-";
while(1){$.vO.push(I,x);if(I>$.q0)$.q0=I;if(I<$.Yz)$.Yz=I;if(x>$.Gk)$.Gk=x;if(x<$.Rh)$.Rh=x;$.Fe++;I+=z;
x+=_;$.P-=I*_;if(I==D&&x==B)break;var o=w(I+(z+_-1>>1),x+(_-z-1>>1),T,i)==$.color,y=w(I+(z-_-1>>1),x+(_+z-1>>1),T,i)==$.color;
if(y&&!o){if(Z.$e=="right"||Z.$e=="black"&&$.sign=="+"||Z.$e=="white"&&$.sign=="-"||Z.$e=="majority"&&O(I,x,$.color)||Z.$e=="minority"&&!O(I,x,$.color)){v=z;
z=-_;_=v}else{v=z;z=_;_=-v}}else if(y){v=z;z=-_;_=v}else if(!o){v=z;z=_;_=-v}}return $}var C=0,a=[];
while(!0){var C=d(C);if(C==-1)break;var B=Math.floor(C/i),$=W(C-B*i,B);for(var R=0;R<$.vO.length-2;R+=2){var I=$.vO[R],x=$.vO[R+1],U=x*i+I;
if(I==$.vO[R+2]&&x+1==$.vO[R+3]&&T[U]!=0)gO.fill(U,T,i,0)}if($.P>Z.ahi)a.push($)}for(var R=0;R<a.length;
R++)a[R].parent=-1;var N=Date.now();for(var R=1;R<a.length;R++){var m=a[R];for(var f=R-1;f>=0;f--){var c=a[f];
if(m.Yz<c.Yz||m.q0>c.q0||m.Rh<c.Rh||m.Gk>c.Gk)continue;if(!gO.aqP(c.vO,m.vO[0]+.5,m.vO[1]+.5))continue;
m.parent=f;break}}return a}function E(T,i){function H(z,_,v,o,y){this.x=z;this.y=_;this.NQ=v;this.BS=o;
this.p5=y}function Z(z,eR){return(eR+z)%eR}function w(z,_,v,o){return z*o-v*_}function d(z,_,v,o){return z*v+_*o}function O(z,_,v){if(z<=v)return z<=_&&_<v;
else return z<=_||_<v}function W(z,_,v){var o=0;o+=_*z[0]*_;o+=_*z[1]*v;o+=_*z[2];o+=v*z[3]*_;o+=v*z[4]*v;
o+=v*z[5];o+=z[6]*_;o+=z[7]*v;o+=z[8];return o}function C(z,_,v){return _+z*(v-_)}function a(z,_,v,o){var y=Math.sign(v-z),k=-Math.sign(o-_);
return y*(v-z)-k*(o-_)}function B(z,_){return Math.sqrt(z*z+_*_)}function $(z,_,v,o,y){var k=1-z;return k*k*k*_+3*(k*k*z)*v+3*(z*z*k)*o+z*z*z*y}function I(z,_,v,o,y,k,S,L){var X=w(z,_,S,L),s=w(v,o,S,L),M=w(y,k,S,L),V=X-2*s+M,l=-2*X+2*s,e=X,Y=l*l-4*V*e;
if(V==0||Y<0)return-1;var J=Math.sqrt(Y),G=(-l+J)/(2*V),F=(-l-J)/(2*V);if(G>=0&&G<=1)return G;else if(F>=0&&F<=1)return F;
else return-1}function x(D){var R,z,_;D.ei=D.vO[0];D.aeH=D.vO[1];D.Lu=[];var v=D.Lu;v.push(new H(0,0,0,0,0));
for(R=0;R<D.Fe;R++){z=D.vO[R<<1]-D.ei;_=D.vO[(R<<1)+1]-D.aeH;v.push(new H(v[R].x+z,v[R].y+_,v[R].NQ+z*_,v[R].BS+z*z,v[R].p5+_*_))}}function U(D){var eR=D.Fe,z=D.vO,_,v=new Array(eR),o=new Array(eR),y=new Array(4),k,S,L,X,s,M,V,l,e,Y,J,R,G,F,b,h,bj,i4,t=0;
D.lz=new Array(eR);for(R=eR-1;R>=0;R--){if(z[R<<1]!=z[t<<1]&&z[(R<<1)+1]!=z[(t<<1)+1])t=R+1;o[R]=t}for(R=eR-1;
R>=0;R--){var aG=Z(R+1,eR)<<1;y[0]=y[1]=y[2]=y[3]=0;_=(3+3*(z[aG]-z[R<<1])+(z[aG+1]-z[(R<<1)+1]))/2;
y[_]++;k=0;S=0;L=0;X=0;t=o[R];F=R;while(1){J=0;_=(3+3*Math.sign(z[t*2]-z[F*2])+Math.sign(z[t*2+1]-z[F*2+1]))/2;
y[_]++;if(y[0]&&y[1]&&y[2]&&y[3]){v[R]=F;J=1;break}e=z[t*2]-z[R*2];Y=z[t*2+1]-z[R*2+1];if(w(k,S,e,Y)<0||w(L,X,e,Y)>0){break}if(Math.abs(e)<=1&&Math.abs(Y)<=1){}else{s=e+(Y>=0&&(Y>0||e<0)?1:-1);
M=Y+(e<=0&&(e<0||Y<0)?1:-1);if(w(k,S,s,M)>=0){k=s;S=M}s=e+(Y<=0&&(Y<0||e<0)?1:-1);M=Y+(e>=0&&(e>0||Y<0)?1:-1);
if(w(L,X,s,M)<=0){L=s;X=M}}F=t;t=o[F];if(!O(t,R,F)){break}}if(J==0){V=Math.sign(z[t*2]-z[F*2]);l=Math.sign(z[t*2+1]-z[F*2+1]);
e=z[F*2]-z[R*2];Y=z[F*2+1]-z[R*2+1];b=w(k,S,e,Y);h=w(k,S,V,l);bj=w(L,X,e,Y);i4=w(L,X,V,l);G=1e7;if(h<0){G=Math.floor(b/-h)}if(i4>0){G=Math.min(G,Math.floor(-bj/i4))}v[R]=Z(F+G,eR)}}G=v[eR-1];
D.lz[eR-1]=G;for(R=eR-2;R>=0;R--){if(O(R+1,v[R],G)){G=v[R]}D.lz[R]=G}for(R=eR-1;O(Z(R+1,eR),G,D.lz[R]);
R--){D.lz[R]=G}}function N(D){function z(D,R,_){var eR=D.Fe,e=D.vO,Y=D.Lu,J,G,F,b,h,o,bj,i4,l,t,aG,Q,jd,bP,gz=0;
if(_>=eR){_-=eR;gz=1}if(gz==0){J=Y[_+1].x-Y[R].x;G=Y[_+1].y-Y[R].y;b=Y[_+1].BS-Y[R].BS;F=Y[_+1].NQ-Y[R].NQ;
h=Y[_+1].p5-Y[R].p5;o=_+1-R}else{J=Y[_+1].x-Y[R].x+Y[eR].x;G=Y[_+1].y-Y[R].y+Y[eR].y;b=Y[_+1].BS-Y[R].BS+Y[eR].BS;
F=Y[_+1].NQ-Y[R].NQ+Y[eR].NQ;h=Y[_+1].p5-Y[R].p5+Y[eR].p5;o=_+1-R+eR}aG=(e[R<<1]+e[_<<1])/2-e[0];Q=(e[(R<<1)+1]+e[(_<<1)+1])/2-e[1];
bP=e[_<<1]-e[R<<1];jd=-(e[(_<<1)+1]-e[(R<<1)+1]);bj=(b-2*J*aG)/o+aG*aG;i4=(F-J*Q-G*aG)/o+aG*Q;l=(h-2*G*Q)/o+Q*Q;
t=jd*jd*bj+2*jd*bP*i4+bP*bP*l;return Math.sqrt(t)}var R,_,v,o,eR=D.Fe,y=new Array(eR+1),k=new Array(eR+1),S=new Array(eR),L=new Array(eR+1),X=new Array(eR+1),s=new Array(eR+1),M,V,l;
for(R=0;R<eR;R++){l=Z(D.lz[Z(R-1,eR)]-1,eR);if(l==R){l=Z(R+1,eR)}if(l<R){S[R]=eR}else{S[R]=l}}_=1;for(R=0;
R<eR;R++){while(_<=S[R]){L[_]=R;_++}}R=0;for(_=0;R<eR;_++){X[_]=R;R=S[R]}X[_]=eR;v=_;R=eR;for(_=v;_>0;
_--){s[_]=R;R=L[R]}s[0]=0;y[0]=0;for(_=1;_<=v;_++){for(R=s[_];R<=X[_];R++){V=-1;for(o=X[_-1];o>=L[R];
o--){M=z(D,o,R)+y[o];if(V<0||M<V){k[R]=o;V=M}}y[R]=V}}D.nE=v;D.aeo=new Array(v);for(R=eR,_=v-1;R>0;_--){R=k[R];
D.aeo[_]=R}}function m(D){function z(D,R,M,S,L,fZ){var eR=D.Fe,dt=D.Lu,a9=0,l;while(M>=eR){M-=eR;a9+=1}while(R>=eR){R-=eR;
a9-=1}while(M<0){M+=eR;a9-=1}while(R<0){R+=eR;a9+=1}var bi=dt[M+1].x-dt[R].x+a9*dt[eR].x,az=dt[M+1].y-dt[R].y+a9*dt[eR].y,hd=dt[M+1].BS-dt[R].BS+a9*dt[eR].BS,aB=dt[M+1].NQ-dt[R].NQ+a9*dt[eR].NQ,cv=dt[M+1].p5-dt[R].p5+a9*dt[eR].p5,V=M+1-R+a9*eR;
S[fZ]=bi/V;S[fZ+1]=az/V;var c$=(hd-bi*bi/V)/V,cT=(aB-bi*az/V)/V,fp=(cv-az*az/V)/V,cD=(c$+fp+Math.sqrt((c$-fp)*(c$-fp)+4*cT*cT))/2;
c$-=cD;fp-=cD;if(Math.abs(c$)>=Math.abs(fp)){l=Math.sqrt(c$*c$+cT*cT);if(l!=0){L[fZ]=-cT/l;L[fZ+1]=c$/l}}else{l=Math.sqrt(fp*fp+cT*cT);
if(l!=0){L[fZ]=-fp/l;L[fZ+1]=cT/l}}if(l==0){L[fZ]=L[fZ+1]=0}}var _=D.nE,v=D.aeo,eR=D.Fe,o=D.vO,y=D.ei,k=D.aeH,S=new Array(_*2),L=new Array(_*2),X=new Array(_),s=new Array(3),R,M,V,l,G,F,b,h,bj,i4,t;
D.$K=new q(_);for(R=0;R<_;R++){M=v[Z(R+1,_)];M=Z(M-v[R],eR)+v[R];S[R<<1]=0;S[(R<<1)+1]=0;L[R<<1]=0;L[(R<<1)+1]=0;
z(D,v[R],M,S,L,R<<1)}for(R=0;R<_;R++){X[R]=[0,0,0,0,0,0,0,0,0];var e=L[R<<1]*L[R<<1]+L[(R<<1)+1]*L[(R<<1)+1],Y=1/e;
if(e!=0){s[0]=L[(R<<1)+1];s[1]=-L[R<<1];s[2]=-s[1]*S[(R<<1)+1]-s[0]*S[R<<1];for(l=0;l<3;l++){X[R][l*3+0]=s[l]*s[0]*Y;
X[R][l*3+1]=s[l]*s[1]*Y;X[R][l*3+2]=s[l]*s[2]*Y}}}var J=[0,0,0,0,0,0,0,0,0];for(R=0;R<_;R++){J[0]=J[1]=J[2]=J[3]=J[4]=J[5]=J[6]=J[7]=J[8]=J[9]=0;
var aG=o[v[R]<<1]-y,Q=o[(v[R]<<1)+1]-k,jd=0,bP=0;M=Z(R-1,_);for(l=0;l<9;l+=3){J[l+0]=X[M][l+0]+X[R][l+0];
J[l+1]=X[M][l+1]+X[R][l+1];J[l+2]=X[M][l+2]+X[R][l+2]}while(1){var gz=J[0]*J[4]-J[1]*J[3];if(gz!=0){jd=(-J[2]*J[4]+J[5]*J[0])/gz;
bP=(J[2]*J[3]-J[5]*J[0])/gz;break}if(J[0]>J[4]){s[0]=-J[1];s[1]=J[0]}else if(J[4]){s[0]=-J[4];s[1]=J[3]}else{s[0]=1;
s[1]=0}var e=s[0]*s[0]+s[1]*s[1],Y=1/e;s[2]=-s[1]*Q-s[0]*aG;for(l=0;l<3;l++){J[l*3+0]+=s[l]*s[0]*Y;J[l*3+1]+=s[l]*s[1]*Y;
J[l*3+2]+=s[l]*s[2]*Y}}G=Math.abs(jd-aG);F=Math.abs(bP-Q);if(G<=.5&&F<=.5){D.$K.jI[R<<1]=jd+y;D.$K.jI[(R<<1)+1]=bP+k;
continue}b=W(J,aG,Q);bj=aG;i4=Q;if(J[0]!=0){for(t=0;t<2;t++){bP=Q-.5+t;jd=-(J[1]*bP+J[2])/J[0];G=Math.abs(jd-aG);
h=W(J,jd,bP);if(G<=.5&&h<b){b=h;bj=jd;i4=bP}}}if(J[4]!=0){for(t=0;t<2;t++){jd=aG-.5+t;bP=-(J[3]*jd+J[5])/J[4];
F=Math.abs(bP-Q);h=W(J,jd,bP);if(F<=.5&&h<b){b=h;bj=jd;i4=bP}}}for(l=0;l<2;l++){for(V=0;V<2;V++){jd=aG-.5+l;
bP=Q-.5+V;h=W(J,jd,bP);if(h<b){b=h;bj=jd;i4=bP}}}D.$K.jI[R<<1]=bj+y;D.$K.jI[(R<<1)+1]=i4+k}}function f(D){var z=D.$K.yO,_=D.$K,R,v,o,y,k,S,L,X,s;
for(R=0;R<z;R++){v=Z(R+1,z);o=Z(R+2,z);var M=_.jI[R<<1],V=_.jI[(R<<1)+1],l=_.jI[o<<1],e=_.jI[(o<<1)+1],Y=_.jI[v<<1],J=_.jI[(v<<1)+1],G=C(.5,l,Y),F=C(.5,e,J);
k=a(M,V,l,e);if(k!=0){y=w(Y-M,J-V,l-M,e-V)/k;y=Math.abs(y);S=y>1?1-1/y:0;S=S*(1/.75)}else{S=4/3}_.d2[v]=S;
var b=3*v<<1;if(S>=i.aci){_.nd[v]=0;_.kr[b+0]=_.kr[b+1]=0;_.kr[b+2]=Y;_.kr[b+3]=J;_.kr[b+4]=G;_.kr[b+5]=F}else{if(S<.55){S=.55}else if(S>1){S=1}var h=.5+.5*S;
_.nd[v]=1;_.kr[b]=C(h,M,Y);_.kr[b+1]=C(h,V,J);_.kr[b+2]=C(h,l,Y);_.kr[b+3]=C(h,e,J);_.kr[b+4]=G;_.kr[b+5]=F}_.alpha[v]=S;
_.ME[v]=.5}_.aoY=1}function c(D){function z(){this.WW=0;this.u8=0;this.R7=0;this.yH=0;this.Bu=0;this.UG=0;
this.dd=0;this.alpha=0}function _(D,R,M,f9,dO,bj,i4){var o=D.$K.yO,a6=D.$K.kr,hb=D.$K.jI;if(R==M)return 1;
var jr=R,Y=Z(R+1,o),dh=Z(jr+1,o),aB=hb[R<<1],cv=hb[(R<<1)+1],jq=hb[Y<<1],g3=hb[(Y<<1)+1],c6=bj[dh];if(c6==0)return 1;
var cd=B(aB-jq,cv-g3);for(jr=dh;jr!=M;jr=dh){var dh=Z(jr+1,o),jn=Z(jr+2,o),cV=hb[dh<<1],fM=hb[(dh<<1)+1],bE=hb[jn<<1],gU=hb[(jn<<1)+1];
if(bj[dh]!=c6)return 1;if(Math.sign(w(jq-aB,g3-cv,bE-cV,gU-fM))!=c6)return 1;if(d(jq-aB,g3-cv,bE-cV,gU-fM)<cd*B(cV-bE,fM-gU)*-.999847695156)return 1}var g6=Z(R,o)*3+2<<1,cu=Z(R+1,o)<<1,f5=Z(M,o)<<1,iP=Z(M,o)*3+2<<1,fZ=a6[g6],dt=a6[g6+1],id=hb[cu],aY=hb[cu+1],fT=hb[f5],h8=hb[f5+1],jf=a6[iP],h2=a6[iP+1],t=hb[0],aG=hb[1];
g6=M*3+2<<1;var e9=a6[g6],jt=a6[g6+1],J=i4[M]-i4[R];J-=w(e9-t,jt-aG,e9-t,jt-aG)/2;if(R>=M){J+=i4[o]}var ed=id-fZ,bZ=aY-dt,ji=fT-fZ,a4=h8-dt,eG=jf-fZ,e6=h2-dt,eH=w(ed,bZ,ji,a4),eP=w(ed,bZ,eG,e6),iE=w(ji,a4,eG,e6),aR=eH+iE-eP;
if(eP==eH)return 1;var h=iE/(iE-aR),b=eP/(eP-eH),aq=eP*h/2;if(aq==0)return 1;var gv=J/aq,G=2-Math.sqrt(4-gv/.3);
f9.u8=C(h*G,fZ,id);f9.R7=C(h*G,dt,aY);f9.yH=C(b*G,jf,fT);f9.Bu=C(b*G,h2,h8);f9.alpha=G;f9.UG=h;f9.dd=b;
id=f9.u8;aY=f9.R7;fT=f9.yH;h8=f9.Bu;f9.WW=0;for(jr=Z(R+1,o);jr!=M;jr=dh){dh=Z(jr+1,o);var fL=hb[jr<<1],hq=hb[(jr<<1)+1],cV=hb[dh<<1],fM=hb[(dh<<1)+1];
h=I(id-fZ,aY-dt,fT-id,h8-aY,jf-fT,h2-h8,cV-fL,fM-hq);if(h<-.5)return 1;var hz=$(h,fZ,id,fT,jf),cy=$(h,dt,aY,h8,h2),cd=B(cV-fL,fM-hq);
if(cd==0)return 1;var bX=w(cV-fL,fM-hq,hz-fL,cy-hq)/cd;if(Math.abs(bX)>dO)return 1;if(d(cV-fL,fM-hq,hz-fL,cy-hq)<0||d(fL-cV,hq-fM,hz-cV,cy-fM)<0){return 1}f9.WW+=bX*bX}for(jr=R;
jr!=M;jr=dh){dh=Z(jr+1,o);var g6=jr*3+2<<1,cu=dh*3+2<<1,is=a6[g6],dr=a6[g6+1],cx=a6[cu],g1=a6[cu+1];
h=I(id-fZ,aY-dt,fT-id,h8-aY,jf-fT,h2-h8,cx-is,g1-dr);if(h<-.5)return 1;var hz=$(h,fZ,id,fT,jf),cy=$(h,dt,aY,h8,h2),cd=B(cx-is,g1-dr);
if(cd==0)return 1;var bX=w(cx-is,g1-dr,hz-is,cy-dr)/cd,da=w(cx-is,g1-dr,hb[dh<<1]-is,hb[(dh<<1)+1]-dr)/cd;
da*=.75*D.$K.alpha[dh];if(da<0){bX=-bX;da=-da}if(bX<da-dO)return 1;if(bX<da){f9.WW+=(bX-da)*(bX-da)}}return 0}var v=D.$K,o=v.yO,y=v.jI,k=new Array(o+1),S=new Array(o+1),L=new Array(o+1),X=new Array(o+1),s,R,M,V,l=new z,e,Y,J,G,F,b,h,bj=new Array(o),i4=new Array(o+1);
for(R=0;R<o;R++){if(v.nd[R]=="CURVE"){var t=y[Z(R-1,o)<<1],aG=y[(Z(R-1,o)<<1)+1],Q=y[R<<1],jd=y[(R<<1)+1],bP=y[Z(R+1,o)<<1],gz=y[(Z(R+1,o)<<1)+1];
bj[R]=Math.sign(w(Q-t,jd-aG,bP-Q,gz-jd))}else{bj[R]=0}}J=0;i4[0]=0;var fZ=v.jI[0],dt=v.jI[1];for(R=0;
R<o;R++){Y=Z(R+1,o);if(v.nd[Y]=="CURVE"){G=v.alpha[Y];var a9=R*3+2<<1,bi=Y*3+2<<1,az=v.kr[a9],hd=v.kr[a9+1],aB=y[Y<<1],cv=y[(Y<<1)+1],c$=v.kr[bi],cT=v.kr[bi+1];
J+=.3*G*(4-G)*w(aB-az,cv-hd,c$-az,cT-hd)/2;J+=w(az-fZ,hd-dt,c$-fZ,cT-dt)/2}i4[R+1]=J}k[0]=-1;S[0]=0;
L[0]=0;for(M=1;M<=o;M++){k[M]=M-1;S[M]=S[M-1];L[M]=L[M-1]+1;for(R=M-2;R>=0;R--){V=_(D,R,Z(M,o),l,i.akD,bj,i4);
if(V){break}if(L[M]>L[R]+1||L[M]==L[R]+1&&S[M]>S[R]+l.WW){k[M]=R;S[M]=S[R]+l.WW;L[M]=L[R]+1;X[M]=l;l=new z}}}s=L[o];
F=new q(s);b=new Array(s);h=new Array(s);M=o;for(R=s-1;R>=0;R--){var fp=Z(M,o),cD=R*3+0<<1,f_=fp*3+0<<1;
if(k[M]==M-1){F.nd[R]=v.nd[fp];F.kr[cD]=v.kr[f_];F.kr[cD+1]=v.kr[f_+1];F.kr[cD+2]=v.kr[f_+2];F.kr[cD+3]=v.kr[f_+3];
F.kr[cD+4]=v.kr[f_+4];F.kr[cD+5]=v.kr[f_+5];F.jI[R<<1]=v.jI[fp<<1];F.jI[(R<<1)+1]=v.jI[(fp<<1)+1];F.alpha[R]=v.alpha[fp];
F.d2[R]=v.d2[fp];F.ME[R]=v.ME[fp];b[R]=h[R]=1}else{F.nd[R]="CURVE";F.kr[cD]=X[M].u8;F.kr[cD+1]=X[M].R7;
F.kr[cD+2]=X[M].yH;F.kr[cD+3]=X[M].Bu;F.kr[cD+4]=v.kr[f_+4];F.kr[cD+5]=v.kr[f_+5];F.jI[R<<1]=C(X[M].dd,v.kr[f_+4],y[fp<<1]);
F.jI[(R<<1)+1]=C(X[M].dd,v.kr[f_+5],y[(fp<<1)+1]);F.alpha[R]=X[M].alpha;F.d2[R]=X[M].alpha;b[R]=X[M].dd;
h[R]=X[M].UG}M=k[M]}for(R=0;R<s;R++){Y=Z(R+1,s);F.ME[R]=b[R]/(b[R]+h[Y])}F.aoY=1;D.$K=F}for(var R=0;
R<T.length;R++){var D=T[R];x(D);U(D);N(D);m(D);f(D);if(i.ai_)c(D)}}return{anv:p,aoX:E}}();gO.Wo=function(n,q,p,E){var T={$e:"minority",ahi:E,ai_:!0,aci:1,akD:.2},i=gO.anv(n,q,p,T);
gO.aoX(i,T);return i};gO.Jy=function(n){var q=[];for(var R=0;R<n.length;R++){var p=n[R],E=p.$K,T=["M"],i=[E.kr[(E.yO-1)*6+4],E.kr[(E.yO-1)*6+5]];
for(var H=0;H<E.yO;H++){var Z=H*6;if(E.nd[H]==1){T.push("C");for(var w=0;w<6;w++)i.push(E.kr[Z+w])}else if(E.nd[H]==0){T.push("L");
for(var w=2;w<4;w++)i.push(E.kr[Z+w])}}T.push("Z");q.push({parent:p.parent,color:p.color,path:{W:i,F:T}})}return q};
gO.a6T=function(n,q,p,E,T){function i(B){function $(R){var a="C "+(B.kr[R*3+0<<1]*q).toFixed(1)+" "+(B.kr[(R*3+0<<1)+1]*q).toFixed(1)+",";
a+=(B.kr[R*3+1<<1]*q).toFixed(1)+" "+(B.kr[(R*3+1<<1)+1]*q).toFixed(1)+",";a+=(B.kr[R*3+2<<1]*q).toFixed(1)+" "+(B.kr[(R*3+2<<1)+1]*q).toFixed(1)+" ";
return a}function I(R){var U="L "+(B.kr[R*3+1<<1]*q).toFixed(1)+" "+(B.kr[(R*3+1<<1)+1]*q).toFixed(1)+" ";
U+=(B.kr[R*3+2<<1]*q).toFixed(1)+" "+(B.kr[(R*3+2<<1)+1]*q).toFixed(1)+" ";return U}var eR=B.yO,R,x="M"+(B.kr[(eR-1)*3+2<<1]*q).toFixed(1)+" "+(B.kr[((eR-1)*3+2<<1)+1]*q).toFixed(1)+" ";
for(R=0;R<eR;R++){if(B.nd[R]==1){x+=$(R)}else if(B.nd[R]==0){x+=I(R)}}return x}var p=p*q,E=E*q,H=n.length,Z=[];
for(var R=0;R<256;R++)Z.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var w="<svg id=\"svg\" version=\"1.1\" width=\""+p+"\" height=\""+E+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var R=0;R<H;R++){var d=T[n[R].color-1].a7c.xX;if((d>>>24&255)==0)continue;w+="<path d=\"";var O=n[R].$K;
w+=i(O);var W=d>>0&255,C=d>>8&255,a=d>>16&255,d="rgb("+W+","+C+","+a+")";w+="\" fill=\""+d+"\" fill-rule=\"evenodd\"/>"}w+="</svg>";
return w};gO.aqP=function(n,q,p){var eR=n.length>>1,E,T=n[2*eR-3]-p,i=n[2*eR-2]-q,H=n[2*eR-1]-p,Z=H>T,w=0;
for(var R=0;R<eR;R++){E=i;T=H;i=n[2*R]-q;H=n[2*R+1]-p;if(T==H)continue;Z=H>T}for(var R=0;R<eR;R++){E=i;
T=H;i=n[2*R]-q;H=n[2*R+1]-p;if(T<0&&H<0)continue;if(T>0&&H>0)continue;if(E<0&&i<0)continue;if(T==H&&Math.min(E,i)<=0)return!0;
if(T==H)continue;var d=E+(i-E)*-T/(H-T);if(d==0)return!0;if(d>0)w++;if(T==0&&Z&&H>T)w--;if(T==0&&!Z&&H<T)w--;
Z=H>T}return(w&1)==1};gO.fill=function(n,q,p,E){var T=q[n],i=[n],H=0;while(H<i.length){var Z=i[H];H++;
q[Z]=E;if(q[Z-p]==T){i.push(Z-p);q[Z-p]=254}if(q[Z-1]==T){i.push(Z-1);q[Z-1]=254}if(q[Z+1]==T){i.push(Z+1);
q[Z+1]=254}if(q[Z+p]==T){i.push(Z+p);q[Z+p]=254}}};var K={};K.pb=!1;K.QU=!1;K.pF=!1;K.S=document.createElement("canvas");
K.Jm=null;K.Bz=null;K.p1=0;(function(){var n={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},q;
if(!q)q=K.S.getContext("webgl",n);if(!q)q=K.S.getContext("experimental-webgl",n);if(q){K.pb=!0;K.QU=!0;
K.Jm=q;K.Bz=q.createFramebuffer();q.bindFramebuffer(q.FRAMEBUFFER,K.Bz);q.disable(q.BLEND);q.disable(q.DEPTH_TEST);
var p=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,p);q.bufferData(q.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),q.STATIC_DRAW);
q.enableVertexAttribArray(0);q.vertexAttribPointer(0,2,q.FLOAT,!1,0,0)}}());K.a6t=function(n){n=n.replace(/\s\s+/g," ");
n=n.replace(/; /g,";");n=n.replace(/} /g,"}");n=n.replace(/ }/g,"}");n=n.replace(/{ /g,"{");n=n.replace(/ {/g,"{");
n=n.replace(/= /g,"=");n=n.replace(/ =/g,"=");n=n.replace(/\| /g,"|");n=n.replace(/ \|/g,"|");return n};
K.ark=function(n){var q=K.Jm;if(n>q.getParameter(q.MAX_TEXTURE_SIZE)){K.pb=!1;alert("Disabling WebGL")}};
K.f8=function(n,q){return new Float32Array([(n.x-q.x)/q.v,(n.y-q.y)/q.o,n.v/q.v,n.o/q.o])};K.vl=function(){return this.S};
K.zJ=function(n,q){var p=K.Jm;p.bindFramebuffer(p.FRAMEBUFFER,K.Bz);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,n.Mw,0);
p.viewport(0,0,n.v,n.o);if(q){p.enable(p.SCISSOR_TEST);p.scissor(q.x,q.y,q.v,q.o)}else p.disable(p.SCISSOR_TEST)};
K.G$=function(n,q,p){if(p)throw"error";var E=K.Jm;E.disable(E.SCISSOR_TEST);E.bindFramebuffer(E.FRAMEBUFFER,null);
E.viewport(0,0,n,q);if(p){E.enable(E.SCISSOR_TEST);E.scissor(p.x,p.y,Math.round(p.v),Math.round(p.o))}else E.disable(E.SCISSOR_TEST)};
K.clear=function(){var n=K.Jm;n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT)};K.OJ=function(n,q){if(q==null)q=0;
var p=(q>>>0&255)==0,E=(q>>>8&255)==0,T=(q>>>16&255)==0,i=(q>>>24&255)==0,H=(n>>>0&255)*(1/255),Z=(n>>>8&255)*(1/255),w=(n>>>16&255)*(1/255),d=(n>>>24&255)*(1/255),O=K.Jm;
O.colorMask(p,E,T,i);O.clearColor(H,Z,w,d);O.clear(O.COLOR_BUFFER_BIT);O.colorMask(!0,!0,!0,!0)};K.Ap=function(n,q,p,E,T){var i=q.O1(E);
if(T)i=i.O1(T);if(i.M6())return;var H=K.Jm;K.zJ(n);H.bindTexture(H.TEXTURE_2D,p.Mw);H.copyTexSubImage2D(H.TEXTURE_2D,0,i.x-E.x,i.y-E.y,i.x-q.x,i.y-q.y,i.v,i.o)};
K.nt=function(R,n,q){var p=K.iA[R];if(p==null||p.v!=n||p.o!=q){if(p)p.delete();p=new K.U$(n,q)}K.iA[R]=p;
return p};K.iA=[];K.uW=function(){this.ud=null;this.px=null};K.uW.t9=null;K.uW.prototype.KW=function(n){if(this.px)return;
this.px={};var q=K.Jm,p=this.ud,E=this.px;for(var R=0;R<n.length;R++){var T=n[R];E[T]=q.getUniformLocation(p,T)}};
K.uW.prototype.eX=function(){};K.uW.prototype.vh=function(n){var q=K.Jm;for(var R=0;R<n.length;R+=2){q.uniform1i(n[R],R>>>1);
q.activeTexture(q["TEXTURE"+(R>>>1)]);q.bindTexture(q.TEXTURE_2D,n[R+1])}q.activeTexture(q.TEXTURE0)};
K.uW.prototype.xI=function(n,q){var p=K.Jm,E=p.createShader(p.FRAGMENT_SHADER);p.shaderSource(E,n);p.compileShader(E);
if(!p.getShaderParameter(E,p.COMPILE_STATUS))console.log(p.getShaderInfoLog(E));var T=p.createShader(p.VERTEX_SHADER);
p.shaderSource(T,q);p.compileShader(T);if(!p.getShaderParameter(T,p.COMPILE_STATUS))console.log(p.getShaderInfoLog(T));
var i=p.createProgram();p.attachShader(i,T);p.attachShader(i,E);p.linkProgram(i);if(!p.getProgramParameter(i,p.LINK_STATUS))console.log("Could not initialise shaders");
this.ud=i};K.uW.prototype.nv=function(){if(K.uW.t9!=this){K.Jm.useProgram(this.ud);K.uW.t9=this}};K.QS=function(n,q){K.GV++;
K.p1+=n*q;if(K.pF)console.log("GL.Channels instances: "+K.GV+", memory: "+K.p1);var p=K.Jm;this.v=n;
this.o=q;this.Mw=p.createTexture();this.j1=null;this.YU(this.Mw,n,q)};K.QS.prototype.YU=function(n,q,p){var E=K.Jm;
E.bindTexture(E.TEXTURE_2D,n);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE);
E.texImage2D(E.TEXTURE_2D,0,E.ALPHA,q,p,0,E.ALPHA,E.UNSIGNED_BYTE,null)};K.QS.prototype.set=function(n){var q=K.Jm;
q.bindTexture(q.TEXTURE_2D,this.Mw);q.pixelStorei(q.UNPACK_ALIGNMENT,1);q.texImage2D(q.TEXTURE_2D,0,q.ALPHA,this.v,this.o,0,q.ALPHA,q.UNSIGNED_BYTE,n);
q.pixelStorei(q.UNPACK_ALIGNMENT,4)};K.QS.prototype.delete=function(){var n=K.Jm;if(this.Mw){n.deleteTexture(this.Mw);
K.GV--;K.p1-=this.v*this.o}if(K.pF)if(K.pF)console.log("GL.Channels instances: "+K.GV+", memory: "+K.p1*4)};
K.GV=0;K.U$=function(n,q,p){if(p==null)p=!1;K.GV++;K.p1+=n*q*4;if(K.pF)console.log("GL.Channels instances: "+K.GV+", memory: "+K.p1);
var E=K.Jm;this.ana=p;this.v=n;this.o=q;this.Mw=E.createTexture();this.j1=null;this.YU(this.Mw,n,q)};
K.U$.prototype.set=function(n,q){var p=K.Jm;p.disable(p.SCISSOR_TEST);p.bindTexture(p.TEXTURE_2D,this.Mw);
if(n==null||n instanceof Uint8Array){var E=this.v*this.o;if(q==null||q.P()*10>E)p.texImage2D(p.TEXTURE_2D,0,p.RGBA,this.v,this.o,0,p.RGBA,p.UNSIGNED_BYTE,n);
else{var T=j.U(q.P()*4);j.hk(n,new eL(0,0,this.v,this.o),T,q);p.texSubImage2D(p.TEXTURE_2D,0,q.x,q.y,q.v,q.o,p.RGBA,p.UNSIGNED_BYTE,T)}}else p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,n)};
K.U$.prototype.get=function(n){var q=K.Jm;K.zJ(this);q.readPixels(0,0,this.v,this.o,q.RGBA,q.UNSIGNED_BYTE,n)};
K.U$.prototype.d5=function(n){if(n.M6())return;var q=K.Jm;if(this.j1==null){this.j1=q.createTexture();
this.YU(this.j1,this.v,this.o);K.GV++;K.p1+=this.v*this.o*4}q.bindFramebuffer(q.FRAMEBUFFER,K.Bz);q.bindTexture(q.TEXTURE_2D,this.j1);
if(n){var p=Math.max(n.x,0),E=Math.max(n.y,0);q.copyTexSubImage2D(q.TEXTURE_2D,0,p,E,p,E,n.v,n.o)}else q.copyTexImage2D(q.TEXTURE_2D,0,q.RGBA,0,0,this.v,this.o,0)};
K.U$.prototype.YU=function(n,q,p){var E=K.Jm;E.bindTexture(E.TEXTURE_2D,n);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.ana?E.LINEAR:E.NEAREST);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE);E.texImage2D(E.TEXTURE_2D,0,E.RGBA,q,p,0,E.RGBA,E.UNSIGNED_BYTE,null)};
K.U$.prototype.delete=function(){var n=K.Jm;if(this.Mw){n.deleteTexture(this.Mw);K.GV--;K.p1-=this.v*this.o*4}if(this.j1){n.deleteTexture(this.j1);
K.GV--;K.p1-=this.v*this.o*4}if(K.pF)if(K.pF)console.log("GL.Channels instances: "+K.GV+", memory: "+K.p1)};
K.U$.prototype.clone=function(){var n=K.Jm,q=new K.U$(this.v,this.o);K.zJ(this);n.bindTexture(n.TEXTURE_2D,q.Mw);
n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,this.v,this.o,0);return q};K.hz={amD:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ahB:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",bk:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Rx:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",G9:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ay:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",hR:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",qv:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",af4:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Ol:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aaj:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",NK:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",OA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",JF:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",G5:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",gz:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",PW:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",RF:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",IG:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",WZ:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
K.WX={fR:{},He:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
K.WX.ZP=function(n,q){var p=iJ.ub,E=[p.Na,p.dP,p.WA,p.ef,p.tJ,p.wZ,p.b6,p.YO].indexOf(n.type),T=K.WX.fR[n.type];
if(T==null)T=K.WX.fR[n.type]=new K.fR[E];T.nv();T.eX(q,n);K.Jm.drawArrays(K.Jm.TRIANGLES,0,6)};K.fR=[];
K.fR[0]=function(){K.uW.call(this);this.Oh={};var n="\t\t\tprecision mediump float;\t\t\t"+K.hz.hR+"\t\t\t"+K.hz.bk+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[0].prototype=new K.uW;K.fR[0].prototype.eX=function(n,q){var p={_:q.J_,q:q.QP,X:q.pz,jS:j.U(q.J_.length)},E=p._.length;
if(this.Oh["m"+E]==null){this.Oh["m"+E]={a7S:new K.U$(E,1),OT:j.U(E*4)}}var T=this.Oh["m"+E];j.c2(p,T.OT,0);
var i=T.a7S;i.set(T.OT);this.KW(["source","map","toGray","presLum"]);var H=K.Jm,Z=this.px;H.uniform1f(Z.toGray,q.Ps?1:0);
H.uniform1f(Z.presLum,q.M1?1:0);this.vh([Z.source,n,Z.map,i.Mw])};K.fR[1]=function(){K.uW.call(this);
this.abV=new K.U$(256,1);this.afI=j.U(256*4);var n="\t\t\t\tprecision mediump float;\t\t\t\t"+K.hz.gz+"\t\t\t\t"+K.hz.JF+"\t\t\t\t"+K.hz.G5+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[1].prototype=new K.uW;K.fR[1].prototype.eX=function(n,q){j.c2({_:q.a28,q:q.Rc,X:q.ahq,jS:j.U(256)},this.afI);
this.abV.set(this.afI);this.KW(["source","map","cfa","cfb","colorize"]);var p=K.Jm,E=this.px;p.uniform1f(E.cfa,q.aio);
p.uniform1f(E.cfb,q.cd);p.uniform1i(E.colorize,q.abb);this.vh([E.source,n,E.map,this.abV.Mw])};K.fR[2]=function(){K.uW.call(this);
var n="\t\t\tprecision mediump float;\t\t\t"+K.hz.gz+"\t\t\t"+K.hz.PW+"\t\t\t"+K.hz.RF+"\t\t\t"+K.hz.JF+"\t\t\t"+K.hz.G5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[2].prototype=new K.uW;K.fR[2].prototype.eX=function(n,q){this.KW(["source","vib","sat"]);
var p=K.Jm,E=this.px;p.uniform1f(E.vib,q.sQ[0]/100);p.uniform1f(E.sat,q.sQ[1]/100);this.vh([E.source,n])};
K.fR[3]=function(){K.uW.call(this);var n="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[3].prototype=new K.uW;K.fR[3].prototype.eX=function(n,q){this.KW(["source","trf"]);
var p=K.Jm,E=this.px;p.uniformMatrix4fv(E.trf,!1,new Float32Array(j.JV.O5(q.Oc)));this.vh([E.source,n])};
K.fR[4]=function(){K.uW.call(this);var n="\t\t\tprecision mediump float; \t\t\t"+K.hz.IG+"\t\t\t"+K.hz.gz+"\t\t\t"+K.hz.G5+"\t\t\t"+K.hz.JF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[4].prototype=new K.uW;K.fR[4].prototype.eX=function(n,q){this.KW(["source","mnm","mxm","shift","lim"]);
var p=K.Jm,E=this.px;p.uniform3fv(E.mnm,new Float32Array(q.Vm));p.uniform3fv(E.mxm,new Float32Array(q.LN));
p.uniform3fv(E.shift,new Float32Array(q.shift));p.uniform1f(E.lim,q.O6);this.vh([E.source,n])};K.fR[5]=function(){K.uW.call(this);
var n="\t\t\tprecision mediump float;\t\t\t"+K.hz.bk+"\t\t\t"+K.hz.Rx+"\t\t\t"+K.hz.G9+"\t\t\t"+K.hz.JF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[5].prototype=new K.uW;K.fR[5].prototype.eX=function(n,q){this.KW(["source","cfs"]);
var p=K.Jm,E=this.px;p.uniform3fv(E.cfs,q.afz);this.vh([E.source,n])};K.fR[6]=function(){K.uW.call(this);
var n="\t\t\tprecision mediump float;\t\t\t"+K.hz.gz+"\t\t\t"+K.hz.Rx+"\t\t\t"+K.hz.G9+"\t\t\t"+K.hz.JF+"\t\t\t"+K.hz.G5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[6].prototype=new K.uW;K.fR[6].prototype.eX=function(n,q){this.KW(["source","wght","prms"]);
var p=K.Jm,E=this.px,T=[q.Hm,q.aqv,q.hR,q.a9I,q.ei,q.aiZ];p.uniform1fv(E.wght,new Float32Array(q.akj));
p.uniform1fv(E.prms,new Float32Array(T));this.vh([E.source,n])};K.fR[7]=function(){K.uW.call(this);this.gJ={};
var n="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.xI(n,K.WX.He)};K.fR[7].prototype=new K.uW;K.fR[7].prototype.eX=function(n,q){this.KW(["source","lut","N"]);
var p=K.Jm,E=this.px,T=q.UH,i=q.hc;if(this.gJ["m"+T]==null)this.gJ["m"+T]=new K.U$(T,T*T);var H=this.gJ["m"+T];
H.set(i);p.uniform1f(E.N,T);this.vh([E.source,n,E.lut,H.Mw]);p.activeTexture(p.TEXTURE1);var Z=p.LINEAR;
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,Z);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,Z);
p.activeTexture(p.TEXTURE0)};K.filter={Ju:{},He:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",arA:0,ajd:1,VR:2,a72:3,fz:4};
K.filter.ZP=function(n,q){var p=K.filter,E;if(n.type==K.filter.fz){var T=K.Ju[n.type];if(T==0)T=K.Ju[n.type]={};
var i=n.IQ.join(",");E=T[i];if(E==null)E=T[i]=new(K.filter.akY(n.IQ))}else{E=K.filter.Ju[n.type];if(E==null)E=K.filter.Ju[n.type]=new K.Ju[n.type]}E.nv();
E.eX(q,n);K.Jm.drawArrays(K.Jm.TRIANGLES,0,6)};K.Ju=[0,0,0,0,0,0,0,0,0,0,0,0];K.filter.akY=function(n){console.log(n);
var q=n[0],p=n[1],E=function(){K.uW.call(this);var T="\t\t\t\tprecision highp float;\t\t\t\tuniform sampler2D source;\t\t\t\tuniform vec2 iwh;\t\t\t\tuniform float rrad;\t\t\t\tuniform float tr;\t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\tconst float PRC="+n[2]+".0; \t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\t\tfloat rad = rrad; \t\t\t\t\tif(rad!=0.0) {\t\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][p]+"); vec4 cnt = vec4(0.0);\t\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][q]+") continue; \t\t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][p]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\tsclr = "+(p==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t\t}\t\t\t\t\tgl_FragColor=sclr; \t\t\t\t}";
this.xI(T,K.WX.He)};E.prototype=new K.uW;E.prototype.eX=function(T,i){this.KW(["source","iwh","rrad","tr"]);
var H=K.Jm,Z=this.px;H.uniform2fv(Z.iwh,i.ZC);H.uniform1f(Z.rrad,i.Lv);H.uniform1f(Z.tr,i.ai$);this.vh([Z.source,T]);
var w=H.LINEAR;w=H.NEAREST;H.activeTexture(H.TEXTURE0);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,w);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,w);H.activeTexture(H.TEXTURE0)};return E};K.Ju[3]=function(){K.uW.call(this);
var n="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.xI(P.HT(n),P.HT(K.filter.He))};K.Ju[3].prototype=new K.uW;K.Ju[3].prototype.eX=function(n,q){this.KW("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var p=K.Jm,E=this.px;p.uniform2fv(E.iwh,q.ZC);p.uniform1f(E.tdep,q.al7);p.uniform1f(E.rrad,q.Lv);p.uniform2fv(E.spec,q.asD);
p.uniform3fv(E.nois,q.amX);p.uniformMatrix4fv(E.poly0,!1,q.a8I);p.uniformMatrix4fv(E.poly1,!1,q.a8A);
this.vh([E.source,n]);var T=p.LINEAR;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,T);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,T);p.activeTexture(p.TEXTURE0)};K.Ju[0]=function(){K.uW.call(this);
var n="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.xI(P.HT(n),P.HT(K.filter.He))};K.Ju[0].prototype=new K.uW;K.Ju[0].prototype.eX=function(n,q){this.KW(["source","iwh","ld","shine"]);
var p=K.Jm,E=this.px;p.uniform2fv(E.iwh,q.ZC);p.uniform3fv(E.ld,q.ah1);p.uniform1f(E.shine,q.a2T);this.vh([E.source,n,E.tang,q.Kh])};
K.Ju[1]=function(){K.uW.call(this);var n="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.xI(P.HT(n),P.HT(K.filter.He))};K.Ju[1].prototype=new K.uW;K.Ju[1].prototype.eX=function(n,q){this.KW(["source","iwh","isc","bristle"]);
var p=K.Jm,E=this.px;p.uniform2fv(E.iwh,q.ZC);p.uniform1f(E.isc,q.ahU);p.uniform1f(E.bristle,q.aaX);
this.vh([E.source,n])};K.Ju[2]=function(){K.uW.call(this);var n="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.xI(P.HT(n),P.HT(K.filter.He))};K.Ju[2].prototype=new K.uW;K.Ju[2].prototype.eX=function(n,q){this.KW(["source","tang","iwh","sigma","expo"]);
var p=K.Jm,E=this.px;p.uniform2fv(E.iwh,q.ZC);p.uniform1f(E.sigma,q.alx);p.uniform1f(E.expo,q.ao$);this.vh([E.source,n,E.tang,q.Kh]);
var T=p.LINEAR;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,T);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,T);
p.activeTexture(p.TEXTURE0)};K.a={};K.a.Hr={};K.a.d7=null;K.a.Xs=null;K.a.UY=null;K.a.qP=function(n,q,p,E,T,i,H,Z){if(Z==null)Z=cU.k0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(n)==-1){H=H*Z.fill;Z.fill=1;Z.style=!1}var w=n+(Z.rU?"1":"");
if(K.a.Hr[w]==null)K.a.Hr[w]=new K.a.ak(n,Z.rU!=null);var d=K.a.Hr[w],O=p.O1(T).O1(i);O.offset(-T.x,-T.y);
if(O.M6())return;var W=K.Jm;K.zJ(E,O);E.d5(O);d.nv();d.eX(q.Mw,E.j1,K.f8(p,T),H,Z.fill,Z.style?1:0,Z.fC?1:0,Z.rU?new Float32Array(Z.rU):null);
W.drawArrays(W.TRIANGLES,0,6)};K.a.OS=function(n,q,p,E,T,i,H,Z,w,d,O){if(K.a.d7==null)K.a.d7=new K.a.K7(!0,!0);
if(K.a.Xs==null)K.a.Xs=new K.a.K7(!0,!1);if(K.a.UY==null)K.a.UY=new K.a.K7(!1,!0);var W=d?1:0,C=n?T?K.a.d7:K.a.Xs:K.a.UY,a=new Float32Array(O?[O[0],O[1],O[2],1]:[1,1,1,1]),B=q?q.O1(E).O1(Z):E.O1(Z);
if(B.M6())return;B.offset(-E.x,-E.y);var $=K.Jm;K.zJ(p,B);p.d5(B);C.nv();if(n==null)C.eX(null,p.j1,T.Mw,K.f8(E,E),K.f8(i,E),H/255,w,W,a);
else if(T)C.eX(n.Mw,p.j1,T.Mw,K.f8(q,E),K.f8(i,E),H/255,w,W,a);else C.eX(n.Mw,p.j1,null,K.f8(q,E),null,H/255,w,W,a);
$.drawArrays($.TRIANGLES,0,6)};K.a.ad5=function(n,q,p){if(K.a.afw==null)K.a.afw=new K.a.Y6;var E=K.a.afw,T=new eL(0,0,n.v,n.o),i=K.Jm;
K.zJ(q);q.d5(T);E.nv();E.eX(T,n.Mw,q.j1,p.Mw);i.drawArrays(i.TRIANGLES,0,6)};K.a.Pb={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
K.a.ak=function(n,q){K.uW.call(this);var p="\t\t\tprecision mediump float;\t\t\t"+K.hz.bk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(q?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+K.hz.Ay+"\t\t\t"+K.hz.hR+"\t\t\t"+K.hz.qv+"\t\t\t"+K.hz.amD+"\t\t\t"+K.hz.ahB+"\t\t\t"+K.hz.af4+"\t\t\t"+K.hz.Ol+"\t\t\t"+K.hz.aaj+"\t\t\t"+K.hz.NK+"\t\t\t"+K.hz.hash+"\t\t\t"+(q?K.hz.WZ:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+K.a.Pb[n]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",E="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(n=="diss")p+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else p+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(q?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.xI(p,E)};K.a.ak.prototype=new K.uW;K.a.ak.prototype.eX=function(n,q,p,E,T,i,H,Z){this.KW("srct alpha source target fill style keepBGA blIf".split(" "));
var w=K.Jm,d=this.px;w.uniform4fv(d.srct,p);w.uniform1f(d.alpha,E);w.uniform1f(d.fill,T);w.uniform1f(d.style,i);
w.uniform1f(d.keepBGA,H);if(Z)w.uniform4fv(d.blIf,Z);this.vh([d.source,n,d.target,q])};K.a.K7=function(n,q){K.uW.call(this);
this.a8n=n;this.Ph=q;var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+K.hz.OA+"\t\t\t"+K.hz.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(n?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(q?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(n?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(q?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",E="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.xI(p,E)};K.a.K7.prototype=new K.uW;K.a.K7.prototype.eX=function(n,q,p,E,T,i,H,Z,w){if(this.Ph)this.KW("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.KW("srct awg dissv source target cswitch".split(" "));var d=K.Jm,O=this.px;d.uniform4fv(O.srct,E);
if(this.Ph){d.uniform4fv(O.wrct,T);d.uniform1f(O.wcolor,i)}else{d.uniform4fv(O.cswitch,w)}d.uniform1f(O.awg,H);
d.uniform1f(O.dissv,Z);var W=[O.source,n,O.target,q];if(this.Ph)W.push(O.weight,p);this.vh(W)};K.a.Y6=function(){K.uW.call(this);
var n="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.xI(n,q)};K.a.Y6.prototype=new K.uW;K.a.Y6.prototype.eX=function(n,q,p,E){this.KW(["rct","prev","next","alpha"]);
var T=K.Jm,i=this.px;T.uniform4fv(i.rct,[0,0,1,1]);this.vh([i.prev,q,i.next,p,i.alpha,E])};var A={};
A.pk=function(n,q,p){this.name=n;this.id=q;this.Q0=null;if(p!=null)this.wK=p};A.pk.prototype.JZ=function(n,q,p,E,T){};
A.pk.prototype.enable=function(n,q,p,E,T,i){var H=new ea(P.E.T,!0);H.data={e:P.C.ru,MN:"default"};q.K(H)};
A.pk.prototype.disable=function(n,q,p,E,T){};A.pk.prototype.ag=function(n,q,p,E,T){return!1};A.pk.prototype.LA=function(n,q,p,E,T){};
A.pk.prototype.EP=function(n,q,p,E,T){};A.pk.prototype.Tw=function(n,q,p,E,T){};A.pk.prototype.HO=function(n,q,p,E,T,i){};
A.pk.prototype.J7=function(n,q,p,E,T){};A.pk.prototype.IY=function(n,q,p,E){};A.pk.prototype.bM=function(n,q,p,E){};
A.pk.prototype.NJ=function(n,q){};A.pk.prototype.iP=function(n,q){};A.pk.prototype.em=function(n,q,p,E,T){};
A.pk.prototype.ts=function(n,q){};A.pk.prototype.Ou=function(n,q){return!1};A.pk.prototype.tU=function(n,q){return!1};
A.pk.prototype.vo=function(){return!1};A.pk.prototype.vy=function(n,q){return!0};A.pk.prototype.op=function(){return null};
A.pk.prototype.Jt=function(n,q,p){};A.pk.prototype.t8=function(){return!1};A.pk.prototype.X9=function(n,q,p,E){};
A.pk.prototype.track=function(n){var q=new ea(P.E.Gi,!0);q.data=n;n.TB=!0;this.Q0.K(q)};A.pk.wY=function(n,q,p,E,T){A.pk.mj(n,q,[fE.get([12,41]).charAt(0)+": "+j.L6.Kc(p.v,E.xm,T,E.v,!0),fE.get([12,42]).charAt(0)+": "+j.L6.Kc(p.o,E.xm,T,E.o,!0)],E)};
A.pk.mj=function(n,q,p,E){var T=14,i=130,H=p.length*17+8,Z=new eL(n,q-H,i,H),w=A.pk.Gp;if(w==null)w=A.pk.Gp=document.createElement("canvas");
w.width=i;w.height=H;var d=w.getContext("2d");d.fillStyle="rgba(0,0,1,1)";d.fillRect(0,0,i,H);d.font=T+"px monospace";
d.fillStyle="rgba(255,255,255,1)";for(var R=0;R<p.length;R++)d.fillText(p[R],6,(R+1)*17);var O=[d.getImageData(0,0,i,H).data,Z.clone()];
if(E)E.H.eW=[O];return O};A.pk.Gp=null;A.o$="0";A.a2M="0.5";A.L7="1";A.ahQ="2";A.aoC="3";A.KA="5";A.ao1="6";
A.apj="7";A.q9="8";A.AB="9";A.m$="10";A.mr="11";A.x7="12";A.CJ="13";A.r2="14";A.Hf="16";A.FQ="18";A.Ys="19";
A.zI="20";A.nl="21";A.gA="22";A.yR="23";A.zY="24";A.iY="25";A.H2="27";A.pu="31";A.akv="32";A.a9H="34";
A.a32="35";A.IS="36";A.l8="37";A.gq="38";A.hi="39";A.wR="40";A.fr="41";A.W9="42";A.e4="43";A.cY="47";
A.dq="48";A.nk="51";A.fx="52";A.a9="54";A._a="55";A.R5="56";A.X7="57";A.qh="58";A.NZ="59";A.a34="60";
A.$v="61";A.Uv="100";A.zi="101";A.CI="102";A.T5="103";A.oF="120";A.C7="230";A.ag6="231";A.e$="232";A.iq="233";
A.FC="234";A.Yo="235";A._h="236";A.Fb=function(n){var q=A.$h,p=null;for(var E in q)if(q[E][1].indexOf(n[1].classID)!=-1)p=E;
return p};A.$h={};A.$h[A.yR]=["tools/brush",["PbTl"]];A.$h[A.zY]=["tools/pencil",["PcTl"]];A.$h[A.pu]=["tools/eraser",["ErTl"]];
A.o8=function(n,q,p){A.pk.call(this,n,q,p);this.US={brush:n?gV.y$():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.BW=null;this.$s=null;this.dG=null;this.jz=null;this.tN=null;this.pC=null;this.Wq=null;this.un=null;
this.dC=null;this.LI=null;this.dI=null;this.QQ=null;this.Nu=null;this.WD=1;this.IA=!1;this.wq=null;this.caller=null};
A.o8.prototype=new A.pk;A.o8.prototype.tU=function(n,q){return n.fk&&q.r(aj.$t)};A.o8.prototype.EP=function(n,q,p,E,T){if(E.r(aj.sL)){this.pC=new fc(T.x,T.y);
var i=this.US.brush.Brsh.v,H=i.Dmtr.v.val,Z=i.Hrdn!=null?i.Hrdn.v.val:-1;this.Wq=[H,Z,!0,JSON.parse(JSON.stringify(this.US.brush)),T];
this.Pl(p)}};A.o8.prototype.$p=function(n,q,p){var E=this.Wq,T=n.c.n,i=p.x-E[4].x,H=p.y-E[4].y,Z=E[0],w=E[1],d=Math.abs(i)>Math.abs(H);
if(d&&E[2]){var O=Math.round(2*i/T);Z+=O;p.x-=i-.5*O*T}if(!d&&!E[2]&&w!=-1){var O=Math.round(.25*H);
w+=O;p.y-=H-4*O}Z=Math.max(1,Z);w=E[1]==-1?-1:Math.max(0,Math.min(100,w));var W=E[3];W.Brsh.v.Dmtr.v.val=Z;
if(w!=-1)W.Brsh.v.Hrdn.v.val=w;this.Wq=[Z,w,d,W,p];var C=iX.JB(W,q.UR.Hh,T),a=C[1];a.x=Math.round(this.pC.x-a.v/2);
a.y=Math.round(this.pC.y-a.o/2);n.H.G1=[C];var B=n.c.hQ(this.pC.x,this.pC.y);n.H.ur={_k:[],lm:[B.x-Z/2,B.y,B.x+Z/2,B.y]};
if(w!=-1)n.H.ur.lm.push(B.x+50/T,B.y-w/2,B.x+50/T,B.y+w/2);n.IJ=!0};A.o8.prototype.J7=function(n,q,p,E,T){if(this.id==A.zI||this.id==A.nl)return;
if(this.pC){this.pC=null;this.b3(JSON.parse(JSON.stringify(this.Wq[3])));n.H.G1=[];n.H.ur=null;n.IJ=!0;
return}var i=new ea(P.E.T,!0);i.data={e:P.C.R2,i:this.id,a26:"showBrushOpts",Nh:new fc(T.Yt+4,T.tF)};
q.K(i)};A.o8.prototype.b3=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.Th,sQ:cF.Ez,Hv:n};this.caller.K(q)};
A.o8.zm=function(n,q,p,E,T,i){if(n==null)n="FrgC";if(q==null)q="norm";if(p==null)p=1;if(T==null)T=!1;
var H={classID:"Fl",Usng:{t:"enum",v:{FlCn:n}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(p*100)}},PrsT:{t:"bool",v:T},Md:{t:"enum",v:{BlnM:d3.g6(q)}}};
if(n=="Clr")H.Clr={t:"Objc",v:E};if(n=="contentAware")H.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(n=="Ptrn")H.Ptrn={t:"Objc",v:i};return{oK:"fill",ga:H}};A.o8.prototype.JZ=function(n,q,p,E,T){this.Q0=q;
var i=p.z1.length;if(i==0&&!p.zP())return;var H=i!=0?-1-p.z1[0]:p.p[0],Z=p.h[H];if(n.e=="fromAction"){var w=n.YD,d=w.ga;
if(w.oK=="fill"){var O=d.PrsT?d.PrsT.v:!1,W=Z.add.lspf,$;if(O){Z.add.lspf=W==null?1:W|1}var C=(d.Opct?d.Opct.v.val:100)/100,a=d.Md?d3.JM(d.Md.v.BlnM):"norm",B=d.Usng.v.FlCn;
if(B=="contentAware"){if(p.$==null){alert("Select an area to heal first.");return}if(!p.zP())return;
this.AP(p);this.Kv(p,0);var I=p.$,x=j.U(I.rect.P()*4);j.yI(I.channel,x,3);this.fU(p,"sheal",x,I.rect,I.rect);
this.M(p,I.rect);this.finish(p,I.rect)}else if(B=="Ptrn"){var U=T.bS,N=p.$?p.$.rect.clone():new eL(0,0,p.v,p.o),m=j.U(N.P()*4);
cU.qb(d,m,N,U,new fc(0,0));this.Q$(p,Z,p.$,m,"norm",[6,48,0,2])}else{if(B=="FrgC")$=T.ny;else if(B=="BckC")$=T.iu;
else if(B=="Blck")$=0;else if(B=="Wht")$=16777215;else if(B=="Gry")$=8421504;else if(B=="Clr"){var f=j.f.aV(d.Clr.v);
$=f._<<16|f.q<<8|f.X}var c=$>>16&255,D=$>>8&255,z=$>>0&255;this.p8(p,Z,p.$,c,D,z,Math.round(255*C),a,[2,3])}if(O){Z.add.lspf=W==null?0:W}}else if(w.oK=="delete"){var _=H<0?1:Z.TL,I=p.$,k;
if(I==null)return;var v=H<0?p.v4[-H-1]:_<=0?null:_==1?Z.u1():Z.vr(p).w,N=_<=0?Z.rect:v.rect,o=_<=0?I.rect.O1(N):I.rect.clone();
if(o.M6())return;var y=o.P();if(_<=0){k=j.U(y*4);j.hk(Z.buffer,Z.rect,k,o)}else{k=j.U(y);v.extend(o);
j.cg(v.channel,v.rect,k,o)}if(0<=H&&Z.sM(p,I)){if(_<=0){j.nz(k,0);j.hk(Z.ns.C8,Z.ns.AO,k,o)}else{k.fill(255);
j.cg(Z.ns.C8,Z.ns.AO,k,o)}}else{if(_<=0){var S=j.U(k.length>>2);j.J2(k,S,3);j.a.jG(j.Ji(I.rect.P()),I.rect,S,o,I.channel,o,1);
j.yI(S,k,3)}else{var L=j.U(I.rect.P()),c=T.iu>>>16&255,D=T.iu>>8&255,z=T.iu>>0&255;L.fill(Math.round(j.lU(c,D,z)));
j.a.jG(L,I.rect,k,o,I.channel,o,1)}}this.C4(p,!0,[2,2],H,_,o,k)}}if(n.e=="stroke"){var X=n.abK,I=p.$;
if(I==null){I={rect:Z.rect.clone(),channel:j.U(Z.rect.P())};j.J2(Z.buffer,I.channel,3)}var s=cU.vz(X),M=A.eY.r$(I,Math.ceil(s[0]),Math.ceil(s[1])),$=j.f.aV(X.Clr.v),c=Math.round($._),D=Math.round($.q),z=Math.round($.X);
this.p8(p,Z,M,c,D,z,Math.round(255*X.Opct.v.val/100),d3.JM(X.Md.v.BlnM),[14,9])}if(n.e=="fillBMP"){this.Q$(p,Z,p.$,n.T$,n.pz,n.as)}if(n.e=="draw"){var V=n.GJ,l=V.rect;
this.AP(p);var e=p.h[p.p[0]];if(n.a5V&&e&&e.TL<=0&&p.z1.length==0){l=i1.w9.FL(V,p);e.buffer=V.buffer.slice(0);
e.rect=l.clone()}else{var Y=this.US.bmode;this.US.bmode="norm";this.fU(p,"draw",V.buffer,l,l.O1(new eL(0,0,p.v,p.o)));
this.US.bmode=Y}this.M(p,l);p.l0=!0;this.finish(p,l,n.as,n.a5V)}};A.o8.prototype.p8=function(n,q,p,E,T,i,H,Z,w){var d=p==null?new eL(0,0,n.v,n.o):p.rect,O=H<<24|i<<16|T<<8|E<<0,W=j.U(d.P()*4);
j.nz(W,O);this.Q$(n,q,p,W,Z,w)};A.o8.prototype.Q$=function(n,q,p,E,T,i){var H=n.z1.length!=0?-1-n.z1[0]:n.p[0],Z=H<0?1:q.TL,w=H<0?n.v4[-1-H]:Z<=0?null:Z==1?q.u1():q.vr(n).w,d=Z<=0?q.rect:w.rect,O=p==null?new eL(0,0,n.v,n.o):p.rect,W=p==null?j.xq(n.v*n.o):p.channel,C=O.P(),a,B=null;
if(Z<=0){a=j.U(C*4);j.hk(q.buffer,q.rect,a,O)}else{a=j.U(C);w.extend(O);j.cg(w.channel,w.rect,a,O)}if(p!=null)j.AK(W,E);
if(Z>0){B=j.U(C);j.Eq(E,B)}if(0<=H&&p&&q.sM(n,p)){var $=q.ns.U_,I=q.ns.U_.slice(0);if(Z<=0)j.Sa(E,I);
else j.Sa(B,I);var x=new d4([2,3],this);x.data={e:"drawtemp",Y:n.p[0],kn:Z,aqV:$,ajX:I};n.Dc(x);this.NJ(x.data,n)}else{if(Z<=0){var U;
if(q.d9(0)){U=j.U(O.P());j.J2(a,U,3)}j.a.Ef(T,E,O,a,O,O,1);if(q.d9(0))j.yI(U,a,3)}else j.a.jG(B,O,a,O,W,O,1);
this.C4(n,!0,i,H,Z,O,a)}};A.o8.prototype.Ou=function(n){if(aj.yw.indexOf(n)!=-1)return!0;return!1};A.o8.prototype.IY=function(n,q,p,E){var T=this.US.brush,i=E.r(aj.sL),H=i!=this.IA,Z=A.o8.Oe(T,E);
if(Z!=null)this.b3(Z);if(!E.r(aj.Fj)&&E.In()!=-1){var w=P.ajb(Math.round(this.US.opacity*100),E.In())/100;
this.Ws({opacity:w},q)}if(this.id==A.q9&&H&&n!=null){var d=this.US.qsmode;if(d==2)d=n.$==null?0:1;else d=2;
this.Ws({qsmode:d},q)}this.IA=i;if(H){if(n)this.WD=n.c.n;this.Pl(p,E)}};A.o8.Oe=function(n,q){var p=n.Brsh.v.Dmtr.v.val,E=n.Brsh.v.Hrdn!=null?n.Brsh.v.Hrdn.v.val:-1,T=p,i=E,H=q.r(aj.$t);
if(q.r(aj.Py)){if(H)E=25*Math.floor((E-1)/25);else{if(p<=10)p--;else if(p<=50)p=5*Math.floor((p-1)/5);
else if(p<=100)p=10*Math.floor((p-1)/10);else if(p<=200)p=25*Math.floor((p-1)/25);else if(p<=400)p=50*Math.floor((p-1)/50);
else p=100*Math.floor((p-1)/100)}}if(q.r(aj.jA)){if(H)E=25*Math.ceil((E+1)/25);else{if(p<10)p++;else if(p<50)p=5*Math.ceil((p+1)/5);
else if(p<100)p=10*Math.ceil((p+1)/10);else if(p<200)p=25*Math.ceil((p+1)/25);else if(p<400)p=50*Math.ceil((p+1)/50);
else p=100*Math.ceil((p+1)/100)}}p=Math.max(1,p);E=Math.max(0,Math.min(100,E));if(i==-1)E=-1;if(p!=T||E!=i){var Z=JSON.parse(JSON.stringify(n));
Z.Brsh.v.Dmtr.v.val=p;if(i!=-1)Z.Brsh.v.Hrdn.v.val=E;return Z}return null};A.o8.prototype.Pl=function(n,q,p,E){if(n.UR.list.length==0)return;
var T=this.id,i;if((T==A.H2||T==A.Ys||T==A.yR||T==A.zY)&&(q!=null&&q.r(aj.sL)||this.US.alt[0]))i="crosshair";
else{var H=this.WD,Z=this.US.brush;if((T==A.H2||T==A.Ys)&&p&&this.QQ&&this.QQ.length==this.dI.P()*4){var w=p.c.hQ(E.x,E.y),d=this.a8(w),O=this.QQ,W=this.dI,C=new eL(W.x+d.x,W.y+d.y,W.v,W.o),a=iX.JB(Z,n.UR.Hh,H),B=a[0],$=a[1],I=Math.ceil($.v/H),x=new eL(Math.round(w.x-I/2),Math.round(w.y-I/2),I,I),U=j.U(x.P()*4),N,m;
j.hk(O,C,U,x);if(H==1){N=U;m=x}else{var f=new b$(H,0,0,H,0,0),c=A.Z.i8([U,x],f,!0);m=$.clone();m.x=c.rect.x;
m.y=c.rect.y;if(m.rv(c.rect))N=c.buffer;else{N=j.U(m.P()*4);j.hk(c.buffer,c.rect,N,m)}}var D=this.US.opacity/255;
for(var R=0;R<N.length;R+=4)N[R+3]=D*(B[R+3]*N[R+3]);iX.jB(new Uint32Array(N.buffer),m,4278190080,4294967295);
i={Xt:N,n7:m,h1:new fc(m.v/2,m.o/2)}}else i=iX.qr(Z,n.UR.Hh,H,T==A.iY)}var z=new ea(P.E.T,!0);z.data={e:P.C.ru,MN:i};
if(this.caller)this.caller.K(z)};A.o8.prototype.enable=function(n,q,p,E){this.BW=p;this.caller=q;this.b3(JSON.parse(JSON.stringify(this.US.brush)));
if(n&&n.c.n!=0)this.WD=n.c.n;this.Pl(p,E)};A.o8.prototype.ts=function(n,q){if(q==cF.Ez){this.US.brush=n.UR.$P;
this.Pl(n)}};A.o8.prototype.em=function(n,q,p,E,T){for(var i in n)this.US[i]=n[i];if(this.US.alt[0])this.Pl(T,E,p)};
A.o8.prototype.$_=function(n){var q=n.z1.length!=0?-1-n.z1[0]:n.p[0],p=n.h[q],E=q<0?1:p.TL,T=q<0?n.v4[-q-1]:E<=0?null:E==1?p.u1():p.vr(n).w,i=T?T.channel:p.buffer,H=(T?T.rect:p.rect).clone();
return[p,E,T,i,H]};A.o8.prototype.AP=function(n,q){this.Nu=n.$==null?null:{rect:n.$.rect.clone(),channel:n.$.channel.slice(0)};
var p=this.$_(n),E=p[0],T=p[1],i=p[2];this.LI=p[3];this.dC=p[4];var H=new eL(0,0,n.v,n.o),Z=H.AL(this.dC);
if((this.qY()&&T<=0||Z.rv(this.dC))&&q!=!0)this.LI=this.LI.slice(0);else{if(i)i.extend(Z);else E.extend(Z)}};
A.o8.prototype.Kv=function(n,q){var p=this.$_(n),E=p[1],T=p[3],i=p[4],H=[T,i],Z=q!=null?q:this.US.sfrom;
if(E<=0&&Z!=0){H[1]=new eL(0,0,n.v,n.o);H[0]=n.Zk(Z==1&&n.p[0]!=n.h.length-1?n.p[0]:null).slice(0)}this.dI=H[1].clone();
this.QQ=H[0].slice(0)};A.o8.prototype.L5=function(n,q,p){if(n.r(aj.sL)){var E=new ea(P.E.u,!0);E.i=A.r2;
E.data={e:"pickhere",as9:p};q.K(E);return!0}return!1};A.o8.prototype.Pu=function(n,q,p,E,T,i){if(this.id!=A.q9&&!n.zP(this.caller)){this.$s=null;
return}this.AP(n);var H=new eL(0,0,n.v,n.o),Z=null;if(i!=null){var w=n.z1.length!=0?-1-n.z1[0]:n.p[0],d=n.h[w],O=w<0?n.v4[-w-1]:d.TL<=0?null:d.TL==1?d.u1():d.vr(n).w;
Z=j.U(H.P()*4);if(O)A.o8.BL(this.LI,this.dC,O.color,Z,H);else j.hk(this.LI,this.dC,Z,H)}var W=this.US;
if(this.$s&&this.id==A.q9&&W.qsmode!=0&&n.$!=null){}else{var C=q.ny,a=q.iu;if(this.wq=="erase"){var B=C;
C=a;a=B}var $=this.id==A.q9?this.dC:H;this.$s=new iX(W.brush,q.UR.Hh,q.UR.yi,{Ik:T,OM:i,a2X:W.smth*50*P.D()/n.c.n,_0:this.id==A.zY||W.emode==1,m_:W.prsr},C,a,$,Z)}if(this.id==A.q9){this.$s.wW(W.brush,W.qsmode==2?0:16777215)}var I=n.c.hQ(E.x,E.y);
if(p.r(aj.$t)&&this.dG){var x=this.dG;this.$s.moveTo(x.x,x.y,E.fQ);this.$s.lineTo(.001*x.x+.999*I.x,.001*x.y+.999*I.y,E.fQ);
this.$s.lineTo(I.x,I.y,E.fQ)}else this.$s.moveTo(I.x,I.y,E.fQ);this.dG=I;this.jz=I.clone();this.tN=new a2(I,n.c.H9)};
A.o8.prototype.$j=function(n,q,p){if(n&&n.c.n!=0&&n.c.n!=this.WD){this.WD=n.c.n;this.Pl(p)}};A.o8.prototype.uB=function(n,q,p,E){if(this.$s==null)return;
var T=n.h[n.p[0]],i=n.c.hQ(E.x,E.y),H=this.tN.Ov(i,p);if(H.rv(this.dG))return 1;this.$s.lineTo(H.x,H.y,E.fQ);
this.dG=H;if(this.id==A.H2||this.id==A.Ys){var Z=this.z$(),w=11;Z=n.c.eh(i.x-Z.x,i.y-Z.y);var d=w>>>1,O=new eL(Math.round(Z.x)-d,Math.round(Z.y)-d,w,w),W=j.U(O.P()*4);
j.nz(16777215);for(var R=0;R<w;R++)W[(R*w+d)*4+3]=W[(w*d+R)*4+3]=255;n.H.eW=[[W,O]];n.IJ=!0}};A.o8.prototype.bM=function(n,q,p,E){if(p.tj!=this.id)return;
if(this.id!=A.q9||n==null)return;if(n.$==null||n.p[0]!=this.afS){this.afS=n.p[0];this.Ws({qsmode:0},q)}};
A.o8.prototype.M=function(n,q){if(n.z1.length!=0){n.IJ=!0;return}var p=n.h[n.p[0]];if(q==null){q=this.$s.U3();
if(this.qY()&&p.TL<=0)q=q.O1(this.dC)}if(q.M6())return;if(p.TL<=0){p.M(q)}if(p.TL==1){p.u1().zK=!0;p.VA(n)}if(p.TL==3){p.M()}n.M(n.root.RT(q,n,n.p[0],!0))};
A.o8.prototype.HO=function(n,q,p,E,T){if(this.$s==null)return;this.$s.finish();if(this.id!=A.FQ&&this.id!=A.Ys&&this.id!=A.q9)this.Gv(n);
if(this.id==A.H2||this.id==A.Ys){n.H.eW=[];n.IJ=!0}if(this.id==A.q9){var i=n.$;n.$=this.Nu;var H=new ea(P.E.u,!0);
H.data={e:"setsel",as:this.name,$:i};H.i=A.L7;q.K(H);if(this.US.qsmode==0)this.Ws({qsmode:1},q)}else{this.finish(n,this.$s.o2());
this.$s=null;this.un=null}this.dir=0};A.o8.prototype.Ws=function(n,q){for(var p in n)this.US[p]=n[p];
var E=new ea(P.E.T,!0);E.data={e:P.C.R2,i:this.id,Q4:n};q.K(E)};A.o8.prototype.qY=function(){var n=this.id;
return n==A.q9||n==A.pu||n==A.hi||n==A.wR||n==A.fr||n==A.gA};A.o8.prototype.finish=function(n,q,p,E,T){var i=n.z1.length!=0?-1-n.z1[0]:n.p[0],H=n.h[i],Z=i<0?1:H.TL,w=i<0?n.v4[-i-1]:Z<=0?null:Z==1?H.u1():H.vr(n).w,d=w?w.rect:H.rect,C;
if(this.qY()||!d.rv(this.dC)){if(w==null){if(this.qY())H.aA();else{var O=q.AL(this.dC),W=j.U(O.P()*4);
j.hk(H.buffer,H.rect,W,O);H.buffer=W;H.rect=O}}else w.aA();this.M(n,d)}if(Z<=0){C=j.U(q.P()*4);j.hk(this.LI,this.dC,C,q)}else{C=j.U(q.P());
C.fill(w.color);j.cg(this.LI,this.dC,C,q)}this.C4(n,!1,p?p:this.name,i,Z,q,C,E,T)};A.o8.prototype.C4=function(n,q,p,E,T,i,H,Z,w){var d=H;
if(T>0){d=j.U(i.P()*4);A.o8.BL(H,i,0,d,i)}var O=new d4(p,this);O.data=[{Y:E,kn:T,n7:i,hc:d}];if(Z)O.data.CQ=[n.$,null];
if(w)O.data.CQ=[this.Nu,n.$];n.Dc(O);if(q)this.NJ(O.data,n);else if(Z)n.$=null;i1.P4.pV(n,O.data)};A.o8.prototype.iP=function(n,q){this.Pq(n,q,!1)};
A.o8.prototype.NJ=function(n,q){this.Pq(n,q,!0)};A.o8.prototype.Pq=function(n,q,p){if(n.e=="drawtemp"){var E=p?n.ajX:n.aqV,T=q.h[n.Y];
T.ns.U_=E;T.ka(q,0,0,q.$);T.M();q.l0=!0}else{i1.P4.z8(q,n);if(n.CQ){q.$=n.CQ[p?1:0];q.mT=!0}}q.M()};
A.o8.prototype.Gv=function(n){this.fU(n,this.wq,this.$s.V_(),this.$s.UB(),this.$s.U3());this.M(n)};A.o8.prototype.fU=function(n,q,p,E,T){var i=this.US,H=n.h[n.p[0]],Z=n.z1.length!=0?n.v4[n.z1[0]]:H.TL<=0?null:H.TL==1?H.u1():H.vr(n).w,w=j.U(T.P()*4),d,O=H.d9(0);
if(Z==null){if(this.id==A.nl&&q=="heal")j.hk(H.buffer,H.rect,w,T);else j.hk(this.LI,this.dC,w,T);if(O){d=j.U(T.P());
j.J2(w,d,3)}}else{A.o8.BL(this.LI,this.dC,Z.color,w,T)}if(n.$&&q!="qselect"){var W=T.O1(n.$.rect),C=j.U(W.P()*4);
if(q=="copy"){var a=j.U(W.P());j.cg(n.$.channel,n.$.rect,a,W);j.hk(w,T,C,W);j.a.ZH(p,E,C,W,a,W,0,W,1,!1)}else{j.hk(p,E,C,W);
j.qF(n.$.channel,n.$.rect,C,W)}p=C;E=W}function B(x,bi){var hd=Math.max(bi.x,Math.min(bi.x+bi.v-1,x.x)),aB=Math.max(bi.y,Math.min(bi.y+bi.o-1,x.y));
return new fc(hd,aB)}if(q=="idraw"||q=="ierase"){if(this.un==null)this.un=j.U(this.dC.P());var $=this.US.samp,I=this.BW.iu,x=B(this.dG,T),U=$==0?x:this.jz,N=U.x,m=U.y,f=A.oh.Bw(this.LI,this.dC,[U,new fc(N-2,m),new fc(N+2,m),new fc(N,m-2),new fc(N,m+2)]);
if($==2)f=[[I>>>16&255,I>>>8&255,I>>>0&255,255]];var c=A.oh.a6(w,T,x,f,this.US.wconf),D=j.U(T.P());j.cg(this.un,this.dC,D,T);
j.pB.AL(c,D,D);j.cg(D,T,this.un,this.dC);j.qF(D,T,p,E);q=q.slice(1)}if(q=="erase"&&(i1.P4.Rm(n)!=16777215||Z))q="draw";
if(q=="draw")j.a.Ef(i.bmode,p,E,w,T,T,i.opacity);else if(q=="erase"){var z=j.U(T.P()*4);j.hk(p,E,z,T);
if(Z==null){var _=j.U(T.P());j.J2(z,_,3);j.gs(_,i.opacity);j.z3(_);j.qF(_,T,w,T)}else{j.nz(z,0,4278190080);
j.a.Ef("norm",z,T,w,T,T,i.opacity)}}else if(q=="clone"||q=="heal"){var v=this.z$(),o=this.dI.clone();
o.offset(v.x,v.y);var y=T.clone();y.ZU(1,1);var k=j.U(y.P()*4),S=j.U(y.P());j.hk(p,E,k,y);j.J2(k,S,3);
j.nz(k,0);if(Z==null){j.hk(this.QQ,o,k,y);var L=j.U(y.P());j.J2(k,L,3);j.Qk(L,S)}else A.o8.BL(this.QQ,o,Z.color,k,y);
if(q=="clone"){j.yI(S,k,3);j.a.Ef(i.bmode,k,y,w,T,T,i.opacity)}if(q=="heal"){var X=S.slice(0);j.round(X,20);
var s=j.U(y.P()*4);if(Z==null)j.hk(this.LI,this.dC,s,y);else A.o8.BL(this.LI,this.dC,Z.color,s,y);j.a.ZH(k,y,s,y,X,y,0,y,1,!1);
j.ue.ST(s,X,y);j.a.ZH(s,y,w,T,S,y,0,T,1,!1)}}else if(q=="dodge"||q=="burn"){var k=j.U(T.P()*4),l=1,e=0,Y=0,J=0;
j.hk(p,E,k,T);var M=T.P()*4,V=A.o8.PU;if(this.IA){if(q=="dodge")q="burn";else q="dodge"}var G=i.rng;
if(q=="dodge"){e=[1-l/2,1,1+l][G];Y=[1,1/(1+l),1][G];J=[l/2,0,0][G]}if(q=="burn"){e=[1/(1-l/2),1,1-l/2][G];
Y=[1,1+l,1][G];J=[-(l/2)/(1-l/2),0,0][G]}for(var R=0;R<M;R+=4){var F=k[R+3];w[R+0]=V(w[R+0],e,Y,J,F);
w[R+1]=V(w[R+1],e,Y,J,F);w[R+2]=V(w[R+2],e,Y,J,F)}}else if(q=="sponge"||q=="redeye"){var k=j.U(T.P()*4),S=j.U(T.P());
j.hk(p,E,k,T);j.J2(k,S,3);j.Sa(w,k);var b=i.smode;if(this.IA)b=1-b;var h=fU.yQ("hue2");if(q=="sponge")je.RR(h,0,[0,[-50,46][b],[6,5][b]]);
else je.RR(h,1,{kQ:[265,305,25,55],jb:[0,-90,-70]});var bj=iJ.cI("hue2",h);iJ._g(bj,k,k,T);j.a.ZH(k,T,w,T,S,T,0,T,1,!1)}else if(q=="copy")j.hk(p,E,w,T);
else if(q=="sheal"){var k=j.U(T.P()*4),S=j.U(T.P());j.hk(p,E,k,T);j.J2(k,S,3);k.fill(0);var i4=this.QQ,t=this.dI;
if(Z){i4=j.U(t.P()*4);A.o8.BL(this.QQ,t,0,i4,t)}var aG=j.Sn.ST(i4,t,S,k,T);if(aG!=0)j.hk(i4,t,k,T);if(this.US.sfrom==0)j.hk(k,T,w,T);
else{j.hk(this.LI,this.dC,w,T);j.yI(S,k,3);j.a.Ef("norm",k,T,w,T,T,1)}}else if(q=="qselect"){var jd=this.dC,bP=jd.v,gz=jd.o,fZ=bP*gz,dt=this.$s.V_(),f=this.LI,a9=A.eY._A,S=a9.t3;
S.fill(128);for(var R=0;R<fZ;R++){var bi=dt[R<<2],az=dt[(R<<2)+3];if(az==255&&(bi==0||bi==255))S[R]=bi}S[0]=S[bP-1]=0;
S[(gz>>>1)*bP]=S[(gz>>>1)*bP+bP-1]=0;A.xQ.sb(a9,!0);n.$={rect:jd,channel:a9.$.slice(0)};n.mT=!0}if(Z==null){if(O)j.yI(d,w,3);
j.hk(w,T,H.buffer,H.rect)}else A.o8._L(w,T,Z)};A.o8.z$=function(){return null};A.o8.PU=function(n,q,p,E,T){var i=n*(1/255),H=E+q*Math.pow(i,p),Z=Math.round(H*T+i*(255-T));
return Math.max(0,Math.min(255,Z))};A.o8.BL=function(n,q,p,E,T){var i=j.U(T.P());i.fill(p);j.cg(n,q,i,T);
E.fill(255);j.s0(i,E)};A.o8._L=function(n,q,p){var E=j.U(q.P());j.Eq(n,E);j.cg(E,q,p.channel,p.rect)};
A.eY=function(n,q,p){A.pk.call(this,n,q,p);this.US={binop:0,feat:0,cstr:{UG:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Af=new fc(-1,-1);this.V6=new fc(-1,-1);this.jE="default";this.Q0=null;this.amT=!0;this.r_=!1;this.aP=new hA;
this.tZ=!1;this.RK=null;this.RJ=null;this.d0=!1;this.I7=!1};A.eY.prototype=new A.pk;A.eY.prototype.aha=function(){var n=this.US,q=[n.binop,n.feat];
if(this.id==A.AB)q.push(n.wconf);return q};A.eY.prototype.a9P=function(n,q,p){var E=this.US;E.binop=n[0];
E.feat=n[1];E.wconf=n[2];var T=new ea(P.E.T,!0);T.data={e:P.C.R2,i:this.id,US:E};p.K(T)};A.eY._A={key:""};
A.eY.AR=function(n,q,p){var E={oK:n,ga:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(q)E.ga.T=q;if(p!=null)E.ga.AntA={t:"bool",v:p};return E};A.eY.UU=function(n,q,p){return A.eY.AR("set",{t:"Objc",v:{classID:n,Top:{t:"UntF",v:{type:"#Pxl",val:q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:q.y+q.o}},Rght:{t:"UntF",v:{type:"#Pxl",val:q.x+q.v}}}},p)};
A.eY.pg=function(n,q,p){var E=[],T=[],H="set";for(var R=0;R<n.length;R+=2){E.push(n[R]);T.push(n[R+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:E},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:T}]}}}};
if(q)H=["set","addTo","subtractFrom","interfaceWhite"][q];return A.eY.AR(H,i,p)};A.eY.amS=function(n,q,p){var E={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n.y}}}},T=A.eY.AR("set",E);
T.ga.Tlrn={t:"long",v:q[0]};T.ga.AntA={t:"bool",v:q[1]};T.ga.Cntg={t:"bool",v:q[2]};if(p==!0)T.ga.Mrgd={t:"bool",v:p};
return T};A.eY.b0=function(n){return A.eY.AR("set",{t:"enum",v:{Ordn:n?"Al":"None"}})};A.eY.am7=function(n,q,p){var E={classID:"null"};
if(n!="border")E.selectionModifyEffectAtCanvasBounds={t:"bool",v:p};var T={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[n[0]];
E[T]={t:"UntF",v:{type:"#Pxl",val:q}};return{oK:n,ga:E}};A.eY.Of=function(n,q,p){var E={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q}}]};
if(p)T.v.push({t:"name",v:{classID:"Lyr",val:p}});var i=[{classID:"null",null:E,T:T},{classID:"null",null:T,T:E},{classID:"null",null:T,From:E},{classID:"null",null:T,With:E}],H=["set","add","subtract","interfaceIconFrameDimmed"];
return{oK:H[n],ga:i[n]}};A.eY.Ho=function(n,q){var p=new ea(P.E.T,!0);p.data={e:P.C.Th,sQ:cF.Yv};if(!q.Ui)n.K(p);
p.data={e:P.C.Th,sQ:cF.lP};if(!q.yM.rV)n.K(p)};A.eY.prototype.JZ=function(n,q,p,E,T){A.eY.Ho(q,T);this.Q0=q;
var i=n.e,H,Z,w=new eL(0,0,p.v,p.o),f9=!1,dO,a6,hb,jr;if(i=="fromAction"){var d=n.YD,O=d.oK,W=d.ga,C=W?W.selectionModifyEffectAtCanvasBounds:null,a=C&&C.v;
if(O=="colorRange"){if(W.Clrs){var B=W.Clrs.v.Clrs,$=0,I=255,x={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[B],U=W[x+"LowerLimit"],N=W[x+"UpperLimit"];
if(U)$=U.v;if(N)I=N.v;var m=W[x+"Fuzziness"].v/100;H=A.eY.YX(p,$,I,m,!0)}else{var $=W.Mnm.v,I=W.Mxm.v,m;
$={Q_:$.Lmnc.v,jS:$.A.v,X:$.B.v};I={Q_:I.Lmnc.v,jS:I.A.v,X:I.B.v};m=W.Fzns.v/200;H=A.eY.YX(p,$,I,m)}Z=[7,8]}else if(O=="inverse"){if(p.$==null){alert("No selection!");
return}H={channel:j.U(w.P()),rect:w};j.cg(p.$.channel,p.$.rect,H.channel,H.rect);j.z3(H.channel);Z=[7,2]}else if(O=="expand"){var f=W.By.v.val,c=p.$.rect.clone();
c.ZU(f,f);var D=j.U(c.P()),z=j.U(c.P());j.cg(p.$.channel,p.$.rect,z,c);j.style.stroke(z,D,c,f);H={channel:D,rect:c};
Z=[7,4]}else if(O=="contract"){var f=W.By.v.val,_=p.$.rect.clone();_.ZU(1,1);if(!a)_=_.O1(w);var z=j.U(_.P()),v=j.U(z.length);
j.cg(p.$.channel,p.$.rect,z,_);j.z3(z);j.style.stroke(z,v,_,f);j.z3(v);H={channel:v,rect:_};j.aA(H);
Z=[7,5]}else if(O=="border"){var f=W.Wdth.v.val;H=A.eY.r$(p.$,f/2,f/2);Z=[7,9]}else if(O=="feather"||O=="smoothness"){var f=W.Rds.v.val;
H=A.eY.e8(p.$,f,O=="smoothness",w,a);Z=O=="feather"?[7,6]:[19,3,0]}else{var o=W.null.v,y=W.AntA!=null&&W.AntA.v;
function k(iP){var id=iP.Top.v.val,c6=iP.Left.v.val;return new eL(c6,id,iP.Rght.v.val-c6,iP.Btom.v.val-id)}function S(iP){var id=iP[0].arr,aY=iP[1].arr,fT={W:[],F:[]};
for(var R=0;R<id.length;R++){fT.F.push(R==0?"M":"L");fT.W.push(id[R],aY[R])}fT.F.push("Z");return fT}var L=["set","addTo","subtractFrom","interfaceWhite"].indexOf(O),X=W.T?W.T.v:null;
if(X&&X.classID=="Elps"){H=this.QL(A.T0.iS(k(X)));Z=[10,4]}else if(X&&X.classID=="Rctn"){var s=k(X);
H={channel:j.U(s.P()),rect:s.clone()};H.channel.fill(255);Z=[10,15]}else if(X&&X.classID=="ObSl"){var s=k(X),M=A.eY._A,V=M.rect,l=M.t3,e=V.v,Y=V.o,J=s.x-V.x,G=J+s.v-1,F=Math.max(J,Math.min(G,J+G>>>1)),b=s.y-V.y,h=b+s.o-1,bj=Math.max(b,Math.min(h,b+h>>>1)),i4=Math.max(J,0),t=Math.min(G,e),aG=Math.max(b,0),Q=Math.min(h,Y);
l.fill(128);if(0<=b)for(var jd=i4;jd<t;jd++)l[b*e+jd]=0;if(h<Y)for(var jd=i4;jd<t;jd++)l[h*e+jd]=0;if(0<=J)for(var bP=aG;
bP<Q;bP++)l[bP*e+J]=0;if(G<e)for(var bP=aG;bP<Q;bP++)l[bP*e+G]=0;var gz=A.i4.jR,fZ=Math.round(s.v*gz),dt=Math.round(s.o*gz);
for(var jd=Math.max(0,F-fZ);jd<Math.min(e,F+fZ);jd++)l[bj*e+jd]=255;for(var bP=Math.max(0,bj-dt);bP<Math.min(Y,bj+dt);
bP++)l[bP*e+F]=255;A.xQ.sb(M,!0);H={channel:M.$.slice(0),rect:V.clone()};Z=[10,44]}else if(X&&X.classID=="Plgn"){H=this.QL(S(X.Pts.v.arr));
Z=[10,9]}else if(X&&X.classID=="Pnt"){H=A.oh.BC(p,new fc(X.Hrzn.v.val,X.Vrtc.v.val),[W.Tlrn.v,y,W.Cntg==null||W.Cntg.v],W.Mrgd?W.Mrgd.v:!1);
Z=[10,12]}else if(X&&X.Ordn=="None"){H=null;Z=[7,1]}else if(X&&X.Ordn=="Al"){var a9=w;if(p.p.length!=0){var bi=p.root.io(p.p[0]);
while(bi.parent&&bi.parent.parent)bi=bi.parent;if(bi.Y.add.artb)a9=bi.Y.Kl()}H={channel:j.U(a9.P()),rect:a9};
H.channel.fill(255);Z=[7,0]}else if(X&&X[0]&&X[0].v.keyID=="WrPt"){var az={e:"frompath",zF:[-1,0,0]};
this.JZ(az,q,p,E,T);return}else{var hd=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(O),aB=O=="set"?X:o,cv=aB[0].v.enum,az;
if(cv=="Trsp"||cv=="Msk"||cv=="vectorMask"){var c$=p.p[0];if(aB.length==2)c$=j4.TJ(p,aB[1]);var cT=["Trsp","Msk","vectorMask"].indexOf(cv);
az={e:"fromlayer",zF:[c$,cT,hd]}}else{if(aB[0].t=="name"){var c$=0;for(var R=0;R<p.v4.length;R++)if(p.v4[R].name==aB[0].v.val)c$=R;
az={e:"fromchannel",zF:[-5-c$,0,hd]}}else{var fp=["RGB","Rd","Grn","Bl"].indexOf(cv);az={e:"fromchannel",zF:[-1-fp,0,hd]}}}this.JZ(az,q,p,E,T);
return}if(!y&&H)j.round(H.channel);if(W.Fthr)H=A.eY.e8(H,W.Fthr.v.val,!1);if(O!="set"&&p.$!=null)H=j.pB.RS(H,p.$,L)}if(O=="expand"||O=="contract")if(!a&&!w.contains(H.rect)){var cD=H.rect.O1(w),f_=j.U(cD.P());
j.cg(H.channel,H.rect,f_,cD);H.channel=f_;H.rect=cD}}if(i=="qmask"){f9=!0;var dh=p.ew(),jq=new eL(0,0,p.v,p.o);
if(dh){H=dh.rect.rv(jq)&&j.sy(dh.channel,255)?null:{rect:dh.rect.clone(),channel:dh.channel.slice(0)};
dO=dh}else{H=null;a6=new g.JI;a6.color=0;a6.name="Quick Mask";a6.Fk=!0;if(p.$){a6.rect=p.$.rect.clone();
a6.channel=p.$.channel.slice(0)}else{a6.rect=jq;a6.channel=j.U(a6.rect.P());a6.channel.fill(255)}}Z=[6,6,1]}if(i=="setsel"){H=n.$;
Z=n.as}if(i=="crange"){var $=n.Vm,I=n.LN;H=A.eY.YX(p,$,I,n.O6);Z=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var g3=n.zF[0],cT=n.zF[1],L=n.zF[2];
if(i=="fromlayer"){if(g3==null)g3=p.p[0];var c6=p.h[g3];if(cT==0){var cd=c6.rect,jn=c6.buffer;if(cd.M6())return;
var cV=j.U(jn.length>>>2);j.J2(jn,cV,3);H={channel:cV,rect:cd.clone()}}else{if(c6.w==null)c6.VA(p);var fM=cT==1?c6.u1():c6.w;
H=A.eY.Ai(fM,w)}this.track(A.eY.Of(L,["Trsp","Msk"][cT],c6.getName()))}else if(i=="frompath"){var bE=p.Jy(),gU=bE[1],bE=bE[0];
if(g3==null)if(bE.length==0||gU.length==0)return;var g6=bE[gU[0]];if(g3!=null)for(var R=0;R<bE.length;
R++)if(bE[R].ap==g3)g6=bE[R];var fM=g6.add.vmsk.u1(),cu=fM.UB();if(cu.P()==0)return;var cV=fM.D1();if(n.zF[3]!=null)this.amT=n.zF[3];
if(this.amT){cV=cV.slice(0);j.round(cV)}hb=[JSON.stringify(p.Dm),JSON.stringify(p.LS)];jr=["[]","[]"];
p.Dm=[];p.LS=[];H={channel:cV,rect:cu}}else{if(g3==null)g3=A.eY.q8(p);H=A.eY.XC(p,g3)}if(L!=0&&p.$)H=j.pB.RS(H,p.$,L);
Z=[14,11]}if(H!=null&&j.sy(H.channel,0)){H=null;Z=[7,1]}if(H)j.aA(H);var f5=new d4(Z,this);f5.data={e:"changesel",Nu:p.$,ii:H,ew:f9,a1d:dO,a4y:a6,fw:hb,anG:jr};
p.Dc(f5);this.NJ(f5.data,p)};A.eY.q8=function(n){var q=0;if(n.z1.length!=0)q=-5-n.z1[0];else if(JSON.stringify(n.c.mc)=="[1,1,1]")q=-1;
else q=-2-n.c.mc.indexOf(1);return q};A.eY.XC=function(n,q){var p,E=new eL(0,0,n.v,n.o);if(-5<q&q<0){var T=-q-1,i=n.Zk(),H=j.U(E.P());
if(T==0)j.Eq(i,H);else j.J2(i,H,T-1);p={channel:H,rect:E.clone()}}if(q<-4){p=A.eY.Ai(n.v4[-q-5],E)}return p};
A.eY.Ai=function(n,q){var p,E;if(n.aV()==0){E=n.UB().clone();if(E.P()==0)return;p=n.D1()}else{E=q;p=j.U(E.P());
n.YH(E,p)}return{channel:p,rect:E}};A.eY.prototype.tU=function(n){return this.tZ||n.fk&&this.id!=A.KA};
A.eY.prototype.TH=function(n,q,p){var E=new ea(q,!0);E.data=p;n.K(E)};A.eY.prototype.Rv=function(n,q){var p=new ea(P.E.T,!0);
p.data={e:P.C.ru,MN:q};n.K(p)};A.eY.prototype.UB=function(n,q,p){q=n.$==null||this.aP.LD(1)||this.aP.pr(1)?q:null;
var E=this.Af,T=this.V6;if(p){E.x=Math.max(0,Math.min(n.v,E.x));E.y=Math.max(0,Math.min(n.o,E.y));T.x=Math.max(0,Math.min(n.v,T.x));
T.y=Math.max(0,Math.min(n.o,T.y))}var i=A.am.m4(E,T,q,!0,this.US.cstr),H=i[0].x,Z=i[0].y;return new eL(H,Z,i[1].x-H,i[1].y-Z)};
A.eY.prototype.LA=function(n,q,p,E,T){this.I7=!0;if(this.Ix())return;this.Q0=q;this.r_=!1;this.aP.LA(E);
this.Af=n.c.hQ(T.x,T.y);this.Af=A.Wh.My(n,this.Af,p);if(this.cE(n,this.Af,E)){this.tZ=!0;this.RK=n.$.rect.clone();
return}this.IO(n,p,E,T);n.c.gL=new eL};A.eY.prototype.cE=function(n,q,p){var E=p.r(aj.$t),T=p.r(aj.sL);
if(n.$&&!E&&!T&&this.US.binop==0)return j.GM(q,n.$.channel,n.$.rect);return!1};A.eY.prototype.Tw=function(n,q,p,E,T){this.Q0=q;
if(this.d0)return;var i=n.c.hQ(T.x,T.y);if(fc.vu(this.Af,i)*n.c.n>5){this.r_=!0;this.aP.Tw()}if(E.r(aj.gW)){if(this.RJ==null)this.RJ=new fc(i.x-this.Af.x,i.y-this.Af.y);
this.Af.x=i.x-this.RJ.x;this.Af.y=i.y-this.RJ.y}else this.RJ=null;this.V6=i;if(!this.tZ)this.V6=A.Wh.My(n,this.V6,p);
if(this.cE(n,this.V6,E))this.Rv(q,"move");else this.Rv(q,this.jE);if(this.tZ){var H=this.RK.clone();
H.x+=this.V6.x-this.Af.x;H.y+=this.V6.y-this.Af.y;var Z=A.Wh.QD(n,H,p);n.$.rect.x=Math.round(this.V6.x-this.Af.x+this.RK.x+Z[0]);
n.$.rect.y=Math.round(this.V6.y-this.Af.y+this.RK.y+Z[1]);n.mT=!0;A.Wh.d8(n,H,Z);return}this.a_(n,p,E,T);
if(n.c.gL)n.c.gL=this.UB(n,E)};A.eY.prototype.Ix=function(){return!1};A.eY.prototype.HO=function(n,q,p,E,T,i){var H=this.I7;
this.I7=!1;if(i||!H)return;n.c.gL=null;this.V6=n.c.hQ(T.x,T.y);this.V6=A.Wh.My(n,this.V6,p);if(this.tZ){this.tZ=!1;
if(this.V6.rv(this.Af)&&this.RL()==0){this.TH(q,P.E.Gi,A.eY.b0());return}this.B0(n,this.RK,n.$.rect.clone());
if(n!=null&&n.H.j_){n.H.j_=null;n.IJ=!0}return}this.Ml(n,p,E,T);A.eY.Ho(q,p);this.aP.HO();this.AT(q)};
A.eY.prototype.B0=function(n,q,p){var E=n.ft();if(E!=null&&E.i==this&&E.data.e=="movesel"){}else{E=new d4([7,7],this);
E.data={e:"movesel",pv:q};n.Dc(E)}E.data.ZZ=p;this.NJ(E.data,n)};A.eY.prototype.EP=function(n,q,p,E,T){this.d0=!0};
A.eY.prototype.J7=function(n,q,p,E,T){var i=new ea(P.E.T,!0);i.data={e:P.C.R2,i:this.id,_Y:T,bp:n,eP:p};
q.K(i);this.d0=!1};A.eY.prototype.IY=function(n,q,p,E){this.aP.IY(E);if(n!=null&&n.$!=null){var T=E.kH();
if(T.x!=0||T.y!=0){var i=n.$.rect.clone();i.x+=T.x;i.y+=T.y;this.B0(n,n.$.rect.clone(),i)}}this.AT(q)};
A.eY.prototype.AT=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.R2,i:this.id,xx:this.RL()};n.K(q)};
A.eY.prototype.RL=function(){var n=this.aP.LD(0),q=this.aP.pr(0);return A.eY.yc(this.US.binop,n,q)};
A.eY.yc=function(n,q,p){if(q)n=1;if(p)n=2;if(q&&p)n=3;return n};A.eY.prototype.finish=function(n,q,p,E){var T=n.$,i=this.getSelection(n,q,p,E);
if(i==null)i=A.eY.b0();else{var H=this.US.feat,Z=this.RL();if(H!=0)i.ga.Fthr={t:"UntF",v:{type:"#Pxl",val:H}};
if(Z!=0&&Z!=4)i.oK=["","addTo","subtractFrom","interfaceWhite",""][Z]}this.TH(this.Q0,P.E.Gi,i);this.Af.Gw(-1,-1);
this.V6.Gw(-1,-1)};A.eY.prototype.getSelection=function(n,q,p,E){return null};A.eY.prototype.IO=function(n,q,p,E){};
A.eY.prototype.a_=function(n,q,p,E){};A.eY.prototype.Ml=function(n,q,p,E){};A.eY.prototype.iP=function(n,q){var p=n.e;
if(p=="changesel")q.$=n.Nu;if(p=="movesel")q.$.rect=n.pv;if(n.ew){if(n.a1d){q.z1=[q.v4.length];q.v4.push(n.a1d)}else{q.v4.pop();
q.z1=[]}}if(n.fw){q.Dm=JSON.parse(n.fw[0]);q.LS=JSON.parse(n.fw[1])}q.mT=!0};A.eY.prototype.NJ=function(n,q){var p=n.e;
if(p=="changesel")q.$=n.ii;if(p=="movesel")q.$.rect=n.ZZ;if(n.ew){if(n.a4y){q.z1=[q.v4.length];q.v4.push(n.a4y)}else{q.v4.pop();
q.z1=[]}}if(n.fw){q.Dm=JSON.parse(n.anG[0]);q.LS=JSON.parse(n.anG[1])}q.mT=!0};A.eY.prototype.em=function(n){this.US=n.US};
A.eY.prototype.QL=function(n){var q=j.O.vK(n.W);if(q.M6())return null;var p=P.z("canvas","");p.width=q.v;
p.height=q.o;var E=p.getContext("2d");E.beginPath();E.translate(-q.x,-q.y);Typr.U.pathToContext({cmds:n.F,crds:n.W},E);
E.closePath();E.fill();var T=j.U(q.P()),i=E.getImageData(0,0,p.width,p.height);j.J2(i.data,T,3);return{rect:q,channel:T}};
A.eY.e8=function(n,q,p,E,T){if(p)q=Math.round(q*.7);var i=Math.ceil(2.6*q),H=n.rect.clone();H.ZU(i,i);
if(E&&!T)H=H.O1(E);var Z=j.U(H.P()),w=j.U(Z.length);j.cg(n.channel,n.rect,w,H);j.Lw.BE(w,Z,H,q);if(p){var d=Z.length;
for(var R=0;R<d;R++){var O=(Z[R]-128)*q*2.5;Z[R]=Math.max(0,Math.min(255,Math.round(128+O)))}}return{channel:Z,rect:H}};
A.eY.r$=function(n,q,p){var E=Math.max(1,Math.ceil(p)),T=n.rect.clone();T.ZU(E,E);var i=T.P(),H={channel:j.U(i),rect:T},Z=j.U(i);
j.cg(n.channel,n.rect,Z,H.rect);if(p!=0)j.style.stroke(Z,H.channel,H.rect,p);else j.Sa(Z,H.channel);
var w=j.U(i);j.z3(Z);if(q!=0)j.style.stroke(Z,w,H.rect,q);else j.Sa(Z,w);j.pB.O1(H.channel,w,H.channel);
return H};A.eY.YX=function(n,q,p,E,T){var i=new eL(0,0,n.v,n.o),H=n.Zk();if(n.$){var Z=n.$.rect.O1(i),w=j.U(Z.P()*4);
j.hk(H,i,w,Z);i=Z;H=w}var d=i.P(),O=j.U(d),W=1/E;if(T){if(q>=p)q=p-1;var C=q*(1-E),a=q,B=p,$=p+(255-p)*E,I=C==a?0:1/(a-C),x=B==$?0:1/($-B);
for(var R=0;R<d;R++){var U=R<<2,N=j.lU(H[U],H[U+1],H[U+2]),m=0;if(N<C)m=0;else if(N<a)m=(N-C)*I;else if(N<=B)m=1;
else if(N<=$)m=1-(N-B)*x;else m=0;O[R]=H[U+3]*m*m}}else for(var R=0;R<d;R++){var U=R<<2,f=j.IG(H[U],H[U+1],H[U+2]),m=j.m1(f,q,p,E,W);
O[R]=H[U+3]*m}return{rect:i,channel:O}};A.S3=function(){A.o8.call(this,[10,18],A.IS,"tools/blur");this.wq="copy"};
A.S3.prototype=new A.o8;A.S3.prototype.LA=function(n,q,p,E,T){var i=E.r(aj.sL)?iX.vS:iX.IS;this.Pu(n,p,E,T,this.US.strn,i);
if(this.$s==null)return;this.Gv(n)};A.S3.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.ek=function(){A.o8.call(this,[10,0],A.yR,"tools/brush");
this.wq="draw"};A.ek.prototype=new A.o8;A.ek.prototype.LA=function(n,q,p,E,T){if(this.L5(E,q,T))return;
this.Pu(n,p,E,T,this.US.flow);if(this.$s==null)return;this.Gv(n)};A.ek.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.oz=function(){A.o8.call(this,[10,42],A.iY,"tools/crepl");
this.wq="idraw";this.US.bmode="hue "};A.oz.prototype=new A.o8;A.oz.prototype.LA=function(n,q,p,E,T){if(this.L5(E,q,T))return;
this.Pu(n,p,E,T,this.US.flow);if(this.$s==null)return;this.Gv(n)};A.oz.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.KX=function(){A.o8.call(this,[10,43],A.gA,"tools/redeye");
this.US.smode=0;this.wq="redeye"};A.KX.prototype=new A.o8;A.KX.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.flow);
if(this.$s==null)return;this.Gv(n)};A.KX.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.lu=function(){A.o8.call(this,[10,38],A.zY,"tools/pencil");
this.wq="draw"};A.lu.prototype=new A.o8;A.lu.prototype.LA=function(n,q,p,E,T){if(this.L5(E,q,T))return;
this.Pu(n,p,E,T,this.US.flow);if(this.$s==null)return;this.Gv(n)};A.lu.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.$b=function(){A.o8.call(this,[10,22],A.wR,"tools/burn");
this.wq="burn"};A.$b.prototype=new A.o8;A.$b.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.expo/Math.E);
if(this.$s==null)return;this.Gv(n)};A.$b.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.X5=function(n,q,p){A.o8.call(this,n==""?null:n?n:[10,1],q?q:A.H2,p?p:"tools/clone");
this.wq="clone";this.NE=null;this.t=null};A.X5.prototype=new A.o8;A.X5.prototype.LA=function(n,q,p,E,T){var i=this.US,H=i.alt[0];
if(E.r(aj.sL)||E.r(aj.I6)||H){this.NE=n.c.hQ(T.x,T.y);this.t=null;if(H)this.Ws({alt:[!1]},q);this.Kv(n);
this.Pl(p,E,n,T);return}if(this.NE==null){alert(fE.get([15,7,0]));return}this.Pl(p,E);this.Pu(n,p,E,T,this.US.flow);
if(this.$s==null)return;this.t=this.a8(n.c.hQ(T.x,T.y));this.Gv(n)};A.X5.prototype.a8=function(n){var q=this.t;
if(q==null||!this.US.algnd)q=new fc(Math.round(n.x-this.NE.x),Math.round(n.y-this.NE.y));return q};A.X5.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null){if(this.NE!=null)this.Pl(p,E,n,T);return}if(!T.fk||this.NE==null)return;
this.uB(n,p,E,T);this.Gv(n)};A.X5.prototype.z$=function(){return this.t};A.c8=function(n,q,p){A.pk.call(this,n,q,p);
this.h5={in:{UG:0,x:0,y:0},HD:!1};this.rg=null;this.cursor=null;this.aeL=0;this.zO=null;this.Af=null;
this.SI=null};A.c8.prototype=new A.pk;A.c8.prototype.vo=function(){return this.rg!=null};A.c8.prototype.tU=function(n){return this.Af!=null||this.rg&&this.rg.ex()};
A.c8.prototype.LA=function(n,q,p,E,T){this.zO=T;var i=n.c.hQ(T.x,T.y);i.x=Math.round(i.x);i.y=Math.round(i.y);
var H=this.h5.in,Z=H.UG!=0?H.x/H.y:null;if(this.rg)this.rg.LA(n,p,E,i,Z,!1);else this.Af=A.Wh.My(n,i,p)};
A.c8.prototype.D$=function(n,q){var p=[n.x,n.y,n.x+n.v,n.y,n.x+n.v,n.y+n.o,n.x,n.y+n.o];return new bk(p,!0,!1,this.id==A.mr,!0,q,this.id==A.mr?2:0,this.id==A.mr?4:3)};
A.c8.prototype.Pl=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.ru,MN:this.cursor};n.K(q)};A.c8.prototype.enable=function(n,q,p,E){this.Q0=q;
this.cursor="crosshair";this.Pl(q);if(n!=null&&n.$){var T=this.h5.in={UG:0,x:0,y:0};this.TH(q,P.E.T,{e:P.C.R2,i:this.id,rJ:!1,Xx:T});
this.em({J4:"cropby",af9:3},q,n,E,p)}};A.c8.prototype.Tw=function(n,q,p,E,T){this.zO=T;var i=n.c.hQ(T.x,T.y);
if(!T.fk){var H="crosshair";if(this.rg){var Z=this.rg.na(i,n.c.n);if(Z)H=Z;else H="default"}if(H!=this.cursor){this.cursor=H;
this.Pl(q)}}if(this.rg)this.rg.Tw(n,p,E,i);else if(this.Af){var w=A.am.m4(this.Af,A.Wh.My(n,i,p),E,!0,this.h5.in),d=w[0].x,O=w[0].y,W=this.SI=new eL(d,O,w[1].x-d,w[1].y-O);
n.H.f4=j.O.aS(W);n.IJ=!0;A.pk.wY(T.x+10,T.y-10,W,n,p)}};A.c8.prototype.HO=function(n,q,p,E,T){this.zO=T;
if(this.rg==null){if(this.Af){var i=this.SI;if(i){var H=this.h5.in;this.rg=this.D$(i,H.UG!=0);this.rg.wF(n,p);
this.SI=null;this.TH(q,P.E.T,{e:P.C.R2,i:this.id,rJ:!0})}this.Af=null;n.H.eW=[];n.IJ=!0}return}var Z=n.c.hQ(T.x,T.y);
this.rg.HO(n,p,E,Z);this.TH(q,P.E.T,{e:P.C.R2,i:this.id,rJ:!0});var w=this.rg.Rl();if(Math.abs(w[0]-w[4])<2&&Math.abs(w[1]-w[5])<2){this.disable(n,q,null,E);
return}if(Date.now()-this.aeL<200&&this.rg.iF(Z)){this.OU(n,p);this.disable(n,q,p,E);return}this.aeL=Date.now()};
A.c8.prototype.IY=function(n,q,p,E){var T=this.rg;if(T==null||this.zO&&this.zO.fk)return;if(E.r(aj.T4)){this.OU(n,p);
this.disable(n,q,p,E)}else if(E.r(aj.eN)){this.disable(n,q,p,E)}else T.IY(n,p,E)};A.c8.pS=function(n,q,p){var E={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:n[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:n[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:n[1]+n[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:n[0]+n[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:q!=null?q:0}},Dlt:{t:"bool",v:p!=null?p:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{oK:"crop",ga:E}};A.c8.WT=function(n,q){if(q==null)q=[!0,!0,!0,!0];var p={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][n]}}},E=["Top","Left","Btom","Rght"];
for(var R=0;R<4;R++)p[E[R]]={t:"bool",v:q[R]};return{oK:"trim",ga:p}};A.c8.BA=function(n,q,p,E){var T={classID:"null"};
if(E!=null){T.Wdth={t:"UntF",v:{type:"#Pxl",val:n}};T.Hght={t:"UntF",v:{type:"#Pxl",val:q}};T.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][E]}}}if(p!=null)T.Rslt={t:"UntF",v:{type:"#Rsl",val:p}};
return{oK:"imageSize",ga:T}};A.c8.e9=function(n,q,p){if(p==null)p=4;var E=Math.floor(p/3),T=p%3;return{oK:"canvasSize",ga:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:n}},Hght:{t:"UntF",v:{type:"#Pxl",val:q}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][T]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][E]}}}}};
A.c8.prototype.JZ=function(n,q,p,E,T){var i=new eL(0,0,p.v,p.o),H=[11,3],Z=p.xm,w=p.v/2,d=p.o/2,O=1,F,b;
if(n.e=="fromAction"){var W=n.YD,C=W.oK,a=W.ga,B=p.v/p.o,$=a.Wdth?a.Wdth.v.val:-1,I=a.Hght?a.Hght.v.val:-1,Z=a.Rslt?a.Rslt.v.val:null,x=a.Wdth?a.Wdth.v.type:a.Hght?a.Hght.v.type:-1,U=1,N;
if(x=="#Prc"){if($!=-1)$=Math.round(p.v*$/100);if(I!=-1)I=Math.round(p.o*I/100)}if(C=="imageSize"){if(a.Intr){if(a.Intr.v.Intp=="Nrst")U=0;
if(a.Intr.v.Intp=="bicubicSharper")U=2;if($==-1&&I==-1){var m=Z/p.xm;$=Math.round(p.v*m);I=Math.round(p.o*m)}if(a.CnsP&&a.CnsP.v){if($==-1)$=Math.round(I*B);
if(I==-1)I=Math.round($/B)}}else{if(x=="#Prc")Z=Math.round(p.xm*(p.v/$));else if(x==-1)Z=Math.round(Z);
else throw"e";$=p.v;I=p.o}N={e:"imgsize",bP:$,w0:I,vJ:Z,$G:U}}else if(C=="canvasSize"){if($==-1)$=p.v;
if(I==-1)I=p.o;if(a.Rltv&&a.Rltv.v==!0){if(a.Wdth)$+=p.v;if(a.Hght)I+=p.o}var f=a.Vrtc?a.Vrtc.v.VrtL:"Cntr",c=a.Hrzn?a.Hrzn.v.HrzL:"Cntr";
N={e:"canvsize",bP:$,w0:I,xT:3*["Top","Cntr","Btom"].indexOf(f)+["Left","Cntr","Rght"].indexOf(c)}}else if(C=="revealAll"){N={e:"revealAll"}}else if(C=="trim"){var D={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[a.trimBasedOn.v.trimBasedOn];
if(D==null)throw"e";var z=["Top","Left","Btom","Rght"],_=[!0,!0,!0,!0];for(var R=0;R<4;R++)if(a[z[R]])_[R]=a[z[R]].v;
N={e:"trim",aaq:D,Xx:_}}else if(C=="crop"){var v,o,y,k;if(a.T){var S=a.T.v,v=Math.round(S.Left.v.val),o=Math.round(S.Top.v.val),y=Math.round(S.Rght.v.val)-v,k=Math.round(S.Btom.v.val)-o}else{var L=p.h[p.p[0]],X=L.rect;
X=X.O1(new eL(0,0,p.v,p.o));v=X.x;o=X.y;y=X.v;k=X.o}N={e:"canvsize",bP:y,w0:k,t:new fc(v,o),ahu:a.Dlt!=null&&a.Dlt.v}}else console.log(W);
if(N)this.JZ(N,q,p,E,T);return}else if(n.e=="imgsize"){i=new eL(0,0,n.bP,n.w0);if(n.vJ)Z=n.vJ;O=n.$G}else if(n.e=="canvsize"){var s=n.xT!=null?n.xT:0;
i=new eL(0,0,n.bP,n.w0);var M=p.v-n.bP,V=p.o-n.w0,l=Math.round(M/2),e=Math.round(V/2);if(s==1||s==4||s==7)i.x=l;
if(s==2||s==5||s==8)i.x=M;if(s==3||s==4||s==5)i.y=e;if(s==6||s==7||s==8)i.y=V;if(n.t){i.x=n.t.x;i.y=n.t.y}}else if(n.e=="rot"&&(n.k+2*Math.PI)%(Math.PI/2)!=0){var Y=j.O.aS(i).W,J=new b$;
J.translate(-w,-d);J.rotate(n.k);J.translate(w,d);j.O.B(Y,J,Y);i=j.O.vK(Y)}else if(n.e=="rot"&&n.k!=Math.PI&&n.k!=-Math.PI){i=new eL(w-p.o/2,d-p.v/2,p.o,p.v);
if((p.v+p.o&1)==1){w=Math.floor(w);d=Math.floor(d);i=new eL(w-Math.floor(p.o/2),d-Math.floor(p.v/2),p.o,p.v);
if((p.v&1)==1&&n.k!=-Math.PI/2)i.y--;if((p.o&1)==1&&n.k==-Math.PI/2)i.x--}}else if(n.e=="trim"){H=[11,12,0];
var G=p.Zk(),X=new eL(0,0,p.v,p.o);i=j.XU(G,X,n.aaq,n.Xx);if(i.M6())i=X}else if(n.e=="cropbysel"){H=[11,12,1];
i=p.$.rect.clone()}else if(n.e=="revealAll"){H=[11,12,2];i=p.root.UB(p,!0)}var h=n.e=="canvsize"&&n.ahu;
if(n.e=="imgsize"||n.e=="rot"||n.e=="scl"||h){var bj=new b$;if(n.e=="imgsize"){H=[11,10];bj.scale(n.bP/p.v,n.w0/p.o)}else if(h){}else{bj.translate(-w,-d);
if(n.e=="rot")bj.rotate(n.k);if(n.e=="scl")bj.scale(n.k.x,n.k.y);bj.translate(w,d);H=n.as}b=j.V.fa(bj);
F=this.xR(p,T,!0,b,O,h?i:null)}else if(n.e=="auto-align"){if(p.p.length<2){alert("Select two or more layers.");
return}var i4=[];for(var R=0;R<p.p.length;R++){var L=p.h[p.p[R]];if(!L.pp()&&L.add.SoLd==null){alert("Unsupported layer selected.");
return}if(L.rect.M6()){alert("Empty layer selected.");return}i4.push([L.buffer,L.rect])}var t=j.et.ZV(i4,0);
if(t==null){alert("No similarity found.");return}b=t[1];var aG=p.p;p.p=p.p.slice(1);F=this.xR(p,T,!1,t.slice(1),O);
p.p=aG;i=p.root.UB(p,!0);H=[2,10,1]}var Q=new eL(0,0,p.v,p.o);if(!i.M6()&&(!i.rv(Q)||F!=null)){var jd=new d4(H,this);
jd.data={aaT:p.xm,vJ:Z,Oz:F,M$:b,pf:A.c8.le(p,i,Q,F!=null)};A.c8.Fr(p,jd.data,i);p.Dc(jd);this.NJ(jd.data,p)}};
A.c8.le=function(n,q,p,E){if(n.D0.length==0)return null;var T=JSON.stringify(n.D0),i=JSON.parse(T);A.QI.aaa(i,q,p,E);
i=JSON.stringify(i);return[T,i]};A.c8.prototype.xR=function(n,q,p,E,T,i){var H={h:[],lB:null,Id:null};
if(p){for(var R=0;R<n.h.length;R++)H.h.push(R);for(var R=0;R<n.kA.length;R++)H.h.push(-1-R);for(var R=0;
R<n.v4.length;R++)H.h.push(-1e3-R)}else H.h=n.p.slice(0);H.lB=A.Z.kt(n,H.h,!0);A.Z.FA(n,q,H.h,H.lB,T,E,null,!0,i);
H.Id=A.Z.kt(n,H.h,!0);return H};A.c8.prototype.NJ=function(n,q){if(n.vJ)q.xm=n.vJ;if(n.pf)q.D0=JSON.parse(n.pf[1]);
if(n.Oz){A.c8.HJ(q,j.V.RE(n.M$));A.Z.zs(q,n.Oz.h,n.Oz.Id)}A.c8.Hq(q,n)};A.c8.prototype.iP=function(n,q){if(n.aaT)q.xm=n.aaT;
if(n.pf)q.D0=JSON.parse(n.pf[0]);A.c8.nF(q,n);if(n.Vk)q.c.t.xw(n.Vk);q.p0();if(n.Oz){var p=j.V.RE(n.M$).clone();
p.z3();A.c8.HJ(q,p);A.Z.zs(q,n.Oz.h,n.Oz.lB)}};A.c8.HJ=function(n,q){for(var R=0;R<n.h.length;R++){var p=n.h[R];
if(p.add.artb==null)continue;var E=j.O.aS(p.Kl()).W;j.O.B(E,q,E);var T=j.O.vK(E);p.O$(T)}};A.c8.$J=function(n){var q=new eL,p=0,E=n.root.children.length;
for(var R=0;R<E;R++){var T=n.root.children[R].Y;if(T.add.artb==null)continue;q=q.AL(T.Kl());p++}var i=new eL(0,0,n.v,n.o);
if(!q.M6()&&!i.rv(q)&&E==p)return q;return null};A.c8.ZS=function(n){var q=A.c8.$J(n);if(q)A.c8.HD(n,q,!0);
return q};A.c8.HD=function(n,q,p){var E=n.v,T=n.o,i=q.v,H=q.o,Z=q.x==0&&q.y==0;if(Z&&E==i&&T==H)return;
n.v=i;n.o=H;var w=[];for(var R=0;R<n.h.length;R++)w.push(R);if(!Z)A.Wh.ZM(n,w,null,-q.x,-q.y);for(var R=0;
R<n.h.length;R++){n.h[R].VA(n)}n.p0();if(p){var d=n.c.t,O=n.c.n;d.x+=Math.round((q.x+(i-E)/2)*O);d.y+=Math.round((q.y+(H-T)/2)*O)}else n.c.t.Gw(0,0);
if(n.$)n.$.rect.offset(-q.x,-q.y);var W=n.fN();for(var C=0;C<W[0].length;C++)if(W[1][C]==-1){var a=n.lA[C];
a[1]-=a[0]==0?q.x:q.y}for(var R=0;R<n.v4.length;R++)n.v4[R].rect.offset(-q.x,-q.y)};A.c8.prototype.em=function(n,q,p,E,T){if(n.J4=="commit"){this.OU(p,T);
this.disable(p,q,null,E)}else if(n.J4=="cancel"){this.disable(p,q,null,E)}var i=null,H=new eL(0,0,p.v,p.o),Z=this.h5.in;
if(n.J4=="config"){this.h5=n.h5;Z=this.h5.in;if(this.h5.HD!=null)return;if(p==null)return;i=H;if(Z.UG==1){var w=Z.x/Z.y;
i.o=Math.round(i.v/w)}if(Z.UG==2){i.v=Z.x;i.o=Z.y}i.x=Math.round((p.v-i.v)/2);i.y=Math.round((p.o-i.o)/2)}if(n.J4=="cropby"){if(p==null)return;
var d=n.af9,i;if(d==0)i=p.root.UB(p,!0);if(d==1){if(p.p.length==0)alert("No layer is selected.");else{var O=p.root.io(p.p[0]);
i=O.UB(p,!0)}}if(d==2){if(p.p.length==0)alert("No layer is selected.");else{i=j.XU(p.Zk(),H,0);if(i.M6())i=H.clone()}}if(d==3){if(p.$!=null)i=p.$.rect;
else alert("There is no selection.")}}if(i&&i.M6())i=null;if(i!=null){this.rg=this.D$(i,Z.UG!=0);this.rg.wF(p,T);
this.TH(q,P.E.T,{e:P.C.R2,i:this.id,rJ:!0})}};A.c8.prototype.OU=function(n,q){var p=this.rg.Rl(),E=j.O.vK(p),T=this.a8m(n,p),i=!1,H=this.h5.in,Z=this.h5.HD,w=H.x,d=H.y,C;
if(this.id==A.m$&&H.UG==2&&T.P()!=w*d){T=new eL(T.x,T.y,w,d);i=!0}var O=j.V.EY(p,T);O=j.V.z3(O);var W=j.V.xV(O),a=Math.atan2(O[3],O[0]);
if(Math.abs(a)>1e-9||!W||i||Z)C=this.xR(n,q,!0,O,1,E);var B=new d4(this.name,this),$=new eL(0,0,n.v,n.o);
B.data={Oz:C,M$:O,Vk:n.c.t.clone(),pf:A.c8.le(n,T,$,!1)};A.c8.Fr(n,B.data,T);n.Dc(B);this.NJ(B.data,n);
this.track(A.c8.pS([E.x,E.y,E.v,E.o],null,Z))};A.c8.Fr=function(n,q,p){if(p==null)return;q.pv=new eL(0,0,n.v,n.o);
q.ZZ=p};A.c8.Hq=function(n,q){if(q.ZZ==null)return;A.c8.HD(n,q.ZZ)};A.c8.nF=function(n,q){if(q.ZZ==null)return;
var p=q.pv.clone();p.offset(-q.ZZ.x,-q.ZZ.y);A.c8.HD(n,p)};A.c8.prototype.a8m=function(n,q){var p=j.V.EY(q),E=j.V.xV(p),T=j.V.RE(p),i=T.R_,H=T.so,Z=Math.atan2(T.X,T.jS);
T.rotate(Z);var w=new eL(i,H,T.jS,T.FF);if(!E){function d(N,R,m){var f=N[R]-N[m],c=N[R+1]-N[m+1];return Math.sqrt(f*f+c*c)}var O=d(q,0,2),W=d(q,4,6),C=Math.max(O,W),a=d(q,2,4),B=d(q,6,0),$=Math.max(a,B),I=A.c8.a0G(q,n.v/2,n.o/2),x,U;
if(isNaN(I)||I==Infinity||I==-Infinity||Math.min(I,1/I)<.1)I=(O+W)/(a+B);if(C/$>I){x=C*1;U=x/I}else{U=$*1;
x=U*I}w.v=x;w.o=U}w.x=Math.round(w.x);w.y=Math.round(w.y);w.v=Math.round(w.v);w.o=Math.round(w.o);return w};
A.c8.a0G=function(n,q,p){var E=n[0]-q,T=n[1]-p,i=n[2]-q,H=n[3]-p,Z=n[6]-q,w=n[7]-p,d=n[4]-q,O=n[5]-p,W=((T-O)*Z-(E-d)*w+E*O-T*d)/((H-O)*Z-(i-d)*w+i*O-H*d),C=((T-O)*i-(E-d)*H+E*O-T*d)/((w-O)*i-(Z-d)*H+Z*O-w*d),a=-((C*w-T)*(W*H-T)+(C*Z-E)*(W*i-E))/((C-1)*(W-1));
function B(I){return I*I}var $=Math.sqrt((B(W-1)+B(W*H-T)/a+B(W*i-E)/a)/(B(C-1)+B(C*w-T)/a+B(C*Z-E)/a));
if(W==1&&C==1)$=Math.sqrt((B(H-T)+B(i-E))/(B(w-T)+B(Z-E)));return $};A.c8.prototype.disable=function(n,q,p,E){if(n==null)return;
if(this.rg)this.rg.clear(n);this.rg=null;this.TH(q,P.E.T,{e:P.C.R2,i:this.id,rJ:!1})};A.c8.prototype.TH=function(n,q,p,E){var T=new ea(q,!0);
T.data=p;if(E)T.i=E;n.K(T)};A.K1=function(){A.c8.call(this,[10,2],A.m$,"tools/rcrop")};A.K1.prototype=new A.c8;
A.Z3=function(){A.c8.call(this,[10,39],A.mr,"tools/pcrop")};A.Z3.prototype=new A.c8;A.Qf=function(){A.o8.call(this,[10,21],A.hi,"tools/dodge");
this.wq="dodge"};A.Qf.prototype=new A.o8;A.Qf.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.expo/Math.PI);
if(this.$s==null)return;this.Gv(n)};A.Qf.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.gt=function(){A.o8.call(this,[10,3],A.pu,"tools/eraser");
this.wq="erase"};A.gt.prototype=new A.o8;A.gt.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.flow);
if(this.$s==null)return;this.Gv(n)};A.gt.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;var i=this.uB(n,p,E,T);this.Gv(n)};A.Wn=function(){A.o8.call(this,[10,45],A.akv,"tools/beraser");
this.wq="ierase"};A.Wn.prototype=new A.o8;A.Wn.prototype.LA=function(n,q,p,E,T){if(this.L5(E,q,T))return;
this.Pu(n,p,E,T,this.US.flow);if(this.$s==null)return;this.Gv(n)};A.Wn.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.EK=function(){A.eY.call(this,[10,15],A.L7,"tools/rselect");
this.jE="crosshair"};A.EK.prototype=new A.eY;A.EK.prototype.a_=function(n,q,p,E){if(!E.fk||!this.r_)return;
var T=this.UB(n,p,!0);n.H.f4=j.O.aS(T);n.IJ=!0;A.pk.wY(E.x+10,E.y-10,T,n,q)};A.EK.prototype.Ml=function(n,q,p,E){n.H.f4=null;
n.H.eW=[];n.IJ=!0;this.finish(n,q,p,E)};A.EK.prototype.getSelection=function(n,q,p,E){if(this.Af.rv(this.V6)||!this.r_)return null;
var T=this.UB(n,p,!0);if(T.M6())return null;return A.eY.UU("Rctn",T,this.US.anta)};A.T0=function(){A.eY.call(this,[10,4],A.ahQ,"tools/eselect");
this.jE="crosshair"};A.T0.prototype=new A.eY;A.T0.prototype.a_=function(n,q,p,E){if(!E.fk||!this.r_)return;
var T=this.UB(n,p);n.H.f4=A.T0.iS(T);n.IJ=!0;A.pk.wY(E.x+10,E.y-10,T,n,q)};A.T0.prototype.Ml=function(n,q,p,E){n.H.f4=null;
n.H.eW=[];n.IJ=!0;this.finish(n,q,p,E)};A.T0.prototype.getSelection=function(n,q,p,E){if(this.Af.rv(this.V6)||!this.r_)return null;
var T=this.UB(n,p);if(!T.Y9(new eL(0,0,n.v,n.o)))return null;return A.eY.UU("Elps",T,this.US.anta)};
A.T0.iS=function(n){var q=n.x,p=n.y,E=n.x+n.v,T=n.y+n.o,i=(q+E)/2,H=(p+T)/2,Z=(q-E)/2,w=(p-T)/2,d=.5522848,O={W:[i,H-w],F:["M","C","C","C","C"]};
O.W.push(i+d*Z,H-w,i+Z,H-d*w,i+Z,H);O.W.push(i+Z,H+d*w,i+d*Z,H+w,i,H+w);O.W.push(i-d*Z,H+w,i-Z,H+d*w,i-Z,H);
O.W.push(i-Z,H-d*w,i-d*Z,H-w,i,H-w);return O};A.vD=function(n){A.pk.call(this,[10,5],n?A.T5:A.r2,"tools/eyedropper");
this.YV=null;this.A0=0;this.Fd=null;this.q3=1;this.G0=2;this.acm=!0;this.GE=!1};A.vD.prototype=new A.pk;
A.vD.prototype.tU=function(n){return n.fk};A.vD.prototype.JZ=function(n,q,p,E,T){if(n.e=="pickhere")this.g3(p,q,T,null,n.as9);
if(n.e=="supertool")this.YV=n.i};A.vD.prototype.LA=function(n,q,p,E,T){var i=this.YV;if(i){i.LA(n,q,p,E,T);
return}this.A0=p.ny;this.Fd=T;var H=this.g3(n,q,p,E,T);this.Pl(n,q,H,T)};A.vD.prototype.Tw=function(n,q,p,E,T){var i=this.YV;
if(i){i.Tw(n,q,p,E,T);return}var H=this.Fd;if(H){var Z=T.x-H.x,w=T.y-H.y,d=1,O=new fc(H.x+Z*d,H.y+w*d),W=this.g3(n,q,p,E,O);
this.Pl(n,q,W,O,new fc(Z*(1-d),w*(1-d)))}};A.vD.prototype.Pl=function(n,q,p,E,T){var i=this.acm,H=this.GE,d=12,O=11;
if(n.c.n>4)H=!1;if(!H&&!i)return;if(T==null)T=new fc(0,0);var Z=new eL(0,0,n.v,n.o),w=n.Zk(),W=(d*2+1)*O,C=new fc(W/2,W/2),a=new eL(0,0,W,W),B=j.U(a.P()*4),$=n.c.hQ(E.x,E.y),I=Math.floor($.x),x=Math.floor($.y),U=new b$;
U.scale(1/O,1/O);U.translate(I-d,x-d);if(H)j.scale.PX(w,Z,U,B,a);var N=(d-3.4)*O,m=(d-1.7)*O,f=d*O;for(var c=0;
c<W;c++)for(var D=0;D<W;D++){var z=fc.vu(new fc(D,c),C);if(z>N){if(i){var _=Math.max(0,N-z+1),v=(c*W+D)*4,o=B[v+3]<<24|B[v]<<16|B[v+1]<<8|B[v+2],y=255<<24|(c<f+O*.5?p:this.A0);
if(z>m){_=Math.max(0,m-z+1);o=y;y=4286611584}else if(!H){o=y&16777215}B[v+0]=(1-_)*(y>>>16&255)+_*(o>>>16&255);
B[v+1]=(1-_)*(y>>>8&255)+_*(o>>>8&255);B[v+2]=(1-_)*(y>>>0&255)+_*(o>>>0&255);B[v+3]=(1-_)*(y>>>24&255)+_*(o>>>24&255)}if(z>f){B[(c*W+D)*4+3]=Math.max(0,255*(f-z+1))}}}function k(R){var h=R<<2;
B[h]=0;B[h+1]=0;B[h+2]=0;B[h+3]=255}function S(R){var h=R<<2;B[h]=255;B[h+1]=255;B[h+2]=255;B[h+3]=255}var L=this.q3*O+2,X=W-L>>>1,s=X+L-1;
if(H&&L<W)for(var R=0;R<L;R++){var M=X*W+X+R,V=s*W+X+R,e=(X+R)*W+X,Y=(X+R)*W+s;k(M);k(V);k(e);k(Y);if(R!=0&&R!=L-1){S(M+W);
S(V-W);S(e+1);S(Y-1)}}if(!H)for(var R=-9;R<=9;R++){if(-3<R&&R<3)continue;var J=W>>>1,D=J*W+J+R,c=(J+R)*W+J;
S(D-W);k(D);S(D+W);S(c-1);k(c);S(c+1)}var G=A.pk.mj(0,0,["#"+j.E2(p),"RGB "+(p>>>16&255)+","+(p>>>8&255)+","+(p>>>0&255)]),Z=G[1];
Z.y=0;Z.x=W-Z.v>>>1;j.hk(G[0],Z,B,a);var F={Xt:B,n7:a,h1:new fc(C.x+T.x,C.y+T.y)},b=new ea(P.E.T,!0);
b.data={e:P.C.ru,MN:F};q.K(b)};A.vD.prototype.HO=function(n,q,p,E,T,i){var H=this.YV;if(H){H.HO(n,q,p,E,T);
return}if(this.Fd){this.Fd=null;if(i)this.g3(n,q,p,E,T,this.A0);var Z=new ea(P.E.T,!0);Z.data={e:P.C.ru,MN:"default"};
q.K(Z)}};A.vD.prototype.g3=function(n,q,p,E,T,i){if(i==null)i=A.vD.wt(n,T,this.q3,this.G0);var H=new ea(P.E.T);
H.data={e:P.C.Th,sQ:cF._H,df:E&&E.r(aj.sL)?1:0,k:i};q.K(H);return i};A.vD.wt=function(n,q,p,E){if(E==null)E=2;
var T=n.c.hQ(q.x,q.y),i,H,I=0,x=0,U=0;if(E==0&&n.p.length!=0){var Z=n.h[n.p[0]];i=Z.buffer;H=Z.rect}else{i=E==2?n.Zk():n.Zk(n.p[0]);
H=new eL(0,0,n.v,n.o)}var w=Math.floor(T.x)-H.x,d=Math.floor(T.y)-H.y,O=(p-1)/2,W=Math.max(0,w-O),C=Math.max(0,d-O),a=Math.min(H.v,w+O+1),B=Math.min(H.o,d+O+1),$=(a-W)*(B-C);
for(var w=W;w<a;w++)for(var d=C;d<B;d++){var R=4*(d*H.v+w);I+=i[R];x+=i[R+1];U+=i[R+2]}I=Math.round(I/$);
x=Math.round(x/$);U=Math.round(U/$);return I<<16|x<<8|U};A.vD.prototype.em=function(n){var q=n.US;this.q3=[1,3,5,11,31][q[0]];
this.G0=q[1];this.acm=q[2];this.GE=q[3]};A.je=function(){A.pk.call(this,[10,6],A.a9H,"tools/gradient");
this.US={f:JSON.parse(iq.Xc.tY).v,Tp:"Lnr",eJ:!1,apu:!1,als:"norm",Ik:1};this.PA=!1;this.dZ=null};A.je.prototype=new A.pk;
A.je.prototype.enable=function(n,q,p,E){var T=new ea(P.E.T,!0);T.data={e:P.C.ru,MN:"default"};q.K(T)};
A.je.prototype.em=function(n){this.US=n.sQ};A.je.prototype.LA=function(n,q,p,E,T){if(!n.zP())return;
this.dZ=n.c.hQ(T.x,T.y);this.dZ=A.Wh.My(n,this.dZ,p);this.PA=!0};A.je.prototype.Tw=function(n,q,p,E,T){if(!this.PA)return;
var i=n.c.hQ(T.x,T.y);i=A.Wh.My(n,i,p);if(E.r(aj.$t))i=A.je.Um(this.dZ,i);n.H.f4={W:[this.dZ.x,this.dZ.y,i.x,i.y],F:["M","L"]};
n.H.$O=[this.dZ.x,this.dZ.y,i.x,i.y];n.IJ=!0};A.je.prototype.HO=function(n,q,p,E,T){if(!this.PA)return;
var i=n.h[n.p[0]],H=n.c.hQ(T.x,T.y);H=A.Wh.My(n,H,p);if(E.r(aj.$t))H=A.je.Um(this.dZ,H);var Z=H.NH(this.dZ),w=fc.OQ(this.dZ,H,.5),d=Math.atan2(Z.y,Z.x),O=fc.vu(this.dZ,H),W=Math.sin(d),C=Math.cos(d);
if(O>2){var a;if(n.$)a=n.$.rect;else a=new eL(0,0,n.v,n.o);var B=j.U(a.P()*4),$=this.US,I=$.Tp;if(I!="Lnr"){O*=2;
w=this.dZ}j.f.Ma($.f,B,a,[C*1/O,W*1/O,-W*1/O,C*1/O],w.x,w.y,$.eJ,iq.f.types.indexOf(I),p.ny,p.iu,null,$.apu);
var x=Math.round($.Ik*256),U=B.length;if(x!=256)for(var R=0;R<U;R+=4)B[R+3]=B[R+3]*x>>>8;var N=new ea(P.E.u);
N.i=A.pu;N.data={e:"fillBMP",T$:B,pz:$.als,as:this.name};q.K(N)}n.H.f4=null;n.H.$O=[];n.IJ=!0;this.PA=!1};
A.je.Um=function(n,q){if(n.rv(q))return n;var p=q.x-n.x,E=q.y-n.y,T=Math.abs(p),i=Math.abs(E);if(T>i)i=T/2>i?0:T;
if(i>T)T=i/2>T?0:i;T=p>0?T:-T;i=E>0?i:-i;var H=Math.sqrt(p*p+E*E)/Math.sqrt(T*T+i*i);return new fc(n.x+T*H,n.y+i*H)};
A.je.Xm=function(n,q,p,E,T,i,H){if(H==null)H=P.z("canvas","");var Z=H.getContext("2d");H.width=q;H.height=p;
var w=new eL(0,0,q,p),d=j.U(q*p*4);j.nh(d,q,p,4);var O=Math.sin(E),W=Math.cos(E),C=j.U(q*p*4);j.f.Ma(n,C,w,[W*1/q,O*1/q,-O*1/p,W*1/p],q/2,p/2,!1,0,T,i);
j.a.Ef("norm",C,w,d,w,w,1);var a=Z.getImageData(0,0,q,p);j.Sa(d,a.data);Z.putImageData(a,0,0);return H.toDataURL()};
A.je.afp=function(n,q,p){var E=JSON.parse(JSON.stringify(n));for(var R=0;R<E.Clrs.v.length;R++){var T=E.Clrs.v[R].v,i=T.Type.v.Clry;
if(i=="UsrS")continue;var H=i=="FrgC"?q:p;T.Type.v.Clry="UsrS";T.Clr={t:"Objc",v:j.f.iB({_:H>>16&255,q:H>>8&255,X:H&255})}}return E};
A.tf=function(){A.pk.call(this,[10,7],A.NZ,"tools/hand");this.Fd=new fc(0,0);this.jL=null;this.nC=0};
A.tf.prototype=new A.pk;A.tf.prototype.JZ=function(n,q,p,E,T){var i=n.e;if(i=="setcls"){p.c.mc=n.mc;
p.IJ=!0;p.Ln=!0}if(i=="scroll"&&!E.r(aj.sL)){if(E.r(aj.Fj))A.tf.JG(p,p.c.t.x-n.MZ.y,p.c.t.y-n.MZ.x);
else A.tf.JG(p,p.c.t.x-n.MZ.x,p.c.t.y-n.MZ.y)}};A.tf.prototype.enable=function(n,q,p,E){this.jL=null;
var T=new ea(P.E.T,!0);T.data={e:P.C.ru,MN:"grab"};q.K(T);if(n&&Date.now()-this.nC<300){T.type=P.E.u;
T.i=A.$v;T.data={e:"adapt",k:"fitscr"};q.K(T)}this.nC=Date.now()};A.tf.prototype.LA=function(n,q,p,E,T){this.jL=n.c.t.clone();
this.Fd.Gw(T.x,T.y)};A.tf.prototype.Tw=function(n,q,p,E,T){if(!T.fk)return;if(this.jL==null)this.LA(n,q,p,E,T);
A.tf.JG(n,this.jL.x+(T.x-this.Fd.x),this.jL.y+(T.y-this.Fd.y))};A.tf.prototype.HO=function(n,q,p,E,T){this.jL=null};
A.tf.JG=function(n,q,p){var E=n.c.n,T=n.c.fM,i=T.v,H=T.o,Z=n.v*E,w=n.o*E,d=Z<i&&w<H,O=i/2+Z/2-64,W=H/2+w/2-64;
n.c.t.Gw(Math.max(-O,Math.min(O,q)),Math.max(-W,Math.min(W,p)));n.Ln=!0};A.yW=function(){A.pk.call(this,[10,47],A.a34,"tools/rview");
this.Fd=new fc(0,0);this.dG=null;this.agE=null;this.nC=0};A.yW.prototype=new A.pk;A.yW.prototype.enable=function(n,q,p,E){this.jL=null;
var T=new ea(P.E.T,!0);T.data={e:P.C.ru,MN:"grab"};q.K(T);if(n&&Date.now()-this.nC<300&&n.c.H9!=0){n.c.H9=0;
n.IJ=!0}this.nC=Date.now();if(n)this.Ug(n,q)};A.yW.prototype.disable=function(n,q,p,E,T){if(n)this.Ug(n,q)};
A.yW.prototype.X9=function(n,q,p,E){if(n)this.Ug(n,q)};A.yW.prototype.LA=function(n,q,p,E,T){this.Fd.Gw(T.x,T.y);
var i=n.c;this.dG=i.hQ(i.fM.v/2,i.fM.o/2);this.agE=i.w5()};A.yW.prototype.Tw=function(n,q,p,E,T){if(!T.fk)return;
var i=n.c,H=this.dG,Z=this.Fd,w=new fc(i.fM.v/2,i.fM.o/2),d=Math.atan2(T.y-w.y,T.x-w.x),O=Math.atan2(Z.y-w.y,Z.x-w.x);
this.Ae(n,q,this.agE.clone(),H,d-O)};A.yW.prototype.em=function(n,q,p,E){this.Ae(p,q,null,null,n.Yf-p.c.H9);
p.c.H9=n.Yf};A.yW.prototype.Ae=function(n,q,p,E,T){var i=n.c;if(p==null)p=i.w5();if(E==null)E=i.hQ(i.fM.v/2,i.fM.o/2);
p.translate(-E.x,-E.y);p.rotate(T);p.translate(E.x,E.y);i.sV(p);if(n.v*i.n<i.fM.v&&n.o*i.n<i.fM.o)i.t.Gw(0,0);
n.IJ=!0;this.Ug(n,q)};A.yW.prototype.Ug=function(n,q){var p=new ea(P.E.T,!0);p.data={e:P.C.R2,i:this.id,Yf:n.c.H9};
q.K(p)};A.Ev=function(){A.X5.call(this,[10,25],A.Ys,"tools/hbrush")};A.Ev.prototype=new A.X5("");A.Ev.prototype.HO=function(n,q,p,E,T){if(this.$s==null)return;
this.fU(n,"heal",this.$s.V_(),this.$s.UB(),this.$s.o2());this.M(n,this.$s.o2());A.o8.prototype.HO.call(this,n,q,p,E,T);
if(!this.US.algnd)this.t=null};A.Lz=function(n){A.pk.call(this,n?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],n?A.dq:A.cY,n?"tools/vtype":"tools/htype");
this.I$=[];this.eL=null;this.eP=null;this.caller=null;this.aa=1;this.ec=null;this.ab3=0;this.EU=0;this.a5i=null;
this.Yq=null;this.Dy=null;this.S7=null;this.nO=null;this.lw=null;this.aqA=null;this.Ht=null;this.rg=null;
this.l2=null;this.aaE=null;this.md=!1;this.Qv=!1;this.OE=!1;this.DS=null;this.mt=null;this.a3G=null;
this.Fh=!1;this.jr=!1;this.A2=-1;this.q$=-1;this.OZ=document.createElement("textarea");this.OZ.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.OZ.addEventListener("input",this.Ab.bind(this),!1);this.OZ.addEventListener("keydown",this.a2w.bind(this),!1)};
A.Lz.prototype=new A.pk;A.Lz.prototype.tU=function(n){return n.fk};A.Lz.prototype.bM=function(n,q,p,E){if(this.Dy!=null||this.id==A.dq)return;
this.caller=q;this.eL=n;var T=this.hx(n);if(T.length!=0){var i=null,H=[],Z=[];for(var R=0;R<T.length;
R++){var w=n.h[T[R]],d=w.add.TySh,O=0,W=hx.Q2(d.Bd).length-2,C=hx.o1(d.Bd,O,W);hx.gh(C,A.Z.SD(d.B));
if(C.h9.Font!=null)C.h9.Font=C.GF[C.h9.Font].Name;i=C.GF;H.push(C.h9);Z.push(C.yA)}var C={GF:i,h9:hx.LT(H),yA:hx.LT(Z)};
if(C.h9.Font!=null)hx.cl(C,C.h9.Font);this.GA(q,C,d)}};A.Lz.prototype.hx=function(n){var q=[];for(var R=0;
R<n.p.length;R++)if(n.h[n.p[R]]&&n.h[n.p[R]].add.TySh)q.push(n.p[R]);return q};A.Lz.prototype.JZ=function(n,q,p,E,T){if(n.e=="insertText"&&this.Dy){var i=this.OZ,H=i.value,Z=i.selectionStart,w=i.selectionEnd;
i.value=H.slice(0,Z)+n.k+H.slice(w);i.selectionStart=i.selectionEnd=Z+n.k.length;this.Ab(null);i.focus()}if(n.e=="updateStyles"){if(this.Dy==null){var d=this.hx(p),O=!1;
if(d.length!=0){this.da(p,q,T,d);for(var R=0;R<d.length;R++){var W=p.h[d[R]],C=W.add.TySh;hx.o0(C,this.aa);
this.Dy=W;var a=hx.Q2(C.Bd);this.A2=0;this.q$=a.length-1;hx.X6(C.Bd,this.A2,this.q$,this.wv(T,C));var B=this.Ea(p,T);
if(B==!1)O=!0}if(O){this.Fh=!0;return}this.W3(p,q)}return}this.V0(T)}if(n.e.startsWith("warp")){var $=this.jr;
if(n.e=="warp"||n.e=="warpCancel"){if(this.Dy==null)return;if(n.e=="warp")this.Dy.add.TySh.vX=n.bF;else this.Dy.add.TySh.vX=this.aqA;
var p=this.eL;this.Ea(p,T);if(!$)this.AD(p)}if(n.e!="warp")this.OZ.focus();if((n.e=="warpConfirm"||n.e=="warpCancel")&&$){this.jr=!1;
if(n.e=="warpConfirm")this.W3(p,q);else this.dv(p,q)}}if(n.e=="editCurr"){if(T.tj!=A.cY){this.ec=T.tj;
var I=new ea(P.E.T,!0);I.data={e:P.C.Tk,i:A.cY};q.K(I)}if(this.Dy!=null)this.disable(p,q,T,E);this.eL=p;
this.eP=T;this.caller=q;this.da(p,q,T,[n.oT]);var a=hx.Q2(this.Dy.add.TySh.Bd);this.A2=0;this.q$=a.length-1;
this.AD(p);this.vV();this.OZ.focus()}if(n.e=="switchPntPrgr"){if(this.Dy)return;var W=p.h[p.p[0]],C=W.add.TySh,x=C.B.SD(),U=JSON.parse(JSON.stringify(C.Bd)),N=hx.d_(U),m=N==1?hx.my(U):[0,0,Math.round(W.rect.v*1.05/x),Math.round(W.rect.o*1.25/x)],f=hx.o1(U,0,0),c=f.GF[f.h9.Font].Name,D=T.s4.oD(c),z=[0,m[2],m[2]/2][f.yA.Justification%3],_=D?e7.$q(D,c,f.h9):f.h9.FontSize*.8;
hx.vF(U,1-N);if(N==0){z=-z;_=-_;hx.XM(U,[0,0,m[2],m[3]])}var v=new b$(1,0,0,1,z,_);v.concat(C.B);this.JZ({nw:p.p[0],e:"newED",YS:U,B:v,adT:[16,3,N==1?0:1]},q,p,E,T)}if(n.e=="newED"){var W=p.h[n.nw],C=W.add.TySh,o=this.lF(p,[n.nw]);
C.Bd=n.YS;if(n.B)C.B=n.B;var y=new e7(C.Bd,T.s4),k=hj.JS(y,C);W.rect=k.n7;W.buffer=k.OT;W.M();p.M();
var S=new d4(n.adT?n.adT:this.name,this);S.data={cm:o,ea:this.lF(p,[n.nw])};p.Dc(S)}if(n.e=="fromAction"){var L=n.YD.ga.Usng.v,X=L.TxtC.v,s=[];
for(var R=0;R<2;R++){var M=X[R==0?"Hrzn":"Vrtc"].v,V=M.val;if(M.type=="#Prc")V=(R==0?p.v:p.o)*(V/100);
s[R]=V}this.IC(p,q,T,E,p.c.eh(s[0],s[1]));var W=p.h[p.p[0]],C=W.add.TySh,l=C.Bd,H=hx.Q2(l);hx.cH(l,0,H.length-1);
hx.V8(l,0,L.Txt.v.replace(/\r/g,"\n"));H=hx.Q2(l);for(var N=0;N<2;N++){var e=L[N==0?"Txtt":"paragraphStyleRange"].v;
for(var R=0;R<e.length;R++){var Y=e[R].v,Z=Y.From.v,w=Math.min(Y.T.v-1,H.length-1);Y=Y[N==0?"TxtS":"paragraphStyle"].v;
var J=hx.o1(l,Z,w),G=N==0?J.h9:J.yA;for(var F in Y){var b=Y[F].v;if(F=="Sz")G.FontSize=Math.round(b.val);
else if(F=="fontPostScriptName")hx.cl(J,b);else if(F=="Algn")G.Justification={Left:1,Cntr:2}[b.Alg];
else if(F=="leading")G.Leading=Y[F].v.val;else if(F=="baselineShift")G.BaselineShift=Y[F].v.val;else if(F=="autoLeading")G.AutoLeading=Y[F].v;
else if(F=="syntheticBold")G.FauxBold=Y[F].v;else if(F=="syntheticItalic")G.FauxItalic=Y[F].v;else if(F=="Trck")G.Tracking=Y[F].v;
else if(F=="verticalScale")G.VerticalScale=Y[F].v/100;else if(F=="horizontalScale")G.HorizontalScale=Y[F].v/100;
else if(F=="Clr")G.FillColor={Type:1,Values:[1,b.Rd.v/255,b.Grn.v/255,b.Bl.v/255]}}hx.X6(l,Z,w,J)}}var y=new e7(C.Bd,T.s4),k=hj.JS(y,C);
W.rect=k.n7;W.buffer=k.OT;W.M();p.M();this.W3(p,q)}};A.Lz.prototype.V0=function(n){var q=Math.min(this.A2,this.q$),p=Math.max(this.A2,this.q$),E=this.Dy.add.TySh;
hx.o0(E,this.aa);hx.X6(E.Bd,q,p-1,this.wv(n,E));var T=this.eL,i=this.Ea(T,n);if(i)this.AD(T);if(document.activeElement.tagName.toLowerCase()!="input")this.OZ.focus()};
A.Lz.prototype.Ou=function(n){return this.I$.indexOf(n)!=-1};A.Lz.prototype.enable=function(n,q,p,E){var T=this.OZ;
if(!P.pM(T))q.g.appendChild(T);this.Ht="default";this.Pl(q)};A.Lz.prototype.vo=function(){return this.Dy!=null};
A.Lz.Ms=function(n,q){for(var R=n.h.length-1;R>=0;R--){var p=n.h[R];if(p.add.TySh&&p.rect.Z4(q)&&n.tT(R)){var E=p.d9(2)||p.d9(31);
return E?-2:R}}return-1};A.Lz.prototype.LA=function(n,q,p,E,T){this.eL=n;this.eP=p;this.caller=q;var i=n.c.hQ(T.x,T.y),H=this.Dy==null;
if(H){var Z=A.Lz.Ms(n,i);if(Z==-2){alert(fE.get([6,57,0]));return}if(Z>=0){if(!hj.HU(n.h[Z].add.TySh,p.s4)){alert("Fonts not loaded yet");
return}this.da(n,q,p,[Z])}else{this.OE=!0;this.DS=T;return}}var w=H?-1:hx.d_(this.Dy.add.TySh.Bd),d=this.l2?this.l2:this.rg;
if(d&&d.LA(n,p,E,i)&&j.bF.wO(this.Dy.add.TySh.vX)||!H&&j.O.QR(i,this.Dy.rect)>20/n.c.n&&(w==0||w==1)){this.md=!0;
this.mt=i;this.a3G=this.Dy.add.TySh.B.clone();if(this.A2==-1&&this.q$==-1)this.A2=this.q$=this.lL(i)}else{if(this.nO==null){alert("Fonts not loaded yet");
return}this.Qv=!0;this.A2=this.q$=this.lL(i);var O=Date.now();if(O-this.ab3>300)this.EU=0;this.EU++;
this.ab3=O;if(this.EU==2)this.ap2();if(this.EU==3)this.aou();if(this.EU>1){this.Qv=!1}}this.vV();this.AD(n)};
A.Lz.prototype.da=function(n,q,p,E){var T=n.h[E[0]];this.Dy=T;this.TH(q,P.E.T,{e:P.C.R2,i:this.id,J4:"showactive"});
this.S7=E;n.p=E.slice(0);n.P3();n.rw=!0;this.lw=this.lF(n,E);this.Q8(T.add.TySh);this.Ea(n,p)};A.Lz.prototype.Q8=function(n){if(hx.d_(n.Bd)!=1)return;
var q=hx.my(n.Bd);q=new eL(0,0,q[2]-q[0],q[3]-q[1]);var p=[q.x,q.y,q.x+q.v,q.y,q.x+q.v,q.y+q.o,q.x,q.y+q.o];
j.O.B(p,n.B,p);this.rg=new bk(p,!1,!1,!1,!0)};A.Lz.prototype.ap2=function(){var n=hx.Q2(this.Dy.add.TySh.Bd);
this.A2=this.DH(n,this.A2);this.q$=this.IZ(n,this.A2)};A.Lz.prototype.DH=function(n,q){var p=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",E=[];
for(var R=0;R<p.length;R++)E.push(p.charAt(R));var T=E.indexOf(n[q])==-1?!0:!1;for(var R=q-1;R>=0;R--)if(E.indexOf(n.charAt(R))!=-1==T)return R+1;
return 0};A.Lz.prototype.IZ=function(n,q){var p=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",E=[];for(var R=0;
R<p.length;R++)E.push(p.charAt(R));var T=E.indexOf(n[q])==-1?!0:!1;for(var R=q+1;R<n.length;R++)if(E.indexOf(n.charAt(R))!=-1==T)return R;
return n.length-1};A.Lz.prototype.aou=function(){var n=this.nO.ac4(this.A2);this.A2=n[0];this.q$=n[1]};
A.Lz.prototype.Pl=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.ru,MN:this.Ht};n.K(q)};A.Lz.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.Dy;
if(!T.fk){var Z="default",w=this.rg,d=this.l2?this.l2:w;if(d&&j.bF.wO(H.add.TySh.vX)){var O=d.na(i,n.c.n);
if(O)Z=O;else if(d==w&&w.iF(i))Z="text"}else if(H&&j.O.QR(i,H.rect)>20/n.c.n)Z="move";else if(A.Lz.Ms(n,i)>=0)Z="text";
if(Z!=this.Ht){this.Ht=Z;this.Pl(q)}}var W=this.DS;if(this.OE&&Math.min(T.x-W.x,T.y-W.y)>4/n.c.n){this.OE=!1;
this.IC(n,q,p,E,T);H=this.Dy;this.md=!0;this.rg=new bk(null,!1,!1,!1,!0);var C=n.c.hQ(this.DS.x,this.DS.y);
C.x=Math.round(C.x);C.y=Math.round(C.y);this.rg.LA(n,p,E,C)}if(this.md){var a=H.add.TySh;if(this.l2){this.l2.Tw(n,p,E,i);
var B=j.V.RE(j.V.EY(this.l2.Rl(),this.aaE));a.B=B;this.Ea(n,p);hx.D6(a)}else if(this.rg){this.rg.Tw(n,p,E,i);
var $=a.B.clone(),I=Math.atan2($.X,$.jS);$.rotate(I);var B=j.V.RE(j.V.EY(this.rg.Rl())),x=Math.atan2(B.X,B.jS);
B.rotate(x);if(!isNaN(B.jS)&&B.jS*B.FF-B.X*B.kr!=0){var U=new eL(0,0,B.jS/$.jS,B.FF/$.FF),N=Math.round(U.v),m=Math.round(U.o),f=a.Bd.Curve;
if(f){var c=hx.my(a.Bd),D=new b$(N/c[2],0,0,m/c[3],0,0);j.O.B(f.Points,D,f.Points);hx.D6(a)}hx.XM(a.Bd,[0,0,N,m]);
a.B=j.V.RE(j.V.EY(this.rg.Rl(),U));this.Ea(n,p);hx.D6(a)}}else{var z=i.x-this.mt.x,_=i.y-this.mt.y;a.B=this.a3G.clone();
var v=new fc(a.B.R_+z,a.B.so+_);v=A.Wh.My(n,v,p);a.B.R_=v.x;a.B.so=v.y;this.Ea(n,p)}}if(this.Qv)this.q$=this.lL(i);
if(this.md||this.Qv)this.AD(n)};A.Lz.prototype.IC=function(n,q,p,E,T){var i=n.Jy(),H=i[0],Z=i[1],w=n.Je();
w.add.lnsr="rend";var d=n.h.slice(0);w.WR("Text layer "+d.length);this.Dy=w;var O=n.p.length==0?n.h.length-1:n.p[n.p.length-1],W=O+1;
if(d[O].add.lsct==fX.eV)W--;this.lw={th:d.slice(0),Nu:n.p.slice(0)};d.splice(W,0,w);n.p=[W];this.A2=this.q$=0;
n.Kq(d);this.lw.Ro=d.slice(0);this.lw.ii=n.p.slice(0);this.TH(q,P.E.T,{e:P.C.R2,i:this.id,J4:"showactive"});
var C=n.c.hQ(T.x,T.y),a=p.Bb;console.log(a);if(this.id==A.dq){a=JSON.parse(JSON.stringify(a));a.h9.BaselineDirection=1}w.add.TySh=hx.sB(C.x,C.y,a);
var B=w.add.TySh,$=B.Bd;if(this.id==A.dq)$._LineOrientation=2;hx.o0(B,this.aa);if(T.fk)hx.vF($,1);else{hx.vF($,0);
var I=H[Z.pop()],x=I?I.add.vmsk:null;if(x){x=x.clone();var U=x.Q,m,f;for(var R=0;R<U.length;R++)if(U[R].HW!=null)U[R].HW=0;
var N=4*P.D()/n.c.n;m=j.G.GM(x.Q,C,!0,N);if(m.ap==-1)m=j.G.GM(x.Q,C);if(m.ap!=-1){hx.vF($,1);var c=j.G.HC(U,m.ap),D=j.G.mE(U,m.ap)-1;
U=x.Q=U.slice(0,2).concat(U.slice(c,c+D+1));x.p=[];B.add={vmsk:x,vogk:g.J0(U)};$.Curve={};hx.Od(B);if(m.Og!=null){var z=e7.Xq($.Curve);
j.O.B(z[0],B.B,z[0]);var _=j.O.YJ(z[0],C.x,C.y),v=p.Bb.yA.Justification;if(v==2||v==5){var o=(z[2][_]+z[3]*.5)%z[3];
_=e7.MI(o,z[2])}var k=z[1][_];k=k%D;x.yF=[k,k];hx.Od(B)}else this.Q8(B)}}}return w};A.Lz.prototype.HO=function(n,q,p,E,T,i){if(i){this.OE=!1;
return}if(this.Dy==null&&!this.OE)return;var H=n.c.hQ(T.x,T.y),Z=this.OE;if(this.OE){this.OE=!1;this.IC(n,q,p,E,T);
this.Qv=!0}if(this.md||this.Qv){this.AD(n);this.vV();if(Z)this.V0(p)}if(this.md&&this.rg)this.rg.HO(n,p,E,H);
this.md=this.Qv=!1;this.Fz(n,p,E);this.OZ.focus()};A.Lz.prototype.vV=function(){var n=this.Dy.add.TySh,q=Math.min(this.A2,this.q$),p=Math.max(this.A2,this.q$),E,T;
if(q==p){var i=hx.Q2(n.Bd);if(q==0||i.charAt(q-1)=="\n")E=T=q;else E=T=q-1}else{E=q;T=p-1}var H=hx.o1(n.Bd,E,T);
hx.gh(H,A.Z.SD(n.B));this.GA(this.caller,H,n)};A.Lz.prototype.GA=function(n,q,p){this.TH(n,P.E.T,{e:P.C.Th,sQ:cF.Bc,Bb:q});
var E=this.aa=hx.tl(p);this.TH(this.caller,P.E.T,{e:P.C.R2,i:this.id,J4:"changeAA",Il:E})};A.Lz.prototype.IY=function(n,q,p,E){if(E.r(aj.eN))this.dv(n,q);
var T=this.Dy;if(T)if(this.l2==null&&E.r(aj.Fj)){var i=T.add.TySh,H=hx.d_(i.Bd),Z;if(H==1){Z=hx.my(i.Bd);
Z=new eL(0,0,Z[2]-Z[0],Z[3]-Z[1])}else Z=this.nO.bo();var w=[Z.x,Z.y,Z.x+Z.v,Z.y,Z.x+Z.v,Z.y+Z.o,Z.x,Z.y+Z.o];
j.O.B(w,i.B,w);this.l2=new bk(w,!0,!0,!1,!1);this.aaE=Z;this.AD(this.eL)}else this.Fz(n,p,E)};A.Lz.prototype.Fz=function(n,q,p){var E=this.Dy;
if(E&&!this.md&&this.l2!=null&&!p.r(aj.Fj)){this.l2.HO(n,q,p,null);this.l2=null;this.Q8(E.add.TySh);
this.AD(this.eL)}};A.Lz.prototype.disable=function(n,q,p,E){var T=this.Dy;this.W3(n,q)};A.Lz.prototype.em=function(n,q,p,E,T){if(this.jr)return;
if(n.J4=="commit")this.W3(p,q);if(n.J4=="cancel")this.dv(p,q);if(n.J4=="changeAA"){this.aa=n.Il;if(p!=null)this.JZ({e:"updateStyles"},q,p,E,T)}if(n.J4=="showwarp"){if(p==null)return;
if(this.Dy==null){var i=p.h[p.p[0]],H=i.add.TySh;if(H==null)return;this.da(p,q,T,[p.p[0]]);this.OZ.focus();
this.jr=!0}this.aqA=this.Dy.add.TySh.vX;var Z=new ea(P.E.T,!0);Z.data={e:P.C.Lr,ov:"textwarp"};q.K(Z)}};
A.Lz.prototype.ts=function(n,q){if(q!=cF.Jv)return;if(this.Fh){this.Fh=!1;var p=this.eL,E=this.S7;for(var R=0;
R<E.length;R++){this.Dy=p.h[E[R]];this.Ea(p,n)}this.W3(p,this.caller);return}if(this.Dy)this.V0(n)};
A.Lz.prototype.wv=function(n,q){var p=JSON.parse(JSON.stringify(n.Bb));hx.gh(p,1/A.Z.SD(q.B));return p};
A.Lz.prototype.NJ=function(n,q){if(n.cm!=null)this.hY(q,n.ea);else this.nW(q,n.Ro,n.ii)};A.Lz.prototype.iP=function(n,q){if(n.cm!=null)this.hY(q,n.cm);
else this.nW(q,n.th,n.Nu)};A.Lz.prototype.hY=function(n,q){for(var R=0;R<q.length;R++){var p=q[R],E=p.nw,T=n.h[E];
T.buffer=p.hc;T.rect=p.n7.clone();T.M();var i=T.add.TySh;i.vX=p.bF;i.i0=p.i0.clone();i.B=p.B.clone();
i.Bd=JSON.parse(JSON.stringify(p.Bd));T.$Y()}n.M()};A.Lz.prototype.lF=function(n,q){var p=[];for(var R=0;
R<q.length;R++){var E=q[R],T=n.h[E],i=T.add.TySh;p.push({nw:E,B:i.B.clone(),bF:JSON.parse(JSON.stringify(i.vX)),i0:i.i0.clone(),Bd:JSON.parse(JSON.stringify(i.Bd)),hc:T.buffer.slice(0),n7:T.rect.clone()})}return p};
A.Lz.prototype.nW=function(n,q,p){n.p=p;n.Kq(q);n.M();n.l0=!0};A.Lz.prototype.Ea=function(n,q,p){if(p==null)p=!1;
var E=this.Dy.add.TySh;if(!hj.HU(E,q.s4))return!1;this.nO=new e7(E.Bd,q.s4);if(!p){var T=hx.Q2(E.Bd);
this.OZ.value=T.slice(0,T.length-1)}var i=hj.JS(this.nO,E);if(j.bF.wO(E.vX))E.i0=new eL;else{if(hx.d_(E.Bd)==1){var H=hx.my(E.Bd),eR=i.i0.y;
E.i0=new eL(0,eR,H[2]-H[0],H[3]-H[1]-eR)}else{E.i0=i.i0}}var Z=this.Dy.rect;this.Dy.rect=i.n7;this.Dy.buffer=i.OT;
this.Dy.M();n.ko();n.M(n.root.RT(i.n7.AL(Z),n,n.h.indexOf(this.Dy)));return!0};A.Lz.prototype.Ab=function(n){if(this.Dy==null||this.jr)return;
var q=this.OZ.selectionStart,p=this.Dy.add.TySh,E=hx.Q2(p.Bd),T=this.OZ.value+"\n",i=Math.min(this.A2,this.q$),H=Math.max(this.A2,this.q$),W=!1;
this.A2=Math.min(q,i);if(T.length-q<E.length-this.q$)this.q$=E.length-T.length+q;if(E!=T){while(this.A2>0&&E.charAt(this.A2-1)!=T.charAt(this.A2-1))this.A2--}var Z=E.substring(0,this.A2),w=E.substring(this.q$,E.length),d=T.substring(this.A2,T.length-w.length);
hx.cH(p.Bd,this.A2,this.q$);hx.V8(p.Bd,this.A2,d);var O=this.wv(this.eP,p),C=-1,a=Array.from(d);for(var R=0;
R<a.length;R++)C=Math.max(C,a[R].codePointAt(0));if(C!=-1&&C>128&&O.h9.Font!=null){var B=O.GF[O.h9.Font].Name,$=this.eP.s4.kj(C,B,O.GF);
if(B!=$){hx.cl(O,$);W=!0}}if(this.Yq!=null&&d==this.Yq){var I=JSON.parse(this.a5i);O.h9=I.h9;O.GF=I.GF;
W=!0}hx.X6(p.Bd,this.A2,this.A2+d.length-1,O);this.A2=this.q$=Z.length+d.length;var x=this.eL,U=this.Ea(x,this.eP,!0);
if(U)this.AD(x,!0);if(W)this.vV()};A.Lz.prototype.a2w=function(n){if(this.Dy==null||this.jr)return;if(this.Dy==null)return;
var q=aj,p=0,E=0,x=!1;if(q.ju(n.code,q.rS))p=1;if(q.ju(n.code,q.VL))p=-1;if(q.ju(n.code,q.Co))E=-1;if(q.ju(n.code,q.q2))E=1;
var T=n.ctrlKey||n.metaKey,i=q.ju(n.code,aj.aqS),H=q.ju(n.code,aj.ahF);if(q.ju(n.code,aj.T4)&&T){this.W3(this.eL,this.caller);
return}if(q.ju(n.code,aj.rE)){n.preventDefault();var Z=this.OZ,w=Z.value,d=Z.selectionStart,O=Z.selectionEnd;
Z.value=w.substring(0,d)+"\t"+w.substring(O);Z.selectionStart=Z.selectionEnd=d+1;this.Ab(null);return}if((q.ju(n.code,q.lI)||q.ju(n.code,q.GX))&&T){var W=this.A2,C=this.q$;
if(W>C){var a=W;W=C;C=a}var B=this.Dy.add.TySh,$=hx.Q2(B.Bd);if(W!=C){this.Yq=$.slice(W,C);this.a5i=JSON.stringify(this.eP.Bb)}}var I=hx.Q2(this.Dy.add.TySh.Bd);
if(p!=0||E!=0||i||H){n.preventDefault();var U=this.A2;if(p!=0){if(T&&p==-1)U=this.DH(I,this.A2-1);else if(T&&p==1)U=this.IZ(I,this.A2);
else{var Z=this.OZ,w=Z.value;U=this.A2+p;if(U!=0&&w.codePointAt(U-1)>65535)U+=p}}else if(E!=0){var N=this.nO.QV(this.A2);
if(E==-1&&N.aN==0)U=0;else if(E==1&&N.aN==this.nO.aqB()-1)U=99999999999;else U=this.nO.AN(new fc(N.n7.x+N.n7.v/2,0),N.aN+E)}else if(i){var m=this.A2-1;
while(m>0&&I.charCodeAt(m)!=10)m--;U=m==0?0:m+1}else if(H){var m=this.A2;while(m<I.length-1&&I.charCodeAt(m)!=10)m++;
U=m}U=Math.max(0,Math.min(I.length-1,U));if(n.shiftKey)this.A2=U;else this.A2=this.q$=U;x=!0}if(q.ju(n.code,aj.C)&&T){this.A2=0;
this.q$=I.length-1;x=!0}if(x){this.vV();this.AD(this.eL)}};A.Lz.a4p=function(n,q){var p=n.length;if(p!=q.length)return!1;
for(var R=0;R<p;R++)if(n[R].nw!=q[R].nw)return!1;return!0};A.Lz.prototype.W3=function(n,q){if(this.Dy==null)return;
this.Dy.$Y();var p=this.lw;if(p instanceof Array){var E=this.lF(n,this.S7),T=n.ft();if(T!=null&&T.i==this&&T.data.cm&&A.Lz.a4p(T.data.cm,p))T.data.ea=E;
else{var i=new d4(this.name,this);i.data={cm:p,ea:E};n.Dc(i)}}else{var i=new d4(this.name,this);i.data={th:p.th,Ro:p.Ro,Nu:p.Nu,ii:p.ii};
n.Dc(i)}this.escape(n,q)};A.Lz.prototype.dv=function(n,q){if(this.Dy==null)return;if(this.lw instanceof Array){this.hY(n,this.lw);
if(this.Dy)hx.D6(this.Dy.add.TySh)}else{n.p=this.lw.Nu;n.Kq(this.lw.th)}n.M();this.escape(n,q)};A.Lz.prototype.escape=function(n,q){this.Dy=null;
this.S7=null;this.nO=null;this.rg=null;this.OZ.blur();n.H.f4=null;n.H.TQ=null;n.H.$O=[];n.IJ=!0;this.md=!1;
this.Qv=!1;this.A2=this.q$=-1;this.TH(q,P.E.T,{e:P.C.R2,i:this.id,J4:"hideactive"});if(this.ec){var p=new ea(P.E.T,!0);
p.data={e:P.C.Tk,i:this.ec};q.K(p);this.ec=null}};A.Lz.prototype.TH=function(n,q,p,E){var T=new ea(q,!0);
T.data=p;if(E)T.i=E;n.K(T)};A.Lz.prototype.lL=function(n){var q=this.Dy.add.TySh,p=this.nO,E=q.B.clone();
E.z3();var T=E.i1(n),i=hx.UB(q,p),H=j.bF.Bh(q.vX,i),Z=j.c0.acC(H,T);if(Z==null)Z=new Float64Array(2);
T=new fc(i.x+Z[0]*i.v,i.y+Z[1]*i.o);if(p.J_){var w=p.J_.clone();w.z3();T=w.i1(T)}var d=p.AN(T);return d};
A.Lz.prototype.AD=function(n,q){if(q==null)q=!1;var p=this.Dy.add.TySh,E=hx.d_(p.Bd),T=this.nO,i=T?hx.UB(p,T):null;
n.H.$O=[];n.H.f4=null;n.H.TQ=null;var H=this.l2?this.l2:this.rg;if(H){H.wF(n,this.eP,!j.bF.wO(p.vX));
var Z=p.B.clone();Z.z3();if(T&&T.J_&&T.hw==1){var w=T.J_.clone();w.z3();Z.concat(w)}j.O.B(n.H.$O,Z,n.H.$O);
j.O.B(n.H.f4.W,Z,n.H.f4.W);if(T&&T.J_==null&&T.a4x()){var d=i.v-20,O=i.o+8;n.H.f4.W.push(d,O,d+10,O,d+5,O-5,d+5,O+5);
n.H.f4.F.push("M","L","M","L")}}else if(E==0)this.a0a(n,p,T);else n.H.f4={W:[],F:[]};var W=Math.min(this.A2,this.q$),C=Math.max(this.A2,this.q$);
if(!q){this.OZ.selectionStart=W;this.OZ.selectionEnd=C}if(T!=null){var a=function(H,m){var f=H.x,c=H.y+H.o,D=new b$;
D.translate(-f,-c);D.rotate(-m);D.translate(f,c);H.y+=H.o*.27;var N=j.O.aS(H);j.O.B(N.W,D,N.W);return N};
if(W==C){W=Math.max(W,0);var B=T.QV(W);if(B){var $=B.n7,I=this.eP.Bb.h9.FontSize;if(I!=null&&I!=0){I/=p.B.SD();
$.y+=$.o-I;$.o=I}var x=T.ak2(W);if(x!=null&&x.FY==1)$.x+=$.v;var U=a($,B.H9).W;n.H.f4.F.push("M","L");
n.H.f4.W.push(U[0],U[1],U[6],U[7])}}else{n.H.TQ={W:[],F:[]};for(var R=W;R<C;R++){var B=T.QV(R),N=a(B.n7,B.H9);
j.O.concat(n.H.TQ,N)}}}n.H.f4=hj.li(n.H.f4,p,T);n.H.TQ=hj.li(n.H.TQ,p,T);n.H.$O=hj.li({W:n.H.$O},p,T).W;
n.IJ=!0};A.Lz.prototype.a0a=function(n,q,p){if(p==null)return;n.H.$O.push(0,0);if(n.H.f4==null)n.H.f4={F:[],W:[]};
for(var R=0;R<p.yA.length;R++){var E=p.yA[R];for(var T=0;T<E.Kp.length;T++){var i=E.Kp[T],H=E.Ag.x+i.Ag.x+i.n7.x,Z=E.Ag.y+i.Ag.y+i.n7.y+i.n7.o;
n.H.f4.F.push("M","L");n.H.f4.W.push(H,Z,H+i.n7.v,Z)}}n.IJ=!0};A.JN=function(){A.Lz.call(this,!0)};A.JN.prototype=new A.Lz;
A.MX=function(){A.eY.call(this,[10,9],A.KA,"tools/lasso");this.jE="crosshair";this.gv=null;this.N9=null;
this.mt=null};A.MX.prototype=new A.eY;A.MX.prototype.IO=function(n,q,p,E){this.gv=this.Af;this.N9={W:[this.gv.x,this.gv.y],F:["M"]}};
A.MX.prototype.a_=function(n,q,p,E){this.mt=E;var T=this.N9;if(T==null)return;if(!E.fk){if(this.N9!=null&&this.Tr>1&&p.r(aj.sL)){T.W.pop();
T.W.pop();T.W.push(this.V6.x,this.V6.y);n.H.f4=T;n.IJ=!0}return}T.F.push("L");T.W.push(this.V6.x,this.V6.y);
this.gv=this.V6;if(this.r_){n.H.f4=T;n.IJ=!0}};A.MX.prototype.vo=function(){return this.N9!=null};A.MX.prototype.Ix=function(){return this.N9!=null};
A.MX.prototype.IY=function(n,q,p,E){A.eY.prototype.IY.call(this,n,q,p,E);if(this.N9&&this.Tr>1&&this.mt&&!this.mt.fk&&!E.r(aj.sL))this.bT(n,p,E)};
A.MX.prototype.Ml=function(n,q,p,E){this.mt=E;var T=this.N9;if(T==null)return;if(this.Tr>1&&p.r(aj.sL)){T.F.push("L");
T.W.push(this.V6.x,this.V6.y);return}this.bT(n,q,p)};A.MX.prototype.bT=function(n,q,p){this.finish(n,q,p,this.mt);
this.N9=null;n.H.f4=null;n.IJ=!0};A.MX.prototype.getSelection=function(n,q,p,E){if(this.Af.rv(this.V6)||!this.r_)return null;
return A.eY.pg(this.N9.W,null,this.US.anta)};A.Wh=function(){A.pk.call(this,[10,11],A.o$,"tools/move");
this.Nj=new fc(0,0);this.Vx=new fc(0,0);this.CV=null;this.tN=null;this.ya=new fc(0,0);this.FS=null;this.BW=null;
this.Q0=null;this.nC=0;this.qo=null;this.I3=[];this.su=null;this.PA=!1;this.e=0;this.IM=null;this.Wj=null;
this.VY=null;this.zv=!1;this.US={Mv:!1,aX:!1,ur:!1};this.a2H=!1;this.ae9=!1;this.rg=null;this.pa=null;
this.a0v=null;var n=[];for(var R=0;R<j.L6.ed.length;R++)n.push({name:j.L6.ed[R],J:function(q,p,E){return{LV:p.yM.XN==E}}});
this.B5=new a1(n);this.B5.R("select",this.Pg,this)};A.Wh.prototype=new A.pk;A.pk.prototype.tU=function(n){return this.PA&&this.e!=2};
A.Wh.prototype.t8=function(){return this.PA&&this.e==0};A.Wh.prototype.X9=function(n,q,p,E){this.IN(n,-this.ya.x,-this.ya.y);
this.ya.Gw(0,0);this.yP(n,null,p);this.ms(n)};A.Wh.prototype.op=function(){var n=this.US;return[n.Mv?1:0,n.aX?1:0,n.ur?1:0]};
A.Wh.prototype.Jt=function(n,q,p){var E=this.US;if(n&&n[0]!=null)E.Mv=n[0]==1;if(n&&n[1]!=null)E.aX=n[1]==1;
if(n&&n[2]!=null)E.ur=n[2]==1;var T=new ea(P.E.T,!0);T.data={e:P.C.R2,i:this.id,IQ:E,ak7:q};p.K(T)};
A.Wh.yY=function(n,q,p,E,T,i,H){if(H==null)H=[!1,!0];var Z=new eL(0,0,n.v,n.o),w=n.lR(null,T,!0),d=n.ij(w,H[0]?Z:null,H[1]?null:Z)[0],O=d.add.artd;
if(O){for(var R=0;R<d.h.length;R++)delete d.h[R].add.artb;delete d.add.artd}if(H[1]){var W=j.XU(d.Zk(),new eL(0,0,d.v,d.o),2);
A.c8.HD(d,W)}if(p!=1){var C=new eL(0,0,Math.round(d.v*p),Math.round(d.o*p));A.c8.HD(d,C);var a=[];for(var R=0;
R<d.h.length;R++)a.push(R);var B=A.Z.kt(d,a,!0);A.c8.HJ(d,new b$(p,0,0,p,0,0));A.Z.FA(d,E,a,B,1,j.V.fa(new b$(p,0,0,p,0,0)),null,!0);
d.FN()}else if(O){d.M();d.FN()}var $=[];for(var R=0;R<q.length;R++)if(d.v*d.o!=0)$.push(al.sp(d,q[R].toUpperCase(),null,null,i?i[R]:null,E));
return $};A.Wh.prototype.Za=function(n,q,p,E,T){if(n==null||n.p.length==0)return;var i=A.Wh.yY(n,[q],p,E,null)[0],H=new ea(P.E.T,!0);
H.data={e:P.C.q6,data:i,name:n.h[n.p[0]].getName()+(p==1?"":"@"+p+"x")+"."+q};T.K(H)};A.Wh.prototype.em=function(n,q,p,E,T){if(n.df=="getPNG"){this.Za(p,"png",n.UT,T,q)}else if(n.df=="getSVG"){this.Za(p,"svg",n.UT,T,q)}if(n.df=="prms"){this.US=n;
this.ms(p)}};A.Wh.abS=function(n){var eR=n.length,p=0;n.sort(function(i,H){return i[0]+i[1]/2-(H[0]+H[1]/2)});
var q=n[eR-1][0]+n[eR-1][1]-n[0][0];for(var R=0;R<eR;R++)p+=n[R][1];var E=Math.round((q-p)/(eR-1)),T=n[0][0];
for(var R=0;R<eR;R++){n[R][0]=T;T+=n[R][1]+E}};A.Wh.prototype.JZ=function(n,q,p,E,T){var i=n.e;if(i=="trsl"){var H=Math.round(n.anT),Z=Math.round(n.agH);
this.ya.Gw(H,Z);this.dF(p,q,E,T,!1,n.Y);this.IN(p,H,Z);this.yP(p,null,T)}else if(i=="gids"||i=="gidsFromLayer"){var w=n.Wj,d,O;
if(w==null)w=p.fN();if(i=="gids"){d=n.mH;var W=w[0].length,C=d[0].length;O=W==C?[23,2]:W>C?[23,3]:[23,4];
if(C==0)O=[11,15,0]}else if(i=="gidsFromLayer"){var a=[],B=[],$=p.Cq();for(var R=0;R<p.p.length;R++){var I=p.h[p.p[R]].rect;
if(I.M6())continue;a.push([0,I.x],[1,I.y],[0,I.x+I.v],[1,I.y+I.o]);B.push($,$,$,$)}O=[11,15,1];d=p.fN();
A.Wh.ZT(d,[a,B])}if(JSON.stringify(w)==JSON.stringify(d))return;var i=new d4(O,this);i.data={e:2,Wj:w,mH:d};
p.Dc(i);this.NJ(i.data,p)}else if(i=="algn"){var x=n.k;if(p==null)return;if(p.p.length<2&&!(p.$!=null&&x!=3&&x!=7)){alert(fE.get([15,7,5]));
return}var U=p.$;p.$=null;var I=U?U.rect:A.Z.UB(p);this.dF(p,q,E,T,!1);if(!this.PA)return;var N=this.qo,m={},f=[],c=[],D=[];
for(var R=0;R<N.length;R++){var z=N[R];while(p.h[z].getName()=="</Layer group>")z++;var _=p.root.io(z),v=_;
while(_.parent!=null){_=_.parent;if(N.indexOf(_.index)!=-1)v=_}var o=c.indexOf(v.index);if(o==-1){o=c.length;
c.push(v.index)}f[R]=o}var y=[],k=[],S=[];for(var R=0;R<c.length;R++){var L=A.Z.UB(p,p.lR(!0,c[R]));
S.push(L);var X=x==3?[L.y,L.o]:[L.x,L.v];y[R]=X;k.push(X)}A.Wh.abS(k);for(var R=0;R<c.length;R++){var L=S[R],s=L.x,M=L.y;
if(x==0)s=I.x;if(x==1)s=I.x+(I.v-L.v)/2;if(x==2)s=I.x+(I.v-L.v);if(x==3)M=y[R][0];if(x==4)M=I.y;if(x==5)M=I.y+(I.o-L.o)/2;
if(x==6)M=I.y+(I.o-L.o);if(x==7)s=y[R][0];D.push(Math.round(s-L.x),Math.round(M-L.y))}var V=[];for(var R=0;
R<N.length;R++){var l=f[R];V[2*R]=D[2*l];V[2*R+1]=D[2*l+1]}this.IN(p,0,0,null,V);var e=x==3||x==7?[20,4,6]:[20,4,x<3?x:x-1];
this.yP(p,null,T,V,e);p.$=U}else if(i=="disabAuto"){this.Jt([!1],null,q)}};A.Wh.ZT=function(n,q){for(var R=0;
R<q[0].length;R++){var p=q[0][R],E=q[1][R],T=!1;for(var i=0;i<n[0].length;i++){var H=n[0][i],Z=n[1][i];
if(p[0]==H[0]&&p[1]==H[1]&&E==Z)T=!0}if(!T){n[0].push(p.slice(0));n[1].push(E)}}};A.Wh.prototype.enable=function(n,q,p,E,T){this.BW=p;
this.Q0=q;this.zv=T?!0:!1;this.ms(n);this.Pl("default",q)};A.Wh.prototype.disable=function(n,q,p,E){this.LY(n)};
A.Wh.prototype.LY=function(n){if(n==null)return;if(this.rg){this.rg.clear(n);this.rg=null}if(n.H.ur){n.H.ur=null;
n.IJ=!0}if(n.H.j_){n.H.j_=null;n.IJ=!0}if(n.H.mX[this.id]){delete n.H.mX[this.id];n.IJ=!0}if(n.H.eW.length!=0){n.H.eW=[];
n.IJ=!0}};A.Wh.prototype.bM=function(n,q,p,E){if(p.tj!=this.id)return;this.ms(n)};A.Wh.prototype.ms=function(n,q){if(n==null)return;
var p=this.US;this.LY(n);if(!this.zv){var E;if(p.aX||p.ur)E=j.O.Xf(A.Z.UB(n));if(p.aX&&!E.M6()){this.rg=new bk([E.x,E.y,E.x+E.v,E.y,E.x+E.v,E.y+E.o,E.x,E.y+E.o],!0);
this.rg.wF(n,this.BW)}if(p.ur){var T=null,O=null,W=!1;if(n.Cq()!=-1)T=n.h[n.Cq()].Kl();else T=new eL(0,0,n.v,n.o);
n.H.ur={_k:[E],lm:[]};var i=n.H.ur.lm,H=E.x+E.v,Z=E.y+E.o,w=E.x+Math.floor(E.v/2),d=E.y+Math.floor(E.o/2);
if(q){var C=n.root.GM(new fc(Math.floor(q.x),Math.floor(q.y)));if(C){O=j.O.Xf(C.Y.XT(n));if(O.Y9(E)){W=(O.Gf(E)||E.Gf(O))&&!E.rv(O);
if(!W)O=null}}}this.m8(E,i);if(O!=null){n.H.ur._k.push(O);var a=O.x+O.v,B=O.y+O.o,$=O.x+Math.floor(O.v/2),I=O.y+Math.floor(O.o/2);
if(W){var x=w,U=d;if(E.Gf(O)){x=$;U=I}i.push(E.x,U,O.x,U);i.push(H,U,a,U);i.push(x,E.y,x,O.y);i.push(x,Z,x,B)}else{this.m8(O,i);
var N=Z<O.y||B<E.y,m=H<O.x||a<E.x;if(H<O.x)i.push(H,d,O.x,d);if(a<E.x)i.push(a,d,E.x,d);if(Z<O.y)i.push(w,Z,w,O.y);
if(B<E.y)i.push(w,B,w,E.y);if(N&&!m){if(E.x<O.x)i.push(E.x,I,O.x,I);if(O.x<E.x)i.push(O.x,d,E.x,d)}}}else{if(E.y>T.y)i.push(w,T.y,w,E.y);
if(Z<T.y+T.o)i.push(w,Z,w,T.y+T.o);if(E.x>T.x)i.push(T.x,d,E.x,d);if(H<T.x+T.v)i.push(H,d,T.x+T.v,d)}n.IJ=!0}}if(this.e==2&&this.PA){var f=n.lA[this.qo],c=f[0],D=(c==0?"X":"Y")+": "+j.L6.Kc(f[1],n.xm,this.BW,c==0?n.v:n.o,!0);
A.pk.mj(Math.round(this.CV.x)+10,Math.round(this.CV.y)-10,[D],n);n.IJ=!0}if(this.e==3&&this.PA){var z=j.O.aS(this.IM);
n.H.mX[this.id]={f4:z};n.IJ=!0}};A.Wh.prototype.m8=function(n,q){var p=n.v,E=n.o,T=n.x+Math.floor(p*.2),i=n.y+Math.floor(E*.2);
q.push(T,n.y,T,n.y+E);q.push(n.x,i,n.x+p,i)};A.Wh.prototype.Pl=function(n,q){var p={e:P.C.ru,MN:n},E=new ea(P.E.T,!0);
E.data=p;q.K(E)};A.Wh.prototype.ax=function(n){var q=this.pa.uZ()[0],p=this.FS,E=this.a0v[q];this.cQ(p,E)};
A.Wh.prototype.Pg=function(n){var q=JSON.parse(JSON.stringify(this.BW.yM));q.XN=this.B5.uZ()[0];var p=new ea(P.E.T,!0);
p.data={e:P.C.Th,sQ:cF.tw,Il:q};this.Q0.K(p)};A.Wh.prototype.J7=function(n,q,p,E,T){if(this.PA)this.HO(n,q,p,E,T);
this.FS=n;this.BW=p;this.Q0=q;var i=n.c.hQ(T.x,T.y),H;if(A.Wh.wU(p,T,n.c)){H=this.B5}else{if(this.pa)this.pa.removeEventListener("select",this.ax);
var Z=[];n.root.GM(i,Z);if(Z.length==0)return;var w=[];this.a0v=Z;for(var R=0;R<Z.length;R++)w.push({name:n.h[Z[R]].getName()});
H=this.pa=new a1(w);H.R("select",this.ax,this)}H.parent=q;H.N();H.update(n,p);var d=new ea(P.E.T,!0);
d.data={e:P.C.KU,yx:H,x:T.Yt+2,y:T.tF+1};q.K(d)};A.Wh.prototype.ag=function(n,q,p,E,T){return A.Wh.wU(p,T,n.c)};
A.Wh.prototype.LA=function(n,q,p,E,T){this.CV=T;this.Nj.Gw(T.x,T.y);this.Vx=n.c.hQ(T.x,T.y);this.tN=new a2(this.Vx);
this.dF(n,q,E,p,!0)};A.Wh.wU=function(n,q,p,E){var T=j.L6.Aq,i=p.fM.o;return n.ng&&(0<q.x&&q.x<T||0<q.y&&q.y<T||E&&0<q.x&&q.x<4*T&&i-T<q.y&&q.y<i)};
A.Wh.prototype.dF=function(n,q,p,E,T,i){var H,Z=this.Vx,w=!1;if(T){var d=E.Ui&&E.yM.lA;if(A.Wh.wU(E,this.Nj,n.c)){H=n.fN();
var O=n.fN(),W=null;if(this.Nj.x<j.L6.Aq){W=[0,Z.x]}if(this.Nj.y<j.L6.Aq){W=[1,Z.y]}O[0].push(W);O[1].push(n.Cq());
n.k2(O);if(!d){var C=new ea(P.E.T);if(!E.yM.lA){C.data={e:P.C.Th,sQ:cF.wS};q.K(C)}if(!E.Ui){C.data={e:P.C.Th,sQ:cF.Yv};
q.K(C)}d=!0}}var a=this.Iz(n,Z);if(d&&a!=null){this.e=2;this.Wj=H?H:n.fN();this.qo=a;this.PA=!0;this.su=A.Z.UB(n);
return}if(n.z1.length!=0){this.e=4;this.su=n.v4[n.z1[0]].rect.clone();this.PA=!0;return}if(this.rg&&this.rg.na(Z,n.c.n,!0)!=null){var C=new ea(P.E.T);
C.data={e:P.C.Tk,i:A.Uv,alz:!0};q.K(C);return}if(n.$&&n.$.rect.Z4(Z)){var B=Math.round(Z.x),$=Math.round(Z.y),I=n.$.rect;
w=n.$.channel[($-I.y)*I.v+B-I.x]>128}if(!w&&(!this.zv&&this.US.Mv||this.zv&&this.US.Mv&&(p.r(aj.$t)||n.p.length<2))){var x=this.aji(n,Z,p);
if(!x){n.p=[];n.LS=null;n.l0=n.Qc=!0;this.e=3;this.IM=new eL;this.PA=!0;return}}if(p.r(aj.sL)&&!w){var U=new ea(P.E.u);
U.i=A.iq;U.data={e:g.se,apG:!0};q.K(U)}}if(n.z1.length!=0){this.e=4;this.su=n.v4[n.z1[0]].rect.clone();
this.PA=!0;return}this.qo=n.lR(i==null,i,null,!0);for(var R=0;R<this.qo.length;R++){var N=n.h[this.qo[R]];
if(N.d9(2)||N.d9(31)){alert(fE.get([6,57,0]));return}}this.I3=A.Wh.aae(n,this.qo);this.e=0;if(n.$&&(!T||w)&&n.p.length==1&&n.zP(!1)){if(!n.XK()){this.PA=!1;
return}var m=n.h[n.p[0]],f=p.r(aj.sL);this.e=1;var c=n.history[n.yv];if(c.i==this&&c.data.e==1&&c.data.Y==n.p[0]&&m.TL==m.ns.TL&&!f){this.VY=c}else{var D=m.ns,z=!1,_;
if(!m.sM(n,n.$)||f){z=!0;m.qt(n,n.$,f)}if(m.ns.TL<=0){_=j.U(m.ns.U_.length>>2);j.J2(m.ns.U_,_,3)}else _=n.$.channel.slice(0);
var v={rect:m.ns.Qx.clone(),channel:_};this.VY=new d4(f?[12,53]:[12,54],this);this.VY.data={e:1,Y:n.p[0],ns:m.ns,vt:D,Ym:z,Nu:n.$,ii:v,FF:new fc(0,0)};
n.Dc(this.VY);n.$=v;n.mT=!0}}this.PA=!0;this.su=A.Z.UB(n)};A.Wh.prototype.aji=function(n,q,p){var E=n.root.GM(new fc(Math.floor(q.x),Math.floor(q.y)));
if(E){if(E.Y.add.vmsk)n.IJ=!0;var T=n.h.indexOf(E.Y);if(p.r(aj.$t)){var i=n.p.indexOf(T);if(i==-1)n.p.push(T);
else if(n.p.length>1)n.p.splice(i,1)}else if(n.p.indexOf(T)==-1){this.cQ(n,T)}}return E!=null};A.Wh.prototype.cQ=function(n,q){n.h[q].TL=0;
n.p=[q];n.LS=null;n.P3();n.rw=!0;n.l0=!0};A.Wh.prototype.Tw=function(n,q,p,E,T){this.CV=T;var i=n.c.hQ(T.x,T.y),C,a;
if(this.tN&&this.e<2)i=this.tN.Ov(i,E);if(!this.PA){if(p.Ui&&p.yM.lA){var H=this.Iz(n,i),Z="default";
if(H!=null)Z=["col-resize","row-resize"][n.lA[H][0]];else if(this.rg){var w=this.rg.na(i,n.c.n);if(w)Z=w}this.Pl(Z,q)}this.ms(n,i);
return}var d=this.Vx,O=Math.round(i.x-d.x)-this.ya.x,W=Math.round(i.y-d.y)-this.ya.y;if(this.su){if(this.e==2){i=A.Wh.My(n,i,p,[!1,n.$?n.$.rect:this.su,!0])}else{a=this.su.clone();
a.offset(this.ya.x+O,this.ya.y+W);C=A.Wh.QD(n,a,p);O+=Math.round(C[0]);W+=Math.round(C[1])}}this.ya.x+=O;
this.ya.y+=W;this.IN(n,O,W,i,null,E.r(aj.$t));this.ms(n,i);if(C)A.Wh.d8(n,a,C)};A.Wh.prototype.Iz=function(n,q){q=[q.x,q.y];
var p=n.fN(),E=n.Cq();for(var R=0;R<p[0].length;R++){var T=p[0][R],i=p[1][R];if(i!=-1&&i!=E)continue;
if(Math.abs(T[1]-q[T[0]])*n.c.n<4)return R}return null};A.Wh.prototype.IN=function(n,q,p,E,T,i){if(this.e==0){if(T)A.Wh.iE(n,this.qo,this.I3,T);
else A.Wh.ZM(n,this.qo,this.I3,q,p)}else if(this.e==1){var H=this.VY.data;H.FF.offset(q,p);A.Wh.Ni(n,H.Y,q,p)}else if(this.e==2){var Z=1e-5;
if(i)Z=n.c.n<=1?10:1;else if(n.c.n<=1)Z=1;var w=Z*Math.round(E.x/Z),d=Z*Math.round(E.y/Z),O=[w,d],W=n.lA[this.qo];
W[1]=O[W[0]]}else if(this.e==3){var C=this.Vx,a=j.O.vK([C.x,C.y,E.x,E.y]);this.IM=a;var B=[];n.root.td(a,B);
if(JSON.stringify(n.p)!=JSON.stringify(B)){n.p=B;n.l0=n.Qc=!0}}else if(this.e==4){for(var R=0;R<n.z1.length;
R++)n.v4[n.z1[R]].rect.offset(q,p);n.IJ=!0}};A.Wh.Ni=function(n,q,p,E){var T=n.h[q];n.$.rect.offset(p,E);
T.ka(n,p,E,n.$);n.mT=!0;n.M()};A.Wh.prototype.HO=function(n,q,p,E,T,i){this.yP(n,T,p);this.ms(n);if(Date.now()-this.nC<300&&!i){var H=A.Lz.Ms(n,n.c.hQ(T.x,T.y));
if(A.Wh.wU(p,T,n.c,!0)){var Z=new ea(P.E.T);if(T.y>n.c.fM.o-20){Z.data={e:P.C.Lr,ov:"doczoom",Br:n.c.n*100,ls:{l:P.E.u,i:A.$v,m:{e:"pzoom"}}}}else{Z.data={e:P.C.Lr,ov:"preferences"}}q.K(Z)}else if(H>=0){var w=new ea(P.E.u,!0);
w.i=A.cY;w.data={e:"editCurr",oT:H};q.K(w)}}this.nC=Date.now();A.c8.ZS(n)};A.Wh.prototype.yP=function(n,q,p,E,T){if(!this.PA)return;
this.PA=!1;if(this.e==0){if(E){this.JO(n,null,E,T)}else{if(this.ya.x==0&&this.ya.y==0)return;this.JO(n,this.ya.clone())}n.Ln=!0}else if(this.e==2){var i=0;
q=[q.x,q.y];var H=this.qo,Z=n.lA[H],et=this.Wj[0].length,w=n.lA.length;if(p.ng&&q[Z[0]]<j.L6.Aq){var d=n.fN();
d[0].splice(H,1);d[1].splice(H,1);n.k2(d);i=1;if(et==w-1)return}if(et<w)i=2;var O=new d4([[23,2],[23,3],[23,4]][i],this);
O.data={e:2,Wj:this.Wj,mH:n.fN()};n.Dc(O)}else if(this.e==4){var O=new d4([12,54],this);O.data={e:4,p:n.z1.slice(0),t:this.ya.clone()};
n.Dc(O)}this.ya.Gw(0,0)};A.Wh.prototype.IY=function(n,q,p,E){var T=E.kH();if(n!=null&&(T.x!=0||T.y!=0)){if(E.r(aj.sL)&&n.$==null){var i=new ea(P.E.u);
i.i=A.iq;i.data={e:g.se,apG:!0};q.K(i)}this.ya.Gw(T.x,T.y);this.dF(n,q,E,p,!1);if(!this.PA)return;this.IN(n,T.x,T.y);
this.yP(n,null,p);this.ms(n)}var H=E.r(aj.Fj);if(!this.zv&&this.ae9!=H){if(H){this.a2H=this.US.Mv;this.US.Mv=!0}else{this.US.Mv=this.a2H}this.ae9=H;
var Z=new ea(P.E.T,!0);Z.data={e:P.C.R2,i:this.id,IQ:this.US};q.K(Z)}};A.Wh.prototype.iP=function(n,q){if(n.e==0){A.Wh.iE(q,n.p,n.QA,n.c1,!0);
A.c8.ZS(q)}else if(n.e==2){q.k2(n.Wj);q.IJ=!0}else if(n.e==4){for(var R=0;R<n.p.length;R++)q.v4[n.p[R]].rect.offset(-n.t.x,-n.t.y);
q.IJ=!0}else{var p=q.h[n.Y];if(n.Ym){p.n6(q,n.vt);q.$=n.Nu;q.mT=!0;q.M();p.M()}else{A.Wh.Ni(q,n.Y,-n.FF.x,-n.FF.y)}}};
A.Wh.prototype.NJ=function(n,q){if(n.e==0){A.Wh.iE(q,n.p,n.QA,n.c1);A.c8.ZS(q)}else if(n.e==2){q.k2(n.mH);
q.IJ=!0}else if(n.e==4){for(var R=0;R<n.p.length;R++)q.v4[n.p[R]].rect.offset(n.t.x,n.t.y);q.IJ=!0}else{var p=q.h[n.Y];
if(n.Ym){p.ns=n.ns;q.$=n.ii;A.Wh.Ni(q,n.Y,0,0);p.M()}else{A.Wh.Ni(q,n.Y,n.FF.x,n.FF.y)}}};A.Wh.prototype.JO=function(n,q,p,E){if(p){var T=!0;
for(var R=0;R<p.length;R++)if(p[R]!=0)T=!1;if(T)return}var i=n.history[n.yv];if(i.data&&i.i==this&&i.data.e==0&&p==null&&JSON.stringify(i.data.p)==JSON.stringify(this.qo)&&JSON.stringify(i.data.QA)==JSON.stringify(this.I3)){var H=i.data.c1,Z=i.data.a1N.ga.T.v;
Z.Hrzn.v.val+=q.x;Z.Vrtc.v.val+=q.y;for(var R=0;R<H.length;R+=2){H[R]+=q.x;H[R+1]+=q.y}}else{if(q==null)q=new fc(p[0],p[1]);
var w={oK:"move",ga:{classID:"null",null:j4.hZ("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:q.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:q.y}}}}}},d=new d4(E?E:[12,54],this);
if(p)d.data={e:0,p:this.qo,QA:this.I3,c1:p};else d.data={e:0,p:this.qo,QA:this.I3,c1:A.Wh.w6(this.qo,q.x,q.y)};
d.data.a1N=w;n.Dc(d);this.track(w)}};A.Wh.w6=function(n,q,p){var E=[];for(var R=0;R<n.length;R++)E.push(q,p);
return E};A.Wh.ZM=function(n,q,p,E,T){A.Wh.iE(n,q,p,A.Wh.w6(q,E,T))};A.Wh.iE=function(n,q,p,E,T){if(q.length==0)return;
if(p==null){p=[];for(var R=0;R<q.length;R++){p.push(n.h[q[R]].Ie(n,!0))}}var i=new eL,H=new eL(0,0,n.v,n.o);
for(var R=0;R<q.length;R++){var Z=E[2*R],w=E[2*R+1];if(T){Z=-Z;w=-w}var d=n.h[q[R]],O=p[R];if(d.add.fxrp&&(O.indexOf(0)!=-1||d._m()))d.add.fxrp.offset(Z,w);
for(var W=0;W<O.length;W++){var C=O[W];if(C==0){d.rect.offset(Z,w);if(d.Sr()&&d.vr(n))d.vr(n).rect.offset(Z,w);
if(d.add.artb){var a=d.Kl();a.offset(Z,w);d.O$(a);var B=d.add.artb.guideIndeces;B=B?B.v:[];for(var $=0;
$<B.length;$++){var I=n.lA[B[$].v];I[1]+=I[0]==0?Z:w}}if(d.add.TySh){d.add.TySh.B.translate(Z,w);if(d.add.TySh.add){d.add.TySh.add.vmsk.offset(Z,w)}}if(d.add.SoLd){var x=new b$(1,0,0,1,Z,w),U=d.add.SoLd,N=A.Z.ZA(U.Trnf),m=A.Z.ZA(U.nonAffineTransform);
j.O.B(N,x,N);j.O.B(m,x,m);U.Trnf=A.Z.g8(N);U.nonAffineTransform=A.Z.g8(m);A.Z._D(U,x)}}if(C==1)d.u1().rect.offset(Z,w);
if(C==2){d.add.vmsk.offset(Z,w);if(d.add.vogk)j.k4.B(d.add.vogk,[1,0,Z,0,1,w,0,0],[])}if(C==3){d.vr(n).w.rect.offset(Z,w);
if(O.length==1)d.M()}}if(O.length>0){var f=d.add.GdFl;if(f==null)f=d.add.PtFl;if(d._m()&&!d.sc()&&d.add.vmsk!=null&&j.G.jD(d.add.vmsk.Q)&&d.add.vmsk.Cm==255&&(f==null||f.Algn&&f.Algn.v)){d.rect.offset(Z,w)}else d.VA(n);
var c=n.root.RT(d.XT(n),n,q[R]);i=i.AL(c);c.offset(-Z,-w);i=i.AL(c);if(d.add.SoCo||d.add.GdFl||d.add.PtFl||iJ.get(d.add)!=null)i=i.AL(H);
d.DW()}}n.M(i)};A.Wh.aae=function(n,q){var p=[];for(var R=0;R<q.length;R++){var E=n.h[q[R]];p.push(E.Ie(n))}return p};
A.Wh.d8=function(n,q,p){var E=n.H.j_={W:[],F:[]},T=q.x+p[0],i=q.y+p[1];if(p[2]!=1e9){E.F.push("M","L");
E.W.push(p[2],i,p[2],i+q.o)}if(p[3]!=1e9){E.F.push("M","L");E.W.push(T,p[3],T+q.v,p[3])}n.IJ=!0};A.Wh.My=function(n,q,p,E){var T=A.Wh.Sl(n,[[q.x],[q.y]],p,E);
return new fc(q.x+T[0],q.y+T[1])};A.Wh.QD=function(n,q,p,E,T){var i=T==!0?1:.5,H=A.Wh.Sl(n,[[q.x,q.x+Math.round(q.v*i),q.x+q.v],[q.y,q.y+Math.round(q.o*i),q.y+q.o]],p,E);
return H};A.Wh.Sl=function(n,q,p,E){if(E==null)E=[!0,null,!0];var T=[0,0,1e9,1e9];if(!p.kK)return T;
var i=JSON.parse(JSON.stringify(q));for(var H=0;H<2;H++){var Z=1e9,w=q[H],d=0;for(var O=0;O<w.length;
O++){var W=A.Wh.asw(n,w[O],i[1-H][O],H,p,E);if(W!=1e9)i[H][O]=W;if(W!=1e9&&Math.abs(W-w[O])<Math.abs(Z)){Z=W-w[O];
d=W}}if(Z!=1e9){T[H]=Z;T[H+2]=d}}return T};A.Wh.asw=function(n,q,p,E,T,i){var H=1e9,Z=T.AG,w=T.yM,d=[n.root];
while(d.length!=0&&Z[2]){var O=d.pop(),W=O.Y,C=W.rect;if(!W.Fp())continue;if(O.children)for(var R=0;
R<O.children.length;R++)d.push(O.children[R]);if(n.p.indexOf(O.index)!=-1||C.M6())continue;if(E==0){var a=C.v,B=a>>>1;
if(Math.abs(C.x-q)<Math.abs(H-q))H=C.x;if(Math.abs(C.x+B-q)<Math.abs(H-q))H=C.x+B;if(Math.abs(C.x+a-q)<Math.abs(H-q))H=C.x+a}else{var $=C.o,I=$>>>1;
if(Math.abs(C.y-q)<Math.abs(H-q))H=C.y;if(Math.abs(C.y+I-q)<Math.abs(H-q))H=C.y+I;if(Math.abs(C.y+$-q)<Math.abs(H-q))H=C.y+$}}if(i[0]&&Z[0]&&w.lA&&T.Ui){var x=n.fN(),U=x[0],N=x[1],m=n.Cq();
for(var R=0;R<U.length;R++)if((N[R]==-1||N[R]==m)&&U[R][0]==E&&Math.abs(U[R][1]-q)<Math.abs(H-q))H=U[R][1]}if(Z[1]&&w.x5&&T.Ui){var f=Math.round(j.L6.xU(w.rH,n.xm,n.v,w.VC));
if(E==1&&w.g1==1){var c=p*.5*Math.sqrt(4/3),D;f*=Math.sqrt(4/3);D=Math.round((q-c)/f)*f+c;if(Math.abs(D-q)<Math.abs(H-q))H=D;
D=Math.round((q+c)/f)*f-c;if(Math.abs(D-q)<Math.abs(H-q))H=D}else{var D=Math.round(q/f)*f;if(Math.abs(D-q)<Math.abs(H-q))H=D}}var z=n.D0;
if(Z[3]&&w.D0&&T.Ui&&z.length!=0){for(var R=0;R<z.length;R++){if(!i[2]&&n.yg.indexOf(R)!=-1)continue;
var _=A.QI.Ud(z,R);for(var v=0;v<3;v+=2)if(_[v+E]!=q&&Math.abs(_[v+E]-q)<Math.abs(H-q))H=_[v+E]}}if(i[1]){var C=i[1],a=C.v,$=C.o,o=[C.x,C.y,C.x+(a>>>1),C.y+($>>>1),C.x+a,C.y+$];
for(var R=0;R<6;R+=2)if(Math.abs(o[R+E]-q)<Math.abs(H-q))H=o[R+E]}if(Z[4]){var a=n.v,$=n.o,o=[0,0,a>>>1,$>>>1,a,$];
for(var R=0;R<6;R+=2)if(Math.abs(o[R+E]-q)<Math.abs(H-q))H=o[R+E]}var y=Math.abs(H-q)<=4*P.D()/n.c.n?H:1e9;
return y};A.oh=function(){A.eY.call(this,[10,12],A.AB,"tools/mwand")};A.oh.prototype=new A.eY;A.oh.prototype.op=A.eY.prototype.aha;
A.oh.prototype.Jt=A.eY.prototype.a9P;A.oh.prototype.IO=function(n,q,p,E){this.finish(n,q,p,E)};A.oh.prototype.getSelection=function(n,q,p,E){var T=this.V6,i=A.eY.amS(new fc(Math.floor(T.x),Math.floor(T.y)),this.US.wconf,this.US.sall);
return i};A.oh.BC=function(n,q,p,E){if(n.p.length!=1){alert("More than one layer selected.");return null}var T=n.h[n.p[0]],i=T.TL<=0?null:T.TL==1?T.u1():T.vr(n).w,H;
if(i==null&&T.add.lsct!=null&&T.add.lsct!=fX.d$){alert("No layer selected.");return null}if(q.x<0||q.x>n.v||q.y<0||q.y>n.o)return null;
var Z=new eL(0,0,n.v,n.o);if(i==null&&E){H=n.Zk()}else if(i==null&&Z.rv(T.rect))H=T.buffer;else{H=j.U(Z.P()*4);
if(i==null)j.hk(T.buffer,T.rect,H,Z);else A.o8.BL(i.channel,i.rect,i.color,H,Z)}var w=A.oh.a6(H,Z,q,null,p),d=j.YA(w,Z),O=j.U(d.P());
j.cg(w,Z,O,d);return{rect:d,channel:O}};A.oh.Bw=function(n,q,p){var E=q.v,T=q.o,H=0,Z=0,w=0,d=0;n=new Uint32Array(n.buffer);
var i=[],O=p.length;for(var R=0;R<O;R++){var W=p[R],C=Math.round(W.x-.5-q.x),a=Math.round(W.y-.5-q.y);
C=Math.max(0,Math.min(E-1,C));a=Math.max(0,Math.min(T-1,a));var B=a*E+C,$=n[B];i.push([$&255,$>>8&255,$>>16&255,$>>>24])}return i};
A.oh.a6=function(n,q,p,E,T){n=new Uint32Array(n.buffer);var i=q.v,H=q.o,Z=i*H;if(E==null)E=A.oh.Bw(n,q,[p]);
var w=Math.round(p.x-.5-q.x),d=Math.round(p.y-.5-q.y),O=d*i+w,W=Date.now(),C=j.U(i*H),a=T[0],B=1/a,$=T[1]&&a>0?255:0;
if(T[2]){var I=j.U(C.length),x=new Uint32Array(Z),U=1;x[0]=w<<16|d;I[O]=1;while(U>0){var N=x[U-1];U--;
var m=N>>>16,f=N&65535,R=f*i+m,c=A.oh.Gd(n[R],E);if(c>a){var D=$*(1-Math.max(0,Math.min(1,(c-a)*B)));
C[R]=~~D}else{C[R]=255;if(f!=H-1&&I[R+i]==0){x[U++]=m<<16|f+1;I[R+i]=1}if(f!=0&&I[R-i]==0){x[U++]=m<<16|f-1;
I[R-i]=1}if(m!=i-1&&I[R+1]==0){x[U++]=m+1<<16|f;I[R+1]=1}if(m!=0&&I[R-1]==0){x[U++]=m-1<<16|f;I[R-1]=1}}}}else{for(var R=0;
R<Z;R++){var c=A.oh.Gd(n[R],E);if(c<=a)C[R]=255}for(var f=0;f<H;f++)for(var m=0;m<i;m++){var R=f*i+m;
if(C[R]==0&&(m>0&&(C[R-1]==255||f>0&&C[R-i-1]==255||f<H-1&&C[R+i-1]==255)||m<i-1&&(C[R+1]==255||f>0&&C[R-i+1]==255||f<H-1&&C[R+i+1]==255)||f>0&&C[R-i]==255||f<H-1&&C[R+i]==255)){var c=A.oh.Gd(n[R],E),D=$*(1-Math.max(0,Math.min(1,(c-a)*B)));
C[R]=~~D}}}return C};A.oh.Gd=function(n,q){var p=q.length,E=A.oh.On(n,q[0]),R=1;while(R!=p){E=Math.min(E,A.oh.On(n,q[R]));
R++}return E};A.oh.On=function(n,q){var p=n&255,E=n>>>8&255,T=n>>>16&255,i=n>>>24&255;if(q[3]==0)return i<5?0:255;
var H=Math.max(Math.abs(p-q[0]),Math.max(Math.abs(E-q[1]),Math.abs(T-q[2])));return i==0?255:H};A.Qn=function(n,q){if(q)A.o8.call(this);
else if(n)A.o8.call(this,[10,49],A.nl,"tools/camove");else A.o8.call(this,[10,26],A.zI,"tools/patch");
this.gv=null;this.N9=null;this.t=null;this.Ag=null;this._q=new fc;this.Gx=null;this.T7=null};A.Qn.prototype=new A.o8;
A.Qn.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);if(n.$&&j.GM(i,n.$.channel,n.$.rect)){var H=new eL(0,0,n.v,n.o),Z=H.O1(n.$.rect);
if(!n.zP()||Z.M6())return;if(!0){var w=j.U(Z.P());j.cg(n.$.channel,n.$.rect,w,Z);n.$={channel:w,rect:Z}}this.AP(n);
this.Kv(n);this.Ag=i;this._q=new fc(i.x-n.$.rect.x,i.y-n.$.rect.y);this.T7=j.U(n.$.rect.P()*4);this.T7.fill(255);
if(this.US.patch==1){var d=n.h[n.p[0]];d.qt(n,n.$,!0);if(d.ns==null)this.Ag=null}this.Gx=n.$.rect.clone()}else{this.N9={W:[i.x,i.y],F:["M"]};
this.gv=i}};A.Qn.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);if(this.Ag){if(this.US.patch==1){if(n.z1.length==0){var H=n.h[n.p[0]].ns,Z=i.x-this._q.x,w=i.y-this._q.y;
A.Wh.Ni(n,n.p[0],Math.round(Z-H.Qx.x),Math.round(w-H.Qx.y))}}else this.EV(n,i,"clone")}if(this.gv){this.N9.F.push("L");
this.N9.W.push(i.x,i.y);this.gv=i;n.H.f4=this.N9;n.IJ=!0}};A.Qn.prototype.HO=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);
if(this.Ag){var H=n.$.rect.clone();if(this.id==A.nl){var Z=n.h[n.p[0]];Z.n6(n,Z.ns);n.$.rect=this.Gx.clone();
var w=j.U(n.$.rect.P()*4);j.yI(n.$.channel,w,3);this.fU(n,"sheal",w,n.$.rect,n.$.rect);n.$.rect=H;H=H.AL(this.Gx)}this.EV(n,i,"heal");
this.finish(n,H,null,null,!0);n.M(H);this.Ag=null}if(this.gv){var d=A.eY.yc(this.US.setop,E.r(aj.$t),E.r(aj.sL)),O=new ea(P.E.Gi,!0);
if(this.N9.W.length<=4)O.data=A.eY.b0();else O.data=A.eY.pg(this.N9.W,d);q.K(O);this.gv=null;n.H.f4=null;
n.IJ=!0}};A.Qn.prototype.z$=function(){return this.t};A.Qn.prototype.em=function(n,q,p,E,T){A.o8.prototype.em.call(this,n,q,p,E,T);
this.Pl(T,E)};A.Qn.prototype.Pl=function(n,q){var p="auto;";if(q!=null&&q.r(aj.$t)&&!q.r(aj.sL)||this.US.setop=="union")p="copy";
var E=new ea(P.E.T,!0);E.data={e:P.C.ru,MN:p};if(this.caller)this.caller.K(E)};A.Qn.prototype.EV=function(n,q,p){var E=new fc(Math.round(this.Ag.x-q.x),Math.round(this.Ag.y-q.y));
if(this.US.patch==1)E.Gw(-E.x,-E.y);this.t=E;this.fU(n,p,this.T7,n.$.rect,n.$.rect);this.M(n,n.$.rect)};
A.y_=function(){A.Qn.call(this,!0);this.US.patch=1};A.y_.prototype=new A.Qn(!0,!0);A.O9=function(){A.o8.call(this,[10,13],A.a32,"tools/pbucket");
this.J8=!1};A.O9.prototype=new A.o8;A.O9.prototype.enable=function(n,q,p,E){var T=new ea(P.E.T,!0);T.data={e:P.C.ru,MN:"default"};
q.K(T)};A.O9.prototype.ts=function(n,q){};A.O9.prototype.LA=function(n,q,p,E,T){this.J8=!0};A.O9.prototype.HO=function(n,q,p,E,T,i){var H=this.J8;
this.J8=!1;if(!H||i)return;if(this.L5(E,q,T))return;if(!n.zP())return;var Z=n.c.hQ(T.x,T.y),w=A.oh.BC(n,Z,this.US.wconf);
if(w==null)return;var d=j.U(w.rect.P()*4);j.nz(d,(p.ny&255)<<16|(p.ny>>8&255)<<8|(p.ny>>16&255)<<0);
j.yI(w.channel,d,3);this.AP(n);this.fU(n,"draw",d,w.rect,w.rect);this.M(n,w.rect);this.finish(n,w.rect)};
A.FO=function(){A.eY.call(this,[10,14],A.ao1,"tools/plasso");this.jE="crosshair";this.I$=[];this.oH=null;
this.N9=null;this.a8_=0};A.FO.prototype=new A.eY;A.FO.prototype.disable=function(n,q,p,E){this.Y0(n)};
A.FO.prototype.IO=function(n,q,p,E){this.I$=[aj.Qt,aj.W_]};A.FO.prototype.Ou=function(n){return this.I$.indexOf(n)!=-1};
A.FO.prototype.tU=function(n){return this.N9!=null};A.FO.prototype.Ix=function(){return this.N9!=null};
A.FO.prototype.vo=function(){return this.N9!=null};A.FO.prototype.a_=function(n,q,p,E){if(this.N9==null)return;
var T=this.N9,i=T.W,H=i.length-2,Z=this.V6;if(this.Tr>1&&p.r(aj.sL)&&E.fk){i.push(0,0);T.F.push("L");
H+=2}else if(p.r(aj.$t))Z=A.je.Um(new fc(i[H-2],i[H-1]),Z);i[H]=Z.x;i[H+1]=Z.y;n.H.f4=T;n.IJ=!0};A.FO.prototype.Ml=function(n,q,p,E){var T=Date.now();
if(this.N9==null)this.N9={W:[this.V6.x,this.V6.y,this.V6.x,this.V6.y],F:["M","L"]};else{this.a_(n,q,p,E);
if(T-this.a8_<250||fc.vu(this.V6,new fc(this.N9.W[0],this.N9.W[1]))<5*P.D()/n.c.n){this.oH=this.N9;this.finish(n,q,p,E);
this.Y0(n);return}this.N9.F.push("L");this.N9.W.push(this.V6.x,this.V6.y)}this.a8_=T;n.H.f4=this.N9};
A.FO.prototype.Y0=function(n){this.N9=null;this.I$=[];if(n!=null){n.H.f4=null;n.IJ=!0}};A.FO.prototype.IY=function(n,q,p,E){A.eY.prototype.IY.call(this,n,q,p,E);
if(E.r(aj.eN)&&this.N9==null&&this.oH&&n.$!=null){var T=new ea(P.E.u);T.i=A.e$;T.data={e:"h_stepbck"};
q.K(T);this.IO(n,p,E,null);this.N9=this.oH;return}if(this.N9==null)return;if(E.r(aj.Qt)||E.r(aj.W_)){this.N9.W.pop();
this.N9.W.pop();this.N9.F.pop();this.a_(n,p,E)}if(E.r(aj.T4)){if(this.N9.W.length>4){this.oH=this.N9;
this.finish(n,p,E)}this.N9=null}if(E.r(aj.eN)){this.N9=null}n.H.f4=this.N9;n.IJ=!0};A.FO.prototype.getSelection=function(n,q,p,E){return A.eY.pg(this.N9.W,null,this.US.anta)};
A.lD=function(){A.eY.call(this,[10,10],A.apj,"tools/mlasso");this.jE="crosshair";this.I$=[];this.Q=[];
this.vP=[];this.Kp=[];this.h4=null;this.Tc=null;this.ab=null;this.nC=0;this.Sv=0};A.lD.prototype=new A.eY;
A.lD.prototype.disable=function(n,q,p,E){this.clear(n)};A.lD.prototype.tU=function(n){return this.Q.length!=0};
A.lD.prototype.vo=function(){return this.Q.length!=0};A.lD.prototype.Ou=function(n){return this.I$.indexOf(n)!=-1};
A.lD.prototype.IO=function(n,q,p,E){this.I$=[aj.Qt,aj.W_];var T=this.nR(this.Af,n);if(this.Q.length!=0&&(fc.vu(T,this.Q[0])<4*P.D()/n.c.n||Date.now()-this.nC<300)){this.HE(n,this.Q[0]);
this.finish(n,q,p);this.clear(n);return}this.nC=Date.now();if(this.Q.length!=0)T=this.lf(T,n);else{var i=n.v,H=n.o,Z=j.U(i*H),w=n.Zk(),d=i*H*4;
for(var R=0;R<d;R+=4)Z[R>>>2]=~~(.5+j.lU(w[R],w[R+1],w[R+2])*(w[R+3]*(1/255)));this.h4=j.rQ.al2(Z,i,H);
this.ab=new Uint16Array(Z.length)}this.HE(n,T);this.Sv=p.r(aj.sL)?1:0;this.E6(n)};A.lD.prototype.HE=function(n,q){var p=this.Q;
this.vP[p.length]=this.Kp.length;if(p.length!=0){j.rQ.Fl(this.Tc,q.y*n.v+q.x);var E=this.Td(n,q);E.reverse();
var T=A.lD.W8(n,E);this.Kp=this.Kp.concat(T)}p.push(q);this.kg(n)};A.lD.prototype.kg=function(n){var q=this.Q[this.Q.length-1],p=q.y*n.v+q.x;
this.Tc=j.rQ.a8r(this.h4.UH,this.h4.Nb,p);this.ab.fill(0)};A.lD.prototype.nR=function(n,q){return new fc(Math.floor(Math.max(0,Math.min(q.v-1,n.x))),Math.floor(Math.max(0,Math.min(q.o-1,n.y))))};
A.lD.prototype.clear=function(n){this.Kp=[];this.Q=[];this.vP=[];this.h4=null;this.Tc=null;this.ab=null;
if(n!=null){n.H.f4=null;n.H.$O=[];n.IJ=!0}this.I$=[]};A.lD.prototype.a_=function(n,q,p,E){var T=this.Q,i=T.length;
if(i==0)return;var H=this.lf(this.nR(this.V6,n),n),Z=this.Td(n,H);for(var R=0;R<Z.length;R++){var w=Z[R],d=new fc(w%n.v,Math.floor(w/n.v));
if(this.ab[w]>30&&fc.vu(d,T[i-1])>20){this.HE(n,d);return}this.ab[w]++}if(this.Sv==1&&E.fk)this.HE(n,H);
this.E6(n)};A.lD.prototype.E6=function(n){var q=this.Q;if(q.length!=0){var p=this.lf(this.nR(this.V6,n),n),E=this.Td(n,p);
E.reverse();var T=A.lD.W8(n,E),i=this.Kp.concat(T),H=n.H.f4={W:i,F:["M"]};for(var R=2;R<i.length;R+=2)H.F.push("L")}n.H.$O=[];
for(var R=0;R<q.length;R++)n.H.$O.push(q[R].x+.5,q[R].y+.5);n.IJ=!0};A.lD.prototype.Ml=function(n,q,p,E){};
A.lD.prototype.IY=function(n,q,p,E){if(this.Q.length==0)return;if(E.r(aj.Qt)||E.r(aj.W_)){this.Q.pop();
this.Kp=this.Kp.slice(0,this.vP[this.Q.length]);this.vP.pop();if(this.Q.length==0)this.clear(n);else this.kg(n);
this.E6(n)}if(E.r(aj.T4)){var T=this.nR(this.V6,n);this.HE(n,T);this.finish(n,p,E);this.clear(n)}if(E.r(aj.eN)){this.clear(n)}};
A.lD.prototype.getSelection=function(n,q,p,E){return A.eY.pg(this.Kp,null,this.US.anta)};A.lD.prototype.Td=function(n,q){var p=this.Q[this.Q.length-1],E=p.y*n.v+p.x,T=q.y*n.v+q.x;
if(this.Sv==1)return[T,E];var i=[T];while(T!=E){T=this.Tc.Ru[T];i.push(T);if(i.length>5e3){console.log(i);
throw"e"}}return i};A.lD.W8=function(n,q){var p=[],E=n.v;for(var R=0;R<q.length;R++){var T=q[R];p.push(T%E+.5,Math.floor(T/E)+.5)}return p};
A.lD.prototype.lf=function(n,q){var p=q.v,E=q.o,T=n.clone(),H=3;j.rQ.Fl(this.Tc,n.y*p+n.x);var i=this.Tc.rj[n.y*p+n.x];
for(var Z=-H+1;Z<H;Z++)for(var w=-H+1;w<H;w++){var d=n.x+w,O=n.y+Z;if(d<0||d>=p||O<0||O>=E)continue;
j.rQ.Fl(this.Tc,O*p+d);if(this.Tc.rj[O*p+d]<i)T.Gw(d,O)}return T};A.PM=function(){A.pk.call(this,[10,36],A.Hf,"tools/ruler");
this.yF=null;this.w1=null;this.P_=null;this.RO=null;this.S4=null};A.PM.prototype=new A.pk;A.PM.prototype.tU=function(n){return n.fk};
A.PM.prototype.enable=function(n,q,p,E){A.pk.prototype.enable.call(this,n,q,E,p);if(n)this.ms(n)};A.PM.prototype.disable=function(n,q,p,E){if(n)this.Y0(n)};
A.PM.prototype.JZ=function(n,q,p,E,T){this.yF=this.P_=null;this.ms(p)};A.PM.prototype.LA=function(n,q,p,E,T){var i=n.c.n/P.D(),H=n.c.hQ(T.x,T.y);
H.x=Math.round(H.x);H.y=Math.round(H.y);var Z=this.yF;this.w1=Z?Z.slice(0):null;var w=Z&&fc.vu(H,Z[0])*i<6,d=Z&&fc.vu(H,Z[1])*i<6,O=Z&&Z[2]&&fc.vu(H,Z[2])*i<6;
if(w||d||O){if(E.r(aj.sL)&&Z.length==2){if(d){var W=Z[0];Z[0]=Z[1];Z[1]=W}Z[2]=Z[0].clone();this.P_=[2]}else this.P_=[w?0:d?1:2]}else if(Z&&A.PM.a2y(Z[0],Z[1],H)*i<6&&Math.min(Z[0].x,Z[1].x)-5<=H.x&&H.x<=Math.max(Z[0].x,Z[1].x)+5&&Math.min(Z[0].y,Z[1].y)-5<=H.y&&H.y<=Math.max(Z[0].y,Z[1].y)+5){this.P_=[];
this.S4=[];for(var R=0;R<Z.length;R++){this.P_.push(R);this.S4.push(Z[R].clone())}this.RO=H}else{this.yF=[H.clone(),H.clone()];
this.P_=[1]}};A.PM.prototype.Tw=function(n,q,p,E,T){if(this.P_==null)return;var i=this.yF,H=this.P_,Z=n.c.hQ(T.x,T.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);if(H.length>1){var w=Z.x-this.RO.x,d=Z.y-this.RO.y;for(var R=0;
R<i.length;R++){i[R]=this.S4[R].clone();i[R].offset(w,d)}}else{i[H[0]].Gw(Z.x,Z.y);if(E.r(aj.$t)){i[H[0]]=A.je.Um(i[1-H[0]],i[H[0]])}}this.ms(n);
this.TH(q,P.E.T,{e:P.C.R2,i:this.id,aa5:i[0],rx:i[1],tD:i[2],xm:n.xm,aq4:n.v})};A.PM.prototype.HO=function(n,q,p,E,T,i){this.P_=null;
if(i){this.yF=this.w1.slice(0);this.ms(n)}};A.PM.prototype.TH=function(n,q,p){var E=new ea(q,!0);E.data=p;
n.K(E)};A.PM.prototype.ms=function(n){var q=this.yF;if(q==null)this.Y0(n);else{var p=[q[1].x,q[1].y,q[0].x,q[0].y],E=["M","L"];
if(q.length>2){p.push(q[2].x,q[2].y);E.push("L")}n.H.f4={F:E,W:p};n.H.$O=p}n.IJ=!0};A.PM.prototype.Y0=function(n){n.H.f4=null;
n.H.$O=[]};A.PM.a2y=function(n,q,p){var E=q.x-n.x,T=q.y-n.y,i=Math.abs(T*p.x-E*p.y+q.x*n.y-q.y*n.x),H=Math.sqrt(E*E+T*T);
return H==0?0:i/H};A.gp=function(){A.o8.call(this,[10,19],A.l8,"tools/sharpen");this.wq="copy"};A.gp.prototype=new A.o8;
A.gp.prototype.LA=function(n,q,p,E,T){var i=this.US.pdetail?iX.vS:iX.l8;if(E.r(aj.sL))i=iX.IS;this.Pu(n,p,E,T,this.US.strn,i);
if(this.$s==null)return;this.Gv(n)};A.gp.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.bf=function(){A.o8.call(this,[10,24],A.FQ,"tools/shbrush");
this.wq="draw";this.US.opacity=.5};A.bf.prototype=new A.o8;A.bf.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,1);
if(this.$s==null)return;this.Kv(n);this.Gv(n)};A.bf.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.bf.prototype.HO=function(n,q,p,E,T){if(this.$s==null)return;
this.fU(n,"sheal",this.$s.V_(),this.$s.UB(),this.$s.o2(),null);this.M(n,this.$s.o2());A.o8.prototype.HO.call(this,n,q,p,E,T)};
A.hq=function(){A.o8.call(this,[10,20],A.gq,"tools/smudge");this.wq="copy"};A.hq.prototype=new A.o8;
A.hq.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.strn,iX.gq);if(this.$s==null)return;this.Gv(n)};
A.hq.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);if(this.$s==null)return;
if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.C0=function(){A.o8.call(this,[10,23],A.fr,"tools/sponge");
this.wq="sponge"};A.C0.prototype=new A.o8;A.C0.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,this.US.flow);
if(this.$s==null)return;this.Gv(n)};A.C0.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);if(this.pC)this.$p(n,p,T);
if(this.$s==null)return;if(!T.fk)return;this.uB(n,p,E,T);this.Gv(n)};A.Cn=function(){A.pk.call(this,[10,17],A.$v,"tools/zoom");
this.z3=!1;this.ux=!0;this.Oj=0;this.Al=null;this.dZ=null;this.Sb=0;this.Vk=null;this.b9=0;this.B5=new a1([{name:[8,0],kZ:"Ctrl + +"},{name:[8,1],kZ:"Ctrl + -",H8:!0},{name:[20,3],kZ:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],kZ:"Ctrl + 1"}],[{l:P.E.u,i:A.$v,m:{e:"zoom",ux:!0}},{l:P.E.u,i:A.$v,m:{e:"zoom",ux:!1}},{l:P.E.u,i:A.$v,m:{e:"adapt",k:"fitscr"}},{l:P.E.u,i:A.$v,m:{e:"adapt",k:"pixel"}}])};
A.Cn.prototype=new A.pk;A.Cn.prototype.J7=function(n,q,p,E,T){var i=this.B5;i.N();i.parent=q;i.update(n,p);
var H=new ea(P.E.T,!0);H.data={e:P.C.KU,yx:i,x:T.Yt+2,y:T.tF+1};q.K(H)};A.Cn.prototype.enable=function(n,q,p,E){this.yu(q,E);
if(n&&Date.now()-this.Oj<300)this.JZ({e:"adapt",k:"pixel"},q,n,E,p);this.Oj=Date.now()};A.Cn.prototype.LA=function(n,q,p,E,T){this.dZ=new fc(T.x,T.y);
this.Sb=n.c.n;this.Vk=n.c.t.clone()};A.Cn.prototype.Tw=function(n,q,p,E,T){if(this.dZ==null)return;var i=Math.exp(Math.log(this.Sb)+(T.x-this.dZ.x)/64);
i=Math.max(.02,Math.min(32,i));n.c.n=this.Sb;n.c.t=this.Vk.clone();this.JZ({e:"zoom",n:i,CV:this.dZ},q,n,E,p)};
A.Cn.prototype.HO=function(n,q,p,E,T){if(fc.vu(this.dZ,T)<4){var i=this.P0(E);this.JZ({e:"zoom",ux:i,CV:T},q,n,E,p)}this.dZ=null};
A.Cn.xy=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
A.Cn.D4=function(n,q,p,E){var T=1;while(n*T*1/2>p||q*T*1/2>E)T*=1/2;if(n*T*2/3>p||q*T*2/3>E)T*=1/2;else if(n*T>p||q*T>E)T*=2/3;
return T};A.Cn.v0=function(n,q){var p=A.Cn.aco(n);if(q&&p==0)return n;if(!q&&p==A.Cn.xy.length-1)return n;
return A.Cn.xy[q?p-1:p+1]};A.Cn.aco=function(n){var q=0;while(A.Cn.xy[q]>n)q++;return q};A.Cn.MB=function(n,q,p,E){var T=n.eL;
if(E==0||E==null){E=A.Cn.v0(n.n,p);if(E==n.n)return}var i=n.hQ(q.x,q.y);if(T.v*E<=n.fM.v&&T.o*E<=n.fM.o){n.t.Gw(0,0);
n.n=E}else{var H=n.w5(),Z=n.n/E;H.translate(-i.x,-i.y);H.scale(Z,Z);H.translate(i.x,i.y);n.sV(H)}};A.Cn.prototype.JZ=function(n,q,p,E,T){if(n.e=="pzoom"){if(typeof n.k=="string")return;
n={e:"zoom",n:n.k/100}}var i=0,H=!1,Z=null;if(n.e=="adapt"){var w=0;if(n.k=="pixel")w=1;if(n.k=="fitscr"){var w=0,d=p.c.fM.v,O=p.c.fM.o,W=T.ng?j.L6.Aq+4:8;
w=Math.min((d-W*2)/p.v,(O-W*2)/p.o)}Z=new fc(Math.round(p.c.fM.v/2),Math.round(p.c.fM.o/2));i=w;A.Cn.MB(p.c,Z,H,i);
p.Ln=!0}if(n.e.startsWith("multi")){function C(v){var o=v[0].x-v[1].x,y=v[0].y-v[1].y;return Math.sqrt(o*o+y*y)}function a(v){return new fc((v[0].x+v[1].x)/2,(v[0].y+v[1].y)/2)}var B=n.pc,$=a(B);
if(n.e=="multidown"){this.Al=[B,p.c.n,p.c.hQ($.x,$.y)]}else{i=this.Al[1]*C(B)/C(this.Al[0]);if(i>=1)i=Math.min(32,Math.round(i));
else{var I=0,x=1e9,U=A.Cn.xy;for(var R=0;R<U.length;R++){var N=Math.abs(1-i/U[R]);if(N<x){x=N;I=R}}i=U[I]}if(i!=p.c.n)A.Cn.MB(p.c,$,H,i);
var m=this.Al[2],f=p.c.eh(m.x,m.y),c=p.c.t;c.x=Math.round(c.x+$.x-f.x);c.y=Math.round(c.y+$.y-f.y);p.Ln=!0}}if(n.e=="scroll"){Z=n.CV;
this.b9+=n.MZ.y;var D=14;if(this.b9<-D){H=!0;this.b9=Math.max(this.b9+D,-(D-1))}else if(this.b9>D){H=!1;
this.b9=Math.min(this.b9-D,D-1)}else return;A.Cn.MB(p.c,Z,H,i);p.Ln=!0}if(n.e=="zoom"){Z=n.CV?n.CV:new fc(Math.round(p.c.fM.v/2),Math.round(p.c.fM.o/2));
if(n.n!=null)i=n.n;else H=n.ux;A.Cn.MB(p.c,Z,H,i);p.Ln=!0}if(n.e=="mskView"){var z=p.h[p.p[0]],_=z.TL==3?z.vr(p).w:z.u1();
if(n.k==0){p.c.mc=[1,1,1];_.Fk=!1}if(n.k==1){p.c.mc=[1,1,1];_.Fk=!0}if(n.k==2){p.c.mc=[0,0,0];_.Fk=!0}for(var R=0;
R<p.v4.length;R++)p.v4[R].Fk=!1;p.z1=[];p.IJ=!0}};A.Cn.prototype.IY=function(n,q,p,E){if(this.z3!=E.r(aj.sL)){this.z3=E.r(aj.sL);
var T={e:P.C.R2,i:this.id,z3:this.z3},i=new ea(P.E.T,!0);i.data=T;q.K(i);this.yu(q,E)}};A.Cn.prototype.yu=function(n,q){var p=new ea(P.E.T,!0),E=this.P0(q);
p.data={e:P.C.ru,MN:E?"zoom-in":"zoom-out"};n.K(p)};A.Cn.prototype.em=function(n,q,p,E){this.ux=n.ux;
this.yu(q,E)};A.Cn.prototype.P0=function(n){var q=this.ux;if(n.r(aj.gW)&&n.r(aj.Fj))q=!0;if(this.z3)q=!q;
return q};A.Cn.VP=function(n,q){if(n.r(aj.ri)||n.r(aj.a6_)){q.i=A.$v;q.data={e:"zoom",ux:!0}}if(n.r(aj.VZ)){q.i=A.$v;
q.data={e:"zoom",ux:!1}}if(n.r(aj.Vs)){q.i=A.$v;q.data={e:"adapt",k:"fitscr"}}if(n.r(aj.tp)){q.i=A.$v;
q.data={e:"adapt",k:"pixel"}}};A.C5=function(n,q,p){A.pk.call(this,n,q,p);this.zb=null;this.BW=null;
this.Q0=null;this.afm=0};A.C5.prototype=new A.pk;A.C5.prototype.enable=function(n,q,p,E,T){this.BW=p;
var i=new ea(P.E.T,!0);i.data={e:P.C.ru,MN:"default"};q.K(i)};A.C5.prototype.J7=function(n,q,p,E,T){var i=n.Jy(),H=i[0],Z=i[1];
if(Z.length==0)return;var w=H[Z[0]],d=w.add.vmsk,O=n.c.hQ(T.x,T.y),W=4*P.D()/n.c.n,C=new eL(O.x-W,O.y-W,W*2,W*2),a=j.G.gn(d.Q,C)[0];
if(a.length!=0){d.Eg=a;n.IJ=!0}var B=j.G.GM(d.Q,O).ap;if(B!=-1){d.p=[B];n.IJ=!0}var $=new ea(P.E.T,!0);
$.data={e:P.C.R2,i:this.id,_Y:T,bp:n,eP:p};q.K($)};A.C5.prototype.Z$=function(n,q){var p=new ea(P.E.T,!0);
p.data={e:P.C.Th,sQ:cF.Yv};if(!q.Ui)n.K(p);p.data={e:P.C.Th,sQ:cF.n_};if(!q.yM.kA)n.K(p)};A.C5.prototype.bM=function(n,q,p,E){if(p.tj!=this.id)return;
if(n.p.length==0)return;var T=n.h[n.p[0]],i=T.add.vmsk,H=T.add.vstk,Z=A.C5.zd(n,n.p[0]);this.zb=n;this.Q0=q;
if(T._m()&&i!=null&&(JSON.stringify(H)!=JSON.stringify(p.rc)||JSON.stringify(Z)!=JSON.stringify(p.q1))){this.afm=Date.now();
var w=new ea(P.E.T,!0);w.data={e:P.C.Th,sQ:cF.nI,k:Z};q.K(w);w.data={e:P.C.Th,sQ:cF.yC,k:H};q.K(w)}};
A.C5.prototype.ts=function(n,q){if(this.zb==null)return;if(q==cF.Bo||q==cF.nI||q==cF.yC){if(Date.now()-this.afm<50)return;
var p=q==cF.nI,E=this.zb,T=p?n.q1:n.rc,i=[],H=E.p;for(var R=0;R<H.length;R++){var Z=H[R],w=E.h[Z];if(!w._m()||w.add.vmsk==null)continue;
i.push(Z)}var d=new ea(P.E.u,!0);d.i=A.iq;d.data={e:g.QM,N$:i,B7:p,k:T};if(i.length!=0)this.Q0.K(d)}};
A.C5.prototype.amv=function(n){if(typeof n=="number"){var q=new ea(P.E.Gi,!0);q.data=A.am.zm(0);q.data.ga.Usng.v.Type.v.Clr.v=j.f.iB({_:n>>>16&255,q:n>>>8&255,X:n>>>0&255});
this.Q0.K(q)}};A.C5.prototype.JZ=function(n,q,p,E,T){this.Q0=q;if(n.e=="newfill"){if(n.hw==0){var i=new ea(P.E.T,!0);
i.data={e:P.C.Lr,ov:"colorpicker",Q9:T.ny,uV:this.amv.bind(this)};q.K(i)}}else if(n.e=="pathedit"){var H=n.df,Z="",w=p.kA.slice(0),d=p.Dm.slice(0),O=p.kA.slice(0),W=p.Dm.slice(0);
if(H=="rnm"){var C=-1-n.ap,a=w[C],B=gd.f$(n.name,a.add);if(C!=0)O[C]=B;else{W=[O.length];O.push(B);O[0]=gd.f$("Work Path")}Z="Rename"}else if(H=="new"){var B=gd.f$("Path "+w.length);
if(n.a04){var $=p.Jy(),I=$[0],x=$[1],U=I[x[0]];B.add.vmsk=U.add.vmsk.clone();B.add.vogk=JSON.parse(JSON.stringify(U.add.vogk));
if(U.ap==-1){var N=O[W[0]]=gd.f$("Path "+w.length);N.name=U.name;N.ap=U.ap}}O.push(B);W=[O.length-1];
Z="New"}else if(H=="del"){if(W.length==0)return;W.sort(function(k,e){return k-e});if(W[0]==0){O[0]=gd.f$(w[0].name);
W=W.slice(1)}var m=0;while(W.length!=0){O.splice(W[0]-m,1);W=W.slice(1);m++}Z="Delete"}else if(H=="fromsel"){var f=O[0]=gd.f$("Work Path");
W=[0];if(p.$==null)return;var c=p.$.channel.slice(0);for(var R=0;R<c.length;R++)c[R]=c[R]>128?2:1;var D=p.$.rect.clone();
D.ZU(1,1);var z=j.U(D.P());j.cg(c,p.$.rect,z,D);var _=gO.Wo(z,D.v,D.o,Math.round(D.P()*5e-4)),I=gO.Jy(_),v=new b$(1,0,0,1,-1+p.$.rect.x,-1+p.$.rect.y);
for(var R=0;R<I.length;R++)j.O.B(I[R].path.W,v,I[R].path.W);for(var R=0;R<I.length;R++){var o=I[R];if(o.color==1&&o.parent==-1)continue;
var y=j.O.zt(I[R].path,!1);f.add.vmsk.Q=f.add.vmsk.Q.concat(y.slice(2))}f.add.vogk=g.J0(f.add.vmsk.Q);
Z="Selection to"}var k=new d4(Z+" Path",this);k.data={w1:w,k1:d,acH:O,UN:W};if(H=="fromsel"){k.data.Nu=p.$;
k.data.ii=null}p.Dc(k);this.NJ(k.data,p)}else{var S=n.as,$=p.Jy(n.e=="append"),I=$[0],x=$[1],f=I[x[0]],L=f.add.vmsk,X=f.add.vogk,s=L.clone(),M=L.clone(),V=JSON.stringify(X);
if(n.e=="remove"){if(n.aY&&M.Eg.length!=0){M.Q=j.G.a0V(M.Q,M.Eg,X);var l=j.G.ji(M.Q);for(var R=0;R<M.p.length;
R++)if(M.p[R]>=l){M.p.splice(R,1);R--}M.Eg=[];S="Delete Anchors"}else{if(M.p.length==0)return;var m=0;
for(var R=0;R<M.p.length;R++){X.splice(M.p[R]+m,1);m--}M.Q=j.G.aqg(M.Q,M.p);M.p=[];M.Eg=[];if(S==null)S="Delete Paths"}}if(n.e=="append"){A.C5.c_(n.ahW,M,X)}this.bL(p,f.ap,M,X);
this.cX(p,S,f.ap,s,M.clone(),null,V,JSON.stringify(X))}};A.C5.R6=function(n,q){var p=j.G.aiw(n.Q,n.p),E=[];
for(var R=0;R<n.p.length;R++)E.push(JSON.parse(JSON.stringify(q[n.p[R]])));return[p,E]};A.C5.c_=function(n,q,p){var E=j.G.ji(q.Q),T=j.G.ji(n[0]);
q.Q=q.Q.concat(n[0].slice(2));q.p=[];for(var R=0;R<T;R++)q.p.push(E+R);for(var R=0;R<T;R++)p.push(JSON.parse(JSON.stringify(n[1][R])))};
A.C5.prototype.Ou=function(n,q){if(q==null)return!1;var p=q.Jy(),E=p[0],T=p[1];if(T.length==0)return!1;
var i=E[T[0]],H=i.add.vmsk;if(H&&H.p.length+H.Eg.length!=0)return[aj.Qt,aj.W_].indexOf(n)!=-1};A.C5.prototype.IY=function(n,q,p,E){if(n==null)return;
var T=n.Jy(),i=T[0],H=T[1];if(H.length==0)return;var Z=i[H[0]],w=Z.add.vmsk;if(E.r(aj.eN)||E.r(aj.T4)){w.Eg=[];
n.IJ=!0}if(w.p.length!=0){var d=E.kH();if(d.x!=0||d.y!=0){var O=w.clone(),W=w.clone(),C=new b$(1,0,0,1,d.x,d.y),a=Z.add.vogk,B=JSON.stringify(a);
j.G.ra(W.Q,C,W.p);j.k4.B(a,j.V.fa(C),W.p);this.bL(n,Z.ap,W,a);this.cX(n,"Move Paths",Z.ap,O,W.clone(),!0,B,JSON.stringify(a))}if(E.r(aj.Qt)||E.r(aj.W_))this.JZ({e:"remove",aY:this.id==A.W9},q,n,E,p)}};
A.C5.prototype.cX=function(n,q,p,E,T,i,H,Z){var w=new d4(q,this);w.data={a3:p,l3:E,vf:T,a2P:i,ag3:H,FJ:Z};
n.Dc(w)};A.C5.prototype.NJ=function(n,q){if(n.a3!=null)this.bL(q,n.a3,n.vf.clone(),JSON.parse(n.FJ));
else{q.kA=n.acH.slice(0);q.Dm=n.UN.slice(0);q.IJ=q.l0=!0}if(n.Nu||n.ii){q.$=n.ii;q.mT=!0}};A.C5.prototype.iP=function(n,q){if(n.a3!=null)this.bL(q,n.a3,n.l3.clone(),JSON.parse(n.ag3));
else{q.kA=n.w1.slice(0);q.Dm=n.k1.slice(0);q.IJ=q.l0=!0}if(n.Nu||n.ii){q.$=n.Nu;q.mT=!0}};A.C5.prototype.bL=function(n,q,p,E){var T=q<0?n.kA[-1-q]:q<1e6?n.h[q]:n.h[q-1e6].add.TySh,i=T.add.vmsk;
i.channel=null;i.zK=!0;if(i.y9){i.y9.channel=null;i.y9.zK=!0}T.add.vmsk=p;T.add.vogk=E;if(1e6<=q){hx.Od(T);
var H=n.h[q-1e6],Z=T,w=this.BW,d=new e7(Z.Bd,w.s4),O=hj.JS(d,Z);H.rect=O.n7;H.buffer=O.OT;H.M();n.M()}else if(0<=q){p.zK=!0;
T.VA(n);n.M()}n.IJ=n.l0=!0};A.C5.zd=function(n,q){var p=n.h[q],E=p.add.vstk,T=null;if(E&&!E.fillEnabled.v)T={a5:0};
else if(p.add.SoCo)T={a5:1,IH:p.add.SoCo};else if(p.add.GdFl)T={a5:2,IH:p.add.GdFl};else if(p.add.PtFl)T={a5:3,IH:p.add.PtFl};
return T};A.C5.GI=function(n,q){var p=n.add.vmsk,E=n.add.vstk,T=q.a5;if(E)E.fillEnabled.v=T!=0;if(T>0){var i=["SoCo","GdFl","PtFl"][T-1];
for(var R=0;R<3;R++)delete n.add[["SoCo","GdFl","PtFl"][R]];n.add[i]=q.IH}};A.am=function(n,q,p,E){A.C5.call(this,n,q,p);
this.US={shape:j2.yQ(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{UG:0},anta:!0};
this.a2r=E;this.rI=null;this.lo=null;this.a2=null;this.aP=new hA};A.am.prototype=new A.C5;A.am.prototype.tU=function(n){return n.fk&&this.id!=A.e4};
A.am.prototype.enable=function(n,q,p,E,T){this.BW=p;var i=new ea(P.E.T,!0);i.data={e:P.C.ru,MN:"crosshair"};
q.K(i)};A.am.prototype.IY=function(n,q,p,E){A.C5.prototype.IY.call(this,n,q,p,E);this.aP.IY(E);this.AT(q)};
A.am.prototype.AT=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.R2,i:this.id,xx:this.RL()};n.K(q)};
A.am.prototype.RL=function(){var n=this.aP.LD(0),q=this.aP.pr(0);return A.eY.yc(this.US.binop,n,q)};
A.am.prototype.$L=function(n,q,p,E){};A.am.prototype.LA=function(n,q,p,E,T){var i=p.sl;if(i!=2)this.Z$(q,p);
if(i==2&&!n.zP())return;var H=n.c.hQ(T.x,T.y);H=A.Wh.My(n,H,p);this.a2=[H.x,H.y];this.rI=H;this.lo=new fc(0,0);
this.aP.LA(E)};A.am.prototype.on=function(n,q,p){var E=[this.rI.clone(),q.clone()];p=this.aP.LD(1)||this.aP.pr(1)?p:null;
if(this.a2r)E=A.am.m4(E[0],E[1],p,!0,this.US.cstr);if(n)n.c.gL=new eL(E[0].x,E[0].y,E[1].x-E[0].x,E[1].y-E[0].y);
return this.$L(E[0],E[1],this.aP.LD(1),this.a2)};A.am.prototype.zM=function(n,q,p){var E=n.c.hQ(q.x,q.y),T=this.US.cstr;
if(T.UG==2){var i=new eL(E.x-T.x,E.y-T.y,T.x,T.y),H=A.Wh.QD(n,i,p);E.x+=H[0];E.y+=H[1];A.Wh.d8(n,i,H)}else E=A.Wh.My(n,E,p);
return E};A.am.prototype.Tw=function(n,q,p,E,T){if(this.rI==null)return;var i=this.a2,H=i.length,Z=T?this.zM(n,T,p):new fc(i[H-2],i[H-1]);
if(E.r(aj.gW))this.rI=Z.NH(this.lo);else this.lo=Z.NH(this.rI);i.push(Z.x,Z.y);if(this.US.shape==null)this.US.shape=p.Xr[0];
var w=this.on(n,Z,E)[0],d=j.O.kp(w);n.H.f4=d;if(this.id!=A.e4&&this.id!=A.R5&&this.id!=A.X7)A.pk.wY(T.x+10,T.y-10,n.c.gL,n,p);
n.IJ=!0;this.aP.Tw()};A.am.prototype.anP=function(n,q,p,E){var T=n[4].clone();if(E){T.x-=q/2;T.y-=p/2}var i=this.$L(T,new fc(T.x+q,T.y+p),!1,this.a2);
this.dE(n[0],n[1],n[2],i)};A.am.prototype.dE=function(n,q,p,E){var T=new ea(P.E.Gi,!0);T.data=A.am.oC(E[1],p);
q.K(T);if(E[1].v.classID=="customShape"&&E[1].v.Nm.v.startsWith("--")){var i=n.Jy(),H=i[0],Z=i[1],w=H[Z.pop()],d=w.add.vmsk,O=w.add.vogk,W=d.clone();
W.Q=E[0];this.bL(n,w.ap,W,O)}};A.am.prototype.HO=function(n,q,p,E,T,i){if(this.rI==null)return;var H=this.zM(n,T,p),Z=this.RL(),w=p.sl,d=this.a2,O=d.length;
if(this.id==A.e4&&O<=4){}else if(O<=4){H.x=Math.round(H.x);H.y=Math.round(H.y);var W=new ea(P.E.T);W.data={e:P.C.Lr,ov:"createshape",a4r:this.anP.bind(this),adx:this.name,aro:[n,q,p,E,H]};
if(!i)q.K(W)}else if(O!=2){var C=this.on(n,H,E),a=C[0],B=n.Jy(!0),$=B[0],I=B[1],x=I.length-1;if(w==1&&a.length>2||w==0&&Z!=0&&x!=-1&&$[I[x]].ap>=0){a[2].HW=[1,2,3,0][Z-1];
var U=$[I.pop()],N=U.add.vmsk,m=U.add.vogk,f=N.clone(),c=N.clone(),D=JSON.stringify(m);c.Q=c.Q.concat(a.slice(2));
c.p=[j.G.ji(c.Q)-1];var z=j.k4.sH(C[1]);m.push(z?z:j.k4.Ji());this.bL(n,U.ap,c,m);this.cX(n,this.name,U.ap,f,c,null,D,JSON.stringify(m))}else if(w==0){this.dE(n,q,p,C)}else if(w==2){var c=new g.Xg;
c.Q=c.Q.concat(a.slice(2));var _=c.u1();if(!this.US.anta)j.round(_.channel);var v=j.U(_.rect.P()*4);
j.nz(v,(p.ny&255)<<16|(p.ny>>8&255)<<8|(p.ny>>16&255)<<0);j.yI(_.channel,v,3);var o=new ea(P.E.u,!0);
o.i=A.yR;o.data={e:"draw",GJ:{buffer:v,rect:_.rect.clone()},as:this.name};q.K(o)}}this.rI=null;n.H.f4=null;
n.H.j_=null;n.H.eW=[];n.c.gL=null;n.IJ=!0;this.aP.HO();this.AT(q)};A.am.prototype.em=function(n,q,p,E,T){for(var p in n)this.US[p]=n[p]};
A.am.m4=function(n,q,p,E,T){var i=n.x,H=n.y,Z=q.x,w=q.y;if(T&&T.UG==2){if(E){Z=Math.round(Z);w=Math.round(w)}i=Z-T.x;
H=w-T.y}else{var d=0;if(T&&T.UG==1)d=T.y/T.x;else if(p&&p.r(aj.$t))d=1;if(d!=0){if(E){if(i<Z)i=Math.floor(i);
else i=Math.ceil(i);if(H<w)H=Math.floor(H);else H=Math.ceil(H)}var O=Math.abs(Z-i),W=Math.abs(w-H),C=O;
if(W/O<d)C*=W/O/d;Z=Z>i?i+C:i-C;w=w>H?H+C*d:H-C*d}if(p&&p.r(aj.sL)){i-=Z-i;H-=w-H}}var n=new fc(i,H),q=new fc(Z,w);
if(E)A.am.apT(n,q);return[n,q]};A.am.apT=function(n,q){if(n.x>q.x){var p=n.x;n.x=q.x;q.x=p}if(n.y>q.y){var p=n.y;
n.y=q.y;q.y=p}n.x=Math.floor(n.x);n.y=Math.floor(n.y);q.x=Math.ceil(q.x);q.y=Math.ceil(q.y)};A.am.a1B=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
A.am.zm=function(n,q){var p=A.am.a1B();if(q==null)q=JSON.parse(JSON.stringify(iq.FH[n]));i1.w9.sd(q,p.Usng.v.Type.v,n);
return{oK:"make",ga:p}};A.am.oC=function(n,q){var p=q.q1,E=JSON.parse(JSON.stringify(q.rc));if(p.a5==0)E.fillEnabled.v=!1;
var T=A.am.zm(Math.max(0,p.a5-1),p.IH);T.ga.Usng.v.Shp=n;T.ga.Usng.v.strokeStyle={t:"Objc",v:E};return T};
A.Mm=function(){A.C5.call(this,[10,29],A.W9,"tools/pen");this.xG=null;this.N3=null;this.nV=null;this.alj=0;
this.GH=null;this.Xz=!1;this.tL=!1;this.b$=!1;this.JW=!1};A.Mm.prototype=new A.C5;A.Mm.prototype.tU=function(n){return this.N3!=null};
A.Mm.prototype.IY=function(n,q,p,E){A.C5.prototype.IY.call(this,n,q,p,E);if(!E.r(aj.sL))this.b$=!1};
A.Mm.prototype.LA=function(n,q,p,E,T){this.xG=T;this.Z$(q,p);var i=n.c.hQ(T.x,T.y),$,I;i.x=Math.round(i.x);
i.y=Math.round(i.y);var H=A.Wh.My(n,i,p),Z=p.sl,w=this.alj;if(Z==2)Z=0;var d=n.Jy(Z==1),O=d[0],W=d[1],C=O[W.pop()],a=C?C.add.vmsk:null;
if(Z==0&&w!=0&&C&&C.ap>=0)Z=1;var B=4*P.D()/n.c.n;if(a)$=j.G.GM(a.Q,i,!0,B);var x=E.r(aj.sL);if(Z==0&&(a==null||a.Eg.length==0&&$.ap==-1)){var U=new ea(P.E.Gi,!0),N=j.k4.Az("customShape",[0,0,1,1],null,null,null,"--");
U.data=A.am.oC(N,p);q.K(U);this.JW=!0;d=n.Jy(!0);O=d[0];W=d[1];C=O[W.pop()];a=C.add.vmsk;a.Q=a.Q.slice(0,2)}var m=C.add.vogk;
this.N3=a.clone();this.nV=JSON.stringify(m);var f=a.Q,c=j.G.ji(f);I=j.G.gn(a.Q,new eL(i.x-B,i.y-B,B*2,B*2),a.Eg);
$=j.G.GM(a.Q,i,!0,B);var D=I[0].length+I[1].length+I[2].length;if($.ap!=-1&&I[0].length==0){var z=j.G.HC(f,$.ap);
while(f[z].length<=$.Og){$.Og-=f[z].length;z+=f[z].length+1}f[z].length++;f.splice(z+2+$.Og,0,{type:4,m5:H.clone(),L:H.clone(),OR:H.clone()});
a.Eg=[z+2+$.Og]}else if(D!=0&&x){var _=0;for(var R=0;R<3;R++)if(I[R].length!=0){_=I[R][0];this.tL=R==1;
break}if(I[0].length!=0){var v=a.Q.length-1,o=a.Q[_];o.OR=o.L.clone();var y=o.type>=3?3:0;if(_!=v){o.m5=o.L.clone();
o.type=y+1;this.b$=!0}else o.type=y+2}a.Eg=[_]}else if(I[0].length==1&&f[I[0][0]-1]&&f[I[0][0]-1].HW==null){var _=I[0][0],z=j.G.gV(f,_);
z=j.G.HC(f,z);var k=z+f[z].length;if(_!=k){f[z].length--;f.splice(_,1);k--}a.Eg=[k]}else{var S=0;if(a.Eg.length!=1){a.p=[c];
f.push({type:3,length:1,HW:[1,2,3,0][Math.max(0,w-1)],cZ:0,NC:0,Wu:0});S=f.length;m.push(j.k4.Ji())}else{var L=a.Eg[0],X=j.G.gV(f,L),z=j.G.HC(f,X);
L=z+f[z].length;if(fc.vu(i,f[z+1].L)<B){f[z].type=0;a.Eg=[z+1];this.GH=H;this.Xz=!0;this.bL(n,C.ap,a,m);
n.IJ=!0;return}f[z].length++;S=L+1;if(L==z+1&&f[z].length!=2)S=z+1}if(E.r(aj.$t)&&f[S-1]&&f[S-1].L)H=A.je.Um(f[S-1].L,H);
f.splice(S,0,{type:4,m5:H.clone(),L:H.clone(),OR:H.clone()});a.Eg=[S];this.GH=H}this.bL(n,C.ap,a,m);
n.IJ=!0};A.Mm.prototype.Tw=function(n,q,p,E,T){if(this.N3==null)return;var i=this.xG;if(i&&fc.vu(i,T)<3*P.D())return;
this.xG=null;var H=n.c.hQ(T.x,T.y),Z=A.Wh.My(n,H,p),w=n.Jy(p.sl==1),d=w[0],O=w[1],W=d[O.pop()],C=W.add.vmsk,a=C.Q,B=a[C.Eg[0]];
if(E.r(aj.gW)){if(E.r(aj.$t))Z=A.je.Um(this.GH,Z);var $=B.L.NH(B.OR),I=B.m5.NH(B.L);B.OR=Z;B.L=Z.add($);
B.m5=B.L.add(I)}else{if(E.r(aj.$t))Z=A.je.Um(B.L,Z);if(this.tL){var x=B.m5;B.m5=B.OR;B.OR=x}if(this.Xz){var U=fc.vu(B.L,Z),N=U==0?0:fc.vu(B.L,B.OR)/U;
B.OR.x=B.L.x+N*(Z.x-B.L.x);B.OR.y=B.L.y+N*(Z.y-B.L.y)}else B.OR=Z;if(E.r(aj.sL)&&!this.b$)B.type=5;else{B.type=4;
B.m5=B.L.add(B.L.NH(Z))}this.GH=Z;if(this.tL){var x=B.m5;B.m5=B.OR;B.OR=x}}this.bL(n,W.ap,C,W.add.vogk);
n.IJ=!0};A.Mm.prototype.HO=function(n,q,p,E,T){if(this.N3==null)return;var i=n.Jy(p.sl==1),H=i[0],Z=i[1],w=H[Z.pop()],d=w.add.vmsk,O=w.add.vogk;
if(this.Xz){d.Eg=[];this.bL(n,w.ap,d,w.add.vogk)}var W=this.N3.Q.length,C=d.Q.length;if(!this.JW)this.cX(n,this.Xz?"Close Path":(W==C?"Move":W<C?"Add":"Delete")+" Anchor Point",w.ap,this.N3,d.clone(),null,this.nV,JSON.stringify(O));
this.JW=!1;this.Xz=!1;this.tL=!1;this.b$=!1;this.N3=null};A.Mm.prototype.em=function(n,q,p,E,T){this.alj=n.binop};
A.PF=function(){A.am.call(this,[10,30],A.e4,"tools/fpen",!1)};A.PF.prototype=new A.am;A.PF.prototype.$L=function(n,q,p,E){return[j.G.B8(E,this.US.tolr),j.k4.Az("customShape",[0,0,1,1],null,null,null,"--")]};
A.kY=function(){A.C5.call(this,[10,27],A.nk,"tools/pselect");this.Dw=null;this.xW=!1;this.N9=null;this.N3=null;
this.wV=null;this.nV=null;this.pJ=null;this.su=null;this.mF=null;this.tN=null};A.kY.prototype=new A.C5;
A.kY.prototype.tU=function(n){return n.fk};A.kY.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=n.Jy(),Z=H[0],w=H[1],d,O;
for(var R=0;R<w.length;R++){var W=Z[w[R]],C=W.add.vmsk,a=j.G.GM(C.Q,i).ap;if(a!=-1){this.N9=d=W;O=a}for(var B=0;
B<C.yF.length;B++){var $=j.G.l_(C.Q,C.yF[B]);if($==null)continue;var I=fc.vu($,i);if(I<4*P.D()/n.c.n){var x=n.h[W.ap-1e6].add.TySh,U=x.Bd.Curve,N=x.B,m=U.Reversed;
U.Reversed=!1;var U=e7.Xq(x.Bd.Curve);U.Reversed=m;j.O.B(U[0],N,U[0]);this.mF=[U,B,N.jS*N.FF-N.X*N.kr];
this.N9=d=W;O=0}}if(this.mF)break}if(d!=null){var C=d.add.vmsk;C.Eg=[];var f=C.p.indexOf(O);if(E.r(aj.$t)){if(f==-1){C.p.push(O);
this.xW=!0}else C.p.splice(f,1)}else{if(f==-1)C.p=[O];this.xW=!0}this.su=j.G.Sc(C.Q,C.p)}this.Dw=i;this.tN=new a2(i);
n.l0=!0;n.IJ=!0};A.kY.prototype.Tw=function(n,q,p,E,T){if(this.Dw==null)return;var i=n.c.hQ(T.x,T.y);
if(this.xW){i=this.tN.Ov(i,E);var H=this.N9;if(this.N3==null){this.N3=this.wV=H.add.vmsk.clone();this.nV=this.pJ=JSON.stringify(H.add.vogk);
if(E.r(aj.sL)){var Z=this.N3.clone(),w=JSON.parse(this.nV),d=A.C5.R6(Z,w);A.C5.c_(d,Z,w);this.wV=Z;this.pJ=JSON.stringify(w)}}var Z=this.wV.clone(),w=JSON.parse(this.pJ);
if(this.mF){var O=this.mF,W=O[0][0],C=j.O.YJ(W,i.x,i.y);Z.yF[O[1]]=O[0][1][C];var a=W[C*2],B=W[C*2+1],$=(W[C*2+2]-a)*(i.y-B)-(W[C*2+3]-B)*(i.x-a);
if(O[2]<0)$=-$;Z.eJ=$>0}else{var I=this.su.clone(),x=I.x,U=I.y;I.offset(i.x-this.Dw.x,i.y-this.Dw.y);
I.x=Math.round(I.x);I.y=Math.round(I.y);var N=A.Wh.QD(n,I,p),m=new b$(1,0,0,1,I.x-x+N[0],I.y-U+N[1]);
j.G.ra(Z.Q,m,Z.p);j.k4.B(w,j.V.fa(m),Z.p);A.Wh.d8(n,I,N)}this.bL(n,H.ap,Z,w)}else{var f=this.Dw;n.H.f4=j.O.aS(new eL(f.x,f.y,i.x-f.x,i.y-f.y));
n.IJ=!0}};A.kY.prototype.HO=function(n,q,p,E,T){if(this.Dw==null)return;var i=n.c.hQ(T.x,T.y),H=this.N9,Z=H?H.add.vmsk:null;
if(this.xW){var w=JSON.stringify(H.add.vogk);if(!this.Dw.rv(i))this.cX(n,"Move Paths",H.ap,this.N3,Z,null,this.nV,w);
if(n!=null&&n.H.j_){n.H.j_=null;n.IJ=!0}}else{if(Z){var d=this.Dw,O=new eL(d.x,d.y,i.x-d.x,i.y-d.y),W=j.G.ar4(Z.Q,O);
if(E.r(aj.$t)){for(var R=0;R<W.length;R++)if(Z.p.indexOf(W[R])==-1)Z.p.push(W[R])}else Z.p=W}n.H.f4=null;
n.IJ=!0}this.Dw=null;this.N3=null;this.mF=null;this.xW=!1;this.tN=null};A.kY.prototype.bM=function(n,q,p,E){A.C5.prototype.bM.call(this,n,q,p,E);
if(p.tj!=this.id)return;if(n.p.length==0)return;var T=n.Jy(),i=T[0],H=T[1];if(H.length==0)return;var Z=i[H[0]],w=Z.add.vmsk,d=Z.add.vstk,O=Z.add.vogk,W=new ea(P.E.T,!0);
W.data={e:P.C.R2,i:this.id,J4:"main",kI:w?w:null,k4:O};q.K(W)};A.kY.prototype.em=function(n,q,p,E,T){var i=n.zF;
if(i.kI){var H=p.Jy(),Z=H[0],w=H[1];if(w.length==0)return;var d=Z[w[0]],O=d.add.vmsk.clone(),W=JSON.stringify(d.add.vogk),C=i.kI;
this.bL(p,d.ap,C,i.k4);var a=[18,5];if(O.Q.length==C.Q.length)a=O.p[0]==C.p[0]?"Fill Rule":"Path Order";
this.cX(p,a,d.ap,O,C,null,W,JSON.stringify(i.k4))}};A.O2=function(){A.C5.call(this,[10,28],A.fx,"tools/dselect");
this.Vw=-1;this.v8=-1;this.Ly=null;this.Dw=null;this.N9=null;this.N3=null;this.nV=null;this.zb=null;
this.nC=0;this.akT={psnap:!1};this.tN=null};A.O2.prototype=new A.C5;A.O2.prototype.tU=function(n){return n.fk};
A.O2.prototype.em=function(n){this.akT=n};A.O2.prototype.JZ=function(n,q,p,E,T){if(n.e=="crnr"){if(p==null)return;
var i=p.Jy(),H=i[0],Z=i[1];if(Z.length==0){alert("No paths selected");return}var w=H[Z[0]],d=w.add.vmsk;
if(d.Eg.length==0){alert("No corners selected");return}for(var R=0;R<d.Eg.length;R++){var O=d.Q[d.Eg[R]];
if(!O.L.rv(O.OR)||!O.L.rv(O.m5)){alert("Only sharp corners can be rounded");return}}if(this.N3==null){this.N3=w.add.vmsk.clone();
this.nV=JSON.stringify(w.add.vogk);this.N9=w;this.zb=p}var W=new ea(P.E.T,!0);W.data={e:P.C.Lr,ov:"cornerradius",Br:5,Gu:this.aql.bind(this)};
q.K(W)}else A.C5.prototype.JZ.call(this,n,q,p,E,T)};A.O2.prototype.aql=function(n){if(n=="confirm"){var q=this.zb,p=this.N9,E=p.add.vmsk,T=p.add.vogk;
this.cX(q,[12,94,0],p.ap,this.N3,E,null,this.nV,JSON.stringify(T));this.Y0();return}var E=this.N3.clone(),T=JSON.parse(this.nV),i=E.Eg;
if(n=="cancel"){}else{var H=[];for(var R=0;R<i.length;R++){var Z=i[R],w=j.G.gV(E.Q,Z,!0),W=0;if(H.indexOf(w)!=-1)continue;
H.push(w);var d=j.G.HC(E.Q,w,!0),O=E.Q[d].length,C=[];for(var a=0;a<O;a++){var B=E.Eg.indexOf(d+a+1)==-1?0:n;
C.push(B);if(B!=0)W++}j.G.$R(E.Q,d,C);for(var a=0;a<i.length;a++)if(i[a]>d+O)i[a]+=W}this.Tb(E,T);E.Eg=[]}this.bL(this.zb,this.N9.ap,E,T);
if(n=="cancel")this.Y0()};A.O2.prototype.disable=function(n,q,p,E){this.lh(n)};A.O2.prototype.LA=function(n,q,p,E,T){this.lh(n);
var i=n.c.hQ(T.x,T.y),W,C,a;this.Ly=i.clone();var H=n.Jy(),Z=H[0],w=H[1];if(w.length==0)return;var d=4*P.D()/n.c.n,O=new eL(i.x-d,i.y-d,d*2,d*2);
for(var B=0;B<w.length;B++){W=this.N9=Z[w[B]];C=W.add.vmsk;a=j.G.gn(C.Q,O);if(a[0].length+a[1].length+a[2].length!=0)break}var $=[!1,!1,!1];
for(var R=0;R<3;R++){for(var I=0;I<a[R].length;I++){var x=a[R][I];if(C.Eg.indexOf(x)!=-1||R==1&&C.Eg.indexOf(x-1)!=-1||R==2&&C.Eg.indexOf(x+1)!=-1){a[R]=[x];
$[R]=!0;break}}}if(a[0].length!=0&&($[0]||!$[1]&&!$[2])){var U=a[0][0],N=C.Eg.indexOf(U);if(E.r(aj.$t)){if(N==-1)C.Eg.push(U);
else{C.Eg.splice(N,1);n.IJ=!0;return}}else if(N==-1)C.Eg=[U];this.Vw=U;this.v8=0}else if(a[1].length!=0&&$[1]){this.Vw=a[1][0];
this.v8=1}else if(a[2].length!=0&&$[2]){this.Vw=a[2][0];this.v8=2}else{var m=j.G.GM(C.Q,i,!0,d);if(m.ap==-1)this.Dw=i;
else{C.p=[m.ap];C.Eg=[]}}if(this.N3==null){this.N3=W.add.vmsk.clone();this.nV=JSON.stringify(W.add.vogk)}this.tN=new a2(i);
n.IJ=!0};A.O2.prototype.Tw=function(n,q,p,E,T){if(n==null)return;var i=n.c.hQ(T.x,T.y),H=this.N9;if(this.Vw!=-1){var Z=this.N3.clone(),w=H.add.vogk,d=Z.Q[this.Vw];
d=[d.L,d.m5,d.OR][this.v8];if(E.r(aj.$t)){if(this.v8==0){i=this.tN.Ov(i,E);i.x+=d.x-this.Ly.x;i.y+=d.y-this.Ly.y}else i=A.je.Um(Z.Q[this.Vw].L,i)}else{if(this.akT.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=A.Wh.My(n,i,p)}if(this.v8==0){var O=new b$(1,0,0,1,i.x-d.x,i.y-d.y);j.G.ra(Z.Q,O,null,Z.Eg)}else{var W=Z.Q[this.Vw],C=W.m5,a=W.OR;
if(this.v8==2){C=W.OR;a=W.m5}if(E.r(aj.sL)&&(W.type==1||W.type==4))W.type++;C.Gw(i.x,i.y);if(W.type==1||W.type==4){var B=fc.vu(C,W.L),$=fc.vu(a,W.L);
if($!=0){a.x=W.L.x-(C.x-W.L.x)*($/B);a.y=W.L.y-(C.y-W.L.y)*($/B)}}}this.Tb(Z,w);this.bL(n,H.ap,Z,w)}else if(this.Dw!=null){var I=this.Dw;
n.H.f4=j.O.aS(new eL(I.x,I.y,i.x-I.x,i.y-I.y));n.IJ=!0}else{var x=n.Jy(),U=x[0],N=x[1],H,Z,c;if(N.length==0)return;
var m=4*P.D()/n.c.n,f=new eL(i.x-m,i.y-m,m*2,m*2);for(var D=0;D<N.length;D++){H=U[N[D]];Z=H.add.vmsk;
c=j.G.gn(Z.Q,f);if(c[0].length+c[1].length+c[2].length!=0)break}this.lh(n);for(var R=0;R<3;R++){for(var z=0;
z<c[R].length;z++){var _=c[R][z],v=Z.Q[_];v=R==0?v.L:R==1?v.m5:v.OR;n.H.n8.push(n.H.Rr.length>>>1);n.H.Rr.push(v.x,v.y);
n.IJ=!0}}}};A.O2.prototype.lh=function(n){if(n&&n.H.Rr.length!=0){n.H.Rr=[];n.H.n8=[];n.IJ=!0}};A.O2.prototype.HO=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.N9,Z=H?H.add.vmsk:null,w=H?H.add.vogk:null;
if(this.Vw!=-1){if(Date.now()-this.nC<300){var d=Z.Q[this.Vw],O=this.v8,W=null;if(O==0){var C=d.m5.rv(d.L),a=d.OR.rv(d.L);
if(!C&&!a){W="Anchor Type";if(d.type==1||d.type==4)d.type++;else{d.type--;d.OR=d.L.add(d.L.NH(d.m5))}}else{W="Add Handles";
if(C&&a){d.m5.x-=30;d.OR.x+=30}else if(C)d.m5=d.L.add(d.L.NH(d.OR));else if(a)d.OR=d.L.add(d.L.NH(d.m5))}}else{W="Remove Handle";
if(O==1)d.m5.xw(d.L);else d.OR.xw(d.L)}this.Tb(Z,w);this.bL(n,H.ap,Z,w);this.cX(n,W,H.ap,this.N3,Z,null,this.nV,JSON.stringify(w))}else if(!this.Ly.rv(i)){this.cX(n,"Drag Anchors",H.ap,this.N3,Z,null,this.nV,JSON.stringify(w))}this.nC=Date.now()}else if(this.Dw!=null){var B=this.Dw,$=new eL(B.x,B.y,i.x-B.x,i.y-B.y);
if($.v<0)$.x+=$.v;if($.o<0)$.y+=$.o;$.v=Math.abs($.v);$.o=Math.abs($.o);var I=j.G.gn(Z.Q,$);Z.Eg=I[0].concat(E.r(aj.$t)?Z.Eg:[]);
n.H.f4=null}this.Y0();n.IJ=!0};A.O2.prototype.Y0=function(){this.N9=null;this.N3=null;this.Dw=null;this.Vw=this.v8=-1;
this.tN=null};A.O2.prototype.Tb=function(n,q){for(var R=0;R<n.Eg.length;R++){var p=j.G.gV(n.Q,n.Eg[R]);
j.k4.ik(q,p)}};A.O2.prototype.IY=function(n,q,p,E){if(n==null)return;var T=n.Jy(),i=T[0],H=T[1];if(H.length==0)return;
var Z=i[H[0]],w=Z.add.vmsk;if(w==null||w.Eg.length==0)return;var d=Z.add.vogk,O=JSON.stringify(d),W=E.kH();
if(W.x!=0||W.y!=0){var C=w.clone(),a=w.clone(),B=new b$(1,0,0,1,W.x,W.y);j.G.ra(a.Q,B,null,a.Eg);this.Tb(a,d);
this.bL(n,Z.ap,a,d);this.cX(n,"Move Anchors",n.p[0],C,a.clone(),!0,O,JSON.stringify(d))}if(E.r(aj.Qt)||E.r(aj.W_))this.JZ({e:"remove",aY:!0},q,n,E,p)};
A.O2.prototype.cX=function(n,q,p,E,T,i,H,Z){var w=n.ft();if(i&&w!=null&&w.i==this&&w.data.a2P&&w.data.a3==p&&JSON.stringify(w.data.l3.Eg)==JSON.stringify(E.Eg)){w.data.vf=T;
w.data.FJ=Z}else{var w=new d4(q,this);w.data={a3:p,l3:E,vf:T,a2P:i,ag3:H,FJ:Z};n.Dc(w)}};A.Rect=function(){A.am.call(this,[10,32],A.a9,"tools/rect",!0)};
A.Rect.prototype=new A.am;A.Rect.prototype.$L=function(n,q,p){var E=this.US.crad,T=q.x-n.x,i=q.y-n.y;
return[j.G.la.Rect(n.x,n.y,T,i,E),j.k4.Az("Rctn",[n.x,n.y,q.x,q.y],[E,E,E,E])]};A.OG=function(){A.am.call(this,[10,33],A._a,"tools/ellipse",!0)};
A.OG.prototype=new A.am;A.OG.prototype.$L=function(n,q,p){var E=q.x-n.x,T=q.y-n.y;return[j.G.la.OG(n.x,n.y,E,T),j.k4.Az("Elps",[n.x,n.y,q.x,q.y])]};
A.AM=function(){A.am.call(this,[10,34],A.R5,"tools/pshape",!1)};A.AM.prototype=new A.am;A.AM.prototype.$L=function(n,q,p){var E=this.US.pshape,T=this.US.crad,i=this.US.irad/100,H=this.US.sides,Z=this.US.width,w=this.US.tsiz,d=this.US.length,I;
q=q.clone();if(p){if(Math.abs(q.x-n.x)<Math.abs(q.y-n.y))q.x=n.x;else q.y=n.y}var O=n.x,W=n.y,C=q.x,a=q.y,B=Math.sqrt((C-O)*(C-O)+(a-W)*(a-W)),$=Math.atan2(-a+W,C-O);
if(E==0)I=j.G.la.y6(O,W,B,$,H,T);if(E==1)I=j.G.la.Ya(O,W,B,$,H,T,i);if(E==2)I=j.G.la.anz(n.x,n.y,q.x,q.y,Z,w/100);
if(E==3)I=j.G.la.a1$(O,W,B,$,d);return[I,j.k4.Az("customShape",[n.x,n.y,q.x,q.y],null,null,null,"--")]};
A.AM.prototype.IY=function(n,q,p,E){var T=E.kH(),i=this.US,H,Z;if(T.y!=0){var w=-T.y,d=i.pshape;if(d<2){H="sides";
Z=Math.max(3,Math.min(100,i.sides+w))}else if(d==2){H="width";Z=Math.max(1,Math.min(100,i.width+w))}else if(d==3){H="length";
Z=Math.max(4,Math.min(40,i.length+w))}}if(T.x!=0){H="pshape";Z=Math.max(0,Math.min(3,i.pshape+T.x))}if(H){var O=new ea(P.E.T,!0),W={};
W[H]=Z;i[H]=Z;O.data={e:P.C.R2,i:this.id,df:"vals",ape:W};q.K(O);this.Tw(n,q,p,E)}};A._t=function(){A.am.call(this,[10,35],A.X7,"tools/line",!1)};
A._t.prototype=new A.am;A._t.prototype.$L=function(n,q,p){var E=this.US.width;q=q.clone();if(p){q=A.je.Um(n,q)}return[j.G.la._t(n.x,n.y,q.x,q.y,E),j.k4.Az("Ln",null,null,[n.x,n.y,q.x,q.y],E)]};
A.yh=function(){A.am.call(this,[10,31],A.qh,"tools/cshape",!0)};A.yh.prototype=new A.am;A.yh.prototype.$L=function(n,q,p){var E=this.US.shape,T=E.C8.v/E.C8.o,i=g.Xg.A$(E.Q);
q=q.clone();if(p){q.y=n.y+(q.x-n.x)/T}var H=q.x-n.x,Z=q.y-n.y;j.G.ra(i,new b$(H,0,0,Z,n.x,n.y));return[i,j.k4.Az("customShape",[n.x,n.y,q.x,q.y],null,null,null,E.KS)]};
A.Z=function(n,q,p){A.pk.call(this,n,q,p);this.I0=0;this.h=null;this.sW=null;this.eP=null;this.$G=1;
this.x4=!1;this.cursor=null;this.vt=null;this.Nu=null;this.Ym=!1;this.lB=null;this.a2_=0;this.Z5=null;
this.Sv=0;this.pv=null;this.rg=null;this.vY=null;this.EM=null;this.am9=null;this.$n=null};A.Z.prototype=new A.pk;
A.Z.K2=function(n,q){var p={classID:"null",null:j4.hZ("Dcmn",!0)};if(n)p.Angl={t:"UntF",v:{type:"#Ang",val:q}};
else p.Axis={t:"enum",v:{Ornt:q}};return{oK:n?"rotateEventEnum":"flip",ga:p}};A.Z.prototype.J7=function(n,q,p,E,T){var i=new ea(P.E.T,!0);
i.data={e:P.C.R2,i:this.id,_Y:T,bp:n,eP:p};q.K(i);this.d0=!1};A.Z.prototype.tU=function(n){return this.rg&&this.rg.ex()};
A.Z.prototype.JZ=function(n,q,p,E,T){this.eP=T;if(n.e=="again"&&this.Z5==null)return;if(!this.vy(p,T))return;
if(this.rg){this.Oi(n,this.rg.A_());this.Ko(p,T,0,!0);this.BH(p);return}this.QY(p,n.Y==null,n.Y);this.Hx(p);
this.Oi(n);this.W3(p,q,n.as,!1)};A.Z.prototype.Oi=function(n,q){var p=this.pv;if(q==null){var E=n.xT!=null?n.xT:4;
q=this.rg.a9R()[E]}var T=q.x,i=q.y;if(n.e=="rot"&&n.k!=Math.PI&&(p.v+p.o&1)==1){T=Math.floor(T);i=Math.floor(i)}var H=new b$;
H.translate(-T,-i);if(n.e=="rot")H.rotate(n.k);if(n.e=="scl")H.scale(n.k.x,n.k.y);if(n.e=="mat")H.concat(n.k);
H.translate(T,i);if(n.e=="again")H=this.Z5;var Z=this.rg.Rl();j.O.B(Z,H,Z);this.rg.MS(Z)};A.Z.prototype.vo=function(){return!0};
A.Z.prototype.vy=function(n,q){if(n==null)return!1;if(this.id==A.zi)return n.$!=null;var p=n.lR(!0,null,null,!0);
if(this.id==A.CI&&n.h[p[0]].rect.M6()){alert("Layer is empty.");return!1}for(var R=0;R<p.length;R++){var E=n.h[p[R]];
if(E.d9(2)||E.d9(31)){alert(fE.get([6,57,0]));return!1}if(E.add.artb){alert("You can not transform the whole artboard");
return!1}if(E.add.TySh)if(!hj.HU(E.add.TySh,q.s4))return!1;if(E.add.SoLd){if(p.length==1&&!j.bF.wO(E.add.SoLd.warp.v)&&(E.u1()&&E.u1().$g||E.add.vmsk&&E.add.vmsk.$g)){alert("Unlink masks before transforming Smart Object");
return!1}if(!n.ahK(E.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+n.mQ(E.add.SoLd.Idnt.v).KF+")");
return!1}}}if(n.$==null)return!0;if(!n.zP())return!1;return n.XK()};A.Z.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);
if(this.Sv==1){var H=j.V.z3(j.V.EY(this.rg.Rl(),this.pv));i=j.V.Mj(H,i)}var Z=this.Sv==0?this.rg:this.vY;
this.x4=Z.LA(n,p,E,i);if(this.x4&&Z.iF(i)){if(Date.now()-this.a2_<250)this.W3(n,q,null,!0);this.a2_=Date.now()}};
A.Z.prototype.Pl=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.ru,MN:this.cursor};n.K(q)};A.Z.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);
if(this.Sv==1){var H=j.V.z3(j.V.EY(this.rg.Rl(),this.pv));i=j.V.Mj(H,i)}var Z=this.Sv==0?this.rg:this.vY;
if(!T.fk){var w="default";if(Z){var d=Z.na(i,n.c.n);if(d)w=d}if(w!=this.cursor){this.cursor=w;this.Pl(q)}}if(!this.x4)return;
Z.Tw(n,p,E,i);this.Ko(n,p,0,!0);this.BH(n);this.Vd(q)};A.Z.prototype.HO=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);
this.rg.HO(n,p,E,i);this.x4=!1};A.Z.prototype.IY=function(n,q,p,E){if(E.r(aj.T4))this.W3(n,q,null,!0);
else if(E.r(aj.eN))this.dv(n,q);else{var T=this.rg.IY(n,p,E);if(T){this.Ko(n,p,0,!0);this.Vd(q)}}};A.Z.prototype.em=function(n,q,p,E){if(n.J4=="commit")this.W3(p,q,null,!0);
else if(n.J4=="cancel")this.dv(p,q);else if(n.J4=="switchWarp"){this.Sv=1-this.Sv;this.aju();this.BH(p);
this.Vd(q)}else if(n.J4=="wrp"){this.vY.FW(n.An);this.BH(p);this.Ko(p,this.eP,0,!0)}else if(n.J4=="ctyp"){this.rg.a1G(n.hv);
this.BH(p);this.Vd(q)}else if(n.J4=="cen"){this.rg.a5y(n.h1);this.BH(p);this.Ko(p,this.eP,0,!0);this.Vd(q)}else if(n.J4=="trn"){var T=j.V.fa(n.X4),i=this.pv,H=j.V.EY(this.rg.Rl(),this.pv);
T[6]=H[6],T[7]=H[7];var Z=[i.x,i.y,i.x+i.v,i.y,i.x+i.v,i.y+i.o,i.x,i.y+i.o];j.V.B(T,Z);this.$G=n.$G;
this.rg.MS(Z);this.BH(p);this.Ko(p,this.eP,0,!0)}};A.Z.prototype.BH=function(n){if(this.Sv==0)this.rg.wF(n,this.eP);
else{this.vY.wF(n);var q=j.V.EY(this.rg.Rl(),this.pv);j.V.B(q,n.H.f4.W);j.V.B(q,n.H.$O)}};A.Z.prototype.W3=function(n,q,p,E){this.Ko(n,this.eP,this.$G);
var T=new d4(p?p:this.name,this);if(this.I0==0)T.data={type:this.I0,h:this.h,lB:this.sW,Id:A.Z.kt(n,this.h)};
else if(this.I0==1){var i=n.h[this.h[0]],H;if(i.ns.TL<=0){H=j.U(i.ns.Qx.P());j.J2(i.ns.U_,H,3)}else H=n.$.channel;
var Z={rect:i.ns.Qx.clone(),channel:H};T.data={type:this.I0,Y:this.h[0],Nu:this.Nu,ii:Z,vt:this.vt,Ym:this.Ym,ns:i.ns,lB:this.lB,Id:{n7:i.ns.Qx,hc:i.ns.U_}}}else if(this.I0==2){T.data={type:this.I0,Nu:this.Nu,ii:{rect:n.$.rect.clone(),channel:n.$.channel.slice(0)}}}n.Dc(T);
var w=this.pv,d=new fc(w.x+w.v/2,w.y+w.o/2),O=j.V.EY(this.rg.Rl(),w),W=j.V.RE(O),C=new b$;C.translate(d.x,d.y);
C.concat(W);C.translate(-d.x,-d.y);W=C.clone();var a=-Math.atan2(-W.X,W.jS),B=new b$;B.rotate(a);W.concat(B);
function $(U,N){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][N],val:U}}}var I=j4.hZ("Lyr",!0);if(this.id==A.zi)I.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var x={classID:"null",null:I,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:$(C.R_,0),Vrtc:$(C.so,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:$(Math.atan(W.kr)*180/Math.PI,2),Vrtc:$(0,2)}},Wdth:$(W.jS*100,1),Hght:$(W.FF*100,1),Angl:$(a*180/Math.PI,2)};
this.Q0=q;this.track({oK:"transform",ga:x});this.escape(n,q,E)};A.Z.prototype.dv=function(n,q){if(this.I0==0)A.Z.zs(n,this.h,this.sW);
else if(this.I0==1){var p=n.h[this.h[0]];n.$=this.Nu;if(!this.Ym){p.ns.Qx=this.lB.n7;p.ns.U_=this.lB.hc;
p.ka(n,0,0,n.$)}else{p.n6(n,this.vt)}n.M();n.mT=!0}else if(this.I0==2){n.$=this.Nu;n.mT=!0}this.escape(n,q,!0)};
A.Z.prototype.escape=function(n,q,p){this.rg.clear(n);this.rg=null;this.vY=null;this.$n=null;this.Sv=0;
if(p)this.TH(q,P.E.T,{e:P.C.hT})};A.Z.prototype.NJ=function(n,q){if(n.type==0)A.Z.zs(q,n.h,n.Id);else{if(n.type==1){var p=q.h[n.Y];
if(n.Ym){p.ns=n.ns}else{p.ns.Qx=n.Id.n7;p.ns.U_=n.Id.hc}p.ka(q,0,0,q.$);q.M()}q.$={rect:n.ii.rect.clone(),channel:n.ii.channel.slice(0)};
q.mT=!0}};A.Z.prototype.iP=function(n,q){if(n.type==0)A.Z.zs(q,n.h,n.lB);else{if(n.type==1){var p=q.h[n.Y];
if(n.Ym){p.n6(q,n.vt)}else{p.ns.Qx=n.lB.n7;p.ns.U_=n.lB.hc;p.ka(q,0,0,q.$)}q.M()}q.$=n.Nu;q.mT=!0}};
A.Z.prototype.QY=function(n,q,p){n.Jy();var E=[];if(p==null)for(var R=0;R<n.Dm.length;R++)if(n.kA[n.Dm[R]].add.vmsk.Q.length>2)E.push(-1-n.Dm[R]);
var T=[],i=n.c.mc;if(i[0]+i[1]+i[2]==3)if(p!=null||E.length==0||n.LS!=null&&n.LS.length!=0)T=n.lR(q,p,null,!0);
T=T.concat(E);for(var R=0;R<n.z1.length;R++)T.push(-1e3-n.z1[R]);this.h=T};A.Z.prototype.enable=function(n,q,p,E,T,i,H){if(this.cursor==null)this.cursor="default";
this.Pl(q);if(this.rg)return;this.eP=p;this.QY(n,!0);this.Hx(n,i&&i.Hg!=null&&i.Hg!=-1?i.Hg:null,H);
this.Vd(q);this.BH(n);if(i&&i.Hg==-1)this.em({J4:"switchWarp"},q,n,E)};A.Z.prototype.Vd=function(n){var q={e:P.C.R2,i:this.id};
if(this.Sv==0){var p=j.V.EY(this.rg.Rl(),this.pv),E=j.V.RE(p);q.X4={Oc:E,hv:this.rg.agt(),h1:this.rg.A_(),n7:this.pv.clone()}}else{q.An=this.vY.Rs()}q.ais=this.vY!=null;
this.TH(n,P.E.T,q)};A.Z.prototype.Hx=function(n,q,p){var E=this.id==A.zi,T=!0,i=this.h[0],H=n.h[i],w=null;
if(E){this.I0=2;this.Nu=n.$}else if(n.$&&this.h.length==1&&i>=0&&!H.rect.M6()){this.I0=1;this.Nu=n.$;
this.vt=H.ns;this.Ym=!1;if(!H.sM(n,n.$)){this.Ym=!0;H.qt(n,n.$,!1)}this.lB={hc:H.ns.U_,n7:H.ns.Qx}}else{this.I0=0;
this.sW=A.Z.kt(n,this.h,null,p);for(var R=0;R<this.sW.length;R++)if(this.sW[R][3]!=null)T=!1}var Z=this.I0==1;
if(this.sW&&this.sW.length==1){var d=this.sW[0];if(d[3]==null)Z=!0;if(d[4]!=null){w=n.h[this.h[0]].add.SoLd;
if(d[1]||d[2])Z=!1}}var O=E?n.$.rect.clone():A.Z.UB(n,this.h,p);this.pv=O;if(!E&&w){var W=A.Z.ZA(w.nonAffineTransform);
this.pv=j.O.Uh(j.bF.Bh(w.warp.v));if(Z)this.vY=new bl(w.warp.v);this.EM=j.V.EY(W,this.pv);this.rg=new bk(W,!0,!0,T,!1,!1,q)}else{if(Z||E)this.vY=new bl(j.bF.U(this.pv));
this.EM=[1,0,0,0,1,0,0,0];if(this.id==A.CI)q=3;this.rg=new bk([O.x,O.y,O.x+O.v,O.y,O.x+O.v,O.y+O.o,O.x,O.y+O.o],!0,!0,T,!1,!1,q)}this.am9=[1,0,0,0,1,0,0,0];
if(this.id==A.CI){var C,a;if(this.sW){var B=this.sW[0][0],$=B.Rd;C=$[0];a=$[1]}else if(this.lB){C=this.lB.hc;
a=this.lB.n7}this.$n=j.Mk.akg(C,a.v,a.o)}};A.Z.UB=function(n,q,p){if(q==null)q=n.lR(!0,null,null,!0);
var E=new eL,T=new eL;if(n.$&&q.length==1&&q[0]>=0)E=n.$.rect.clone();else for(var R=0;R<q.length;R++){var i=q[R],H=0<=i?n.h[i]:-1e3<i?n.kA[-1-i]:n.v4[-1e3-i],Z=H.add?H.add.vmsk:null,w=0<=i?H.XT(n,q.length==1,!1,p):-1e3<i?j.G.Sc(Z.Q,q.length==1&&Z.p.length!=0?Z.p:null):H.rect.clone();
E=E.AL(w);if(i>0&&H.add.artb)T=T.AL(H.Kl())}return!T.M6()?T:E};A.Z.prototype.TH=function(n,q,p,E){var T=new ea(q,!0);
T.data=p;if(E)T.i=E;n.K(T)};A.Z.kt=function(n,q,p,E){var T=[];for(var R=0;R<q.length;R++){var i=q[R],H,Z;
if(i>=0){H=n.h[i];Z=H.Ie(n,p,E)}else if(i>-1e3){H=n.kA[-1-i];Z=[2]}else{T.push([null,null,null,null,null,null,null,n.v4[-1e3-i].clone()]);
continue}var w=[];if(Z.indexOf(0)!=-1){var d={Rd:[H.buffer.slice(0),H.rect.clone()]};w.push(d);if(H.Sr()){var O=H.vr(n);
d.aig=O.buffer.slice(0);d.ahj=O.rect.clone()}}else w.push(null);if(Z.indexOf(1)!=-1)w.push(H.u1().clone());
else w.push(null);if(Z.indexOf(2)!=-1)w.push({kI:H.add.vmsk.clone(),DL:H.add.vstk?JSON.parse(JSON.stringify(H.add.vstk)):null,IH:H.add.vstk?A.C5.zd(n,i):null,k4:H.add.vogk?JSON.parse(JSON.stringify(H.add.vogk)):null});
else w.push(null);if(H.add.TySh&&w[0]){hx.Od(H.add.TySh);w.push(H.add.TySh.B.clone())}else w.push(null);
if(H.add.SoLd&&w[0])w.push(JSON.parse(JSON.stringify(H.add.SoLd)));else w.push(null);if(Z.indexOf(3)!=-1)w.push(H.vr(n).w.clone());
else w.push(null);if(H.add.lmfx)w.push(JSON.stringify(H.add.lmfx));else w.push(null);T.push(w)}return T};
A.Z.zs=function(n,q,p){for(var R=0;R<q.length;R++){var E=q[R],T=0<=E?n.h[E]:-1e3<E?n.kA[-1-E]:n.v4[-1e3-E],i=p[R];
if(i[0]){T.rect=i[0].Rd[1].clone();T.buffer=i[0].Rd[0].slice(0);if(T.Sr()){var H=T.vr(n);H.buffer=i[0].aig.slice(0);
H.rect=i[0].ahj.clone()}}if(i[1]){T.u1().channel=i[1].channel.slice(0);T.u1().rect=i[1].rect.clone();
T.u1().zK=!0}if(i[2]){T.add.vmsk=i[2].kI.clone();if(i[2].IH)A.C5.GI(T,i[2].IH);if(i[2].DL)T.add.vstk=JSON.parse(JSON.stringify(i[2].DL));
if(i[2].k4)T.add.vogk=JSON.parse(JSON.stringify(i[2].k4))}if(i[3]){T.add.TySh.B=i[3].clone();hx.D6(T.add.TySh)}if(i[4]){T.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var Z=T.vr(n).w;
Z.channel=i[5].channel.slice(0);Z.rect=i[5].rect.clone()}if(i[6]){T.add.lmfx=JSON.parse(i[6])}if(i[7]){T.channel=i[7].channel.slice(0);
T.rect=i[7].rect.clone();T.zK=!0}if(0<=E){T.VA(n);T.M()}}n.M()};A.Z.SD=function(n){var q=n.clone(),p=Math.atan2(-q.X,q.jS),E=new b$;
E.rotate(-p);q.concat(E);return(Math.abs(q.jS)+Math.abs(q.FF))/2};A.Z.FA=function(n,q,p,E,T,i,H,Z,w,d){if(typeof i[0]=="number"){var O=[];
for(var R=0;R<p.length;R++)O[R]=i;i=O}for(var R=0;R<p.length;R++){var W=i[R],C=j.V.RE(W),a=A.Z.SD(C),B=p[R],$=0<=B?n.h[B]:-1e3<B?n.kA[-1-B]:n.v4[-1e3-B],I=E[R];
if(I[0]&&$.add.lmfx&&Z)cU.Rb($.add.lmfx,a);if(I[0]&&!I[3]&&!I[4]&&!I[5]){var x=I[0].Rd;if(w){var U=w.clone(),N=j.U(U.P()*4);
j.hk(x[0],x[1],N,U);x=[N,U]}var m=A.Z.MY(x,T,W,H,T==0?$.buffer.buffer:null,null,null,d);if(m){$.rect=m.rect;
$.buffer=m.buffer}}if(I[1]){var f=$.u1();A.Z.s7(n,I[1],f,T,W,H);if(w){var U=$.rect.O1(w),c=j.U(U.P());
j.cg(f.channel,f.rect,c,U);f.channel=c;f.rect=U}}if(I[2]){var D=H&&!j.bF.wO(H),z=I[2].kI.clone(),_=p.length==1&&z.p.length!=0,v=p.length==1&&z.Eg.length>1;
if(v)_=!1;var o=_?z.p:null,y=v?z.Eg:null;if(D){var k=j.bF.Bh(H);j.V.B(W,k);j.G.a2U(z.Q,k,o,y)}else j.G.afi(z.Q,W,o,y);
if($.add.vstk&&Z){$.add.vstk.strokeStyleLineWidth.v.val=I[2].DL.strokeStyleLineWidth.v.val*a;var S=I[2].IH;
if(S&&S.a5==3){S=JSON.parse(JSON.stringify(S));var L=S.IH.phase.v;S.IH.Scl.v.val=Math.round(S.IH.Scl.v.val*a);
L.Hrzn.v=Math.round(L.Hrzn.v*a);L.Vrtc.v=Math.round(L.Vrtc.v*a);A.C5.GI($,S)}}if($.add.vogk){$.add.vogk=JSON.parse(JSON.stringify(I[2].k4));
if(D||v)j.k4.ait($.add.vogk);else j.k4.B($.add.vogk,W,p.length>1?[]:z.p,Z)}z.pR*=a;$.add.vmsk=z;if($.add.vogk)j.k4.dA($.add.vogk,$.add.vmsk)}if(I[3]){var X=I[3].clone();
X.concat(C);$.add.TySh.B=X;hx.D6($.add.TySh);var s=new e7($.add.TySh.Bd,q.s4),M=hj.JS(s,$.add.TySh);
$.rect=M.n7;$.buffer=M.OT}if(I[4]){var V=$.add.SoLd,l=A.Z.ZA(I[4].nonAffineTransform);j.V.B(W,l);var e=j.O.vK(l);
if(bk.YQ(l)){if(H){var Y=j.O.Uh(j.bF.Bh(I[4].warp.v)),c=j.V.EY(l,Y),J=j.O.Uh(j.bF.Bh(H));l=[J.x,J.y,J.x+J.v,J.y,J.x+J.v,J.y+J.o,J.x,J.y+J.o];
j.V.B(c,l);V.warp.v=H}var G=j.V.EY(l),F=l;if(!j.V.xV(G)){G[6]=G[7]=0;F=[0,0,1,0,1,1,0,1];j.V.B(G,F)}V.Trnf=A.Z.g8(F);
V.nonAffineTransform=A.Z.g8(l);if(V.filterFX)V.filterFX=JSON.parse(JSON.stringify(I[4].filterFX));A.Z._D(V,C);
$.Ze(n,T==0)}}if(I[5])A.Z.s7(n,I[5],$.vr(n).w,T,W,H);if(I[7])A.Z.s7(n,I[7],$,T,W,H);if(0<=B){if(T!=0)$.aA();
$.VA(n);$.M()}}n.M()};A.Z.i8=function(n,q,p,E,T,i){if(p==null)p=!1;return A.Z.MY(n,p?0:1,j.V.fa(q),null,E,T,i,p)};
A.Z.MY=function(n,q,p,E,T,i,H,Z){if(Z==null)Z=!1;if(Z&&H)throw"e";var w={},C=0,a=.3;if(E&&!j.bF.wO(E)){var d=j.bF.Bh(E);
j.V.B(p,d);w.rect=j.O.vK(d);w.buffer=j.U(w.rect.P()*4);j.c0.drawImage(d,n[0],n[1].v,n[1].o,w.buffer,w.rect,q==0);
return w}j.bl(n);var O=n[0],W=n[1],B=W.P()*A.Z.SD(j.V.RE(p));if(Z&&B>4e6)a=B>8e6?2.2:1.2;while(C+3<n.length&&n[C+3].P()>16&&j.V.xV(p)&&A.Z.SD(j.V.RE(p))<a){C+=2;
var $=n[C],I=n[C+1],x=W.v/I.v,U=W.o/I.o;p=j.V.LT(p,[1,0,W.x,0,1,W.y,0,0]);p=j.V.LT(p,[x,0,0,0,U,0,0,0]);
p=j.V.LT(p,[1,0,-W.x,0,1,-W.y,0,0]);W=I;O=$}var N=j.V.LT(p,j.V.fa(new b$(W.v,0,0,W.o,W.x,W.y))),m=[0,0,1,0,1,1,0,1];
j.V.B(N,m);w.rect=j.O.vK(m);if(H)w.rect=w.rect.O1(H);if(Z){while((w.rect.v&3)!=0)w.rect.v++;while((w.rect.o&3)!=0)w.rect.o++}if(!bk.YQ(m)||w.rect.v>1e5||w.rect.o>1e5||w.rect.P()>3e4*3e4)return null;
var f=w.rect.P()*4;if(T&&T.byteLength>=f&&f>=T.byteLength>>2){w.buffer=new Uint8Array(T)}else{w.buffer=j.U(f)}j.V.drawImage(N,O,W.v,W.o,w.buffer,w.rect,q==0,i,Z);
if(q==2&&w.buffer){var c=w.rect.v,D=w.rect.o,z;z=[0,-1,0,-1,16,-1,0,-1,0];z=j.wn.Jz(z);var _=w.buffer.slice(0);
j.wn.W4(_,w.buffer,c,D,z,255,!1,!0)}if(w.buffer)return w};A.Z.s7=function(n,q,p,E,T,i){if(q.color==255)j.z3(q.channel);
var H=q.rect,Z=j.U(H.P()*4);j.yI(q.channel,Z,3);var w=A.Z.MY([Z,H],E,T,i);if(w){p.rect=w.rect;p.channel=j.U(w.rect.P());
j.J2(w.buffer,p.channel,3);p.zK=!0}if(q.color==255){j.z3(q.channel);if(w)j.z3(p.channel)}};A.Z._D=function(n,q){var p=n.filterFX;
if(p)p=p.v.filterFXList;if(p)p=p.v;if(p)for(var E=0;E<p.length;E++){var T=p[E].v.Fltr;if(T==null||T.v.classID!="rigidTransform")continue;
T=T.v;console.log(T);var i=[];for(var H=0;H<4;H++)i.push(T["PuX"+H].v,T["PuY"+H].v);j.O.B(i,q,i);for(var H=0;
H<4;H++){T["PuX"+H].v=i[H*2];T["PuY"+H].v=i[H*2+1]}var Z=["PinP","posFinalPins"],w=["originalVertexArray","deformedVertexArray"],d=T.puppetShapeList.v;
for(var O=0;O<d.length;O++){var W=d[O].v;for(var C=0;C<Z.length;C++){var a=A.Z.ZA(W[Z[C]]);j.O.B(a,q,a);
W[Z[C]]=A.Z.g8(a);var B=new Uint8Array(W[w[C]].v),$=new Float32Array(B.buffer);j.O.B($,q,$);var I=[];
for(var x=0;x<B.length;x++)I[x]=B[x];W[w[C]].v=I}}}};A.Z.ZA=function(n){var q=[],p=n.v.length;for(var R=0;
R<p;R++)q.push(n.v[R].v);return q};A.Z.g8=function(n){var q={t:"VlLs",v:[]},p=n.length;for(var R=0;R<p;
R++)q.v.push({t:"doub",v:n[R]});return q};A.Z.prototype.aju=function(){var n=j.O.Uh(j.bF.Bh(this.vY.Rs())),q=j.V.EY(this.rg.Rl(),this.pv),p=[n.x,n.y,n.x+n.v,n.y,n.x+n.v,n.y+n.o,n.x,n.y+n.o];
j.V.B(q,p);this.rg.MS(p);this.pv=n};A.Z.prototype.Ko=function(n,q,p,E){var T=j.V.EY(this.rg.Rl(),this.pv);
T=j.V.LT(T,j.V.z3(this.EM));var i=this.vY?this.vY.Rs():null;if(this.I0==0){var H=this.Z5=j.V.RE(T);if(this.id==A.CI){var Z=this.sW[0][0],w=Z.Rd,d=w[1],O=~~(d.v*Math.max(0,H.jS)),W=~~(d.o*Math.max(0,H.FF)),C=new eL(Math.round(H.jS*d.x+H.R_),Math.round(H.FF*d.y+H.so),O,W),a=j.Mk.B(this.$n,C),B=n.h[this.h[0]];
B.buffer=a;B.rect=C;B.M();n.M()}else A.Z.FA(n,q,this.h,this.sW,p,T,i,null,null,E)}else if(this.I0==1){var $=n.h[this.h[0]],d=this.lB.n7;
if($.TL<=0){var I=this.lB.hc,x=this.Nu,U=null;if(i&&!j.bF.wO(i)&&!x.rect.rv(d)){var a=j.U(x.rect.P()*4);
j.hk(I,d,a,x.rect);I=a;d=x.rect}if(this.id==A.CI){var H=this.Z5=j.V.RE(T),O=~~(d.v*Math.max(0,H.jS)),W=~~(d.o*Math.max(0,H.FF)),C=new eL(Math.round(H.jS*d.x+H.R_),Math.round(H.FF*d.y+H.so),O,W),a=j.Mk.B(this.$n,C);
U={buffer:a,rect:C}}else U=A.Z.MY([I,d],p,T,i);if(U){$.ns.U_=U.buffer;$.ns.Qx=U.rect;var N=j.U(U.rect.P());
j.J2($.ns.U_,N,3);n.$={channel:N,rect:$.ns.Qx.clone()}}}else{var m=j.U(d.P()*4);j.yI(this.lB.hc,m,3);
var U=A.Z.MY([m,d],p,T,i);if(U){$.ns.U_=j.U(U.rect.P());j.J2(U.buffer,$.ns.U_,3);$.ns.Qx=U.rect}this.av(n,p,T,i)}$.ka(n,0,0,n.$);
if(p!=0){$.aA();j.aA(n.$)}n.mT=!0;n.M()}else if(this.I0==2)this.av(n,p,T,i)};A.Z.prototype.av=function(n,q,p,E){var T=this.Nu.rect,i=j.U(T.P()*4);
j.yI(this.Nu.channel,i,3);var H=A.Z.MY([i,T],q,p,E),Z=j.U(H.rect.P());j.J2(H.buffer,Z,3);n.$={channel:Z,rect:H.rect};
n.mT=!0};A.Z.prototype.disable=function(n,q,p,E){if(this.rg)this.W3(n,q,null,!0)};A.MJ=function(){A.Z.call(this,[10,16],A.Uv,"tools/transform")};
A.MJ.prototype=new A.Z;A.DV=function(){A.Z.call(this,[7,10],A.zi,"tools/transform")};A.DV.prototype=new A.Z;
A.nG=function(){A.Z.call(this,[10,48],A.CI,"tools/transform")};A.nG.prototype=new A.Z;A.hL=function(n,q,p){A.pk.call(this,[10,46],A.oF,"tools/transform");
this.L1=[1,1,2,!0];this.nd="rigidTransform";this.n2=null;this.adY=null;this.dh=null;this.uD=null;this.mt=null;
this.gm=null;this.Z9=[]};A.hL.prototype=new A.pk;A.hL.prototype.vo=function(){return!0};A.hL.hS=function(n){if(n==null)return!1;
if(n.p.length!=1)return!1;var q=n.h[n.p[0]];return q.add.SoLd||n.zP(!1)};A.hL.prototype.vy=function(n,q){return A.hL.hS(n)};
A.hL.prototype.enable=function(n,q,p,E,T,i,H){this.adY=i.CC;var Z=i.CC,w,$=null;if(Z){var d=n.h[Z.Y];
if(d.add.SoLd.filterFX!=null){var O=d.add.SoLd.filterFX.v.filterFXList.v;if(O[Z.index])w=JSON.parse(JSON.stringify(O[Z.index].v.Fltr.v))}}var W=w==null,d=n.h[n.p[0]],C=d.buffer,a=d.rect,B=d.add.SoLd;
if(B){var I=B.nonAffineTransform.v;$=[];for(var R=0;R<4;R++)$.push(I[R*2].v,I[R*2+1].v);if(W)this.vv("edit",q);
var x=d.vr(n);C=x.buffer;a=x.rect}this.n2={buffer:C.slice(0),rect:a.clone(),a3n:$};if(W)w=A.hL.g0(this.n2,this.L1);
this.dh=w;this.uD=A.hL.zA(this.dh,this.L1);this.uH();this.ms(n);if(W)this.EA(q);var U=new ea(P.E.T,!0);
U.data={e:P.C.R2,i:this.id,sQ:this.L1};q.K(U);U.data={e:P.C.ru,MN:"default"};q.K(U)};A.hL.prototype.disable=function(n,q,p,E){if(this.uD)this.W3(n,q,!0)};
A.hL.prototype.uH=function(n){var q=this.uD;this.Z9=[];for(var R=0;R<q.length;R++){var p=q[R];for(var E=0;
E<p.p.length;E++)this.Z9.push([R,p.p[R]]);p.pH=j.Gr.Rn(p);if(n)j.Gr.iW(p)}};A.hL.prototype.em=function(n,q,p,E){if(n.J4=="commit")this.W3(p,q,!0);
else if(n.J4=="cancel")this.dv(p,q,!0);else if(n.J4=="prm"){var T=!1;for(var R=0;R<3;R++)if(this.L1[R]!=n.sQ[R])T=!0;
this.L1=n.sQ;if(T){this.dh=A.hL.g0(this.n2,this.L1,this.dh);this.uD=A.hL.zA(this.dh,this.L1);this.uH(!0);
this.EA(q)}this.ms(p)}else if(n.J4=="moveDepth"){var i=this.uD;for(var H=0;H<i.length;H++){var Z=i[H];
for(var R=0;R<Z.p.length;R++){var w=Z.p[R];Z.Vu[w]+=n.alO?1:-1}}this.EA(q)}};A.hL.prototype.Ou=function(n,q){return n==aj.Qt||n==aj.W_};
A.hL.prototype.IY=function(n,q,p,E){var T=E.kH();if(E.r(aj.T4))this.W3(n,q,!0);else if(E.r(aj.eN))this.dv(n,q,!0);
else if(E.r(aj.Qt)||E.r(aj.W_)){var i=this.uD;for(var H=0;H<i.length;H++){var Z=i[H];Z.p.sort(function(O,W){return W-O});
for(var R=0;R<Z.p.length;R++){var w=Z.p[R],d=w*2;Z.Vu.splice(w,1);Z.Eu.splice(w,1);Z.qI.splice(w,1);
Z.Nq.splice(w,1);Z.Y8.splice(d,2);Z.zx.splice(d,2)}Z.p=[];if(Z.Nq.length==0){Z.zN=Z.$r.slice(0);Z.Zl=Z.$r.slice(0)}}this.uH(!0);
this.EA(q);this.ms(n)}else if(T.x!=0||T.y!=0){this.Fg(n,T.x,T.y,q);this.Nm=null}};A.hL.prototype.W3=function(n,q,p){this.vv("confirm",q);
this.escape(n,q,p)};A.hL.prototype.dv=function(n,q,p){this.vv("cancel",q);this.escape(n,q,p)};A.hL.prototype.escape=function(n,q,p){n.H.f4=null;
n.H.Rr=[];n.IJ=!0;this.uD=null;var E=new ea(P.E.T,!0);E.data={e:P.C.hT};if(p)q.K(E)};A.hL.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=i.x,Z=i.y,w=this.uD,d=null,O=[0,2,4,1.2,1.2,1.2],W=-1,C=P.D()*5/n.c.n;
for(var R=0;R<w.length;R++){var a=w[R],B=j.O.YJ(a.zx,H,Z,C);if(B!=-1)d=[R,B];if(W==-1&&j.Gr.qk.a6K(a.Zl,a.dm,H,Z))W=R}if(d==null&&W!=-1){var a=w[W];
A.hL.v6(a,H,Z,H,Z,0);d=[W,a.Nq.length-1];a.pH=j.Gr.Rn(a)}this.mt=i;if(d){var $=w[d[0]].p.indexOf(d[1])!=-1;
if(E.r(aj.$t)&&!$){w[d[0]].p.push(d[1]);this.Z9.push(d)}else if(!$){w[d[0]].p=[d[1]];this.Z9=[d]}}this.ms(n)};
A.hL.v6=function(n,q,p,E,T,i){var H=j.O.YJ(n.Zl,q,p);n.Nq.push(H);n.zx.push(E,T);n.Y8.push(n.Zl[H*2]-q,n.Zl[H*2+1]-p);
n.qI.push(0);n.Eu.push(!1);n.Vu.push(i)};A.hL.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.mt;
if(H)this.Fg(n,i.x-H.x,i.y-H.y,q)};A.hL.prototype.Fg=function(n,q,p,E){var T={},i=this.Z9,H=this.uD;
if(this.Nm==null){this.Nm=[];for(var R=0;R<H.length;R++)this.Nm.push(H[R].zx.slice(0))}for(var R=0;R<i.length;
R++){var Z=this.Z9[R],w=Z[0],d=H[Z[0]],O=Z[1]*2;d.zx[O+0]=this.Nm[w][O+0]+q;d.zx[O+1]=this.Nm[w][O+1]+p;
T[w]=w}for(var w in T)j.Gr.iW(this.uD[T[w]]);this.ms(n);this.EA(E)};A.hL.prototype.vv=function(n,q){var p=new ea(P.E.u,!0);
p.i=A.Yo;p.data={e:n,CC:this.adY,nd:this.nd,Gm:this.dh};q.K(p)};A.hL.prototype.HO=function(n,q,p,E,T){this.mt=null;
this.Nm=null};A.hL.prototype.EA=function(n){A.hL.qH(this.uD,this.L1,this.dh);this.vv("edit",n)};A.hL.prototype.ms=function(n){var q=this.uD,p=this.dh;
n.H.f4={W:[],F:[]};n.H.Rr=[];n.H.n8=[];for(var R=0;R<q.length;R++){var E=q[R];for(var T=0;T<E.p.length;
T++)n.H.n8.push((n.H.Rr.length>>>1)+E.p[T]);n.H.Rr=n.H.Rr.concat(E.zx);if(this.L1[3])j.O.concat(n.H.f4,j.O.aoF(E.Zl,E.dm))}n.IJ=!0};
A.hL.g0=function(n,q,p){var E=n.buffer,T=n.rect,i=n.a3n,H=fU.yQ("rigidTransform");if(i)for(var R=0;R<4;
R++){H["PuX"+R].v=i[R*2];H["PuY"+R].v=i[R*2+1]}var Z=H.puppetShapeList.v,w=j.Gr.afU(E,T.v,T.o,q[1],q[2]),d=[];
for(var O=0;O<w.length;O++){var W={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
W.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var C=w[O];Z.push({t:"Objc",v:W});var a=C.$r.slice(0);j.O.B(a,new b$(1,0,0,1,T.x,T.y),a);var B=C.dm;
for(var R=0;R<B.length;R+=3){var $=B[R+1];B[R+1]=B[R+2];B[R+2]=$}d.push({dm:B,$r:a,zN:a,Zl:a,Nq:[],Y8:[],zx:[],pH:null,p:[],qI:[],Eu:[],Vu:[]})}if(p){var I=A.hL.zA(p,[]),x=d[0];
for(var R=0;R<I.length;R++){var U=I[R];for(var N=0;N<U.p.length;N++)x.p.push((x.zx.length>>>1)+U.p[N]);
for(var N=0;N<U.Nq.length;N++){var m=U.Nq[N]*2,f=U.$r[m]-U.Y8[N*2],c=U.$r[m+1]-U.Y8[N*2+1];A.hL.v6(x,f,c,U.zx[N*2],U.zx[N*2+1],U.Vu[N])}}}A.hL.qH(d,q,H);
return H};A.hL.zA=function(n,q){var p=A.Z.ZA,E=n.puppetShapeList.v,T=[];for(var i=0;i<E.length;i++){var H=E[i].v;
q[0]=H.meshRigidity.v-1;q[1]=H.meshQuality.v-1;q[2]=H.meshExpansion.v;var Z=H.pinVertexIndices.v.length,w=H.meshBoundaryPath.v.pathComponents.v;
if(w.length!=0){var d=w[0].v.SbpL.v[0].v.Pts;d.v=[]}var O=new Uint32Array(new Uint8Array(H.indexArray.v).buffer),W=new Float32Array(new Uint8Array(H.originalVertexArray.v).buffer),C=new Float32Array(new Uint8Array(H.deformedVertexArray.v).buffer),a=[],B=[],$=[];
for(var R=0;R<O.length;R++)a.push(O[R]);for(var R=0;R<W.length;R++){B.push(W[R]);$.push(C[R])}var I=p(H.pinVertexIndices),x=p(H.pinOffsets),U=p(H.posFinalPins),N=p(H.PnRt),m=p(H.PnOv),f=p(H.PnDp),c=p(H.selectedPin);
T.push({dm:a,$r:B,zN:$.slice(0),Zl:$,Nq:I,Y8:x,zx:U,pH:null,qI:N,Eu:m,Vu:f,p:c})}return T};A.hL.qH=function(n,q,p){function E(C,a){var B=[];
for(var R=0;R<C.length;R++)B.push({t:a,v:C[R]});return B}function T(C,a,B){var $=new(B?Uint32Array:Float32Array)(C),I=new Uint8Array($.buffer);
for(var R=0;R<I.length;R++)a[R]=I[R]}var i=p.puppetShapeList.v;for(var H=0;H<i.length;H++){var Z=n[H],w=i[H].v;
w.meshRigidity.v=q[0]+1;w.meshQuality.v=q[1]+1;w.meshExpansion.v=q[2];T(Z.dm,w.indexArray.v,!0);T(Z.$r,w.originalVertexArray.v);
T(Z.Zl,w.deformedVertexArray.v);var d=[];for(var R=0;R<Z.Nq.length;R++){var O=Z.Nq[R]*2,W=R*2;d[W]=Z.$r[O]-Z.Y8[W];
d[W+1]=Z.$r[O+1]-Z.Y8[W+1]}w.PinP.v=E(d,"doub");w.pinVertexIndices.v=E(Z.Nq,"long");w.pinOffsets.v=E(Z.Y8,"doub");
w.posFinalPins.v=E(Z.zx,"doub");w.PnRt.v=E(Z.qI,"long");w.PnOv.v=E(Z.Eu,"bool");w.PnDp.v=E(Z.Vu,"doub");
w.selectedPin.v=E(Z.p,"long")}};A.QI=function(n,q,p){A.pk.call(this,n?n:[10,40],q?q:A.x7,p?p:"tools/slice");
this._f=null;this.Q0=null;this.iZ=null;this.aj5=null;this.Kd=null;this.B5=null};A.QI.prototype=new A.pk;
A.QI.GM=function(n,q){var p=-1;for(var R=0;R<n.length;R++){var E=A.QI.Ud(n,R);if(E[0]<=q.x&&q.x<=E[2]&&E[1]<=q.y&&q.y<=E[3]){p=R;
break}}return p};A.QI.prototype.JZ=function(n,q,p,E,T){if(p==null)return;this.qN(p);if(n.e=="fromAction"){var i=p.fN(),H=p.Cq(),Z=H==-1?new eL(0,0,p.v,p.o):p.h[H].Kl(),w=[Z.x,Z.x+Z.v],d=[Z.y,Z.y+Z.o];
for(var R=0;R<i[0].length;R++){var O=i[0][R],W=Math.round(O[1]),C=i[1][R];if(C!=-1&&C!=H)continue;if(O[0]==0&&w.indexOf(W)==-1)w.push(W);
if(O[0]==1&&d.indexOf(W)==-1)d.push(W)}w.sort(function(D,z){return D-z});d.sort(function(D,z){return D-z});
for(var a=1;a<d.length;a++)for(var B=1;B<w.length;B++){p.D0.push(A.QI.e_());A.QI.fb(p.D0,p.D0.length-1,[w[B-1],d[a-1],w[B],d[a]]);
p.IJ=!0}}else if(n.e=="reorder"){if(p.yg.length==0)return;var $=p.D0,I=p.yg;I.sort(function(D,z){return D-z});
console.log(I);var x=$.slice(0),U=[],N=[];for(var R=0;R<I.length;R++){var m=I[R],f=$[m];N.push(f);x.splice(x.indexOf(f),1)}var c=Math.max(0,Math.min(x.length,I[0]-n.dir));
for(var R=0;R<N.length;R++){x.splice(c+R,0,N[R]);U.push(c+R)}p.D0=x;p.yg=U}else if(n.e=="delete"){var $=p.D0.slice(0);
for(var R=0;R<p.yg.length;R++)p.D0.splice(p.D0.indexOf($[p.yg[R]]),1);p.yg=[]}else{p.D0[p.yg[0]].v=n;
p.IJ=!0}this.wf(p)};A.QI.prototype.enable=function(n,q,p,E,T,i){A.pk.prototype.enable.call(this,n,q,p,E,T,i);
if(!p.yM.D0){var H=new ea(P.E.T,!0);H.data={e:P.C.Th,sQ:cF.YM};q.K(H)}};A.QI.prototype.disable=function(){this._f=null;
this.Q0=null};A.QI.prototype.J7=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=A.QI.GM(n.D0,i);if(H==-1)return;
this._f=n;this.Q0=q;n.yg=[H];n.IJ=!0;if(this.B5==null){this.B5=new a1([{name:[5,4]},{name:[8,11,1],Ak:!0}]);
this.B5.R("select",this.Pg,this)}var Z=this.B5;Z.parent=q;Z.N();Z.update(n,p);var w=new ea(P.E.T,!0);
w.data={e:P.C.KU,yx:Z,x:T.Yt+2,y:T.tF+1};q.K(w)};A.QI.prototype.Pg=function(n){var q=this.B5.uZ()[0],p=this._f;
if(q==0){this.qN(p);p.D0.splice(p.yg[0],1);p.yg=[];p.IJ=!0;this.wf(p)}if(q==1){var E=new ea(P.E.T,!0);
E.data={e:P.C.Lr,ov:"soptions",k:p.D0[p.yg[0]].v};this.Q0.K(E)}};A.QI.prototype.LA=function(n,q,p,E,T){if(n==null)return;
this.qN(n);var i=n.c.hQ(T.x,T.y);i=A.Wh.My(n,i,p,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.Kd=i;n.D0.unshift(A.QI.e_());n.yg=[0];A.QI.fb(n.D0,0,[i.x,i.y,i.x+20,i.y+20]);n.IJ=!0};A.QI.prototype.Tw=function(n,q,p,E,T){if(this.iZ==null)return;
var i=n.c.hQ(T.x,T.y),H=this.Kd;i=A.Wh.My(n,i,p,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var Z=[H.x,H.y,i.x,i.y];A.QI.Yk(Z);A.QI.fb(n.D0,0,Z);n.IJ=!0};A.QI.prototype.HO=function(n,q,p,E,T){this.wf(n);
this.Kd=null};A.QI.prototype.qN=function(n){this.iZ=JSON.stringify(n.D0);this.aj5=JSON.stringify(n.yg)};
A.QI.prototype.wf=function(n){var q=JSON.stringify(n.D0);if(q!=this.iZ){var p=new d4(this.name,this);
p.data={lB:this.iZ,Id:q,aq0:this.aj5,a2c:JSON.stringify(n.yg)};n.Dc(p)}this.iZ=null};A.QI.prototype.iP=function(n,q){q.D0=JSON.parse(n.lB);
q.yg=JSON.parse(n.aq0);q.IJ=!0};A.QI.prototype.NJ=function(n,q){q.D0=JSON.parse(n.Id);q.yg=JSON.parse(n.a2c);
q.IJ=!0};A.QI.prototype.Ou=function(n,q){return q!=null&&q.yg.length!=0&&(n==aj.Qt||n==aj.W_)};A.QI.prototype.IY=function(n,q,p,E){if(n==null)return;
if(E.r(aj.Qt)||E.r(aj.W_))this.JZ({e:"delete"},q,n,E,p);var T=E.kH();if(T.x!=0||T.y!=0){this.qN(n);A.QI.Qv(n,T);
this.wf(n)}};A.QI.prototype.em=function(n,q,p,E,T){};A.QI.aaa=function(n,q,p,E){var T=new fc(-q.x,-q.y),i=q.v/p.v,H=q.o/p.o,Z=[0,0,q.v,q.o];
for(var R=0;R<n.length;R++){var w=A.QI.Ud(n,R);if(E){w[0]=Math.round(w[0]*i);w[1]=Math.round(w[1]*H);
w[2]=Math.round(w[2]*i);w[3]=Math.round(w[3]*H)}else{A.QI.Pj(w,T);A.QI.apJ(w,Z)}if(w[0]>=w[2]||w[1]>=w[3]){n.splice(R,1);
R--;continue}A.QI.fb(n,R,w)}};A.QI.Qv=function(n,q){var p=n.D0;for(var R=0;R<n.yg.length;R++){var E=A.QI.Ud(p,n.yg[R]);
A.QI.Pj(E,q);A.QI.fb(p,n.yg[R],E)}};A.QI.apJ=function(n,q){if(n[0]<q[0])n[0]=q[0];if(n[1]<q[1])n[1]=q[1];
if(q[2]<n[2])n[2]=q[2];if(q[3]<n[3])n[3]=q[3]};A.QI.Pj=function(n,q){n[0]=Math.round(n[0]+q.x);n[2]=Math.round(n[2]+q.x);
n[1]=Math.round(n[1]+q.y);n[3]=Math.round(n[3]+q.y)};A.QI.fb=function(n,R,q){var p=n[R].v.bounds.v;p.Left.v=q[0];
p.Top.v=q[1];p.Rght.v=q[2];p.Btom.v=q[3]};A.QI.Ud=function(n,R){var q=n[R].v.bounds.v;return[q.Left.v,q.Top.v,q.Rght.v,q.Btom.v,R]};
A.QI.Yk=function(n){if(n[2]<n[0]){var q=n[0];n[0]=n[2];n[2]=q}if(n[2]==n[0])n[2]++;if(n[3]<n[1]){var q=n[1];
n[1]=n[3];n[3]=q}if(n[3]==n[1])n[3]++};A.QI.Uh=function(n,q){var p=1e9,E=-1e9,T=1e9,i=-1e9;for(var R=0;
R<q.length;R++){var H=A.QI.Ud(n,q[R]);p=Math.min(p,H[0]);T=Math.min(T,H[1]);E=Math.max(E,H[2]);i=Math.max(i,H[3])}return[p,T,E,i]};
A.QI.e_=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
A.Ej=function(){A.QI.call(this,[10,41],A.CJ,"tools/sselect");this.Kd=null;this.rn=null;this.$B=null;
this.gm=null;this.eG=!1};A.Ej.prototype=new A.QI;A.Ej.prototype.LA=function(n,q,p,E,T){if(n==null)return;
var i=n.c.hQ(T.x,T.y),H=A.Ej.BG(i,4/n.c.n,n.D0,n.yg);H.pop();if(H.length!=0){this.Kd=i;this.$B=H;this.qN(n);
return}var Z=n.D0,w=A.QI.GM(Z,i);if(w==-1)n.yg=[];else{var d=n.yg.indexOf(w);if(E.r(aj.$t)){if(d==-1)n.yg.push(w);
else n.yg.splice(d,1)}else{n.yg.sort(function($,I){return $-I});if(d==-1)n.yg=[w];this.Kd=i;this.qN(n);
this.rn=A.QI.Uh(Z,n.yg);this.gm=[];for(var R=0;R<n.yg.length;R++)this.gm.push(A.QI.Ud(Z,n.yg[R]));if(E.r(aj.sL)){var O=Z.slice(0),W=n.yg,C=[];
for(var R=0;R<W.length;R++){var w=W[R],a=O[w],B=Z.indexOf(a);C.push(B);Z.splice(B,0,JSON.parse(JSON.stringify(a)))}n.yg=C}}}n.IJ=!0};
A.Ej.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);if(this.Kd==null){var H=A.Ej.BG(i,4/n.c.n,n.D0,n.yg),Z=H.pop(),w=H.length==0?"default":["ew","nwse","ns","nesw"][Z]+"-resize",d=new ea(P.E.T,!0);
d.data={e:P.C.ru,MN:w};q.K(d);return}if(!this.eG&&i.rv(this.Kd))return;this.eG=!0;var O=n.D0,H=this.$B;
if(H){i=A.Wh.My(n,i,p,[!0,null,!1]);var W=Math.round(i.x),C=Math.round(i.y);for(var R=0;R<H.length;R+=2){var a=A.QI.Ud(O,H[R]),B=H[R+1];
a[B]=(B&1)==0?W:C;A.QI.Yk(a);A.QI.fb(O,H[R],a)}}else{var $=i.NH(this.Kd),I=this.rn.slice(0);A.QI.Pj(I,$);
var x=new eL(I[0],I[1],I[2]-I[0],I[3]-I[1]),U=A.Wh.QD(n,x,p,[!0,null,!1],!0);A.Wh.d8(n,x,U);$.x+=U[0];
$.y+=U[1];for(var R=0;R<n.yg.length;R++)A.QI.fb(O,n.yg[R],this.gm[R]);A.QI.Qv(n,$)}n.IJ=!0};A.Ej.prototype.HO=function(n,q,p,E,T){if(this.Kd==null)return;
this.wf(n);n.H.j_=null;n.IJ=!0;this.Kd=null;this.$B=null;this.gm=null;this.eG=!1};A.Ej.BG=function(n,q,p,E){var T=n.x,i=n.y,H=[],Z=-1,w=[];
for(var R=0;R<E.length;R++){var d=E[R],O=A.QI.Ud(p,d),W=O[0],C=O[1],a=O[2],B=O[3];if(T<W-q||a+q<T||i<C-q||B+q<i)continue;
var $=[T<W+q,i<C+q,a-q<T,B-q<i],I=-1;for(var x=0;x<4;x++){if($[x]&&$[x+1&3])I=1+2*(x&1);if($[x])H.push(d,x)}if(I==-1){if($[0]||$[2])I=0;
if($[1]||$[3])I=2}if(I!=-1){Z=I;w.push(d)}}var U=H.length;for(var R=0;R<U;R+=2){var d=H[R],N=H[R+1],m=A.QI.Ud(p,d)[N];
for(var x=0;x<E.length;x++){var f=E[x];if(w.indexOf(f)!=-1)continue;var O=A.QI.Ud(p,f);if(O[N&1]==m)H.push(f,N&1);
if(O[2+(N&1)]==m)H.push(f,2+(N&1))}}H.push(Z);return H};A.i4=function(){A.eY.call(this,[10,44],A.aoC,"tools/oselect");
this.jE="crosshair";this.a8L=0};A.i4.prototype=new A.eY;A.i4.prototype.IO=function(n,q,p,E){if(Math.random()<1/(1+this.a8L)){alert("The cross should be fully inside the object.",3500);
this.a8L++}};A.i4.prototype.a_=function(n,q,p,E){A.xQ.XO(n,A.eY._A,this.Q0);if(!E.fk||!this.r_)return;
var T=this.UB(n,p,!1),i=T.v,H=T.o,Z=T.x,w=T.y,d=T.x+i,O=T.y+H,W=Z+i/2,C=w+H/2,a=A.i4.jR;n.H.f4={W:[Z,w,d,w,d,O,Z,O,W-i*a,C,W+i*a,C,W,C-H*a,W,C+H*a],F:"M L L L Z M L M L".split(" ")};
n.IJ=!0};A.i4.jR=.12;A.i4.prototype.Ml=function(n,q,p,E){n.H.f4=null;n.IJ=!0;this.finish(n,q,p,E)};A.i4.prototype.getSelection=function(n,q,p,E){if(this.Af.rv(this.V6)||!this.r_)return null;
var T=this.UB(n,p,!1),i=n.h[n.p[0]];if(T.M6()||!T.Y9(i.rect))return null;return A.eY.UU("ObSl",T)};A.xQ=function(){A.o8.call(this,[10,37],A.q9,"tools/qselect");
this.wq="qselect"};A.xQ.prototype=new A.o8;A.xQ.prototype.LA=function(n,q,p,E,T){this.Pu(n,p,E,T,1);
if(this.$s==null)return;this.Gv(n)};A.xQ.prototype.Tw=function(n,q,p,E,T){this.$j(n,q,p);A.xQ.XO(n,A.eY._A,q);
if(this.pC)this.$p(n,p,T);if(this.$s==null)return;if(!T.fk)return;var i=this.uB(n,p,E,T);if(i!=1)this.Gv(n)};
A.xQ.XO=function(n,q,p){if(n&&q.key!=A.xQ.yn(n)){q.key=A.xQ.yn(n);var E=n.h[n.p[0]].rect.P(),i="Image Analysis ...";
if(E==0)return;var T=E>1e6,H=new ea(P.E.T,!0);H.data={e:P.C.FP,Ll:i};if(T)p.K(H);setTimeout(function(){var Z=A.xQ.Wa(n);
for(var w in Z)q[w]=Z[w];var H=new ea(P.E.T,!0);H.data={e:P.C.F0,Ll:i};if(T)p.K(H)},30)}};A.xQ.yn=function(n){var q=n.p[0],p=n.h[q],E=p.rect,T=E.v,i=E.o,H=T*i,Z=p.buffer;
return[q,E.x,E.y,T,i,Z[0],Z[1],Z[2],Z[3]].join(",")};A.xQ.Wa=function(n){var q=n.p[0],p=n.h[q],E=p.rect,T=E.v,i=E.o,H=T*i,Z=p.buffer,w=Date.now(),d=j.U(H);
d.fill(128);var O=j.fD.RY(Z,T,i);console.log(Date.now()-w);var W={key:A.xQ.yn(n),xX:Z,rect:E.clone(),XF:T,rZ:i,O6:12,aoV:!1,t3:d,mI:O,$:j.U(H),LW:null,i3:null,Bp:null};
A.xQ.sb(W);return W};A.xQ.sb=function(n,q){var p=n.XF,E=n.rZ,T=0,i=0,H=Date.now(),Z=n.LW!=null&&j.fD.a7T(n.mI.dm,n.LW.dm,n.LW.I6,n.t3);
T=Date.now()-H;H=Date.now();if(!Z&&!n.aoV){n.LW=j.fD.B8(n.mI,p,E,n.t3,n.O6);if(!j.fD.a7T(n.mI.dm,n.LW.dm,n.LW.I6,n.t3)){n.aoV=!0;
console.log("conflict")}n.i3=j.fD.aqr(n.xX,p,E,n.LW.dm,n.LW.I6);n.Bp=[n.i3[0].slice(0),[]];i=Date.now()-H;
H=Date.now()}var H=Date.now();if(q){n.Bp[0].set(n.i3[0]);var w=n.i3[1],d=n.Bp[1];for(var O=0;O<w.length;
O++)d[O]=w[O].slice(0);j.fD.aat(n.LW.dm,p,E,n.LW.I6,n.t3,n.$,n.Bp)}};A.zu=function(){A.pk.call(this,"Artboard Tool",A.a2M,"tools/artb");
this.amW=!1;this.rg=null;this.Ss=!1;this.aeW=null;this.B9=100;this.ja=null};A.zu.prototype=new A.pk;
A.zu.uk=function(n,q){var p=n[0],E=0,T=0;if(p==0)T=-1;else if(p==1)E=1;else if(p==2)T=1;else E=-1;return[20/q.Ny,n[1]+E*60/q.Ny,n[2]+T*60/q.Ny]};
A.zu.prototype.bM=function(n,q,p,E){if(p.tj!=this.id)return;if(n==null||n.p.length!=1){this.Y0(n);return}var T=n.p[0],i=n.h[T],H=i.add.artb;
if(H==null){this.Y0(n);return}if(this.Ss)return;var Z=i.Kl(),w=j.O.aS(Z).W,d=this.rg=new bk(w,!0,!1,!1,!0,!1,3,!1);
d.wF(n,p,!1);var O={W:[1,0],F:["M"]};for(var R=1;R<30;R++){var W=Math.PI*2*R/30;O.W.push(Math.cos(W),Math.sin(W));
O.F.push("L")}O.F.push("Z","M","L","M","L");O.W.push(-.5,0,.5,0,0,-.5,0,.5);var C=Z.x+Z.v/2,a=Z.y+Z.o/2,B=this.B9*1.1,$=this.aeW=[C,Z.y,Z.x+Z.v,a,C,Z.y+Z.o,Z.x,a],I=[0,-B,B,0,0,B,-B,0],x=n.root.children;
n.H.q7=[];for(var R=0;R<4;R++){var U=new fc($[R*2]+I[R*2],$[R*2+1]+I[R*2+1]),N=!1;for(var m=0;m<x.length;
m++){var i=x[m].Y;if(i.add.artb==null)continue;var Z=i.Kl();if(Z.Z4(U))N=!0}if(N){$[R*2]=1e9;continue}n.H.q7.push([R,$[R*2],$[R*2+1]])}};
A.zu.prototype.disable=function(n,q,p,E,T){this.Y0(n)};A.zu.prototype.Y0=function(n){if(this.rg){this.rg.clear(n);
this.rg=null;n.H.q7=null}};A.zu.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.rg;if(H){var Z=new ea(P.E.u),w=H.e7(null,i,n.c.n);
if(w<9){this.Ss=H.LA(n,p,E,i,null,!0);return}else if(H.iF(i)){Z.i=A.o$;Z.data={e:"disabAuto"};q.K(Z);
var d=new ea(P.E.T);d.data={e:P.C.Tk,i:A.o$,alz:!0};q.K(d);return}else{var O=-1,W=n.H.q7;for(var R=0;
R<W.length;R++){var C=A.zu.uk(W[R],n.c);if(fc.vu(i,new fc(C[1],C[2]))<C[0])O=W[R][0]}if(O!=-1){var a=n.h[n.p[0]].Kl(),B=a.clone(),$=(O==0||O==2?a.o:a.v)+this.B9;
if(O==0||O==3)$=-$;if(O==0||O==2)a.y+=$;else a.x+=$;if(E.r(aj.sL)){Z.i=A.iq;Z.data={e:g.se};q.K(Z);A.Wh.ZM(n,n.lR(null,n.p[0],null,!0),null,a.x-B.x,a.y-B.y);
A.c8.ZS(n)}else this.wy(n,a,q);return}}}this.ja=A.Wh.My(n,i,p)};A.zu.prototype.wy=function(n,q,p){var E=n.h.slice(0),T=[n.h.length+1],i=n.Je();
i.WR("Artboard "+(n.root.children.length+1));i.add.lsct=fX.eV;i.O$(q);i.Nl="pass";i.GZ=24;if(n.add.artd||q.O1(new eL(0,0,n.v,n.o)).M6())E.push(n.Ch());
else E.unshift(n.Ch());E.push(i);var H=new ea(P.E.u);H.i=A.iq;H.data={e:g.V$,Ro:E,ii:T,as:"New Artboard"};
p.K(H)};A.zu.prototype.Tw=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.rg,Z=this.ja;if(H){if(this.Ss){H.Tw(n,p,E,i)}else{var w=H.na(i,n.c.n);
if(w==null)w="default";var d=new ea(P.E.T,!0);d.data={e:P.C.ru,MN:w};q.K(d)}}if(Z){var O=this.Ud(n,i,E,p);
n.H.f4=j.O.aS(O);n.IJ=!0;A.pk.wY(T.x+10,T.y-10,O,n,p)}};A.zu.prototype.HO=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y),H=this.ja;
if(this.Ss){this.rg.HO(n,p,E,i);this.Ss=!1;var Z=j.O.vK(this.rg.Rl()),w=g.$U(Z),d=n.h[n.p[0]],O=JSON.parse(JSON.stringify(d.add.artb));
O.artboardRect.v=w;var W=new ea(P.E.u,!0);W.i=A.iq;W.data={e:g.b4,qT:O};q.K(W)}if(H){var C=this.Ud(n,i,E,p);
if(C.P()>20)this.wy(n,C,q);n.H.f4=null;n.IJ=!0;this.ja=null;n.H.eW=[]}};A.zu.prototype.Ud=function(n,q,p,E){var T=this.ja,i=A.Wh.My(n,q,E),H=A.am.m4(T,i,p,!0);
T=H[0];i=H[1];return j.O.vK([T.x,T.y,i.x,i.y])};function bk(n,q,p,E,T,i,H,Z){this.w1=null;this.yF=n?n.slice(0):null;
this.ui=4;this.V6=null;this.Hl=null;this.qA=null;this.we=-1;this.SF=null;this.a9N=!1;this.a13=[];for(var R=0;
R<8;R++)this.a13.push(al.abF(0,PIMG.rotate,-.5,-.5,-45-R*45));this.abE=q;this.aaY=p;this.aeg=E;this.ap9=T;
this.aqQ=i;this.Hg=H;this.amM=Z==null?1:Z}bk.prototype.ex=function(){return this.we!=-1};bk.prototype.Rl=function(){return this.yF.slice(0)};
bk.prototype.MS=function(n){this.yF=n};bk.prototype.a9R=function(){return this.SQ(this.yF)};bk.prototype.agt=function(){return this.ui};
bk.prototype.a1G=function(n){this.ui=n};bk.prototype.A_=function(n){if(n==null)n=this.yF;if(this.ui==9)return this.V6;
else return this.SQ(n)[this.ui]};bk.prototype.a5y=function(n){if(this.ui==9)this.V6=n.clone();else{var q=this.A_(),p=new b$(1,0,0,1,n.x-q.x,n.y-q.y);
j.O.B(this.yF,p,this.yF)}};bk.prototype.na=function(n,q,p){var E=this.e7(null,n,q),T;if(E==9)return"default";
if(E==10){if(p)return null;return!this.abE?"move":null}if(E==-1||E==4)return null;if(E==11){var i=this.A_().NH(n);
T=90-Math.atan2(i.y,i.x)*180/Math.PI;var H=Math.round(8*(T/360));H=(H+8)%8;return this.a13[H]}else{var Z=this.HP(n,this.yF);
T=[135,90,45,180,0,0,225,270,315][E];var w=j.V.EY(this.yF);T+=Math.atan2(-w[3],w[0])*180/Math.PI;var d="ew nesw ns nwse ew nesw ns nwse".split(" "),H=Math.round(8*(T/360));
H=(H+8)%8;return d[H]+"-resize"}};bk.prototype.HP=function(n,q){var p=j.V.z3(j.V.EY(q)),E=new Float64Array(2);
j.V.vW(n.x,n.y,p,E);return new fc(E[0],E[1])};bk.prototype.iF=function(n){var q=this.HP(n,this.yF);return 0<=q.x&&q.x<=1&&0<=q.y&&q.y<=1};
bk.prototype.LA=function(n,q,p,E,T,i){this.a9N=i;this.SF=E;var H=n.c.n,Z;if(this.yF==null)E=A.Wh.My(n,E,q);
this.qA=E.clone();if(this.yF==null){this.qA.offset(1,1);var w=T==null?1:1/T;this.yF=[E.x,E.y,E.x+1,E.y,E.x+1,E.y+w,E.x,E.y+w];
Z=8}else{Z=this.e7(p,E,H);if(0<=Z&&Z<=8)this.qA=this.SQ(this.yF)[Z];if(Z==9){this.ui=9;this.V6=E.clone()}}this.w1=this.yF.slice(0);
this.we=Z;this.wF(n,q);this.Hl=this.A_();return Z!=-1};bk.prototype.e7=function(n,q,p){var E=-1,T=this.SQ(),i=6*P.D()/p;
if(E==-1)if(fc.vu(this.A_(),q)<i)E=9;if(E==-1)for(var R=0;R<T.length;R++)if(R!=4&&fc.vu(T[R],q)<i)E=R;
if(E==-1&&n&&n.r(aj.sL))E=9;if(E==-1||this.Hg==4){if(this.iF(q)){if(this.abE)E=10}else{var H=this.HP(q,this.yF),Z=new eL(0,0,1,1);
Z.ZU(.2,.2);E=Z.Z4(H)&&this.Hg!=3?11:10}}return E};bk.prototype.Tw=function(n,q,p,E){if(this.we==-1)return;
this.SF=E;var T=p.r(aj.$t),i=p.r(aj.sL),H=p.r(aj.Fj),Z=n.c.n,w=this.qA,d=this.we,O=this.SQ(),W=A.Wh.My(n,w,q),C=A.Wh.My(n,E,q),a,B;
if(d==9){var O=this.SQ(),$=-1;for(var R=0;R<O.length;R++)if(fc.vu(O[R],C)*Z<10)$=R;this.ui=$==-1?9:$;
this.V6=T?A.je.Um(W,C):C.clone()}else if(d==10){B=j.O.Uh(this.w1);var I=B.x,x=B.y;B.offset(E.x-w.x,E.y-w.y);
if(this.y5()){B.x=Math.round(B.x);B.y=Math.round(B.y)}a=A.Wh.QD(n,B,q);var U=new b$(1,0,0,1,B.x-I+a[0],B.y-x+a[1]);
j.O.B(this.w1,U,this.yF)}else if(d==11){var N=this.A_(this.w1),m=N.NH(E),f=N.NH(w),c=Math.atan2(m.y,m.x),D=Math.atan2(f.y,f.x),U=new b$(1,0,0,1,-N.x,-N.y),z=Math.PI/12;
if(T)U.rotate(Math.round((D-c)/z)*z);else U.rotate(D-c);U.translate(N.x,N.y);j.O.B(this.w1,U,this.yF)}else{var _,v=this.w1,o=d==0||d==2||d==6||d==8;
if(this.Hg==1){if(o)T=i=H=!0}else if(this.Hg==2&&o&&this.a9N!=!0)H=!0;if(this.Hg==3)H=!1;if(this.aeg&&o&&H){var R=[0,0,2,0,0,0,6,0,4,0][d],y=-1,k=C.x,S=C.y;
if(T){var L=R+6&7,X=R+10&7,s=bk.sJ(v[R],v[R+1],v[L],v[L+1],C.x,C.y),M=bk.sJ(v[R],v[R+1],v[X],v[X+1],C.x,C.y),V=s[2]<M[2]?s:M;
k=V[0];S=V[1];if(i)y=s[2]<M[2]?L:X}else if(i)y=R+4&7;_=v.slice(0);if(y!=-1){var l=v[y],e=v[y+1],Y=(v[R]+l)/2,J=(v[R+1]+e)/2;
_[y]=Y-(k-Y);_[y+1]=J-(S-J)}_[R]=k;_[R+1]=S}else if(o&&i){var N=this.Hl,G=N.x,F=N.y,b=W.x-G,h=W.y-F,bj=1,i4=1;
if(Math.abs(b)>=1)bj=(C.x-G)/b;if(Math.abs(h)>=1)i4=(C.y-F)/h;if(T)bj=i4=(bj+i4)/2;var t=new b$;t.translate(-G,-F);
t.scale(bj,i4);t.translate(G,F);_=v.slice(0);j.O.B(_,t,_)}else{if(this.y5()){C.x=Math.round(C.x);C.y=Math.round(C.y)}var aG=[0,1,2,5,8,7,6,3],Q=aG[(aG.indexOf(d)+4)%8],jd=[];
for(var R=0;R<3;R++)for(var y=0;y<3;y++)jd.push(new fc(y/2,R/2));var N=this.Hl,bP=this.HP(C,v),gz=this.HP(w,v),fZ=i&&(this.ui==4||this.ui==9)?this.HP(N,v):jd[Q],dt=new b$,a9=new b$,bj=(bP.x-fZ.x)/(gz.x-fZ.x);
if(bj==0)bj=1e-4;var i4=(bP.y-fZ.y)/(gz.y-fZ.y);if(i4==0)i4=1e-4;if(this.ap9){bj=Math.max(bj,0);i4=Math.max(i4,0)}if(d==0||d==2||d==6||d==8){if(T||this.aqQ)dt.scale(bj,bj);
else dt.scale(bj,i4)}if(d==1||d==3||d==5||d==7){var bi=this.aqQ;if(d==1||d==7)dt.scale(bi?i4:1,i4);else dt.scale(bj,bi?bj:1);
if(this.aaY&&H){if(d==1||d==7)a9.kr=(bP.x-fZ.x)/(bP.y-fZ.y);else a9.X=(bP.y-fZ.y)/(bP.x-fZ.x)}}var t=new b$;
t.translate(-fZ.x,-fZ.y);t.concat(dt);t.concat(a9);t.translate(fZ.x,fZ.y);_=[0,0,1,0,1,1,0,1];j.O.B(_,t,_);
var V=j.V.EY(v);j.V.B(V,_)}if(bk.YQ(_))this.yF=_}this.wF(n,q);if(a)A.Wh.d8(n,B,a)};bk.sJ=function(n,q,p,E,T,i){var H=p-n,Z=E-q,w=T-n,d=i-q,O=H*H+Z*Z,W=w*H+d*Z,C=W/O,a=n+C*H,B=q+C*Z,$=T-a,I=i-B;
return[a,B,Math.sqrt($*$+I*I)]};bk.prototype.y5=function(){var n=this.yF;return Math.abs(n[1]-n[3])<1e-6&&Math.abs(n[2]-n[4])<1e-6||Math.abs(n[0]-n[2])<1e-6&&Math.abs(n[3]-n[5])<1e-6};
bk.YQ=function(n){return j.O.hj(n)||j.O.hj([n[6],n[7],n[4],n[5],n[2],n[3],n[0],n[1]])};bk.prototype.HO=function(n,q,p,E){this.we=-1;
this.SF=null;n.H.j_=null;n.H.eW=[];n.IJ=!0};bk.prototype.IY=function(n,q,p){var E=p.kH();if(E.x||E.y){var T=new b$(1,0,0,1,E.x,E.y);
j.O.B(this.yF,T,this.yF);this.wF(n,q);return!0}return!1};bk.prototype.SQ=function(n){if(n==null)n=this.yF;
var q=n[6]-n[0],p=n[7]-n[1],E=n[4]-n[2],T=n[5]-n[3],i=[n[0],n[1],n[2],n[3],n[0]+q/2,n[1]+p/2,n[2]+E/2,n[3]+T/2,n[6],n[7],n[4],n[5]],H=[];
for(var R=0;R<3;R++){var Z=R*4,w=i[Z+0],d=i[Z+1],O=i[Z+2],W=i[Z+3];H.push(new fc(w,d));H.push(new fc(w+(O-w)/2,d+(W-d)/2));
H.push(new fc(O,W))}return H};bk.prototype.wF=function(n,q,p){if(p==null)p=!1;var E=this.SQ(),T=E[0],i=E[2],H=E[6],Z=E[8];
n.H.f4={F:[],W:[]};n.H.f4.F.push("M","L","L","L","Z");n.H.f4.W.push(T.x,T.y,i.x,i.y,Z.x,Z.y,H.x,H.y);
var w=this.amM;if(w>1){var d=i.NH(T),O=H.NH(T),W=Z.NH(i),C=Z.NH(H);for(var R=1;R<w;R++){n.H.f4.F.push("M","L","M","L");
var a=R/w;n.H.f4.W.push(T.x+d.x*a,T.y+d.y*a,H.x+C.x*a,H.y+C.y*a);n.H.f4.W.push(T.x+O.x*a,T.y+O.y*a,i.x+W.x*a,i.y+W.y*a)}}n.c.gL=new eL(0,0,fc.vu(E[0],E[2]),fc.vu(E[0],E[6]));
if(this.we!=-1&&this.we<9&&this.SF){var B=n.c.eh(this.SF.x,this.SF.y);A.pk.wY(B.x+10,B.y-10,n.c.gL,n,q)}if(!p){n.H.$O=[];
for(var R=0;R<E.length;R++)if(R!=4)n.H.$O.push(E[R].x,E[R].y);var $=this.A_();n.H.$O.push($.x,$.y)}n.IJ=!0};
bk.prototype.clear=function(n){n.c.gL=null;n.H.j_=null;n.H.f4=null;n.H.$O=[];n.IJ=!0};function bl(n,q){this.bF=null;
this.we=-1;this.FW(n)}bl.prototype.Rs=function(){return JSON.parse(JSON.stringify(this.bF))};bl.prototype.FW=function(n){this.bF=JSON.parse(JSON.stringify(n))};
bl.prototype.iF=function(n){return!0};bl.prototype.na=function(n,q){var p=this.e7(n,q);if(p==-1)return"default";
return"pointer"};bl.prototype.LA=function(n,q,p,E){this.we=this.e7(E,n.c.n);return this.we!=-1};bl.prototype.e7=function(n,q){var p=this.jj(),E=-1,T=1e6;
for(var R=0;R<p.length;R++){var i=fc.vu(p[R],n);if(i<T){E=R;T=i}}return T<20*P.D()/q?E:-1};bl.prototype.Tw=function(n,q,p,E){if(this.we==-1)return;
var T=n.c.n,i=this.we,H=j.bF.Bh(this.bF);H[i*2]=E.x;H[i*2+1]=E.y;j.bF.XZ(H,this.bF)};bl.prototype.HO=function(n,q,p,E){this.we=-1;
n.IJ=!0};bl.prototype.IY=function(n,q,p){var E=p.kH();if(E.x||E.y){var T=new b$(1,0,0,1,E.x,E.y);j.O.B(this.yF,T,this.yF);
this.wF(n)}};bl.prototype.jj=function(n){var q=j.bF.Bh(this.bF),p=[];for(var R=0;R<q.length;R+=2)p.push(new fc(q[R],q[R+1]));
return p};bl.prototype.wF=function(n){var q=this.jj();n.H.f4={F:[],W:[]};n.H.f4.F.push("M","C","C","C","C");
var p=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var R=0;R<p.length;R++)n.H.f4.W.push(q[p[R]].x,q[p[R]].y);
n.H.f4.F.push("M","L","L","M","L","L","M","L","L","M","L","L");p=[4,0,1,2,3,7,11,15,14,13,12,8];for(var R=0;
R<p.length;R++)n.H.f4.W.push(q[p[R]].x,q[p[R]].y);n.H.$O=[];for(var R=0;R<q.length;R++)n.H.$O.push(q[R].x,q[R].y);
n.IJ=!0};bl.prototype.clear=function(n){n.H.f4=null;n.H.$O=[];n.IJ=!0};function hA(){this.B2=!1;this.uK=!1;
this.a7K=!1;this.ahm=!1;this.Cf=!1;this.IA=!1;this.Ic=0;this.Tr=0}hA.prototype.LA=function(n){this.B2=!0;
this.uK=!1;this.Cf=n.r(aj.$t);this.IA=n.r(aj.sL);this.Ic=this.Cf?0:1;this.Tr=this.IA?0:1};hA.prototype.IY=function(n){var q=this.ahm=n.r(aj.$t),p=this.a7K=n.r(aj.sL);
if(this.uK){if(this.Ic==0&&!q)this.Ic++;if(this.Ic==1&&q)this.Ic++;if(this.Tr==0&&!p)this.Tr++;if(this.Tr==1&&p)this.Tr++}};
hA.prototype.Tw=function(){this.uK=!0};hA.prototype.HO=function(){this.B2=!1};hA.prototype.pr=function(R){if(R==0)return this.B2?this.IA:this.a7K;
if(R==1)return this.uK?this.Tr==2:!1};hA.prototype.LD=function(R){if(R==0)return this.B2?this.Cf:this.ahm;
if(R==1)return this.uK?this.Ic==2:!1};var i1={};i1.vx=function(n){this.id=n;this.Q0=null};i1.vx.prototype.JZ=function(n,q,p,E,T){};
i1.vx.prototype.NJ=function(n,q){};i1.vx.prototype.iP=function(n,q){};i1.vx.prototype.track=function(n){var q=new ea(P.E.Gi,!0);
q.data=n;n.TB=!0;this.Q0.K(q)};i1.History=function(){i1.vx.call(this,A.e$);this.Dd=!0;this.aqD=0};i1.History.prototype=new i1.vx;
i1.History.prototype.JZ=function(n,q,p,E){p.Ln=!0;if(n.e=="h_itemchange"){if(n.index<p.yv)for(var R=p.yv;
R>n.index;R--)this.XI(p);if(n.index>p.yv)for(var R=p.yv;R<n.index;R++)this.Ue(p)}if(n.e=="h_stepfwd")this.Ue(p);
if(n.e=="h_stepbck")this.XI(p);if(n.e=="h_undoredo"){var T=this.Dd||this.aqD!=p.yv;if(T){this.XI(p);
T=!1}else{this.Ue(p);T=!0}this.Dd=T;this.aqD=p.yv}else this.Dd=!0};i1.History.prototype.XI=function(n){if(n.yv==0)return;
var q=n.history[n.yv];q.i.iP(q.data,n);n.yv--};i1.History.prototype.Ue=function(n){if(n.yv==n.history.length-1)return;
var q=n.history[n.yv+1];q.i.NJ(q.data,n);n.yv++};i1.w9=function(){i1.vx.call(this,A.iq);this.Q0=null};
i1.w9.prototype=new i1.vx;i1.w9.prototype.JZ=function(n,q,p,E,T){this.Q0=q;var i=n.e,H=n.Y!=null?n.Y:p.p.length!=0?p.p[0]:p.h.length-1,Z=p.h[H];
p.l0=!0;var w=E.r(aj.sL),d=E.r(aj.$t),O=E.r(aj.Fj);if(i==g.L0&&p.$==null)i=g.se;if(i==g.M2){var W=new d4([6,33],this),C=Z.z7()?["pass"].concat(d3.hd):d3.hd,a=C[n.Il],B=n.Y!=null?[n.Y]:p.p,$=JSON.stringify(B),I=[];
for(var R=0;R<B.length;R++)I.push(p.h[B[R]].Nl);W.data={e:i,N$:$,WJ:I,Il:a};p.Dc(W);this.NJ(W.data,p);
this.track(j4._b("Md",{t:"enum",v:{BlnM:d3.g6(a)}}))}if(i==g.hH){var W,x=p.ft(),B=n.Y!=null?[n.Y]:p.p,$=JSON.stringify(B);
if(x&&x.data&&x.data.e==i&&x.data.N$==$)W=x;else{var U=j4._b("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(U);var I=[];for(var R=0;R<B.length;R++)I.push(p.h[B[R]].opacity);W=new d4([6,32],this);W.data={e:i,N$:$,WJ:I,Il:n.Il,_I:U.ga};
p.Dc(W)}W.data.Il=n.Il;W.data._I.T.v.Opct.v.val=Math.round(n.Il*100/255);this.NJ(W.data,p)}if(i==g.C9){if(Z.add.iOpa==null)Z.add.iOpa=255;
var W,x=p.ft();if(x&&x.data&&x.data.e==i&&x.data.Y==H)W=x;else{W=new d4("Fill Opacity Change",this);
W.data={e:i,Y:H,WJ:Z.add.iOpa,Il:n.Il};p.Dc(W)}W.data.Il=n.Il;this.NJ(W.data,p)}if(i==g.dQ){var N=n.Il,m=n.Y!=null?[n.Y]:p.p.slice(0),f=[],c=[],W;
for(var D=0;D<m.length;D++){var z=p.h[m[D]];if(z.add.lspf==null)z.add.lspf=0;var I=z.add.lspf,a=I;for(var R=0;
R<N[0].length;R++){var _=N[1][R],v=1<<_;if((a&v)==0&&N[0][R])a^=v;else if((a&v)!=0&&!N[0][R])a^=v}f.push(I);
c.push(a)}var x=p.ft(),B=JSON.stringify(m);if(x&&x.data&&x.data.e==i&&JSON.stringify(x.data.N$)==B){W=x;
W.data.Il=c}else{var W=new d4([6,57,1],this);W.data={e:i,N$:B,WJ:f,Il:c};p.Dc(W)}this.NJ(W.data,p)}if(i==g.lX){var o="----",y=n.Hu,a=null;
for(var R=0;R<ix.y1.Uz.length;R++)if(Z.add[ix.y1.Uz[R]])o=ix.y1.Uz[R];var k=Z.add[o];if(y=="TySh")a=hx.sB(50,50,T.Bb);
var W=new d4("Layer Type",this);W.data={e:i,Y:H,alF:[o,k],Hu:[y,a]};p.Dc(W);this.NJ(W.data,p)}if(i==g.il){var m=[];
if(w){var S=p.ft(),L=S?S.data:null;if(S!=null&&S.i==this&&L.e==g.il&&L.N$.length!=1){var X=new ea(P.E.u);
X.i=A.e$;X.data={e:"h_stepbck"};q.K(X);if(L.Y==H)return}var s=p.root.io(H),M=p.lR(null,H);while(s.parent!=p.root){M.push(s.parent.index);
s=s.parent}for(var R=0;R<p.h.length;R++){var V=p.h[R],l=V.Fp(),e=M.indexOf(R)!=-1;if(!e&&l)m.push(R);
if(R==H&&!l)m.push(R)}}else{m.push(H);var l=p.h[H].Fp(),U={oK:l?"hide":"show",ga:{classID:l?"Hd":"Shw",null:{t:"VlLs",v:[j4.hZ("Lyr",!0)]}}};
this.track(U)}var W=new d4("Layer visibility",this,!0);W.data={e:i,N$:m,Y:H};p.Dc(W);this.NJ(W.data,p)}if(i==g.ZR){var Y=n.a2V,J=n.wM,b,escape=!1,i4=!1;
if(n.adL){if(O&&(J==0||J==1||J==2)){var G=0;if(d)G++;if(w)G+=2;var F=new ea(P.E.u,!0);F.i=A.L7;F.data={e:"fromlayer",zF:[n.Y,J,G]};
q.K(F);return}}var U={oK:"select",ga:{classID:"null",MkVs:{t:"bool",v:!1}}};if(p.c.mc.join("")!="111"){p.c.mc=[1,1,1];
p.IJ=!0}for(var R=0;R<p.h.length;R++){var V=p.h[R];if(V.Sr()){var h=V.vr(p);if(h&&h.w&&h.w.Fk){h.w.Fk=!1;
p.IJ=!0}}var bj=V.u1();if(bj&&bj.Fk){bj.Fk=!1;p.IJ=!0}}if(E.r(aj.Fj)||n.arU==0){var aG=p.p.indexOf(H);
if(aG==-1)p.p.push(H);else if(p.p.length>1)p.p.splice(aG,1);p.p.sort(function(W,iS){return W-iS});U.ga.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
b=H}else if(d&&!w&&J>0){i=J==1?g._M:J==2?g.WM:g.zG;escape=!0}else if((d||n.arU==1)&&p.p.length>0){var Q=Math.min(H,p.p[0]),jd=Math.max(H,p.p[p.p.length-1]);
p.p=[];for(var R=Q;R<=jd;R++)if(p.h[R].add.lsct!=fX.ct)p.p.push(R);U.ga.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
b=H}else{b=H;var V=p.h[H];if(V&&V.z7()&&n.a25)V.add.lsct=fX.eV;else if(p.p.length==1&&p.p[0]==H&&J==V.TL){i4=!0}if(!i4){p.p=[H];
p.P3()}}if(!i4){if(b!=null&&b<p.h.length){U.ga.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:p.h[b].getName()}}]},this.track(U)}if(!escape){console.log("no escape");
if(p.p.length==1){var bP=p.p[0];for(var R=0;R<p.h.length;R++){if(R==bP)continue;var z=p.h[R];z.TL=0;
z._i=!1}var Z=p.h[bP];if(J==2){Z._i=!Z._i;p.Dm=[]}else if(Z){Z.TL=J<=0?0:J}}else for(var R=0;R<p.h.length;
R++){var z=p.h[R];z.TL=0;z._i=!1}p.LS=null;p.Ln=!0}}if(n.adL&&w){if((J==1||J==3)&&Y!=null){var F=new ea(P.E.u,!0);
F.i=A.$v;F.data={e:"mskView",k:Y!=0?0:d?1:2};q.K(F)}else{this.JZ({e:g.P2,Y:n.Y},q,p,E,T)}}}if(i==g._M||i==g.zG){var gz=i==g._M,fZ=gz?Z.u1():Z.vr(p).w;
if(fZ==null)return;var W=new d4(fZ.isEnabled?gz?[6,15]:[6,42]:gz?[6,14]:[6,41],this);W.data={e:i,Y:H};
p.Dc(W);this.NJ(W.data,p)}if(i==g.WM){var fZ=Z.add.vmsk;if(fZ==null)return;var W=new d4(fZ.isEnabled?[6,17]:[6,16],this);
W.data={e:i,Y:H};p.Dc(W);this.NJ(W.data,p)}if(i==g.t1){var dt=Z.add.lsct==fX.eV?fX.Ku:fX.eV;if(E.r(aj.Fj)){var a9=p.root.io(p.h.indexOf(Z)).parent;
for(var R=0;R<a9.children.length;R++){var bi=a9.children[R].Y;if(bi.z7())bi.add.lsct=dt}}else Z.add.lsct=dt;
p.Ln=!0}if(i==g.P2){if(!p.Mo(H))return;var W=new d4(Z.PJ?[6,19]:[6,18],this);W.data={e:i,Y:H};p.Dc(W);
if(n.Il==null||n.Il!=Z.PJ)this.NJ(W.data,p);this.track({oK:"groupEvent",ga:{classID:"GrpL",null:{t:"obj ",v:[j4.hZ("Lyr",!0)]}}})}if(i==g.cF){if(Z.kR())Z.GZ-=32;
else Z.GZ+=32;p.Ln=!0}if(i==g.Nr||i==g.SB){var W;if(i==g.Nr)W=new d4(Z.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(i==g.SB)W=new d4(Z.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);W.data={e:i,Y:H};p.Dc(W);this.NJ(W.data,p)}if(i==g.ke||i==g.sn){var bP=n.index,W;
if(i==g.ke)W=new d4(Z.add.lmfx[iq.Da[bP[0]]].v[bP[1]].v.enab.v?[6,30]:[6,29],this);if(i==g.sn)W=new d4(Z.add.SoLd.filterFX.v.filterFXList.v[bP].v.enab.v?[6,44]:[6,43],this);
W.data={e:i,Y:H,index:n.index};p.Dc(W);this.NJ(W.data,p)}if(i==g.AF){if(n.src==n.Ow)return;var az=p.h[n.src],hd=p.h[n.Ow],aB=az.add.lmfx?JSON.stringify(az.add.lmfx):"",cv=hd.add.lmfx?JSON.stringify(hd.add.lmfx):"";
if(hd.add.lmfx==null){hd.add.lmfx=JSON.parse(iq.default);for(var R=0;R<iq.order.length;R++)hd.add.lmfx[iq.Da[R]]={t:"VlLs",v:[]}}if(n.SN==null){hd.add.lmfx=JSON.parse(aB);
if(!w)delete az.add.lmfx}else{var c$=n.SN[0],cT=iq.Da[c$];if(iq.No.indexOf(iq.order[c$])==-1)hd.add.lmfx[cT].v=[];
hd.add.lmfx[cT].v.push(az.add.lmfx[cT].v[n.SN[1]]);if(!w)az.add.lmfx[cT].v.splice(n.SN[1],1)}var fp=az.add.lmfx?JSON.stringify(az.add.lmfx):"",cD=hd.add.lmfx?JSON.stringify(hd.add.lmfx):"";
if(!hd.kR())hd.GZ+=32;var W=new d4("Move Layer Styles",this);W.data={e:i,IB:n.src,CR:n.Ow,ach:aB,aap:cv,a3c:fp,acs:cD};
p.Dc(W);this.NJ(W.data,p)}if(i==g.Gc){var D=n.src;if(D==null)D=H;var z=p.h[H],f_=JSON.stringify(z.add.SoLd),f9=JSON.parse(f_),dO=f9.filterFX.v.filterFXList.v;
dO.splice(n.SN,1);var W=new d4([6,53],this);W.data={e:g.TK,QA:[{a3:H,U2:[f_,JSON.stringify(f9)]}]};p.Dc(W);
this.NJ(W.data,p)}if(i==g.Pv){var a6=w,az=p.h[n.src],hd=p.h[n.Ow],hb=[];if(az!=hd&&hd.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(az==hd&&!a6&&(n.SN==n.gg||n.SN==-1))return;var jr=az.vr(p),f_=JSON.stringify(az.add.SoLd),f9=JSON.parse(f_),dO=f9.filterFX.v.filterFXList.v;
if(az==hd){dO.splice(n.gg,0,dO[n.SN]);if(!a6)dO.splice(n.SN+(n.SN<n.gg?0:1),1);hb.push({a3:n.src,U2:[f_,JSON.stringify(f9)]})}else if(n.SN==-1){var dh=f9.filterFX;
if(!a6){delete f9.filterFX;hb.push({a3:n.src,U2:[f_,JSON.stringify(f9)],vc:[jr,null]})}var jq=hd.Sr()?hd.vr(p):null,g3=gd.K5(jr),c6=JSON.stringify(hd.add.SoLd),cd=JSON.parse(c6);
cd.placed.v=g3.id;cd.filterFX=dh;hb.push({a3:n.Ow,U2:[c6,JSON.stringify(cd)],vc:[jq,g3]})}else{var jn=dO[n.SN];
if(!a6){dO.splice(n.SN,1);hb.push({a3:n.src,U2:[f_,JSON.stringify(f9)]})}var c6=JSON.stringify(hd.add.SoLd),cd=JSON.parse(c6);
if(cd.filterFX==null)cd.filterFX=fU.u4();var cV=cd.filterFX.v.filterFXList.v;cV.splice(n.gg,0,jn);var fM={a3:n.Ow,U2:[c6,JSON.stringify(cd)]};
if(!hd.Sr()){var g3=gd.JJ(hd.add.SoLd.placed.v);fM.vc=[null,g3]}hb.push(fM)}var W=new d4([6,52],this);
W.data={e:g.TK,QA:hb};p.Dc(W);this.NJ(W.data,p)}if(i==g.Tv){var fZ=Z.u1(),W=new d4(fZ.$g?[6,26]:[6,25],this);
W.data={e:i,Y:H};p.Dc(W);this.NJ(W.data,p);this.track({oK:"set",ga:{classID:"setd",null:{t:"obj ",v:[j4.hZ("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fZ.$g}}}}})}if(i==g.re){var fZ=Z.add.vmsk,W=new d4(fZ.$g?[6,28]:[6,27],this);
W.data={e:i,Y:H};p.Dc(W);this.NJ(W.data,p)}if(i==g.te){var bE=[],W;for(var R=0;R<p.p.length;R++){var D=p.p[R],V=p.h[D];
if(V.add.vogk)bE.push(D,JSON.stringify(V.add.vogk))}for(var R=0;R<p.Dm.length;R++){var D=p.Dm[R],V=p.kA[D];
if(V.add.vogk)bE.push(-1-D,JSON.stringify(V.add.vogk))}j.k4.arE(p,n.C8,n.aac);var gU=[];for(var R=0;
R<p.p.length;R++){var D=p.p[R],V=p.h[D];if(V.add.vogk)gU.push(D,JSON.stringify(V.add.vogk))}for(var R=0;
R<p.Dm.length;R++){var D=p.Dm[R],V=p.kA[D];if(V.add.vogk)gU.push(-1-D,JSON.stringify(V.add.vogk))}var x=p.ft();
if(x&&x.data&&x.data.e==i){var g6=!0;for(var R=0;R<bE.length;R+=2)if(bE[R]!=x.data.Lq[R])g6=!1;if(g6){W=x;
W.data.Q4=gU}}if(W==null){var W=new d4([12,91,1],this);W.data={e:i,Lq:bE,Q4:gU};p.Dc(W)}this.NJ(W.data,p)}if(i==g.b4){var cu=JSON.stringify(Z.add.artb),f5=JSON.stringify(n.qT),W;
p.h[H].add.artb=JSON.parse(f5);var iP=new eL(0,0,p.v,p.o),id=A.c8.$J(p),x=p.ft();if(x&&x.data&&x.data.e==i&&x.data.Y==H){W=x;
W.data.qT=f5}if(W==null){var W=new d4("Editing Artboard",this);W.data={e:i,Y:H,arP:cu,qT:f5,pv:iP};p.Dc(W)}W.ZZ=id;
this.NJ(W.data,p)}if(i==g.QH){var gU=p.v4.slice(0),aY=p.z1.slice(0),fT=p.$,h8=p.$;if(n.df=="fromAction"){var jf=n.k.oK,h2=n.k.ga;
if(jf=="make"||jf=="duplicate"){var e9=gU.length,ed=!1,bZ=!1;if(p.ew())e9--;var jt=new g.JI;jt.name="Alpha "+(e9+1);
if(jf=="make"){var ji=h2.Nw.v;jt.color=255;aY=[e9];jt.Fk=!0;jt.Lm=ji.Opct.v;if(ji.Nm)jt.name=ji.Nm.v;
if(ji.classID=="SCch"){ed=!0;h8=null;jt.hw=1}}else{var a4=h2.null.v[0].v;if(a4.keyID=="fsel")ed=!0;else{var eG=A.eY.q8(p);
h8=A.eY.XC(p,eG);jt.color=0;jt.rect=h8.rect;jt.channel=h8.channel}}if(ed){jt.color=0;if(p.$){jt.rect=p.$.rect.clone();
jt.channel=p.$.channel.slice(0)}if(bZ){jt.color=255-jt.color;j.z3(jt.channel)}}gU.splice(e9,0,jt)}else if(jf=="delete"){if(Z&&Z.u1()&&Z.TL==1){this.JZ({e:g.SM},q,p,E,T);
return}var M=p.z1;M.sort(function(W,iS){return iS-W});if(M.length==0)return;for(var R=0;R<M.length;R++)gU.splice(M[R],1);
aY=[]}else if(jf=="hide"){gU[aY[0]]=gU[aY[0]].clone();gU[aY[0]].Fk=!1}}if(n.df=="rnm"){gU[n.ap]=gU[n.ap].clone();
gU[n.ap].name=n.name}var W=new d4("Channel Edit",this);W.data={e:i,Lq:p.v4.slice(0),k1:p.z1.slice(0),Q4:gU,UN:aY,Nu:fT,ii:h8};
this.NJ(W.data,p);p.Dc(W)}if(i==g.V$){var e6=new eL(0,0,p.v,p.o),W=new d4(n.as,this);W.data={e:g.V$,th:p.h.slice(0),Ro:n.Ro,a4:p.p.slice(0),mh:n.ii};
p.Dc(W);this.NJ(W.data,p);var eH=A.c8.ZS(p);if(eH){W.data.pv=e6;W.data.ZZ=eH}}if(i==g.va){var eP=p.lR(null,n.Y),aR=1e10;
if(eP.length==0)return;if(p.h.length==eP.length){alert("Project must have at least 1 layer");return}var iE=[];
for(var R=0;R<p.h.length;R++)if(eP.indexOf(R)==-1)iE.push(p.h[R]);for(var R=0;R<eP.length;R++)aR=Math.min(aR,eP[R]);
aR=Math.max(aR-1,0);while(iE[aR].name=="</Layer group>")aR++;this.track({oK:"delete",ga:{classID:"Dlt",null:j4.hZ("Lyr",!0)}});
var W=new d4([6,31],this);W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[aR]};p.Dc(W);this.NJ(W.data,p)}if(i==g.jZ){if(!E.r(aj.$t))return;
var W=new d4("Switch Layer Link",this);W.data={e:i,Y:n.Y};p.Dc(W);this.NJ(W.data,p)}if(i==g.E8){var M=n.a1E?n.a1E:p.p,aq=0,hq=!1;
if(M.length==0)return;if(M.length==1&&p.h[M[0]].tS==0){alert(fE.get([15,7,5]));return}var gv=[];for(var R=0;
R<p.h.length;R++){var fL=p.h[R].tS;gv.push(fL);aq=Math.max(aq,fL)}var hz=-1,cy=-1;for(var R=0;R<M.length;
R++){var fL=p.h[M[R]].tS;if(fL==0)hq=!0;else if(hz==-1||hz==fL)hz=fL;else cy=fL}if(!hq)for(var R=0;R<M.length;
R++)p.h[M[R]].tS=0;else if(hz!=-1&&cy==-1)for(var R=0;R<M.length;R++)p.h[M[R]].tS=hz;else for(var R=0;
R<M.length;R++)p.h[M[R]].tS=aq+1;var is=[];for(var R=0;R<p.h.length;R++){var fL=p.h[R].tS;if(is[fL]==null)is[fL]=0;
is[fL]++}for(var R=0;R<p.h.length;R++){var fL=p.h[R].tS;if(is[fL]==1)p.h[R].tS=0}var dr=gv;gv=[];for(var R=0;
R<p.h.length;R++){var fL=p.h[R].tS;gv.push(fL);aq=Math.max(aq,fL)}var W=new d4(hq?[6,54,0]:[6,54,1],this);
W.data={e:g.E8,ajZ:dr,a1R:gv};p.Dc(W);this.NJ(W.data,p)}if(i==g.se&&(n.Y!=null||p.p.length!=0)||i==g.Ng){var cx=p.JD(i==g.se?n.Y:H,null,n.apG);
if(i==g.Ng){var z=cx[0],jf=z.add.SoLd.Idnt.v,g1=p.mQ(jf).clone();z.add.SoLd.Idnt.v=g1.l5=gd.R4()+jf.slice(8);
p.add.lnk2.push(g1)}if(i==g.se){var da={oK:"duplicate",ga:{classID:"null",null:j4.hZ("Lyr",!0)}};if(n.E7){cx[0].WR(n.E7);
da.Nm={t:"TEXT",v:n.E7}}this.track(da);n.adB=n.Y}i=g.dj;n.h=cx;n.B1=p;n.z6=p}if(i==g.dj){var aS,iZ,hs=n.B1,aD=n.z6,ho=0,aW=0;
if(hs!=aD){console.log("ADDLAYERS different projs");var aS=new eL(0,0,hs.v,hs.o),iZ=new eL(0,0,aD.v,aD.o),iT=[],fQ=[];
for(var R=0;R<n.h.length;R++){var z=n.h[R];if(z.add.SoLd==null)continue;var jf=z.add.SoLd.Idnt.v;if(iT.indexOf(jf)==-1){iT.push(jf);
fQ.push(gd.R4()+jf.slice(8))}z.add.SoLd.Idnt.v=fQ[iT.indexOf(jf)];var jr=z.vr(hs);if(jr){hs.iT(jr);aD.O8(jr)}}if(iT.length>0){if(aD.add.lnk2==null)aD.add.lnk2=[];
for(var R=0;R<iT.length;R++){var fx=hs.mQ(iT[R]),g1=fx.clone();g1.l5=fQ[R];aD.add.lnk2.push(g1)}}}var fT=aD.p.slice(0);
fT.sort(function(W,iS){return W-iS});var iE=aD.h.slice(0),h8=[],i8=-1;for(var R=0;R<fT.length;R++)i8=Math.max(i8,fT[R]);
if(n.adB!=null)i8=n.adB;var ic=hs.Cq();if(n.O7){i8=n.O7-1;var iO=aD.h[n.O7].Kl();ho+=iO.x;aW+=iO.y}if(ic!=-1&&hs!=aD){var aT=hs.h[ic].Kl();
ho-=aT.x;aW-=aT.y}i8++;for(var R=0;R<n.h.length;R++){var V=n.h[R];iE.splice(i8,0,V);h8.push(i8);i8++}if(n.h[0].name=="</Layer group>"&&n.h[n.h.length-1].z7())h8=[i8-1];
var W=new d4([6,0],this);W.data={e:g.V$,th:aD.h.slice(0),Ro:iE,a4:fT,mh:h8};aD.Dc(W);this.NJ(W.data,aD);
if(ho!=0||aW!=0)A.Wh.ZM(aD,aD.lR(),null,ho,aW)}if(i==g.sk){var bp=n.Y!=null?[n.Y]:p.lR(),iE=p.h.slice(0);
for(var R=0;R<bp.length;R++){var V=p.h[bp[R]].clone();V.kB(p);iE.splice(bp[R],1,V)}var W=new d4([6,8],this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:p.p.slice(0)};p.Dc(W);this.NJ(W.data,p)}if(i==g.jH){var iE=p.h.slice(0),V=iE[p.p[0]]=iE[p.p[0]].clone(),co=V.add.lmfx,bK=0;
delete V.add.lmfx;var gR=j.U(V.rect.P());j.J2(V.buffer,gR,3);var aA=cU.x1(co,null,gR,V.rect,p,V.rect).type;
for(var R=0;R<iq.order.length;R++){var c7=iq.order[R],eZ=aA[c7],dB=R>7;for(var d8=0;d8<eZ.length;d8++){var dG=eZ[d8],B=p.Je();
B.Nl=dG.pz;B.opacity=Math.round(255*dG.xx);B.PJ=!dB;B.buffer=dG.OT;B.rect=dG.zj;B.rect.offset(V.rect.x,V.rect.y);
B.WR(V.getName()+"'s "+fE.get(iq.names[R]));iE.splice(p.p[0]+(dB?0:1),0,B);if(dB)bK++}}var W=new d4("Styles to Layers",this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[p.p[0]+bK]};p.Dc(W);this.NJ(W.data,p)}if(i==g.bB){var bp=p.lR(),iE=p.h.slice(0),eU=new eL(0,0,p.v,p.o);
for(var R=0;R<bp.length;R++){var f3=p.h[bp[R]],ft=f3.Fp();f3.c4(!0);var fi=p.root.io(bp[R]);if(f3.z7())continue;
if(fi==null)continue;var V=f3.clone();V.kB(p);var b0=fi.UB(p,!0),dp=p.h;p.Kq([f3]);p.M();p.FN();V.buffer=j.U(b0.P()*4);
j.hk(p.Zk(),eU,V.buffer,b0);V.rect=b0;V.opacity=255;V.add.iOpa=255;V.Nl="norm";V.M();V.wA.bZ=!0;p.Kq(dp);
if(V.add.lmfx)delete V.add.lmfx;V.w=V.y9=null;iE.splice(bp[R],1,V);V.c4(ft);f3.c4(ft)}var W=new d4([6,34],this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:p.p.slice(0)};p.Dc(W);this.NJ(W.data,p)}if(i==g.iG){var bp=p.lR(),iE=p.h.slice(0);
for(var R=0;R<bp.length;R++){var V=p.h[bp[R]],ee=V.add.TySh;if(ee==null)continue;var z=new e7(ee.Bd,T.s4),dR=j.O.$V(hj.Vp(z,ee));
for(var d0 in dR){var gS=dR[d0],bi=V.clone();delete bi.add.TySh;bi.GZ=bi.GZ|1<<4;bi.add.SoCo=JSON.parse(JSON.stringify(iq.FH[0]));
var hl=bi.add.SoCo.Clr.v;hl.Rd.v=parseInt(d0.slice(1,3),16);hl.Grn.v=parseInt(d0.slice(3,5),16);hl.Bl.v=parseInt(d0.slice(5,7),16);
var iR=new g.Xg;iR.Q=j.O.zt(gS,!1);if(bi.add.vmsk!=null){bi.add.vmsk.asP();iR.concat(bi.add.vmsk)}bi.add.vmsk=iR;
bi.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));bi.J0();bi.VA(p);iE.splice(iE.indexOf(V),0,bi)}iE.splice(iE.indexOf(V),1)}var h8=p.p.slice(0);
for(var R=h8.length-1;R>=0;R--)if(h8[R]>=iE.length)h8.splice(R,1);var W=new d4([6,40],this);W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:h8};
p.Dc(W);this.NJ(W.data,p)}if(i==g.gC){var bI=p.p.length;if(bI<2){alert("Select two or more layers.");
return}if(!p.bv())return;var bi=p.h[p.p[0]].clone(),iE=[];for(var R=0;R<p.h.length;R++)if(p.p.indexOf(R)==-1)iE.push(p.h[R]);
iE.splice(p.p[0],0,bi);for(var R=1;R<bI;R++)if(p.h[p.p[R]].rect.P()>2e6){alert("Blended areas are too large.");
return}for(var R=1;R<bI;R++){var V=p.h[p.p[R]],dW=V.rect.clone();dW.ZU(1,1);var iS=j.U(dW.P()*4);j.hk(V.buffer,V.rect,iS,dW);
bi.extend(dW);var dI=j.U(dW.P()*4);j.hk(bi.buffer,bi.rect,dI,dW);var W=j.U(dW.P());j.J2(iS,W,3);j.round(W,200);
j.yI(W,iS,3);j.a.Ef("norm",iS,dW,dI,dW,dW,1);j.ue.ST(dI,W,dW);j.hk(dI,dW,bi.buffer,bi.rect)}var W=new d4([2,10,0],this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[p.p[0]]};p.Dc(W);this.NJ(W.data,p)}if(i==g.Lh){var iE=p.h.slice(0),aY=p.p.slice(0);
for(var R=0;R<iE.length;R++){var V=iE[R],gK=V.add.vmsk;if(V._m()&&gK&&V.add.vstk.strokeEnabled.v&&!V.add.vstk.fillEnabled.v){var jp=gK.Q,hm=0,gy=-1;
for(var d8=0;d8<jp.length;d8++){if((jp[d8].type==0||jp[d8].type==3)&&jp[d8].HW!=-1){hm++;if(jp[d8].type==3&&gy==-1){jp[d8].cZ=jp[d8].HW=1;
gy=d8}}}if(hm>1&&gy!=-1){console.log("separating an open path into a new layer");V=V.clone();gK=V.add.vmsk;
jp=gK.Q;var B=jp[gy].length,fu=V.clone();fu.add.lyid=p.x3();gK.Q=jp.slice(0,2).concat(jp.slice(gy,gy+B+1));
gK.p=[];V.VA(p);V.M();var ig=fu.add.vmsk.Q;fu.add.vmsk.Q=ig.slice(0,gy).concat(ig.slice(gy+B+1,ig.length));
fu.add.vmsk.p=[];fu.VA(p);iE[R]=V;iE.splice(R+1,0,fu);for(var d8=0;d8<aY.length;d8++)if(aY[d8]>R)aY[d8]++;
var gr=aY.indexOf(R);if(gr!=-1){aY.splice(gr+1,0,R+1)}}}}if(iE.length!=p.h.length){var W=new d4("Splitting open paths",this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:aY};p.Dc(W);this.NJ(W.data,p)}}if(i==g.kc){this.JZ({e:g.Lh},q,p,E,T);
var fT=p.p.slice(0),dp=p.h.slice(0),bp=p.lR();if(bp.length==0)return;p.O3(bp,!1,n.db);var W=new d4([6,36,0],this);
W.data={e:g.V$,th:dp,Ro:p.h.slice(),a4:fT,mh:p.p.slice(0)};p.Dc(W);this.NJ(W.data,p)}if(i==g.Wr){var f_=Z.add.SoLd;
if(f_==null)return;var jf=f_.Idnt.v,ao=p.mQ(jf);ao.Zk(!1);var bz=ao.H5[0],dW=ao.H5[1];if(j.yz(bz)){alert("The smart object contains transparency.");
return}var h1=al.vE("jpg").U7([[bz.buffer]],dW.v,dW.o,[90]);this.JZ({e:g.Qy,eL:p,data:new Uint8Array(h1),id:jf,db:"jpg"},q,p,E,T);
console.log(p.add);return}if(i==g.Qy){var fx=n.eL.mQ(n.id),g1=fx.clone();g1.raw=n.data;if(n.KF)g1.KF=n.KF;
if(n.db){g1.xr="    ";g1.a5="    ";g1.KF=g1.KF+"."+n.db}else{g1.xr="8BIM";g1.a5="8BPB";g1.KF=g1.KF+".psd"}g1.Zk(!1);
fx.Zk(!1);var W=new d4([6,36,1],this);W.data={e:g.Qy,id:n.id,WU:fx,AJ:g1};n.eL.Dc(W);this.NJ(W.data,n.eL)}if(i==g.gd){var W=new d4([6,36,4],this);
W.data={e:i,Y:H,Br:Z.add.SoLd.Impr.v.classID,Il:n.Il};p.Dc(W);this.NJ(W.data,p)}if(i==g.xc){var aQ,g4;
if(n.zq){aQ=n.eL;g4=n.zq}else{n.eL.ko();n.eL.cO();n.eL.M();n.eL.FN();n.eL.Zk();aQ=al.vE("PSD").U7(n.eL,0,0,[!0,!0]);
g4=n.eL.name}if(!(aQ instanceof ArrayBuffer))throw"e";aQ=new Uint8Array(aQ);var aG=n.oT;if(aG==null){if(p.p.length==0)aG=p.p.length;
else{var eb=p.p[p.p.length-1],B=p.h[eb];aG=B.z7()?eb:eb+1}}var br=new eL(0,0,p.v,p.o),ic=p.Cq();if(ic!=-1)br=p.h[ic].Kl();
var aX=p.YC(aQ,g4,0,0,br),iE=p.h.slice(0);iE.splice(aG,0,aX);var W=new d4([6,36,2],this);W.data={e:g.V$,th:p.h.slice(),Ro:iE,a4:p.p.slice(0),mh:[iE.indexOf(aX)]};
p.Dc(W);this.NJ(W.data,p)}if(i==g.wp&&n.df=="merge"){var gk=[],gF=p.root.children,cc=0;for(var R=0;R<gF.length;
R++){var s=gF[R],V=s.Y,bw=s.children,h_=!0;if(!V.z7()||bw.length==0)continue;for(var d8=0;d8<bw.length;
d8++)if(!bw[d8].Y.getName().startsWith("_a_")){h_=!1;break}if(h_)gk.push(p.h.indexOf(V))}var dT=[];for(var R=0;
R<gk.length;R++)if(p.p.indexOf(gk[R])!=-1)dT.push(gk[R]);if(dT.length>=2)gk=dT;if(gk.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var a0=[];for(var R=0;R<gk.length;R++)a0.push(p.h[gk[R]].getName());var eZ=[];for(var fr=0;fr<gk.length;
fr++){var s=p.root.io(gk[fr]),fM=[[],[],0,fr];eZ.push(fM);for(var R=0;R<s.children.length;R++){var D=s.children[R].index,V=s.children[R].Y,jt=V.getName(),ab=20,fl=jt.split(",");
if(fl.length>1){var an=parseInt(fl.pop());if(!isNaN(an)&&an!=0)ab=an}fM[0].push(V);fM[1].push(ab);fM[2]+=ab}}eZ.sort(function(W,iS){return iS[2]-W[2]});
var dV=eZ[0],fO=dV[2];for(var cM=1;cM<eZ.length;cM++){var fM=eZ[cM],as=1,a_=fM[1].slice(0),gl=0;while((as+1)*fM[2]<=dV[2]){as++;
a_=a_.concat(fM[1])}fM[1]=a_;fM[2]*=as;var c8=dV[2]/fM[2];for(var R=0;R<fM[1].length;R++){var aZ=Math.floor(fM[1][R]*c8);
fM[1][R]=aZ;gl+=aZ}while(gl<fO){gl++;fM[1][fM[1].length-1]++}fM[2]=gl}var hy=[],jk=[],aZ=[];for(var R=0;
R<eZ.length;R++){hy.push(0);jk.push(0)}while(cc<fO){var h$=1e9,e9=-1;for(var R=0;R<eZ.length;R++){var df=eZ[R][1],aa=hy[R];
if(aa!=df.length&&jk[R]+df[aa]<cc+h$){e9=R;h$=jk[R]+df[aa]-cc}}jk[e9]+=eZ[e9][1][hy[e9]];hy[e9]++;if(h$!=0){aZ.push(h$);
cc+=h$}}for(var R=1;R<aZ.length;R++){var fh=aZ[R];if(fh<16&&(aZ[R-1]<16||R<aZ.length-1&&16<=aZ[R+1])){aZ[R-1]+=fh;
aZ.splice(R,1);R--}}var ft=[],eU=new eL(0,0,p.v,p.o);for(var R=0;R<p.h.length;R++){ft[R]=p.h[R].Fp();
p.h[R].c4(!1)}var fR=p.p.slice(0);p.p=gk;var eP=p.lR();eP.sort(function(W,iS){return W-iS});var iE=[];
for(var R=0;R<p.h.length;R++){if(eP.indexOf(R)==-1)iE.push(p.h[R])}eZ.sort(function(W,iS){return W[3]-iS[3]});
function ek(df,hK){var R=0,hS=0;while(hS+df[R]<=hK){hS+=df[R];R++}return R}cc=0;iE.splice(eP[0],0,p.Ch());
for(var eM=0;eM<aZ.length;eM++){var m=[];for(var R=0;R<eZ.length;R++){var aa=ek(eZ[R][1],cc)%eZ[R][0].length,V=eZ[R][0][aa];
m.push(V)}var V=p.Je();for(var R=0;R<eZ.length;R++){var dP=m[R],a9=p.h[gk[R]];dP.c4(!0);a9.c4(!0)}p.M();
p.FN();var bz=p.Zk();V.rect=j.XU(bz,eU,2);V.buffer=j.U(V.rect.P()*4);j.hk(bz,eU,V.buffer,V.rect);for(var R=0;
R<eZ.length;R++){var dP=m[R],a9=p.h[gk[R]];dP.c4(!1);a9.c4(!1)}V.c4(eM==0);V.WR("_a_frm"+eM+","+aZ[eM]);
iE.splice(eP[0]+1+eM,0,V);cc+=aZ[eM]}var V=p.Je();V.WR(a0.join(" + "));V.Nl="pass";V.add.lsct=fX.Ku;
V.GZ=24;iE.splice(eP[0]+1+aZ.length,0,V);for(var R=0;R<p.h.length;R++)p.h[R].c4(ft[R]);var W=new d4([6,12,0],this);
W.data={e:g.V$,th:p.h,Ro:iE,a4:fR,mh:[eP[0]+1+aZ.length]};p.Dc(W);this.NJ(W.data,p)}if(i==g.eB||i==g.LJ||i==g.GR){var dp=p.h.slice(0),fT=p.p.slice(0),bF=!0,aX,h8;
if(i==g.eB)p.p=[H,H-1];if(i==g.GR){p.p=[];for(var R=0;R<p.h.length;R++)if(p.h[R].Fp())p.p.push(R)}var bp=p.lR();
bp.sort(function(W,iS){return W-iS});var dU=new eL,eU=new eL(0,0,p.v,p.o);for(var R=0;R<bp.length;R++){var D=bp[R],V=p.h[D];
bF=bF&&V._m()&&V.add.vmsk!=null;dU=dU.AL(p.root.io(D).UB(p,!0))}if(bF){aX=p.h[bp[0]].clone();var gK=aX.add.vmsk;
for(var R=1;R<bp.length;R++){var B=p.h[bp[R]],ig=g.Xg.A$(B.add.vmsk.Q);gK.Q=gK.Q.concat(ig.slice(2));
aX.add.vogk=aX.add.vogk.concat(JSON.parse(JSON.stringify(B.add.vogk)))}aX.add.vmsk.zK=!0;aX.VA(p)}else if(eU.Gf(dU)){aX=p.Je();
aX.WR(p.h[bp[bp.length-1]].getName());aX.rect=dU;aX.buffer=j.U(dU.P()*4);var gP=p.Zk(bp);j.hk(gP,eU,aX.buffer,dU);
aX.aA();aX.M()}else{p.O3(bp,!0);aX=p.h[p.p[0]];p.h.splice(p.p[0],1);var h5=p.mQ(aX.add.SoLd.Idnt.v);
p.add.lnk2.splice(p.add.lnk2.indexOf(h5),1);delete aX.add.SoLd}var gN=w,g_=-1;if(n.ga&&n.ga.Dplc&&n.ga.Dplc.v)gN=!0;
if(gN&&i==g.GR&&p.h[fT[0]].pp()&&p.h[fT[0]].rect.M6()){g_=fT[0]}if(g_!=-1||i==g.eB){var jb=p.h[g_!=-1?g_:H-1];
aX.WR(jb.getName());aX.add.lclr=jb.add.lclr}var iE=[];for(var R=0;R<p.h.length;R++)if(gN||bp.indexOf(R)==-1)if(R!=g_)iE.push(p.h[R]);
var g8=bp[bp.length-1],dM=g8==p.h.length-1?null:p.h[g8+1],iI=dM?iE.indexOf(dM):iE.length;iE.splice(iI,0,aX);
h8=[iI];var W=new d4([6,12,0],this);W.data={e:g.V$,th:dp,Ro:iE,a4:fT,mh:h8};p.Dc(W);this.NJ(W.data,p)}if(i==g.OV){var bi=p.Je();
bi.rect=new eL(0,0,p.v,p.o);bi.buffer=j.U(bi.rect.P()*4);j.nz(bi.buffer,4294967295);j.a.Ef("norm",p.Zk(),bi.rect,bi.buffer,bi.rect,bi.rect,1);
bi.WR("Background");bi.add.lspf=1<<2;var W=new d4([6,12,1],this);W.data={e:g.V$,th:p.h.slice(),Ro:[bi],a4:p.p.slice(0),mh:[0]};
p.Dc(W);this.NJ(W.data,p)}if(i==g.mp||i==g.qw||i==g.ua||i==g.Po||i==g.L0){var V=i==g.L0?p.h[p.p[0]].clone():p.Je(),hV=fE.get([0,3]),h9=n.E7,i7=!1,f0,dj;
if(i==g.ua)hV=fE.get([12,76,1]);if(i==g.L0){var f3=p.h[p.p[0]],dz=f3.Iw(p,p.$);if(dz==null){alert("Copied area is empty");
return}V.rect=dz.rect;V.buffer=dz.hc;V.kB(p)}if(i==g.Po){V.rect=i1.w9.FL(n.GJ,p);V.buffer=n.GJ.buffer.slice(0);
if(n.rF&&p.$){V.w=new g.JI;V.w.rect=p.$.rect;V.w.color=0;V.w.channel=p.$.channel.slice(0)}}if(i==g.mp){this.track({oK:"make",ga:{classID:"Mk",null:j4.hZ("Lyr")}})}if(i==g.qw){V.GZ|=16;
var jm=n.ga.Usng.v,aH=jm.Type.v,eJ=iJ.Sz[aH.classID];hV=fE.get(iJ.names[eJ]);if(jm.Nm)h9=jm.Nm.v;V.add[eJ]=fU.yQ(eJ);
if(V.add[eJ]==null)V.add[eJ]={};for(var i3 in aH)V.add[eJ][i3]=JSON.parse(JSON.stringify(aH[i3]));V.w=i1.w9.BQ(p)}if(i==g.ua){V.GZ|=16;
var h2=n.ga,jm=h2.Usng.v,ep=jm.Type.v,bd=jm.Shp;if(jm.Nm)h9=jm.Nm.v;if(bd==null){var gY=p.Jy(),dR=gY[0],h7=gY[1];
if(h7.length!=0){var gx=dR[h7[0]].add;V.add.vmsk=gx.vmsk.clone();V.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));
V.add.vogk=JSON.parse(JSON.stringify(gx.vogk));p.Dm=[]}else V.w=i1.w9.BQ(p)}else{console.log(jm);V.add.vmsk=new g.Xg;
V.add.vstk=JSON.parse(JSON.stringify(jm.strokeStyle?jm.strokeStyle.v:iq.DL.default));V.add.vogk=[];if(bd){var fq=j.k4.sH(bd);
if(fq){V.add.vogk=[fq];V.add.vmsk.Q.push({type:0,HW:1,length:0});j.k4.dA(V.add.vogk,V.add.vmsk)}else{bd=bd.v;
var ir=bd.classID;if(ir=="Plgn"){var dx=bd.Cntr.v,aT=bd.corner.v;dx=new fc(dx.Hrzn.v.val,dx.Vrtc.v.val);
aT=new fc(aT.Hrzn.v.val,aT.Vrtc.v.val);V.add.vmsk.Q=j.G.la.y6(dx.x,dx.y,Math.sqrt(aT.x*aT.x+aT.y*aT.y),Math.atan2(aT.y,aT.x),bd.sides.v,0)}else if(ir=="customShape"){var aE=j.k4.pW(bd),dk=aE[2]-aE[0],b9=aE[3]-aE[1],af=T.Xr,gi,cK;
for(var R=0;R<af.length;R++)if(af[R].KS==bd.Nm.v)gi=af[R];if(gi){cK=g.Xg.A$(gi.Q);j.G.ra(cK,new b$(dk,0,0,b9,aE[0],aE[1]))}else cK=j.G.la.Rect(aE[0],aE[1],dk,b9,0);
V.add.vmsk.Q=cK}V.J0()}}}var gX={solidColorLayer:0,gradientLayer:1,patternLayer:2}[ep.classID],c_=["SoCo","GdFl","PtFl"][gX];
V.add[c_]=JSON.parse(JSON.stringify(iq.FH[gX]));i1.w9.sd(ep,V.add[c_],gX);if(bd==null)hV=fE.get([6,48,0,gX]);
if(c_=="PtFl")p.J1(cU.Zb(V.add[c_].Ptrn.v,T.bS));V.VA(p)}var bI=i1.w9.aq(p,hV+" ");V.WR(hV+" "+(bI+1));
if(h9)V.WR(h9);var eo=p.p.length==0?p.h.length-1:p.p[p.p.length-1],hZ=p.h[eo];if(i==g.ua&&hZ.pp()&&hZ.rect.M6()){i7=!0;
V.WR(hZ.getName());f0=eo}else{f0=eo+(i==g.mp&&O?0:1);if(hZ&&hZ.add.lsct==fX.eV)f0--}if(n.a8x)f0=Math.max(0,f0-1);
var iE=p.h.slice(0);iE.splice(f0,i7?1:0,V);var d5=[5,2];if(i==g.mp)d5=[6,13];if(i==g.qw)d5=[6,1];if(i==g.ua){d5=[6,48,1];
var bd=n.ga.Usng.v.Shp;if(bd){var a8={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[bd.v.classID];
if(a8)d5=a8}}if(i==g.L0){d5=[6,49]}if(i==g.L0||i==g.ua||i==g.Po)if(p.$)dj=[p.$,null];var W=new d4(d5,this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[f0],Y_:dj};p.Dc(W);this.NJ(W.data,p);if(i==g.ua&&bd==null&&gX!=0||i==g.qw){var iC=new ea(P.E.T);
iC.data={e:P.C.Ye,ov:ap.ys.h2};q.K(iC)}}if(i==g.D3){var V=p.Je(),hV=fE.get([0,4]),bI=i1.w9.aq(p,hV+" ");
V.WR(hV+" "+(bI+1));V.Nl="pass";V.add.lsct=fX.eV;V.GZ=24;if(n.E7)V.WR(n.E7);if(n.kk!=null)V.add.lclr=n.kk;
var cb=p.Ch(),eo=H,f0=eo+(O?0:1),iE=p.h.slice(0);iE.splice(f0,0,cb,V);var W=new d4([6,20],this);W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[f0+1]};
p.Dc(W);this.NJ(W.data,p)}if(i==g.Qi||i==g.zS){var fC=i==g.Qi?n.source:p.p[0],cC,ik,gn=p.p.indexOf(fC)!=-1,g7=w|n.a2d,cY;
if(gn)cY=p.lR();else cY=p.GL(fC);cY.sort(function(W,iS){return W-iS});if(i==g.Qi){cC=n.target;ik=n.Kg>.5}else if(n.target!=null){cC=n.target;
ik=!0;p.rw=!0}else{var bv=n.df;ik=bv>1;if(bv==0){cC=p.h.length-1}if(bv==1){cC=cY[cY.length-1]+1;var B=p.GL(cC);
if(B.indexOf(fC)==-1)cC+=B.length-1}if(bv==2){cC=cY[0]-1;var B=p.GL(cC);if(B.indexOf(fC)==-1)cC-=B.length-1}if(bv==3){cC=0}if(cC<0||cC>p.h.length-1)return;
p.rw=!0}if(cY.indexOf(cC)!=-1&&!g7)return;var ah=p.h[cC],iE=[];if(g7)iE=p.h.slice(0);else for(var R=0;
R<p.h.length;R++)if(cY.indexOf(R)==-1)iE.push(p.h[R]);var a7=iE.indexOf(ah);if(i==g.Qi&&ah.z7()&&ah.add.lsct==fX.Ku&&n.Kg>.8)a7-=p.GL(cC).length-1;
var bB=[],bh=g7?p.JD(gn?null:fC):null;for(var R=0;R<cY.length;R++){var d2=a7+(ik?0:1)+R,z=g7?bh[R]:p.h[cY[R]];
iE.splice(d2,0,z);bB.push(d2)}var W=new d4(g7?[6,0]:[6,35],this);W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:bB};
p.Dc(W);this.NJ(W.data,p);var h2={classID:"move",null:j4.hZ("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:a7+(ik?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:g7}};
this.track({oK:"move",ga:h2})}if(i==g.qJ){if(n.gw){if(Z==null||!Z.z7())return;var s=p.root.io(H),hE=p.h.indexOf(s.anc),iE=p.h.slice(0);
iE.splice(H,1);iE.splice(hE,1);var aY=[];for(var R=hE;R<H-1;R++)aY.push(R);var W=new d4("Ungroup Layers",this);
W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:aY};p.Dc(W);this.NJ(W.data,p)}else{var V=p.Je(),cz=fE.get([0,4])+" ";
V.WR(cz+(i1.w9.aq(p,cz)+1));V.Nl="pass";if(n.E7)V.WR(n.E7);if(n.kk!=null)V.add.lclr=n.kk;V.add.lsct=p.p.length==1?fX.eV:fX.Ku;
V.GZ=24;var cb=p.Ch(),cY=p.lR();if(cY.length==0)return;cY.sort(function(W,iS){return W-iS});var iE=[];
for(var R=0;R<p.h.length;R++)if(cY.indexOf(R)==-1)iE.push(p.h[R]);var eo=p.p[p.p.length-1]-cY.length;
iE.splice(eo+1,0,cb);for(var R=0;R<cY.length;R++)iE.splice(eo+2+R,0,p.h[cY[R]]);iE.splice(eo+2+cY.length,0,V);
var W=new d4([6,9],this);W.data={e:g.V$,th:p.h.slice(0),Ro:iE,a4:p.p.slice(0),mh:[iE.indexOf(V)]};p.Dc(W);
this.NJ(W.data,p);var U={oK:"make",TB:!0};U.ga={classID:"Mk",null:j4.hZ("layerSection"),From:j4.hZ("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:V.getName()}}}};
this.track(U)}}if(i==g.Hc){if(p.p.length!=1)return;var aG=p.p[0],eh=w;if(p.h[aG].u1()==null&&!E.r(aj.Fj)){i=g.iy;
n.Hg=p.$?!eh?"RvlS":"HdSl":!eh?"RvlA":"HdAl"}else{i=g.EC;n.aoR=!0}}if(i==g.iy){if(p.p.length!=1)return;
var aG=p.p[0],V=p.h[aG];if(V.add.vmsk&&V.w==null)V.VA(p);var iz=V.u1();if(iz==null||n.aau){var W=new d4([6,21],this),d1=new g.JI,gj=n.Hg,b2=gj=="RvlS"||gj=="HdSl";
if(gj=="RvlS"||gj=="HdAl"||gj=="Trns")d1.color=0;if(b2){d1.channel=p.$.channel.slice(0);d1.rect=p.$.rect.clone();
if(gj=="HdSl")j.z3(d1.channel)}if(gj=="Trns"){d1.rect=V.rect.clone();d1.channel=j.U(V.rect.P());j.J2(V.buffer,d1.channel,3)}W.data={e:g.GY,Ci:[aG,iz,d1],Y_:b2?[p.$,null]:null};
p.Dc(W);this.NJ(W.data,p);p.h[aG].TL=1;this.track({oK:"make",ga:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gj}}}})}}else if(i==g.dw){var az=p.h[n.src],hd=p.h[n.Ow],W=new d4([6,21],this),gE=az.u1(),dy=hd.u1(),fZ=[n.src,gE,null,n.Ow,dy,gE];
if(w||d){var jt=gE.clone();if(w)fZ=[n.Ow,dy,jt];else fZ[5]=jt;if(d){j.z3(jt.channel);jt.color=255-jt.color}}W.data={e:g.GY,Ci:fZ};
p.Dc(W);this.NJ(W.data,p)}if(i==g.SM){if(p.p.length!=1)return;var aG=H,dc=p.h[aG].u1();if(dc!=null){var W=new d4([6,22],this);
W.data={e:g.GY,Ci:[H,dc,null]};p.Dc(W);this.NJ(W.data,p)}}if(i==g.aw){var dp=p.h.slice(0),bi=Z.clone(),bj=bi.u1();
j.qF(bj.YH(bi.rect),bi.rect,bi.buffer,bi.rect);i1.w9.Ki(p,bi);bi.aA();p.h[p.p[0]]=bi;var W=new d4([5,8],this);
W.data={e:g.V$,th:dp,Ro:p.h.slice(),a4:p.p.slice(0),mh:p.p.slice(0)};p.Dc(W);this.NJ(W.data,p)}if(i==g.Ha){if(p.p.length!=1)return;
var aG=p.p[0];if(p.h[aG].vr(p).w==null){var W=new d4([6,45],this);W.data={e:i,Y:aG,w:new g.JI};p.Dc(W);
this.NJ(W.data,p)}}if(i==g._3){if(p.p.length!=1)return;var aG=p.p[0];if(p.h[aG].vr(p).w!=null){var W=new d4([6,46],this);
W.data={e:i,Y:aG,w:p.h[aG].vr(p).w};p.Dc(W);this.NJ(W.data,p)}}if(i==g.ds){if(n.Y==null&&p.p.length!=1)return;
if(p.h[H].Sr()){var W=new d4([6,47],this),f_=JSON.stringify(p.h[H].add.SoLd),f9=JSON.parse(f_);delete f9.filterFX;
W.data={e:g.TK,QA:[{a3:H,U2:[f_,JSON.stringify(f9)],vc:[p.h[H].vr(p),null]}]};p.Dc(W);this.NJ(W.data,p)}}if(i==g.EC){if(p.p.length!=1)return;
if(Z.add.vmsk==null){var W=new d4([6,23],this),jp=p.Jy(),M=jp[1],jp=jp[0],d1,fq;if(n.aoR&&M.length!=0){var gx=jp[M[0]].add;
d1=gx.vmsk.clone();fq=gx.vogk}else{d1=new g.Xg;fq=[];d1.Q[1].all=n.a3h?0:1}W.data={e:i,Y:H,Jo:!0,w:d1,k4:JSON.stringify(fq),DL:null};
if(Z._m()){W.data.DL=JSON.stringify(iq.DL.default)}p.Dc(W);this.NJ(W.data,p)}}if(i==g.kd){var az=p.h[n.src],hd=p.h[n.Ow];
if(hd.add.vmsk)return;var W=new d4([6,23],this),gK=az.add.vmsk;W.data={Y:n.Ow,Jo:az._i,w:gK.clone(),k4:JSON.stringify(az.add.vogk),DL:az.add.vstk?JSON.stringify(az.add.vstk):null};
if(w){W.data.e=g.EC}else{W.data.e=i;W.data.src=n.src;W.data.Ow=n.Ow}p.Dc(W);this.NJ(W.data,p)}if(i==g.tO||i==g.m2){if(p.p.length!=1)return;
var V=p.h[H],gK=V.add.vmsk;if(gK!=null){var fH=i==g.m2,W=new d4(fH?[6,8]:[6,24],this);W.data={e:g.tO,Y:H,Jo:V._i,w:gK,k4:JSON.stringify(V.add.vogk),DL:V.add.vstk?JSON.stringify(V.add.vstk):null};
if(fH){W.data.y9=gK.u1(V.add.vstk)}p.Dc(W);this.NJ(W.data,p)}}if(i==g.Su){var W=new d4("Metadata",this);
W.data={e:i,lB:JSON.stringify(p.Sm),Id:JSON.stringify(n.Id)};p.Dc(W);this.NJ(W.data,p)}if(i==g.iO){var e3=n.Ow?n.Ow:p,dQ=e3.name,h9=n.k+".psd";
if(dQ==h9)return;var W=new d4([6,37],this);W.data={e:i,aqs:dQ,E7:h9};if(n.ajg!=!0)e3.Dc(W);this.NJ(W.data,e3)}if(i==g.wp&&n.df.endsWith("makeframes")){var ex=[],hh=n.df.startsWith("make");
for(var R=0;R<p.p.length;R++){var D=p.p[R],V=p.h[D],bx=V.getName(),b_=bx.startsWith("_a_");if(hh==b_||V.add.lsct==fX.ct)continue;
var f7=hh?"_a_"+bx:bx.slice(3);ex.push([D,bx,f7,V.add.lnsr,null])}var W=new d4([6,37],this);W.data={e:g.OI,sQ:ex};
p.Dc(W);this.NJ(W.data,p)}if(i==g.OI){var dQ=Z.getName(),h9=n.name.substring(0,255);if(dQ==h9)return;
var W=new d4([6,37],this);W.data={e:i,sQ:[[H,dQ,h9,Z.add.lnsr,null]]};p.Dc(W);this.NJ(W.data,p);this.track(j4._b("Nm",{t:"TEXT",v:h9}))}if(i==g.Bt){var bO=p.lR(),fj=[],dw=[];
for(var R=0;R<bO.length;R++){fj.push(p.h[bO[R]].add.lclr);dw.push(n.ahV)}var W=new d4([6,38],this);W.data={e:i,h:bO,ahc:fj,kk:dw};
p.Dc(W);this.NJ(W.data,p)}if(i==g.Ql){var W=p.history[p.yv];if(W!=null&&W.i==this&&W.data.e==i&&W.data.Y==n.jl&&W.data.Il.TA==n.km.TA)W.data.Il=n.km;
else{W=new d4("Mask Density / Feather",this);W.data={e:i,Y:n.jl,Br:p.h[n.jl].dU(n.km.TA),Il:n.km};p.Dc(W)}this.NJ(W.data,p)}if(i==g.QM){var hJ=JSON.stringify(n.k),dD=JSON.parse(hJ),W=p.history[p.yv];
if(W!=null&&W.i==this&&W.data.e==i&&W.data.B7==n.B7&&W.data.N$.join(",")==n.N$.join(",")){for(var R=0;
R<n.N$.length;R++)W.data.ff[R]=dD;if(W.data.ga&&dD.a5!=0)i1.w9.sd(dD.IH,W.data.ga.T.v,dD.a5-1)}else{W=new d4([11,6],this);
W.data={e:i,N$:n.N$,B7:n.B7,a1z:[],ff:[]};var hC=!1;for(var R=0;R<n.N$.length;R++){var D=n.N$[R],V=p.h[D],cl=n.B7?A.C5.zd(p,D):JSON.parse(JSON.stringify(V.add.vstk));
W.data.a1z.push(cl);W.data.ff.push(dD);if(JSON.stringify(cl)!=hJ)hC=!0}if(!hC)return;p.Dc(W);if(n.B7&&dD.a5>0){var h2=W.data.ga={classID:"setd",null:j4.hZ("contentLayer",!0),T:{t:"Objc",v:{}}},c_=["SoCo","GdFl","PtFl"][dD.a5-1];
i1.w9.sd(dD.IH,h2.T.v,dD.a5-1);this.track({oK:"set",ga:h2})}}if(n.B7&&dD.a5==3)p.J1(cU.Zb(dD.IH.Ptrn.v,T.bS));
if(!n.B7){var cE=dD.strokeStyleContent.v;if(cE.classID==iq.DL.LK[2])p.J1(cU.Zb(cE.Ptrn.v,T.bS))}this.NJ(W.data,p)}};
i1.w9.sd=function(n,q,p){var E=[iq.zo,iq.kb,iq.fi][p];if(q.classID==null)q.classID=["solidColorLayer","gradientLayer","patternLayer"][p];
for(var R=0;R<E.length;R++)if(n[E[R]])q[E[R]]=JSON.parse(JSON.stringify(n[E[R]]))};i1.w9.BQ=function(n){var q=new g.JI;
if(n.$!=null){q.color=0;q.channel=n.$.channel.slice(0);q.rect=n.$.rect.clone()}return q};i1.w9.K0=function(n,q,p,E){var T=E.v/p.v,i=E.o/p.o,H=E.v/2,Z=E.o/2,w=j.O.aS(E).W;
for(var R=0;R<n.h.length;R++){var d=n.h[R],O=d.add.SoLd;if(O==null||O.Idnt.v!=q)continue;if(T!=1||i!=1){var W=A.Z.ZA(O.nonAffineTransform),C=j.V.EY(W,E),a=new b$;
a.translate(-H,-Z);a.scale(T,i);a.translate(H,Z);var B=j.V.LT(C,j.V.fa(a)),$=w.slice(0);j.V.B(B,$);O.Trnf=A.Z.g8($);
O.nonAffineTransform=A.Z.g8($)}d.Ze(n)}n.M()};i1.w9.agV=function(n,q,p){q.color=255-q.color;j.z3(q.channel);
q.zK=!0;n.VA(p);p.M()};i1.w9.prototype.iP=function(n,q){var p=n.e,E=q.h[n.Y];q.l0=!0;if(p==g.Qy){q.add.lnk2.splice(q.add.lnk2.indexOf(n.AJ),1,n.WU);
i1.w9.K0(q,n.id,n.AJ.H5[1],n.WU.H5[1])}if(p==g.gd){E.add.SoLd.Impr.v.classID=n.Br;E.Ze(q)}if(p==g.M2){var T=JSON.parse(n.N$);
for(var R=0;R<T.length;R++)q.h[T[R]].Nl=n.WJ[R];q.M()}if(p==g.hH){var T=JSON.parse(n.N$);for(var R=0;
R<T.length;R++)q.h[T[R]].opacity=n.WJ[R];q.M()}if(p==g.dQ){var T=JSON.parse(n.N$);for(var R=0;R<T.length;
R++)if(q.h[T[R]].add.lsct!=fX.ct)q.h[T[R]].add.lspf=n.WJ[R]}if(p==g.lX){var i=n.Hu,H=n.alF;delete E.add[i[0]];
if(H[0]!="----")E.add[H[0]]=H[1]}if(p==g.C9){E.add.iOpa=n.WJ;q.M()}if(p==g.il){for(var R=0;R<n.N$.length;
R++){var Z=q.h[n.N$[R]];Z.c4(!Z.Fp())}q.M()}if(p==g._M){var w=E.u1();w.isEnabled=!w.isEnabled;E.VA(q);
q.M()}if(p==g.zG){var w=E.vr(q).w;w.isEnabled=!w.isEnabled;E.M();q.M()}if(p==g.WM){var w=E.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(E.y9){E.w=E.y9;E.y9=null}else E.w=null}else if(E.w){E.y9=E.w;
E.w=null}E.VA(q);q.M()}if(p==g.P2){E.PJ=!E.PJ;q.M()}if(p==g.Nr){E.add.lmfx.masterFXSwitch.v=!E.add.lmfx.masterFXSwitch.v;
E.wA.bZ=!0;q.M()}if(p==g.SB){E.add.SoLd.filterFX.v.enab.v=!E.add.SoLd.filterFX.v.enab.v;E.Is(q);q.M()}if(p==g.ke){var d=n.index,O=E.add.lmfx[iq.Da[d[0]]].v[d[1]].v;
O.enab.v=!O.enab.v;E.wA.bZ=!0;q.M()}if(p==g.AF){var W=q.h[n.IB],C=q.h[n.CR],a=n.ach,B=n.aap;if(a=="")delete W.add.lmfx;
else W.add.lmfx=JSON.parse(a);if(B=="")delete C.add.lmfx;else C.add.lmfx=JSON.parse(B);W.wA.bZ=!0;C.wA.bZ=!0;
q.M()}if(p==g.sn){var $=E.add.SoLd.filterFX.v.filterFXList.v[n.index].v;$.enab.v=!$.enab.v;E.Is(q);q.M()}if(p==g.po){E.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(n.ag2));
E.Is(q);q.M()}if(p==g.Tv){var w=E.u1();w.$g=!w.$g}if(p==g.re){var w=E.add.vmsk;w.$g=!w.$g}if(p==g.te){var I=n.Lq;
for(var R=0;R<I.length;R+=2){var x=I[R],Z=x>=0?q.h[x]:q.kA[-1-x];Z.add.vogk=JSON.parse(I[R+1]);j.k4.dA(Z.add.vogk,Z.add.vmsk);
if(x>=0)Z.VA(q)}q.M()}if(p==g.b4){E.add.artb=JSON.parse(n.arP);q.M();A.c8.nF(q,n)}if(p==g.QH){q.$=n.Nu;
q.v4=n.Lq.slice(0);q.z1=n.k1.slice(0);q.IJ=q.Ln=!0}if(p==g.jZ){E.fK=!E.fK}if(p==g.E8){var U=n.ajZ;for(var R=0;
R<U.length;R++)q.h[R].tS=U[R]}if(p==g.V$){if(n.a4)q.p=n.a4;if(n.Y_)q.$=n.Y_[0];q.LS=null;q.M();q.Kq(n.th);
A.c8.nF(q,n)}if(p==g.GY){for(var R=0;R<n.Ci.length;R+=3)i1.w9.Ki(q,q.h[n.Ci[R]],n.Ci[R+1]);if(n.Y_){var N=n.Y_[0];
if(N==null)delete q.$;else q.$=N}}if(p==g.Ha){E.vr(q).w=null;E.M();q.M()}if(p==g._3){E.vr(q).w=n.w;E.M();
q.M()}if(p==g.TK){i1.w9.iQ(q,n.QA,0)}if(p==g.EC){i1.w9.bt(q,E,!0)}if(p==g.kd){i1.w9.bt(q,q.h[n.Ow],n.w.isEnabled);
i1.w9.w2(q,q.h[n.src],n)}if(p==g.tO){if(n.y9)i1.w9.Ki(q,E,null);i1.w9.w2(q,E,n)}if(p==g.Su){q.Sm=JSON.parse(n.lB)}if(p==g.iO){q.name=n.aqs}if(p==g.OI){for(var R=0;
R<n.sQ.length;R++){var m=n.sQ[R],Z=q.h[m[0]];Z.WR(m[1]);if(m[3])Z.add.lnsr=m[3];else delete Z.add.lnsr}}if(p==g.Bt){for(var R=0;
R<n.h.length;R++)q.h[n.h[R]].add.lclr=n.ahc[R]}if(p==g.QM){var f=n.a1z;for(var R=0;R<n.N$.length;R++){var Z=q.h[n.N$[R]],c=f[R];
if(!n.B7)Z.add.vstk=JSON.parse(JSON.stringify(c));else A.C5.GI(Z,JSON.parse(JSON.stringify(c)));Z.$k(q)}q.M()}if(p==g.Ql){E.to(n.Br);
E.VA(q);q.M()}q.Ln=!0};i1.w9.prototype.NJ=function(n,q){var p=n.e,E=q.h[n.Y];q.l0=!0;if(p==g.Qy){q.add.lnk2.splice(q.add.lnk2.indexOf(n.WU),1,n.AJ);
i1.w9.K0(q,n.id,n.WU.H5[1],n.AJ.H5[1])}if(p==g.gd){E.add.SoLd.Impr.v.classID=n.Il;E.Ze(q)}if(p==g.M2){var T=JSON.parse(n.N$);
for(var R=0;R<T.length;R++)q.h[T[R]].Nl=n.Il;q.M()}if(p==g.hH){var T=JSON.parse(n.N$);for(var R=0;R<T.length;
R++)q.h[T[R]].opacity=n.Il;q.M()}if(p==g.dQ){var T=JSON.parse(n.N$);for(var R=0;R<T.length;R++)if(q.h[T[R]].add.lsct!=fX.ct)q.h[T[R]].add.lspf=n.Il[R]}if(p==g.lX){var i=n.alF,H=n.Hu;
delete E.add[i[0]];if(H[0]!="----")E.add[H[0]]=H[1]}if(p==g.C9){E.add.iOpa=n.Il;q.M()}if(p==g.il){for(var R=0;
R<n.N$.length;R++){var Z=q.h[n.N$[R]];Z.c4(!Z.Fp())}q.M()}if(p==g._M){var w=E.u1();w.isEnabled=!w.isEnabled;
E.VA(q);q.M()}if(p==g.zG){var w=E.vr(q).w;w.isEnabled=!w.isEnabled;E.M();q.M()}if(p==g.WM){var w=E.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(E.y9){E.w=E.y9;E.y9=null}else E.w=null}else if(E.w){E.y9=E.w;
E.w=null}E.VA(q);q.M()}if(p==g.P2){E.PJ=!E.PJ;q.M()}if(p==g.Nr){E.add.lmfx.masterFXSwitch.v=!E.add.lmfx.masterFXSwitch.v;
E.wA.bZ=!0;q.M()}if(p==g.SB){E.add.SoLd.filterFX.v.enab.v=!E.add.SoLd.filterFX.v.enab.v;E.Is(q);q.M()}if(p==g.ke){var d=n.index,O=E.add.lmfx[iq.Da[d[0]]].v[d[1]].v;
O.enab.v=!O.enab.v;E.wA.bZ=!0;q.M()}if(p==g.AF){var W=q.h[n.IB],C=q.h[n.CR],a=n.a3c,B=n.acs;if(a=="")delete W.add.lmfx;
else W.add.lmfx=JSON.parse(a);if(B=="")delete C.add.lmfx;else C.add.lmfx=JSON.parse(B);W.wA.bZ=!0;C.wA.bZ=!0;
q.M()}if(p==g.sn){var $=E.add.SoLd.filterFX.v.filterFXList.v[n.index].v;$.enab.v=!$.enab.v;E.Is(q);q.M()}if(p==g.po){E.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(n.asH));
E.Is(q);q.M()}if(p==g.Tv){var w=E.u1();w.$g=!w.$g}if(p==g.re){var w=E.add.vmsk;w.$g=!w.$g}if(p==g.te){var I=n.Q4;
for(var R=0;R<I.length;R+=2){var x=I[R],Z=x>=0?q.h[x]:q.kA[-1-x];Z.add.vogk=JSON.parse(I[R+1]);j.k4.dA(Z.add.vogk,Z.add.vmsk);
if(x>=0)Z.VA(q)}q.M()}if(p==g.b4){E.add.artb=JSON.parse(n.qT);q.M();A.c8.Hq(q,n)}if(p==g.QH){q.$=n.ii;
q.v4=n.Q4.slice(0);q.z1=n.UN.slice(0);q.IJ=q.Ln=!0}if(p==g.jZ){E.fK=!E.fK}if(p==g.E8){var U=n.a1R;for(var R=0;
R<U.length;R++)q.h[R].tS=U[R]}if(p==g.V$){var N=n.Ro,m=0,f;for(var R=0;R<N.length;R++){var Z=N[R],c=Z.add.lsct;
if(c==fX.ct)m++;else if(c==fX.eV||c==fX.Ku)m--;if(Z.add.artb&&m!=0)f="Artboards can not be inside folders."}if(f){q.history.pop();
q.yv--;alert(f);return}A.c8.Hq(q,n);if(n.mh)q.p=n.mh;if(n.Y_)q.$=n.Y_[1];q.LS=null;q.M();q.Kq(n.Ro)}if(p==g.GY){for(var R=0;
R<n.Ci.length;R+=3)i1.w9.Ki(q,q.h[n.Ci[R]],n.Ci[R+2]);if(n.Y_){var D=n.Y_[1];if(D==null)delete q.$;else q.$=D}}if(p==g.Ha){E.vr(q).w=n.w;
E.TL=0;E.M();q.M()}if(p==g._3){E.vr(q).w=null;E.TL=0;E.M();q.M()}if(p==g.TK){i1.w9.iQ(q,n.QA,1)}if(p==g.EC){i1.w9.w2(q,E,n)}if(p==g.kd){i1.w9.bt(q,q.h[n.src],n.w.isEnabled);
i1.w9.w2(q,q.h[n.Ow],n)}if(p==g.tO){i1.w9.bt(q,E,n.w.isEnabled);if(n.y9)i1.w9.Ki(q,E,n.y9)}if(p==g.Su){q.Sm=JSON.parse(n.Id)}if(p==g.iO){q.name=n.E7}if(p==g.OI){for(var R=0;
R<n.sQ.length;R++){var z=n.sQ[R],Z=q.h[z[0]];Z.WR(z[2]);if(z[4])Z.add.lnsr=z[4];else delete Z.add.lnsr}}if(p==g.Bt){for(var R=0;
R<n.h.length;R++)q.h[n.h[R]].add.lclr=n.kk[R]}if(p==g.QM){var _=n.ff;for(var R=0;R<n.N$.length;R++){var Z=q.h[n.N$[R]],v=_[R];
if(!n.B7)Z.add.vstk=JSON.parse(JSON.stringify(v));else A.C5.GI(Z,JSON.parse(JSON.stringify(v)));Z.$k(q)}q.M()}if(p==g.Ql){E.to(n.Il);
E.VA(q);q.M()}q.Ln=!0};i1.w9.aq=function(n,q){var p=0;for(var R=0;R<n.h.length;R++){var E=n.h[R].getName();
if(E.startsWith(q)){var T=E.slice(q.length).trim(),i=parseInt(T);if(!isNaN(i)&&i+""==T)p=i}}return p};
i1.w9.iQ=function(n,q,p){for(var R=0;R<q.length;R++){var E=q[R],T=n.h[E.a3];if(E.U2){T.add.SoLd=JSON.parse(E.U2[p])}if(E.vc){if(E.vc[1-p]!=null)n.iT(E.vc[1-p]);
if(E.vc[p]!=null)n.O8(E.vc[p]);else T.TL=0}T.Ze(n)}};i1.w9.FL=function(n,q){var p=n.dC,E=n.rect.clone();
if(p!=null&&(p.x!=q.v||p.y!=q.o)){E.x=Math.floor((q.v-E.v)/2);E.y=Math.floor((q.o-E.o)/2)}return E};
i1.w9.alb=function(n,q){if(q.y9)q.y9=null;else q.w=null;q.VA(n);n.M();q.TL=0};i1.w9.Ki=function(n,q,p){var E=q.u1();
if(E==null&&p==null)return;if(E)i1.w9.alb(n,q);if(p==null)return;if(q.w)q.y9=p;else q.w=p;q.VA(n);n.M()};
i1.w9.bt=function(n,q,p){if(q.y9&&p){q.w=q.y9;q.y9=null}else if(q.w&&p){q.w=null}delete q.add.vogk;delete q.add.vstk;
delete q.add.vmsk;q.VA(n);q._i=!1;n.LS=[];n.M()};i1.w9.w2=function(n,q,p){q.add.vogk=JSON.parse(p.k4);
if(p.DL)q.add.vstk=JSON.parse(p.DL);else delete q.add.vstk;q.add.vmsk=p.w.clone();if(q.w&&q.add.vmsk.isEnabled)q.y9=q.w;
q.VA(n);q._i=p.Jo;n.LS=[n.h.indexOf(q)];n.Dm=[];n.M()};i1.Iv=function(){i1.vx.call(this,A.FC);this.pX=null;
this.Ke=null;this.Eo=null;this.FT=[];this.$S=null};i1.Iv.prototype=new i1.vx;i1.Iv.prototype.JZ=function(n,q,p,E,T){var i=n.Y;
if(i==null)i=p.p[0];var H=p.h[i],Z=n.ap;if(this.pX==null){this.Eo=i1.Iv.Pd(p,H);this.pX=JSON.stringify(this.Eo);
if(H.add.lmfx)this.Ke=JSON.stringify(H.add.lmfx)}if(H.add.lmfx==null){H.add.lmfx=JSON.parse(iq.default);
for(var R=0;R<iq.order.length;R++)H.add.lmfx[iq.Da[R]]={t:"VlLs",v:[]}}if(n.e=="scaleeffects"){if(n.k=="confirm"||n.k=="cancel"){this.JZ({e:n.k},q,p,E,T);
return}H.add.lmfx=JSON.parse(this.Ke);cU.Rb(H.add.lmfx,n.k/100)}else if(n.e=="changeprop"){var w=null;
if(Z!=0){var d=this.FT[Z[0]];if(d==null)d=iq.FT[Z[0]];d=JSON.parse(d);var O=H.add.lmfx[iq.Da[Z[0]]].v;
if(O[Z[1]]==null)O[Z[1]]={t:"Objc",v:d};w=O[Z[1]].v;for(var W in d)if(w[W]==null)w[W]=d[W]}if(n.e=="changeprop"){if(Z==0){this.Eo[n.fj].v=n.k;
i1.Iv.bd(p,H,this.Eo)}else if(n.fj=="lagl"){if(w.uglg&&w.uglg.v){p.aK(n.k.val);this.Eo.af0=p.E5()}else w[n.fj].v=n.k}else if(n.fj=="Lald"){if(w.uglg.v){p.Ti(n.k.val);
this.Eo.agI=p.j4()}else w[n.fj].v=n.k}else if((Z[0]==3||Z[0]==8)&&(n.fj=="Clr"||n.fj=="Grad")){if(n.fj=="Clr"){w.Clr={t:"Objc",v:n.k};
delete w.Grad}if(n.fj=="Grad"){w.Grad={t:"Objc",v:n.k};delete w.Clr}}else{w[n.fj].v=n.k}if(Z!=0)this.FT[Z[0]]=JSON.stringify(w)}if(Z!=0)if(w.Ptrn)p.J1(cU.Zb(w.Ptrn.v,T.bS))}else if(n.e=="setstl"){var C=n.k.Lefx;
if(C)cU.Ip(C,p,T.bS);cU.pD(n.k,H);this.Eo=i1.Iv.Pd(p,H)}else if(n.e=="st_dupsingle"){var a=H.add.lmfx[iq.Da[n.Eb[0]]].v;
if(a[n.Eb[1]]==null)return;var B=JSON.parse(JSON.stringify(a[n.Eb[1]]));a.splice(n.Eb[1],0,B)}else if(n.e=="st_movsingle"){var $=n.Eb[1],a=H.add.lmfx[iq.Da[n.Eb[0]]].v;
if(a[n.Eb[1]]==null)return;var I=Math.max(0,Math.min(a.length-1,$+n.amr)),x=a[I];a[I]=a[$];a[$]=x}else if(n.e=="cancel"){if(this.Ke==null)delete H.add.lmfx;
else H.add.lmfx=JSON.parse(this.Ke);i1.Iv.bd(p,H,JSON.parse(this.pX));this.pX=null;this.Ke=null}else if(n.e=="confirm"){var U=JSON.stringify(H.add.lmfx),N=new d4([11,6],this);
N.data={h:[i],lq:[this.Ke],RI:[U],gr:[this.pX],b7:[JSON.stringify(this.Eo)]};p.Dc(N);this.pX=null;this.Ke=null;
if(U!=null){var m=JSON.parse(U);dv.ep(m);m.classID="Lefx";delete m.masterFXSwitch;var f=new ea(P.E.Gi);
f.JC=!0;f.data={oK:"set",TB:!0};var c=j4.hZ("Lyr",!0);c.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
f.data.ga={__name:"Set",classID:"setd",null:c,T:{t:"Objc",v:m}};q.K(f)}}else if(n.e=="st_copy"){this.$S=[this.pX,this.Ke];
this.pX=null;this.Ke=null}else if(n.e=="st_paste"||n.e=="st_clear"){if(n.e=="st_paste"&&this.$S==null)return;
var D=n.Y!=null?[n.Y]:p.p.slice(0),z=[],_=[],v=[],o=[];for(var R=0;R<D.length;R++){var H=p.h[D[R]],y=i1.Iv.Pd(p,H);
z.push(H.add.lmfx?JSON.stringify(H.add.lmfx):null);v.push(JSON.stringify(y));if(n.e=="st_paste"){_.push(this.$S[1]);
o.push(this.$S[0])}else{_.push(null);y.lrMd.v=0;y.Opct.v.val=100;y.iOpa.v.val=100;y.blIf={v:[]};for(var k=0;
k<10;k++)y.blIf.v.push(0,0,255,255);o.push(JSON.stringify(y))}}var N=new d4([11,6],this);N.data={h:D,lq:z,RI:_,gr:v,b7:o};
this.NJ(N.data,p);p.Dc(N);this.pX=null;this.Ke=null}else{var S=this.Eo,m=null;if(n.e=="st_delsingle"){m=JSON.parse(this.Ke);
m[iq.Da[n.Eb[0]]].v.splice(n.Eb[1],1);m=JSON.stringify(m)}if(m==null)delete H.add.lmfx;else H.add.lmfx=JSON.parse(m);
if(S!=null)i1.Iv.bd(p,H,S);var N=new d4([11,6],this);N.data={h:[n.Y],lq:[this.Ke],RI:[m],gr:[this.pX],b7:[JSON.stringify(S)]};
p.Dc(N);this.pX=null;this.Ke=null}H.wA.bZ=!0;p.l0=!0;p.M()};i1.Iv.Pd=function(n,q){if(q.add.iOpa==null)q.add.iOpa=255;
if(q.add.brst==null)q.add.brst=[1,1,1];var p=q.z7()?["pass"].concat(d3.hd):d3.hd;return{lrMd:{v:p.indexOf(q.Nl)},Opct:{v:{type:"#Prc",val:Math.round(q.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(q.add.iOpa*100/255)},t:"UntF"},blIf:{v:q.tA.slice(0)},brst:{v:q.add.brst},af0:n.E5(),agI:n.j4(),z7:q.z7()}};
i1.Iv.bd=function(n,q,p){var E=q.z7()?["pass"].concat(d3.hd):d3.hd;q.Nl=E[p.lrMd.v];q.opacity=Math.round(p.Opct.v.val*255/100);
q.add.iOpa=Math.round(p.iOpa.v.val*255/100);q.tA=p.blIf.v.slice(0);q.add.brst=p.brst.v.slice(0);n.aK(p.af0);
n.Ti(p.agI)};i1.Iv.prototype.iP=function(n,q){for(var R=0;R<n.h.length;R++){var p=q.h[n.h[R]],E=n.lq[R];
if(E==null)delete p.add.lmfx;else p.add.lmfx=JSON.parse(E);i1.Iv.bd(q,p,JSON.parse(n.gr[R]));p.wA.bZ=!0}q.l0=!0;
q.M()};i1.Iv.prototype.NJ=function(n,q){for(var R=0;R<n.h.length;R++){var p=q.h[n.h[R]],E=n.RI[R];if(E==null)delete p.add.lmfx;
else p.add.lmfx=JSON.parse(E);i1.Iv.bd(q,p,JSON.parse(n.b7[R]));p.wA.bZ=!0}q.l0=!0;q.M()};i1.ZW=function(){i1.vx.call(this,A._h)};
i1.ZW.prototype=new i1.vx;i1.ZW.prototype.JZ=function(n,q,p,E){var T=JSON.parse(JSON.stringify(p.ev)),i=JSON.parse(JSON.stringify(p.ev)),H=null,Z=null,w=null,d=-1,O=!1;
if(n.e=="delLC"){var W=i1.ZW.ZB(p.ev,n.ap),C=p.ev.lastAppliedComp?p.ev.lastAppliedComp.v:0;i.list.v.splice(W,1);
if(C==n.ap)delete i.lastAppliedComp;H="Delete Layer Comp"}if(n.e=="editLC"){var W=i1.ZW.ZB(p.ev,n.ap),a=i.list.v[W].v;
if(n.E7!=null)a.Nm.v=n.E7;if(n.aiF!=null){var B=n.aiF,$=a.capturedInfo.v,I=$&(1<<B)-1;$=$>>B;if(($&1)==1)$--;
else $++;a.capturedInfo.v=($<<B)+I}H="Layer Comp properties"}if(n.e=="setLC"){i1.ZW.XY(p);if(n.ap==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:n.ap};H="Switch Layer Comp";O=!0}if(n.e=="updLC"){i1.ZW.XY(p);Z=i1.ZW.ank(p,n.ap);
w=i1.ZW.SW(p,n.ap);i.lastAppliedComp={t:"long",v:n.ap};H="Update Layer Comp";d=n.ap;O=!0}if(n.e=="addLC"){i1.ZW.XY(p);
var x=1;for(var R=0;R<i.list.v.length;R++)x=Math.max(x,i.list.v[R].v.compID.v)+1;x+=Math.floor(Math.random()*1e4);
var U={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:x},capturedInfo:{t:"long",v:7}}};
i.list.v.push(U);i.lastAppliedComp={t:"long",v:x};H="New Layer Comp";var N=i1.ZW.SW(p,x);i1.ZW.ar(p,N,x)}var m=new d4(H,this);
m.data={abZ:T,aj8:i,a6u:Z,agd:w,ap:d,E6:O};this.NJ(m.data,p);p.Dc(m)};i1.ZW.prototype.NJ=function(n,q){q.ev=n.aj8;
q.l0=!0;if(n.agd)i1.ZW.ar(q,n.agd,n.ap);if(n.E6){var p=q.ev.lastAppliedComp?q.ev.lastAppliedComp.v:0,E=i1.ZW.ZB(q.ev,p),T=E==-1?null:q.ev.list.v[E].v,i=T?T.capturedInfo.v:7;
i1.ZW.u_(q,p,i);q.M()}};i1.ZW.prototype.iP=function(n,q){q.ev=n.abZ;q.l0=!0;if(n.a6u)i1.ZW.ar(q,n.a6u,n.ap);
if(n.E6){var p=q.ev.lastAppliedComp?q.ev.lastAppliedComp.v:0,E=i1.ZW.ZB(q.ev,p),T=E==-1?null:q.ev.list.v[E].v,i=T?T.capturedInfo.v:7;
i1.ZW.u_(q,p,i);q.M()}};i1.ZW.XY=function(n){if(n.ev.lastAppliedComp!=null||!n.h3)return;var q=i1.ZW.SW(n,0);
i1.ZW.ar(n,q,0);n.h3=!1};i1.ZW.M3=function(n,q,p){n.v.Hrzn.v+=q;n.v.Vrtc.v+=p};i1.ZW.ZB=function(n,q){var p=n.list.v;
for(var R=0;R<p.length;R++)if(p[R].v.compID.v==q)return R;return-1};i1.ZW.agO=function(n){var q=n.layerSettings.v,T=null;
if(q.length==0)return;var p="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),E=q[0].v;
if(E.enab==null)E.enab={t:"bool",v:!0};if(E.Ofst==null)E.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var R=0;R<q.length;R++){var i=q[R].v;if(T==null)T=JSON.parse(JSON.stringify(i));else for(var H=0;
H<p.length;H++){var Z=p[H];if(i[Z])T[Z]=JSON.parse(JSON.stringify(i[Z]))}q[R].v=JSON.parse(JSON.stringify(T))}};
i1.ZW.HS=function(n,q){var p=n.add.shmd.cmls,E=p.layerSettings.v;for(var T=0;T<E.length;T++){var i=E[T].v,H=i.compList.v[0].v;
if(H==q)return T}return-1};i1.ZW.YE=function(n,q){var p=i1.ZW.HS(n,q);return p==-1?null:n.add.shmd.cmls.layerSettings.v[p].v};
i1.ZW.u_=function(n,q,p){for(var R=0;R<n.h.length;R++){var E=n.h[R],T=E.add.shmd.cmls;if(T==null)continue;
var i=T.layerSettings.v,H=i1.ZW.YE(E,q);if(H==null){E.c4(!1);continue}if((p&1)!=0){if(H.enab)E.c4(H.enab.v);
else E.c4(!0)}if((p&2)!=0){if(H.Ofst){var Z=H.Ofst.v,w=E.XT(n),d=Math.round(Z.Hrzn.v-w.x),O=Math.round(Z.Vrtc.v-w.y);
if(d!=0||O!=0)A.Wh.ZM(n,[R],null,d,O)}}if((p&4)!=0){if(H.Lefx){var W=JSON.parse(JSON.stringify(H.Lefx.v));
dv.f1(W);if(JSON.stringify(W)!=JSON.stringify(E.add.lmfx)){E.add.lmfx=W;E.wA.bZ=!0}}else delete E.add.lmfx;
if(H.blendOptions){var C=H.blendOptions.v;if(C.Opct)E.opacity=Math.round(255*C.Opct.v.val/100);if(C.fillOpacity)E.add.iOpa=Math.round(255*C.fillOpacity.v.val/100);
if(C.Md)E.Nl=E.add.lsct==fX.ct?"norm":d3.JM(C.Md.v.BlnM)}else{E.opacity=255;E.Nl=E.z7()?"pass":"norm";
E.add.iOpa=255}}}};i1.ZW.ank=function(n,q){var p={};for(var R=0;R<n.h.length;R++){var E=n.h[R];if(E.add.shmd==null||E.add.shmd.cmls==null)continue;
p["l"+E.add.lyid]=JSON.parse(JSON.stringify(i1.ZW.YE(E,q)))}return p};i1.ZW.SW=function(n,q){var p={};
for(var R=0;R<n.h.length;R++){var E=n.h[R],T=E.add.lyid;p["l"+T]=i1.ZW._r(n,E,q)}return p};i1.ZW._r=function(n,q,p){var E=q.add.shmd?q.add.shmd.cmls:null,T={classID:"null"},i=q.XT(n),H={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
T.compList={t:"VlLs",v:[{t:"long",v:p}]};T.enab={t:"bool",v:q.Fp()};T.Ofst=JSON.parse(JSON.stringify(H));
T.FXRefPoint=JSON.parse(JSON.stringify(E&&E.origFXRefPoint?E.origFXRefPoint:H));T.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:d3.g6(q.Nl)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*q.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:q.add.iOpa!=null?100*q.add.iOpa/255:100}}}};
if(q.add.vmsk){T.vectorMask={t:"Objc",v:{classID:"null"}};T.vectorMask.v.Ofst=JSON.parse(JSON.stringify(H))}if(q.add.lmfx){T.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(q.add.lmfx))};
dv.ep(T.Lefx.v)}return T};i1.ZW.adc=function(n,q){var p=q.add.lyid;if(q.add.shmd==null)q.add.shmd={};
if(q.add.shmd.cmls==null){q.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:p},layerSettings:{t:"VlLs",v:[{t:"Objc",v:i1.ZW._r(n,q,0)}]}}}};
i1.ZW.ar=function(n,q,p){for(var R=0;R<n.h.length;R++){var E=n.h[R],T=E.add.lyid;i1.ZW.adc(n,E);var i=E.add.shmd.cmls,H=i.layerSettings.v,Z=q["l"+T];
if(Z!=null)Z={t:"Objc",v:JSON.parse(JSON.stringify(Z))};var w=i1.ZW.HS(E,p);if(w==-1){if(Z==null)continue;
else H.push(Z)}else{if(Z==null)H.splice(w,1);else H[w]=Z}}};i1.ZW.oq=function(n,q){for(var R=0;R<n.h.length;
R++){var p=n.h[R],E=p.add.lyid;if(p.add.shmd==null||p.add.shmd.cmls==null)continue;var T=p.XT(n),i=Math.round(T.x),H=Math.round(T.y);
if(!q){i=-i;H=-H}var Z=p.add.shmd.cmls,w=Z.layerSettings.v;if(Z.origFXRefPoint)i1.ZW.M3(Z.origFXRefPoint,-i,-H);
for(var d=0;d<w.length;d++){var O=w[d].v;i1.ZW.M3(O.Ofst,i,H);var W=O.imageMask,C=O.vectorMask;if(W&&W.v.Ofst)i1.ZW.M3(W.v.Ofst,i,H);
if(C&&C.v.Ofst)i1.ZW.M3(C.v.Ofst,i,H)}}};i1.P4=function(){i1.vx.call(this,A.C7);this.Id=null;this.t9=null};
i1.P4.prototype=new i1.vx;i1.P4.nS=function(n,q,p,E){if(E)q/=4;var T=0,i=0,H=255,Z=0,w=0,d=255;while(i+n[T]<q){i+=n[T];
T++}while(Z+n[H]<q){Z+=n[H];H--}if(E){T-=Math.round(n[T]/(p/32));H+=Math.round(n[H]/(p/32));if(T<0)w=Math.round(-T*255/(H-T));
if(H>255)d=255-Math.round((H-255)*255/(H-T))}return[Math.max(T,0),Math.min(H,255),w,d,100]};i1.P4.prototype.JZ=function(n,q,p,E,T){var i=n.e;
if(i=="auto"){var H=n.Lt,Z=i1.P4.getData(p);for(var R=0;R<Z.length;R++){var w=Z[R],d;if(H<3){}else{var O=fU.yQ("hue2");
je.RR(O,0,[0,-100,0]);d=iJ.cI("hue2",O)}iJ._g(d,w.hc,w.Kj,w.n7)}i1.P4.KT(p,Z);i1.P4.nu(p,Z,H<3?[4,16,H]:[19,7,0],this);
p.M()}if(i=="edit_layer")this.a5F(n,q,p,E);if(i=="edit"||i=="confirm"||i=="cancel")this.LH(n,q,p,T,!0);
if(i=="start"){if(p.p.length==0)return;var W=p.h[p.p[0]];if(W.add.SoLd&&W.TL<=0&&p.z1.length==0){var C=new ea(P.E.u,!0);
C.i=A.Yo;C.data={e:"start",nd:n.WX,Gm:n.Gm};q.K(C);return}if(!p.bv(q,null,!0))return;if(r[n.WX]&&n.Gm==null){if(p.p.length!=1)alert("Will be applied to "+p.p.length+" layers.");
var C=new ea(P.E.T,!0);C.data={e:P.C.Lr,ov:"afw_"+n.WX};q.K(C)}else{this.LH({e:"edit",Gm:n.Gm,nd:n.WX},q,p,T);
this.LH({e:"confirm",nd:n.WX},q,p,T)}}};i1.P4.prototype.a5F=function(n,q,p,E){var T=n.e,i=p.p[0],H=p.h[i],Z=iJ.get(H.add),w=JSON.parse(JSON.stringify(n.k)),W;
for(var d in iJ.Sz)if(iJ.Sz[d]==Z)w.classID=d;var O=p.history[p.yv];if(O&&O.i==this&&O.data.Br!=null&&O.data.Y==i)W=O;
else{var C=new ea(P.E.Gi,!0),a={classID:"setd",null:j4.hZ("AdjL",!0),T:{t:"Objc",v:w}};C.data={TB:!0,oK:"set",ga:a};
q.K(C);var W=new d4([6,39],this);W.data={Y:i,Br:H.add[Z],Il:n.k,_I:a};p.Dc(W)}W.data.Il=n.k;W.data._I.T.v=w;
this.NJ(W.data,p)};i1.P4.getData=function(n,q,p){var E=[],T=new eL(0,0,n.v,n.o),i=n.z1.length!=0?[-1-n.z1[0]]:n.p;
for(var R=0;R<i.length;R++){var H=i[R],Z=H<0?null:n.h[H],w={Y:H,kn:H<0?1:Z.TL};E.push(w);var d=n.v4[-1-H];
if(0<=H)d=Z.TL<=0?null:Z.TL==1?Z.u1():Z.vr(n).w;var O=d?d.rect:Z.rect;if(n.$)w.n7=d!=null?n.$.rect.O1(T):n.$.rect.O1(O);
else w.n7=q||d!=null?O.AL(T):O.clone();if(p)w.n7=p[R].n7.clone();var W=w.n7.P();w.hc=j.U(W*4);if(d)A.o8.BL(d.channel,d.rect,d.color,w.hc,w.n7);
else j.hk(Z.buffer,O,w.hc,w.n7);w.Kj=w.hc.slice(0);if(n.$){w.Ci=j.U(W);j.cg(n.$.channel,n.$.rect,w.Ci,w.n7)}}return E};
i1.P4.arG=function(n,q,p){if(q==null)return q;var E=iJ.ig(n,q),i;if(E==-1)return q;var T=p.length>>>2,H=j.Lj(p),Z=.001*T;
if(E==0||E==2)i=[[0,255,0,255,100],i1.P4.nS(H[1],Z,T,E==2),i1.P4.nS(H[2],Z,T,E==2),i1.P4.nS(H[3],Z,T,E==2)];
if(E==1)i=[i1.P4.nS(H[0],Z*.33,T,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var w=fU.yQ("levl");
for(var R=0;R<4;R++)fk.RR(w,R,i[R]);return w};i1.P4.prototype.LH=function(n,q,p,E){if(this.Id==null){if(n.nd=="aply")p.h[p.p[0]].extend(new eL(0,0,p.v,p.o));
this.Id=i1.P4.getData(p,null,n.nd=="fade"?p.ft().data:null);if(n.nd=="aply")this.Id[0].Xt=p.Zk()}if(n.e=="edit"){this.t9=[n.nd,n.Gm];
var T=this.Id[0],i=i1.P4.arG(n.nd,n.Gm,T.hc),H=iJ.cI(n.nd,i);if(n.nd=="fade"||n.nd=="aply")H=n.Gm;if(H!=null){for(var R=0;
R<this.Id.length;R++){var Z=this.Id[R];if(n.Hb)j.Sa(Z.hc,Z.Kj);else if(n.nd=="fade"){var w=d3.JM(n.Gm.Md.v.BlnM),d=n.Gm.Opct.v.val/100,O=p.ft().data[R];
j.Sa(O.hc,Z.Kj);if(w=="norm")j.a.ZH(Z.hc,Z.n7,Z.Kj,Z.n7,null,null,null,Z.n7,d);else{var W=cU.k0();W.fC=!0;
for(var R=0;R<O.hc.length;R+=4)if(O.hc[R+3]!=Z.hc[R+3]){W=null;break}j.a.Ef(w,Z.hc,Z.n7,Z.Kj,Z.n7,Z.n7,d,W)}}else if(n.nd=="aply"){H=H.With.v;
var C=H.T.v,a,B;if(C[1].t=="name"){var $=0;for(var I=0;I<p.h.length;I++)if(p.h[I].getName()==C[1].v.val)$=I;
if($==Z.Y){a=Z.hc;B=Z.n7}else{var x=p.h[$];a=x.buffer;B=x.rect}}else{B=new eL(0,0,p.v,p.o);a=Z.Xt}var U=H.Clcl?H.Clcl.v.Clcn:null,w=U?d3.JM(U):"norm",d=H.Opct?H.Opct.v.val/100:1,N=["RGB","Rd","Grn","Bl","Trsp"].indexOf(C[0].v.enum),i=H.Invr&&H.Invr.v;
if(i||N!=0){a=a.slice(0);if(i)j.a4Z(a);if(N!=0){var m=j.U(B.P());j.J2(a,m,N-1);if(N==4)j.z3(m);for(var I=0;
I<3;I++)j.yI(m,a,I)}}if(U=="Add"||U=="Sbtr"){var f=1/H.Scl.v,c=H.Ofst.v,D=U=="Add"?1:-1,z=new Uint8ClampedArray(Z.Kj.buffer);
for(var R=0;R<a.length;R+=4){z[R]=(Z.hc[R]+D*a[R])*f+c;z[R+1]=(Z.hc[R+1]+D*a[R+1])*f+c;z[R+2]=(Z.hc[R+2]+D*a[R+2])*f+c}}else{var W=cU.k0();
W.fC=H.PrsT&&H.PrsT.v;Z.Kj.fill(0);Z.Kj.set(Z.hc);j.a.Ef(w,a,B,Z.Kj,Z.n7,Z.n7,d,W)}}else iJ._g(H,Z.hc,Z.Kj,Z.n7)}i1.P4.KT(p,this.Id)}}if(n.e=="cancel"){i1.P4.OB(p,this.Id);
this.Id=null}if(n.e=="confirm"){var _=n.nd=="fade"?[2,11]:n.nd=="aply"?[2,12]:iJ.names[n.nd],v=iJ.ig(n.nd,this.t9[1]);
if(v!=-1)_=[4,16,v];i1.P4.nu(p,this.Id,_,this);this.Id=null;if(v==-1)i1.P4.qV(q,this.t9)}p.M()};i1.P4.qV=function(n,q){var p=q[0],E=q[1],T,i;
if(iJ.Wg[p]){T=iJ.Wg[p];if(r[p])i=E}if(fU.Wg[p]){T=fU.Wg[p];if(r[p])i=E}if(p=="fade"){T="fade";i=E}if(p=="aply"){T="applyImageEvent";
i=E}if(T==null)return;var H=new ea(P.E.Gi,!0);H.data={TB:!0,oK:T};if(i){i=JSON.parse(JSON.stringify(i));
i.classID="null";delete i.__name;H.data.ga=i}n.K(H)};i1.P4.OB=function(n,q){i1.P4.z8(n,q)};i1.P4.nu=function(n,q,p,E){for(var R=0;
R<q.length;R++){var T=q[R],i=n.h[T.Y],H=T.Y<0?n.v4[-1-T.Y]:T.kn<=0?null:T.kn==1?i.u1():i.vr(n).w;if(H){H.aA();
H.zK=!0;if(i)i.VA(n)}else{i.aA();i.M()}delete T.Kj;delete T.Ci}var Z=new d4(p,E);Z.data=q;n.Dc(Z);n.l0=!0};
i1.P4.KT=function(n,q,p){for(var R=0;R<q.length;R++){var E=q[R],T=n.h[E.Y],i=p?E.hc:E.Kj,H=E.n7;if(E.kn==0){T.extend(H);
if(E.Ci){j.hk(E.hc,H,T.buffer,T.rect);j.a.ZH(i,H,T.buffer,T.rect,E.Ci,H,0,H,1)}else j.hk(i,H,T.buffer,T.rect)}else{var Z=E.Y<0?n.v4[-1-E.Y]:E.kn==1?T.u1():T.vr(n).w;
Z.extend(H);if(E.Ci){var w=j.U(H.P()*4);j.Sa(E.hc,w);j.a.ZH(i,H,w,H,E.Ci,H,0,H,1);A.o8._L(w,H,Z)}else A.o8._L(i,H,Z);
Z.zK=!0;if(T)T.VA(n)}if(T)T.M()}if(!p)i1.P4.pV(n,q)};i1.P4.z8=function(n,q){for(var R=0;R<q.length;R++){var p=q[R],E=n.h[p.Y],T=p.n7,i=j.U(T.P()*4);
if(p.kn==0){j.hk(E.buffer,E.rect,i,T);E.extend(T);j.hk(p.hc,T,E.buffer,E.rect);E.aA()}else{var H=p.Y<0?n.v4[-1-p.Y]:p.kn==1?E.u1():E.vr(n).w;
A.o8.BL(H.channel,H.rect,H.color,i,T);H.extend(T);A.o8._L(p.hc,T,H);H.aA();H.zK=!0;if(E)E.VA(n)}p.hc=i;
if(E)E.M()}n.l0=!0};i1.P4.pV=function(n,q){var p=i1.P4.Rm(n),E=~p;if(p==16777215)return;for(var R=0;
R<q.length;R++){var T=q[R],i=n.h[T.Y],H=T.n7;if(T.kn!=0)continue;i.extend(H);var Z=H.x-i.rect.x,w=H.y-i.rect.y,d=i.rect.v,O=new Uint32Array(T.hc.buffer),W=new Uint32Array(i.buffer.buffer);
for(var C=0;C<H.o;C++)for(var a=0;a<H.v;a++){var B=C*H.v+a,$=(C+w)*d+(a+Z);W[$]=W[$]&p|O[B]&E}i.aA();
i.M()}n.M()};i1.P4.Rm=function(n){var q=n.c.mc;return q[2]*16711680|q[1]*65280|q[0]*255};i1.P4.prototype.iP=function(n,q){var p=q.h[n.Y];
if(n.Br!=null)p.add[iJ.get(p.add)]=n.Br;else i1.P4.z8(q,n);q.M()};i1.P4.prototype.NJ=function(n,q){var p=q.h[n.Y];
if(n.Br!=null)p.add[iJ.get(p.add)]=n.Il;else i1.P4.z8(q,n);q.M()};i1.Ib=function(){i1.vx.call(this,A.Yo);
this.Id=null;this.Aj=null;this.e=null;this.t9=null};i1.Ib.prototype=new i1.vx;i1.Ib.prototype.JZ=function(n,q,p,E,T){if(n.e=="start"){if(p.p.length==0)return;
var i=p.h[p.p[0]];if(i.add.SoLd&&i.TL<=0&&p.z1.length==0){}else if(!p.bv(q,null,!0))return;var H=n.nd;
if((r[H]||fU.A[H])&&n.Gm==null){if(p.p.length!=1)alert("Will be applied to "+p.p.length+" layers.");
var Z=new ea(P.E.T,!0);Z.data=i1.Ib.gM(H,this.cW(p,H));q.K(Z)}else{var w={e:"edit",nd:H,Gm:n.Gm,CC:this.cW(p)};
this.JZ(w,q,p,E,T);w.e="confirm";delete w.Gm;this.JZ(w,q,p,E,T)}}if(n.e=="edit"||n.e=="cancel"||n.e=="confirm"){if(n.e=="edit")this.t9=[n.nd,n.Gm];
if(n.CC)this.abo(n,p,T);else this.ajQ(n,q,p,T)}if(n.e=="applylast"&&this.t9!=null){var w={e:"edit",nd:this.t9[0],Gm:this.t9[1],CC:this.cW(p)};
this.JZ(w,q,p,E,T);w.e="confirm";delete w.Gm;this.JZ(w,q,p,E,T)}};i1.Ib.gM=function(n,q){var p=fU.A[n];
if(p)return{e:P.C.Tk,i:p,IQ:{CC:q}};else return{e:P.C.Lr,ov:"afw_"+n,CC:q}};i1.Ib.prototype.cW=function(n,q){var p=n.h[n.p[0]],E;
if(p.add.SoLd&&p.TL<=0&&n.z1.length==0){E={Y:n.p[0],index:0};if(p.add.SoLd.filterFX!=null){var T=p.add.SoLd.filterFX.v.filterFXList.v;
E.index=T.length;for(var R=0;R<T.length;R++)if(fU.UC(T[R].v)==q&&fU.A[q])E.index=R}}return E};i1.Ib.prototype.abo=function(n,q,p){var E=q.h[n.CC.Y],T=n.nd;
if(n.e=="edit"){if(this.e==null){var i=fU.names[T];if(i==null)i=iJ.names[T];if(T=="blendOptions")i=[14,10];
this.e=new d4(i,this);this.e.data={CC:n.CC,a9d:JSON.parse(JSON.stringify(E.add.SoLd))}}if(!E.Sr()){E.add.SoLd.filterFX=fU.u4();
this.e.data.vc=gd.JJ(E.add.SoLd.placed.v);q.O8(this.e.data.vc);E.Ze(q)}var H=E.add.SoLd.filterFX.v.filterFXList.v;
if(H[n.CC.index]==null){H.push(fU.ah(T,p))}if(n.Gm){H[n.CC.index].v.enab.v=n.Hb!=!0;if(T=="blendOptions")H[n.CC.index].v.blendOptions.v=n.Gm;
else H[n.CC.index].v.Fltr.v=n.Gm}this.e.data.apd=JSON.parse(JSON.stringify(E.add.SoLd));this.NJ(this.e.data,q)}if(n.e=="cancel"){if(this.e)this.iP(this.e.data,q);
this.e=null}if(n.e=="confirm"){if(this.e)q.Dc(this.e);this.e=null}};i1.Ib.prototype.lI=function(n){return{_:n>>>16,q:n>>>8&255,X:n&255}};
i1.Ib.prototype.ajQ=function(n,q,p,E){if(this.Id==null){var T=fU.Aw(n.nd,n.Gm);this.Id=i1.P4.getData(p,T.x!=0||T.y!=0)}if(n.e=="edit"){var i=JSON.stringify(n.Gm);
if((n.Gm==null||i!=this.Aj)&&n.Hb!=!0)for(var R=0;R<this.Id.length;R++){var H=this.Id[R],Z={rect:H.n7,buffer:H.hc},w={rect:H.n7,buffer:H.Kj};
fU._g(n.nd,Z,n.Gm,this.lI(E.ny),this.lI(E.iu),w,[p.add.lnk2?p.add.lnk2:[],p.h[p.p[0]].u1(),p.v4,p.Jy()]);
this.Aj=i}i1.P4.KT(p,this.Id,n.Hb)}if(n.e=="cancel"){i1.P4.OB(p,this.Id);this.Id=null;this.Aj=null}if(n.e=="confirm"){i1.P4.nu(p,this.Id,fU.names[n.nd],this);
this.Id=null;this.Aj=null;i1.P4.qV(q,this.t9)}p.M();p.l0=!0};i1.Ib.prototype.iP=function(n,q){if(n.CC){var p=q.h[n.CC.Y];
if(n.vc)q.iT(n.vc);p.add.SoLd=JSON.parse(JSON.stringify(n.a9d));if(p.Sr())p.Is(q);else{p.Ze(q);p.TL=0}}else i1.P4.z8(q,n);
q.M();q.l0=!0};i1.Ib.prototype.NJ=function(n,q){if(n.CC){var p=q.h[n.CC.Y];if(n.vc)q.O8(n.vc);p.add.SoLd=JSON.parse(JSON.stringify(n.apd));
if(p.Sr())p.Is(q);else p.Ze(q);if(!p.kR())p.GZ+=32}else i1.P4.z8(q,n);q.M();q.l0=!0};var cF={Bo:"0",yR:"1",x2:"2",mY:"3",Iy:"4",KV:"5",DN:"6",ZG:"7",u:"8",lM:"8.5",bw:"8.8",co:"9",Jv:"10",Bc:"11",nI:"12",yC:"13",Ez:"14",_j:"15",Du:"16",_H:"21",VO:"22",Yv:"23",tw:"23.0",wS:"23.1",UQ:"23.2",n_:"23.3",QN:"23.4",YM:"23.5",lP:"23.6",kL:"30",c$:"31",P1:"40",uz:"41",kq:"42"};
cF.Ok={};cF.Ok[cF.yR]=["abr","brushes",aw,[9,3]];cF.Ok[cF.x2]=["grd","gradients",cB,[12,37]];cF.Ok[cF.mY]=["shc","contours",j6,[12,21]];
cF.Ok[cF.Iy]=["asl","styles",h4,[12,22]];cF.Ok[cF.KV]=["pat","patterns",fg,[12,62]];cF.Ok[cF.DN]=["csh","shapes",j2,[12,77]];
cF.Ok[cF.ZG]=["aco","swatches",bc,[9,8]];cF.Ok[cF.u]=["atn","actions",fv,[9,9]];cF.Ok[cF.lM]=["tpl","tpresets",eV,[9,12]];
cF.Ok[cF.bw]=["icc","profiles",iQ,"ICCs"];function d4(n,q,p){if(p==null)p=!1;this.name=n;this.i=q;this.no=p;
this.data=null;this.amE=Date.now()}var j4={};j4.hZ=function(n,q){var p={t:"Clss",v:{classID:n}};if(q)p={t:"Enmr",v:{classID:n,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[p]}};j4._b=function(n,q){var p={classID:"Lyr"};p[n]=q;return{oK:"set",ga:{classID:"null",null:j4.hZ("Lyr",!0),T:{t:"Objc",v:p}}}};
j4.anr=function(n,q,p,E,T){var i=new ea(P.E.Gi,!0),H=[],R=0,Z=j4.x8(q,p,E,H);while(H.length!=0){var w=H.pop();
R++;if(!w.J)continue;if(w.oK=="conditional"){var d=n.h[n.p[0]],O=w.ga.null.v.Cndt,W=!1;if(O=="Bckg")W=!1;
else if(O=="Pxel"&&n.zP(!1))W=!0;else if(O=="Adjs"&&iJ.get(d.add))W=!0;else if(O=="Shp"&&d.add.vogk)W=!0;
else if(O=="Grup"&&d.z7())W=!0;else if(O=="Opn"&&n!=null)W=!0;else if(O=="32Bt")W=!1;else if(O=="RGB")W=!0;
var C=w.ga.then,a=w.ga.else;if(W&&C)j4.x8(q,C.v[0].v.val,C.v[1].v.val,H);if(!W&&a)j4.x8(q,a.v[0].v.val,a.v[1].v.val,H)}else if(w.oK=="stop"){if(w.ga.Cntn&&w.ga.Cntn.v==!0)window.confirm(w.ga.Msge.v);
else{alert(w.ga.Msge.v);break}}else if(w.oK=="play"){var B=w.ga.null.v,$=new ea(P.E.T,!0);$.data={e:P.C.aI,zF:[B[0].v.val,B[1].v.val]};
T.K($)}else{i.data={oK:w.oK,ga:w.ga};T.K(i)}}};j4.x8=function(n,q,p,E){var T;for(var R=0;R<n.length;
R++){if(n[R].as!=p)continue;var i=n[R].fM;for(var H=0;H<i.length;H++){if(i[H].as!=q)continue;T=i[H].fM}}var Z=T.length;
for(var R=0;R<Z;R++)E.push(T[Z-1-R])};j4.ac_=function(n){var q=n.oK,p=n.ga,E,H,Z,w,d,O;if(p&&p.null)E=p.null.v[0];
if(p&&E==null&&p.At)E=p.At.v[0];if(E&&E.t=="obj ")E=E.v[0];var T=E?E.v.classID:null,i=["purge"];if(i.indexOf(q)!=-1)return q[0].toUpperCase()+q.slice(1);
O=iJ.Wg;for(H in O)if(O[H]==q)Z=H;O=fU.Wg;for(H in O)if(O[H]==q)w=H;O=bf.Wg;for(H in O)if(O[H]==q)d=H;
if(Z){var W=iJ.ig(Z,p);if(W!=-1)return[4,16,W];return iJ.names[Z]}if(w)return fU.names[w];if(d)return bf.names[d];
var C=j4.p6;if(q=="make"){if(E){if(T=="AdjL")return[6,1];else if(T=="layerSection")return p.From?[6,9]:[6,20];
else if(T=="Lyr")return[6,13];else if(T=="Chnl"&&E.v.enum=="Msk")return[6,2];else if(T=="contentLayer")return[6,48,1];
else if(T=="BckL")return"Make Background Layer";else if(T=="Path")return"Make Path";else if(T=="TxLr")return"Make Text Layer";
else if(T=="slice")return"Make Slices"}if(p.Nw){T=p.Nw.v.classID;if(T=="Dcmn")return[11,7];else if(T=="Chnl"||T=="SCch")return"New Channel"}}else if(q=="select"){if(T=="Chnl")return"Select "+(E.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(T=="Mn")return"Select Panel \""+E.v.enum+"\"";else if(T=="Lyr"){console.log(E);if(E.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[E.v.enum]+" Layer";
return"Select Layer \""+E.v.val+"\""}else if(T=="Dcmn")return"Select Document"}else if(C[q]&&T=="Chnl"){var a=E.v.keyID=="fsel";
return C[q]+" "+(a?"Selection":"Channel")}else if(q=="set"){if(T=="Lyr")return"Set Current Layer";else if(T=="AdjL")return[6,39];
else if(T=="contentLayer")return[6,48,2];else if(T=="Prpr")return[11,6];else if(T=="Clr")return"Set "+(E.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(T=="Brsh")return"Set Brush";else console.log(T)}else if(q=="move"){if(T=="Lyr")return"Move Layer"}else if(q=="show"||q=="hide"){var B="";
if(T=="Lyr")+"Layer";if(T=="Chnl")+"Channel";return(q=="show"?"Show":"Hide")+" "+B}else if(q=="reset"){if(T=="Clr")return"Reset Colors"}else if(q=="exchange"){if(T=="Clr")return[22,7,0]}else if(q=="rotateEventEnum")return[2,5];
else if(q=="flip"){var $=p.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,$?2:3]]}if(T=="Chnl"){if(q=="duplicate"){if(E.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(q=="delete")return"Delete Channel"}if(q=="transform")return E&&E.v.keyID=="fsel"?[7,10]:[10,16];
var I={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],save:[1,2],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:p?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},x=I[q];
if(x==null)x=j4.E_[q];if(x)return x;return q};j4.E_={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
j4.p6={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
j4.a1l=function(n,q,p,E){var T=n.oK,i=n.ga,H=new ea(P.E.u,!0),d,O,W,C,a,$;H.i=A.iq;var Z=new ea(P.E.T,!0),w=["purge","updatePlacedLayer","convertMode"];
if(w.indexOf(T)!=-1)return;a=iJ.Wg;for(d in a)if(a[d]==T)O=d;a=fU.Wg;for(d in a)if(a[d]==T)W=d;a=bf.Wg;
for(d in a)if(a[d]==T)C=d;if(T=="fade")O=T;if(T=="applyImageEvent")O="aply";if(O){H.i=A.C7;H.data={e:"start",WX:O,Gm:i}}else if(W){H.i=A.Yo;
H.data={e:"start",nd:W,Gm:i}}else if(C){H.i=A.Yo;H.data={e:"start",nd:"GEfc",Gm:i}}else if(T=="imageSize"||T=="canvasSize"||T=="revealAll"||T=="trim"||T=="crop"){H.i=A.m$;
H.data={e:"fromAction",YD:n}}else if(T=="fill"||T=="delete"&&i==null){H.i=A.yR;H.data={e:"fromAction",YD:n}}else if(T=="colorRange"){H.i=A.L7;
H.data={e:"fromAction",YD:n}}else if(j4.E_[T]||j4.p6[T]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){H.i=A.L7;
H.data={e:"fromAction",YD:n}}var B={copyToLayer:g.L0,mergeLayersNew:E&&E.p.length==1?g.eB:g.LJ,rasterizeLayer:g.sk,mergeVisible:g.GR,flattenImage:g.OV,newPlacedLayer:g.kc};
if(B[T])H.data={e:B[T],ga:i};if(H.data){q.K(H);return}if(T=="desaturate"){H.i=A.C7;H.data={e:"auto",Lt:3};
if(E&&E.h[E.p[0]].add.SoLd==null)q.K(H);return}if(T=="close"){if(i.Svng.v.YsN=="Ys"){Z.data={e:P.C.fF};
q.K(Z)}Z.data={e:P.C.bi,zH:E};q.K(Z);return}if(T=="save"){Z.data={e:P.C.fF};q.K(Z);return}if(T=="copyMerged"){Z.data={e:P.C.yr,n5:!0,od:!0};
q.K(Z);return}var B={placedLayerEditContents:P.C.alq,copyEvent:P.C.yr,paste:P.C.W6};if(B[T])Z.data={e:B[T],od:!0};
if(Z.data){q.K(Z);return}if(i.null||i.At)$=(i.null?i.null:i.At).v;else $=[{t:"----",v:i}];if($[0].t=="obj "){if($.length!=1)throw"e";
$=$[0].v}for(var I=0;I<$.length;I++){var x=$[I],U=x.v.classID;H.data=null;if(T=="make"){if(i.null==null&&i.Nw)U=i.Nw.v.classID;
if(U=="AdjL"){H.data={e:g.qw,ga:i}}else if(U=="layerSection"){H.data=i.From?{e:g.qJ}:{e:g.D3};if(i.Usng){var N=i.Usng.v;
if(N.Nm)H.data.E7=N.Nm.v;if(N.Clr)H.data.kk=j4.KY(N)}}else if(U=="Lyr"){if(i.Usng&&i.Usng.v.length==2)H.data={e:g.jH};
else{H.data={e:g.mp};if(i.Usng)H.data.E7=i.Usng.v.Nm.v;if(i.below&&i.below.v)H.data.a8x=!0}}else if(U=="Chnl"&&x.v.enum=="Msk"){H.data={e:g.iy,Hg:i.Usng.v.UsrM}}else if(U=="Chnl"||U=="SCch"){H.data={e:g.QH,df:"fromAction",k:n}}else if(U=="contentLayer"){H.data={e:g.ua,ga:i}}else if(U=="BckL"){E.h[E.p[0]].anY();
continue}else if(U=="Dcmn"){var m=i.Nw.v;Z.data={e:P.C.D9,eL:gd.a4e(m,p)}}else if(U=="Ptrn")Z.data={e:P.C.uf,sQ:0};
else if(U=="Path"){H.i=A.nk;H.data={e:"pathedit",df:"fromsel"}}else if(U=="TxLr"){H.i=A.cY;H.data={e:"fromAction",YD:n}}else if(U=="slice"){H.i=A.x7;
H.data={e:"fromAction",YD:n}}else if(U=="SnpS"){continue}else{console.log(T,U,i);throw"e"}}else if(T=="select"){var f={PcTl:A.zY,magicWandTool:A.AB};
if(U=="Lyr"){var c=i.selectionModifier,D=c?c.v.selectionModifierType:null,z=j4.TJ(E,x);if(z==-1){alert("Layer "+x.v.val+" does not exist.");
throw"e"}H.data={e:g.ZR,Y:z,arU:D?["addToSelection","addToSelectionContinuous"].indexOf(D):null,wM:0,a25:!0}}else if(U=="Chnl"){H.data={e:g.ZR,Y:z,wM:1}}else if(U=="Dcmn"){if(q.lr.length<2)return;
Z.data={e:P.C.agz,dir:i.null.v[0].v.val}}else if(f[U]){Z.data={e:P.C.Tk,i:f[U]}}}else if((T=="set"||T=="reset"||T=="exchange")&&U=="Clr"){Z.data={e:P.C.Th,sQ:cF._H,df:T=="reset"?3:2};
if(T=="set"){Z.data.df=x.v.keyID=="FrgC"?0:1;var _=j.f.aV(i.T.v);Z.data.k=_._<<16|_.q<<8|_.X}}else if(T=="set"){if(U=="AdjL"){var v=i.T.v.classID;
v=iJ.Sz[v];H.i=A.C7;if(v)H.data={e:"edit_layer",k:i.T.v}}else if(U=="Lyr"){var o=i.T.v,z=j4.TJ(E,x);
if(o.Nm)H.data={e:g.OI,name:o.Nm.v};else if(o.Opct)H.data={e:g.hH,Il:Math.round(o.Opct.v.val*255/100)};
else if(o.fillOpacity)H.data={e:g.C9,Il:Math.round(o.fillOpacity.v.val*255/100)};else if(o.Md)H.data={e:g.M2,Il:d3.Uc.indexOf(o.Md.v.BlnM)+(E.h[z].z7()?1:0)};
else if(o.Usrs)H.data={e:g.Tv,Y:z};else if(o.Blnd){H.i=A.FC;H.data={e:"setstl",Y:z,k:{blendOptions:{t:"objc",v:o}}};
q.K(H);H.data={e:"confirm",Y:z}}else if(o.Clr){var y=j4.KY(o);H.data={e:g.Bt,ahV:y}}else if($[0].t=="prop")continue;
else{console.log(i);throw"e"}var k=E.h[z];k.aqM()}else if(U=="Prpr"){var o=JSON.parse(JSON.stringify(i.T.v));
if(x.v.keyID=="TxtS"){var z=j4.TJ(E,i.null.v[1]),k=E.h[z],S=k.add.TySh,L=JSON.parse(JSON.stringify(S.Bd)),X=hx.Q2(L),s=hx.o1(L,0,X.length-2);
if(o.Undl&&o.Undl.v.Undl=="underlineOnLeftInVertical")s.h9.Underline=!0;hx.X6(L,0,X.length-1,s);H.i=A.cY;
H.data={e:"newED",nw:z,YS:L};I=1e9}else{for(var M in o)if(o[M].v){if(M=="Scl")o[M].v.val=100;if(o[M].v.TrnS&&o[M].v.TrnS.v.Crv==null){o[M].v.TrnS=JSON.parse(iq.FT[9]).TrnS}}dv.f1(o);
if(o.masterFXSwitch==null)o.masterFXSwitch={t:"bool",v:!0};var z=j4.TJ(E,i.null.v[1]);H.i=A.FC;H.data={e:"setstl",Y:z,k:{Lefx:{t:"objc",v:o}}};
q.K(H);H.data={e:"confirm",Y:z}}}else if(U=="contentLayer"){var z=j4.TJ(E,x),o=i.T.v;if(o.classID=="shapeStyle")o=o.FlCn.v;
var V={solidColorLayer:0,gradientLayer:1,patternLayer:2}[o.classID],W=JSON.parse(JSON.stringify(iq.FH[V]));
i1.w9.sd(o,W,V);H.data={e:g.QM,N$:[z],B7:!0,k:{a5:V+1,IH:W}}}else if(U=="Brsh"){var l=JSON.parse(JSON.stringify(p.UR.$P)),e=i.T.v;
if(e.masterDiameter)l.Brsh.v.Dmtr.v.val=e.masterDiameter.v.val;else console.log("unknown brush parameters");
Z.data={e:P.C.Th,sQ:cF.Ez,Hv:l}}else{console.log(x,i);throw U}}else if(T=="move"){if(U=="Lyr"){var o=i.T.v;
if(o.classID=="Ofst"){H.data={e:"trsl",anT:o.Hrzn.v.val,agH:o.Vrtc.v.val};H.i=A.o$}else{var Y,J;if(o[0].t=="Enmr"){if(o[0].v.enum=="Frnt")J=0;
else if(o[0].v.enum=="Nxt")J=1;else if(o[0].v.enum=="Prvs")J=2;else if(o[0].v.enum=="Back")J=3;else throw"e"}else Y=o[0].v.val;
H.data={e:g.zS,target:Y,df:J,a2d:i.Dplc?i.Dplc.v:!1}}}}else if(T=="groupEvent")H.data={e:g.P2};else if(T=="show"||T=="hide"){console.log(i);
if(U=="Lyr"){var z=j4.TJ(E,x);if(z==-1)continue;var G=E.h[z].Fp();if(T=="show"&&G||T=="hide"&&!G)continue;
H.data={e:g.il,Y:z}}else if(U=="Chnl"){H.data={e:g.QH,df:"fromAction",k:n}}else if(U=="filterFX"){if(x.v.val!=null)H.data={e:g.sn,index:x.v.val-1};
H.data={e:g.SB};$=[$[0]]}}else if(T=="rotateEventEnum"){H.i=A.m$;var F=i.Angl.v.val;H.data={e:"rot",as:[2,5],k:-F*Math.PI/180}}else if(T=="flip"){H.i=A.m$;
var b=i.Axis.v.Ornt=="Hrzn",h=b?new fc(-1,1):new fc(1,-1);H.data={e:"scl",as:[[2,6],[22,4,b?2:3]],k:h}}else if(T=="transform"){var bj=1,i4=1,aG=0,Q=0,jd=0,bP=0,gz=0;
if(i.Wdth)bj=i.Wdth.v.val/100;if(i.Hght)i4=i.Hght.v.val/100;if(i.Skew){var fZ=i.Skew.v;aG=fZ.Hrzn.v.val;
Q=fZ.Vrtc.v.val}if(i.Ofst){var dt=i.Ofst.v;bP=dt.Hrzn.v.val;gz=dt.Vrtc.v.val}if(i.Angl)jd=i.Angl.v.val;
var a9=new b$;a9.concat(new b$(bj,bj*Math.tan(Q*Math.PI/180),i4*Math.tan(aG*Math.PI/180),i4,0,0));a9.rotate(-jd*Math.PI/180);
a9.translate(bP,gz);var bi={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[i.FTcs.v.QCSt];
if(bi==null)throw i.FTcs.v.QCSt;var x=i.null;if(x&&x.v instanceof Array)x=x.v[0];var z=x?j4.TJ(E,x):null;
if(z==-1)z=null;H.i=x&&x.v.keyID=="fsel"?A.zi:A.Uv;H.data={e:"mat",xT:bi,k:a9}}else if(U=="Chnl"){H.data={e:g.QH,df:"fromAction",k:n}}else if(T=="duplicate")H.data={e:g.se,E7:i.Nm?i.Nm.v:null};
else if(T=="delete"){if(U=="filterFX"){if(x.v.val!=null)H.data={e:g.Gc,SN:x.v.val-1};else H.data={e:g.ds}}else H.data={e:g.va};
$=[$[0]]}else if(T=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){H.i=A.m$;H.data={e:"auto-align"}}else{H.i=A.o$;
var O={AdLf:0,AdRg:2}[i.Usng.v.ADSt];if(O==null)throw"e";H.data={e:"algn",k:O}}}else if(T=="applyLocking"){var az=i.layerLocking.v,hd;
if(az.protectTransparency)hd=[[az.protectTransparency.v],[0]];else if(az.protectNone)hd=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(az);throw"e"}H.data={e:g.dQ,Il:hd}}if(H.data)q.K(H);else if(Z.data)q.K(Z);else{console.log(n);
alert("Unknown action \""+T+"\"");throw"e"}}};j4.KY=function(n){var q={Rd:1,Ylw:3,Grn:4,Vlt:6}[n.Clr.v.Clr];
if(q==null)throw n.Clr.v.Clr;return q};j4.TJ=function(n,q){var p=1e6,E=0;for(var R=0;R<n.p.length;R++){p=Math.min(p,n.p[R]);
E=Math.max(E,n.p[R])}var T=q.t,i=-1;if(T=="name"){var H=q.v.val,i=-1;for(var R=0;R<n.h.length;R++)if(n.h[R].getName()==H){i=R;
break}}if(T=="Enmr"&&n.p.length!=0)i=n.p[0];if(T=="Enmr"&&q.v.enum=="Frwr")i=E+1;if(T=="Enmr"&&q.v.enum=="Bckw")i=p-1;
if(T=="prop"){if(q.v.keyID=="Bckg")i=0}return i};var iJ={};iJ.get=function(n){for(var q in iJ.names)if(n[q]!=null)return q;
return null};iJ.cI=function(n,q){var p=iJ.ub,E;if(n=="brit"){var T=q.Brgh?q.Brgh.v:0,i=q.Cntr?q.Cntr.v:0,H=q.useLegacy?q.useLegacy.v:!1;
if(H){var Z=T/255,w=1+i/100;if(w>1)w=1+Math.tan(Math.PI/2*i/101);var d=(1-w)/2,O=j.JV.t2(Z,Z,Z),W=[w,0,0,d,0,w,0,d,0,0,w,d,0,0,0,1],C=j.JV.multiply(O,W),a=new j.U$(256);
for(var R=0;R<256;R++)a._[R]=R;j.JV.transform(a,a,C);E={type:p.Na,J_:a._,QP:a._,pz:a._,Ps:!1,M1:!1}}else{var B=1024,$=-30+60*(i+100)/200,I=[];
for(var R=0;R<4;R++)I.push(j.A6.tB(R/3*255,R/3*255,!0));I[1].v.Hrzn.v=64;I[1].v.Vrtc.v=64-$;I[2].v.Hrzn.v=128+64;
I[2].v.Vrtc.v=128+64+$;I.sort(function(ic,iO){return ic.v.Hrzn.v-iO.v.Hrzn.v});var x=j.A6.Cg(I,B);function U(ic,B){var I=[],eR=3;
for(var R=0;R<eR+1;R++)I.push(j.A6.tB(R/eR*255,R/eR*255,!0));I[1].v.Hrzn.v=130-ic*26;I[1].v.Vrtc.v=130+ic*51;
I[2].v.Hrzn.v=233-ic*48;I[2].v.Vrtc.v=233+ic*10;return j.A6.Cg(I,B)}var N=U(Math.abs(T)/100,B);if(T<0){var m=[],f=1/B;
for(var R=0;R<B;R++){var c=R*f,D=R;while(N[D]>c&&D>1)D--;m[R]=D*f}N=m}var z=new Uint8Array(B);for(var R=0;
R<B;R++){var _=Math.round((B-1)*N[R]);z[R]=Math.round(255*x[_])}E={type:p.Na,J_:z,QP:z,pz:z,Ps:!1,M1:!1}}}if(n=="levl"){var v=[],o,y,O,k,S,L;
for(var R=0;R<4;R++)v.push(fk.YL(q,R));o=-v[0][0]/255;y=1/(v[0][1]/255-v[0][0]/255);O=j.JV.multiply(j.JV.oR(y,y,y),j.JV.t2(o,o,o));
k=j.JV.oR(1/(v[1][1]/255-v[1][0]/255),1/(v[2][1]/255-v[2][0]/255),1/(v[3][1]/255-v[3][0]/255));S=j.JV.t2(-v[1][0]/255,-v[2][0]/255,-v[3][0]/255);
L=j.JV.multiply(k,S);var z=new j.U$(256);for(var R=0;R<256;R++)z._[R]=z.q[R]=z.X[R]=R;var X=1/(v[0][4]/100),s=1/(v[1][4]/100),M=1/(v[2][4]/100),V=1/(v[3][4]/100);
j.JV.transform(z,z,L);for(var R=0;R<256;R++){z._[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z._[R]/255,s))));
z.q[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.q[R]/255,M))));z.X[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.X[R]/255,V))))}j.JV.transform(z,z,O);
for(var R=0;R<256;R++){z._[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z._[R]/255,X))));z.q[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.q[R]/255,X))));
z.X[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.X[R]/255,X))))}o=v[0][2]/255;y=v[0][3]/255-v[0][2]/255;
O=j.JV.multiply(j.JV.t2(o,o,o),j.JV.oR(y,y,y));k=j.JV.oR(v[1][3]/255-v[1][2]/255,v[2][3]/255-v[2][2]/255,v[3][3]/255-v[3][2]/255);
S=j.JV.t2(v[1][2]/255,v[2][2]/255,v[3][2]/255);L=j.JV.multiply(S,k);j.JV.transform(z,z,j.JV.multiply(O,L));
E={type:p.Na,J_:z._,QP:z.q,pz:z.X,Ps:!1,M1:!1}}if(n=="curv"){var l=hY.YL(q,0).length==256?1:0,e=[];if(l==0){var Y=j.A6.SK(hY.YL(q,0),256);
for(var R=1;R<4;R++){var J=j.A6.SK(hY.YL(q,R),256);e.push(j.A6.fc(J,Y))}}else{var G=[];for(var R=0;R<4;
R++){var F=new Uint8Array(256);G.push(F);var h=hY.YL(q,R);for(var D=0;D<256;D++)F[D]=h[D]}for(var R=1;
R<4;R++)e.push(j.A6.fc(G[R],G[0]))}E={type:p.Na,J_:e[0],QP:e[1],pz:e[2],Ps:!1,M1:!1}}if(n=="expA"){var bj=q.Exps,i4=q.Ofst,t=q.gammaCorrection,aG=bj?bj.v:0,Q=i4?i4.v:0,jd=t?t.v:1,z=new Uint8Array(256);
for(var R=0;R<256;R++){var q=R/255,bP=Math.pow(Math.abs(Q),1/(Math.PI/2));if(Q>0){q=Math.max(Q/Math.E,q);
q=q*Math.exp(Q/1.75+aG/Math.PI);q=(1-bP)*q+bP*1}else{q=q*Math.exp(-Q*1.75+aG/Math.PI);q=q+-bP*1.14}q=Math.pow(q,1/jd);
q=Math.max(0,Math.min(1,q));z[R]=Math.round(q*255)}E={type:p.Na,J_:z,QP:z,pz:z,Ps:!1,M1:!1}}if(n=="vibA"){E={type:p.WA,sQ:[q.vibrance?q.vibrance.v:0,q.Strt?q.Strt.v:0]}}if(n=="hue2"){var gz=[],fZ=[],dt=[],a9=q.Clrz?q.Clrz.v:!1;
for(var R=0;R<256;R++){gz[R]=R/255;fZ[R]=0;dt[R]=0}var bi=je.YL(q,0),az=iJ.ae(bi[1]/100);if(a9){var hd=bi[0]/360;
for(var R=0;R<256;R++){gz[R]=hd;fZ[R]=az}}else{for(var R=0;R<256;R++){var aB=gz[R],cv=fZ[R];gz[R]+=bi[0]/360;
for(var D=0;D<6;D++){var c$=je.YL(q,D+1),cT=c$.jb,fp=c$.kQ,bP=0;for(var cD=1;cD<4;cD++)if(fp[cD]<fp[0])fp[cD]+=360;
var f_=fp[0],f9=fp[1],dO=fp[2],a6=fp[3],hb=aB*360;if(hb<fp[0])hb+=360;var jr=(hb-f_)/(f9-f_),dh=(hb-dO)/(a6-dO);
if(jr<0)bP=0;else if(jr<1)bP=jr;else if(dh<0)bP=1;else if(dh<1)bP=1-dh;else bP=0;var w=iJ.ae(cT[1]/100);
gz[R]+=bP*cT[0]/360;fZ[R]+=bP*w;dt[R]+=bP*cT[2]/100}}for(var R=0;R<256;R++){fZ[R]=(1+fZ[R])*(1+az)-1;
dt[R]=Math.max(-1,Math.min(1,dt[R]))}}var jq=new Uint8Array(256),g3=new Uint8Array(256),c6=new Uint8Array(256);
for(var R=0;R<256;R++){var cd=gz[R],jn=fZ[R],cV=dt[R];if(cd>1)cd--;if(cd<0)cd++;jn=iJ.aiR(jn);jn=(1+jn)*.5;
cV=(1+cV)*.5;jq[R]=Math.round(255*cd);g3[R]=Math.round(255*jn);c6[R]=Math.round(255*cV)}var fM=bi[2]/100,bE=fM<0?-fM:fM,gU=fM<0?0:1;
E={type:p.dP,a28:jq,Rc:g3,ahq:c6,aio:bE*gU,cd:1-bE,agn:bi[2]/100,abb:a9?1:0}}if(n=="nvrt"){var z=new Uint8Array(256);
for(var R=0;R<256;R++)z[R]=255-R;E={type:p.Na,J_:z,QP:z,pz:z,Ps:!1,M1:!1}}if(n=="post"){var g6=q.Lvls.v,z=new Uint8Array(256),bP=g6/255.001,cu=255/(g6-1);
for(var R=0;R<256;R++)z[R]=Math.floor(R*bP)*cu;E={type:p.Na,J_:z,QP:z,pz:z,Ps:!1,M1:!1}}if(n=="grdm"){var f5=q.Grad.v,iP=q.Rvrs,id=j.f.fZ(f5.Clrs.v,0,0),B=1024,aY=j.f.jW(f5,id,B,iP?iP.v:!1),fT=j.U(B),h8=j.U(B),jf=j.U(B);
j.J2(aY,fT,0);j.J2(aY,h8,1);j.J2(aY,jf,2);E={type:p.Na,J_:fT,QP:h8,pz:jf,Ps:!0,M1:!1}}if(n=="selc"){var h2=new Float32Array(9*3*2),e9=q.JK,jt=q.Mthd?q.Mthd.v.CrcM=="Absl":!1;
for(var D=0;D<9;D++){var ed=D*6,bZ=hc.YL(q,D),ji=bZ[0]/100,a4=bZ[1]/100,eG=bZ[2]/100,e6=bZ[3]/100;if(jt){h2[ed]=h2[ed+1]=h2[ed+2]=1;
h2[ed+3]=ji*(1+e6)+e6;h2[ed+4]=a4*(1+e6)+e6;h2[ed+5]=eG*(1+e6)+e6}else{h2[ed+0]=(1+ji)*(1+e6);h2[ed+1]=(1+a4)*(1+e6);
h2[ed+2]=(1+eG)*(1+e6)}}E={type:p.wZ,afz:h2}}if(n=="blwh"){var eH="Rd Yllw Grn Cyn Bl Mgnt".split(" "),E=[],gv=0,fL=0;
for(var R=0;R<6;R++)E.push(q[eH[R]].v);E.push(q.useTint.v,q.tintColor.v);var eP=[];for(var R=0;R<6;R++)eP.push((E[R]-50)/50);
var iE=j.f.aV(E[7]);iE._/=255;iE.q/=255;iE.X/=255;var aR=j.PW(iE._,iE.q,iE.X),cV=j.hR(j.G5(aR.rZ,1,.5)),aq=aR.dd*aR.Gm;
if(cV==.5)gv=fL=.5;else{gv=aq*(.5-cV)/(.5/cV-1);fL=1-aq*(.5-cV)-1/(2*(1-cV));fL/=1-1/(2*(1-cV))}E={type:p.b6,akj:eP,Hm:E[6]?1:0,aqv:aR.rZ,hR:cV,a9I:aq,ei:gv,aiZ:fL}}if(n=="blnc"){var v=[],hq=["ShdL","MdtL","HghL"];
for(var R=0;R<3;R++){if(q[hq[R]]==null){v[R]=[0,0,0];continue}var g6=q[hq[R]].v,hz=g6[0].v/100,cy=g6[1].v/100,bX=g6[2].v/100,is=q.PrsL==null||q.PrsL.v?(Math.min(hz,cy,bX)+Math.max(hz,cy,bX))/2:0;
v[R]=[hz-is,cy-is,bX-is]}var e=[j.U(256),j.U(256),j.U(256)];for(var D=0;D<3;D++)for(var R=0;R<256;R++){var c=R*(1/255),dr=0,$=0,cx=0;
$=v[2][D];cx=Math.abs($);if($<0)dr=Math.pow(c,Math.SQRT2);else dr=1.63*(Math.pow(c+.04,.5)-.2);c=cx*dr+(1-cx)*c;
$=v[1][D];cx=Math.abs($);if($<0)dr=Math.pow(c,2);else dr=Math.min(2.35*(Math.pow(c+.09,.5)-.3),Math.pow(c,1/2));
c=cx*dr+(1-cx)*c;$=v[0][D];cx=Math.abs($);if($<0)dr=c<.4?0:Math.pow((c-.4)/.6,Math.SQRT2);else dr=Math.pow(c,Math.SQRT2/2);
c=cx*dr+(1-cx)*c;c=Math.max(0,Math.min(1,c));e[D][R]=Math.round(c*255)}E={type:p.Na,J_:e[0],QP:e[1],pz:e[2],Ps:!1,M1:!1}}if(n=="phfl"){var g1=j.f.aV(q.Clr.v),da=[g1._/255,g1.q/255,g1.X/255],aS=q.Dnst.v/100,e=[j.U(256),j.U(256),j.U(256)];
for(var D=0;D<3;D++)for(var R=0;R<256;R++){var c=R*(1/255),iZ=c*da[D];iZ=Math.max(0,Math.min(1,iZ));
c=aS*iZ+(1-aS)*c;e[D][R]=Math.round(c*255)}E={type:p.Na,J_:e[0],QP:e[1],pz:e[2],Ps:!1,M1:q.PrsL.v}}if(n=="thrs"){var z=j.U(256);
for(var R=q.Lvl.v;R<256;R++)z[R]=255;E={type:p.Na,J_:z,QP:z,pz:z,Ps:!0,M1:!1}}if(n=="mixr"){var hs=iJ.TW(q),C=[];
for(var R=0;R<hs.k.length;R++)if(R%5!=3)C.push(hs.k[R]/100);if(hs.Mx){for(var aD=1;aD<3;aD++)for(var c=0;
c<4;c++)C[aD*4+c]=C[c]}E={type:p.ef,Oc:C}}if(n=="rplc"){var iT=q.Mnm.v,fQ=q.Mxm.v;E={type:p.tJ,Vm:[iT.Lmnc.v,iT.A.v,iT.B.v],LN:[fQ.Lmnc.v,fQ.A.v,fQ.B.v],shift:[q.H.v/360,q.Strt.v/100,q.Lght.v/100],O6:q.Fzns.v/150}}if(n=="clrL"&&q.profile){var fx=new Uint8Array(q.profile.v),i8=ICC.R(fx.buffer),ho=[],aW=17,ho=ICC.U.sampleLUT(i8,aW);
E={type:p.YO,hc:ICC.U.rgba8LUT(ho,aW),a9Z:ho,UH:aW}}return E};iJ.ig=function(n,q){var p=-1;if(n!="levl"||q==null)p=-1;
else if(q.Auto)p=0;else if(q.AuCo)p=1;else if(q.autoBlackWhite)p=2;return p};iJ.ub={Na:0,dP:1,WA:2,wZ:3,b6:4,ef:5,tJ:6,YO:7};
iJ.ae=function(n){if(n<0)return n;return Math.pow(Math.tan(Math.PI/2*n),1.3)};iJ.aiR=function(n){if(n<0)return n;
n=Math.pow(n,1/1.3);return Math.atan2(n,1)/(Math.PI/2)};iJ._g=function(n,q,p,E){var T=iJ.ub,i=Date.now();
if(K.pb&&E.P()>300*300&&n.type!=T.Na&&n.type!=T.YO){E=E.clone();E.x=E.y=0;var H=K.nt(0,E.v,E.o);H.set(q);
K.zJ(H,E);H.d5(E);iJ.ZP(n,H.j1,E);H.get(p);return}if(n.type==T.YO){var Z=n.a9Z,w=n.UH;ICC.U.applyLUT(Z,w,q,p);
var d=q.length;for(var R=0;R<d;R+=4)p[R+3]=q[R+3]}if(n.type==T.ef)j.JV._K(q,p,n.Oc);if(n.type==T.b6){var O=n.a9I,W=n.hR,C=n.ei,a=n.aiZ,d=q.length;
for(var R=0;R<d;R+=4){var E=q[R]*(1/255),B=q[R+1]*(1/255),$=q[R+2]*(1/255),I=j.JF(E,B,$),x=0;for(var U=0;
U<6;U++)x+=Math.min(1,1.7*(1-I.Nb))*I.dd*n.akj[U]*iJ.Bm(I.rZ,U*(1/6));var N=Math.max(0,Math.min(1,I.Nb*(1+x)));
if(n.Hm==1){var m=0;if(N<C)m=N*(.5/W);else if(N<a)m=N+O*(.5-W);else m=1-(1-N)*.5/(1-W);I.rZ=n.aqv;I.dd=Math.min(1,O+3*O*Math.abs(N-.5*(C+a)));
I.Nb=m}else{I.rZ=0;I.dd=0;I.Nb=N}var f=j.G5(I.rZ,I.dd,I.Nb);p[R]=Math.round(f._*255);p[R+1]=Math.round(f.q*255);
p[R+2]=Math.round(f.X*255)}}if(n.type==T.wZ){var c=n.afz,d=q.length,D=1/255;for(var R=0;R<d;R+=4){var E=q[R]*D,B=q[R+1]*D,$=q[R+2]*D,I=j.JF(E,B,$),z=Math.max(E,Math.max(B,$)),_=Math.min(E,Math.min(B,$)),v=1-E,o=1-B,y=1-$,k=0,S=0,L=0;
for(var U=0;U<9;U++){var X=U*6,l=0;if(c[X]==1&&c[X+1]==1&&c[X+2]==1&&c[X+3]==0&&c[X+4]==0&&c[X+5]==0)continue;
var s=v*c[X]+c[X+3],M=o*c[X+1]+c[X+4],V=y*c[X+2]+c[X+5];if(U<6)l=iJ.Bm(I.rZ,U*(1/6))*I.dd*2*Math.min(I.Nb,1-I.Nb);
else if(U==6)l=Math.max(0,_-.5)*2;else if(U==7)l=1-(Math.abs(z-.5)+Math.abs(_-.5));else l=Math.max(0,.5-z)*2;
k+=(Math.max(0,Math.min(1,s))-v)*l;S+=(Math.max(0,Math.min(1,M))-o)*l;L+=(Math.max(0,Math.min(1,V))-y)*l}v=Math.max(0,Math.min(1,v+k));
o=Math.max(0,Math.min(1,o+S));y=Math.max(0,Math.min(1,y+L));E=1-v;B=1-o;$=1-y;p[R]=Math.round(E*255);
p[R+1]=Math.round(B*255);p[R+2]=Math.round($*255)}}if(n.type==T.Na){j.agR(q,p,n.J_,n.QP,n.pz,n.Ps,n.M1)}if(n.type==T.dP){var e=new Uint32Array(q.buffer),Y=new Uint32Array(p.buffer),d=e.length;
if(iJ.lJ==null){iJ.lJ=new Float64Array(256);for(var R=0;R<256;R++)iJ.lJ[R]=iJ.ae(-1+2*R/255)}var J=iJ.lJ;
for(var R=0;R<d;R++){var G=e[R],E=(G&255)*(1/255),B=(G>>>8&255)*(1/255),$=(G>>>16&255)*(1/255),F=G>>>24,b=Math.min(E,B,$),h=Math.max(E,B,$),bj=0,i4=0,t=0;
bj=j.JF(E,B,$).rZ;var aG=~~(bj*255+.5),Q=n.a28[aG]*(1/255),jd=n.Rc[aG]*(1/255)*2-1,bP=n.ahq[aG]*(1/255)*2-1,x=-bP,gz=b;
if(0<bP){x=bP;gz=h}var fZ=n.aio+n.cd*x*gz,dt=n.cd*(1-x);E=fZ+dt*E;B=fZ+dt*B;$=fZ+dt*$;h=Math.max(E,B,$);
b=Math.min(E,B,$);t=(h+b)*.5;if(h!=b){var a9=h-b;i4=t>.5?a9/(2-(h+b)):a9/(h+b)}var bi=jd;if(n.abb==0){jd=J[Math.floor((1+jd)*127.5)];
bi=Math.min(i4*(1+jd),1)}var f=j.G5(Q,bi,t);E=f._;B=f.q;$=f.X;Y[R]=F<<24|$*255<<16|B*255<<8|E*255}}if(n.type==T.tJ){j.Sa(q,p);
var e=new Uint32Array(q.buffer),Y=new Uint32Array(p.buffer),d=e.length,az=n.O6,hd=1/az,aB={Q_:n.Vm[0],jS:n.Vm[1],X:n.Vm[2]},cv={Q_:n.LN[0],jS:n.LN[1],X:n.LN[2]};
for(var R=0;R<d;R++){var G=e[R],c$=G&255,cT=G>>>8&255,fp=G>>>16&255,E=c$*(1/255),B=cT*(1/255),$=fp*(1/255),F=G>>>24,cD=j.IG(c$,cT,fp),f_=j.m1(cD,aB,cv,az,hd);
if(f_==0)continue;var I=j.JF(E,B,$),Q=2+I.rZ+n.shift[0];I.rZ=Q-~~Q;I.dd=Math.max(0,Math.min(1,I.dd+n.shift[1]));
I.Nb=Math.max(0,Math.min(1,I.Nb+n.shift[2]));var f=j.G5(I.rZ,I.dd,I.Nb);E=(1-f_)*E+f_*f._;B=(1-f_)*B+f_*f.q;
$=(1-f_)*$+f_*f.X;Y[R]=F<<24|$*255<<16|B*255<<8|E*255}}if(n.type==T.WA){var e=new Uint32Array(q.buffer),Y=new Uint32Array(p.buffer),d=e.length,f9=n.sQ[0]/100,dO=n.sQ[1]/100;
for(var R=0;R<d;R++){var G=e[R],E=(G&255)*(1/255),B=(G>>>8&255)*(1/255),$=(G>>>16&255)*(1/255),F=G>>>24,I=j.PW(E,B,$),bj=I.rZ,i4=I.dd,t=I.Gm,a6=0,hb=45/360,jr=bj<hb?Math.cos(Math.PI/2*(bj-hb/2)/(hb/2)):0;
i4=i4+.2*(1-.4*jr)*f9*Math.max(0,Math.sin(i4*Math.PI));i4=i4*(1+dO);i4=Math.max(0,Math.min(1,i4));var f=j.RF(bj,i4,t);
E=f._;B=f.q;$=f.X;Y[R]=F<<24|$*255<<16|B*255<<8|E*255}}};iJ.ZP=function(n,q,p){K.WX.ZP(n,q)};iJ.Bm=function(n,q){var p=j.Rx(q,n)*6;
return Math.max(0,Math.min(1,p<0?1+p:1-p))};iJ.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
iJ.T3=["expA","clrL","selc"];iJ._5=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];iJ.a7u=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
iJ.D_=[[13,1,1],[13,1,4],[13,1,5]];iJ.Fi={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
iJ.Sz=function(){var n=JSON.parse(JSON.stringify(iJ.Fi));delete n.GrMp;n.GdMp="grdm";return n}();iJ.Wg={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
iJ.keys={levl:[aj.Fj,aj.Q_],curv:[aj.Fj,aj.zE],hue2:[aj.Fj,aj.px],nvrt:[aj.Fj,aj.er],blnc:[aj.Fj,aj.MR]};
iJ.dJ=function(n){var q=fU.yQ("mixr");q.Mnch={t:"bool",v:n.Mx};function p(E,R){var T={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var H in i)T[H]={t:"UntF",v:{type:"#Prc",val:E[R+i[H]]}};return{t:"Objc",v:T}}if(n.Mx)q.Gry=p(n.k,0);
else{q.Rd=p(n.k,0);q.Grn=p(n.k,5);q.Bl=p(n.k,10)}return q};iJ.TW=function(n){function q(E,T,R){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var H in i)if(E[H])T[R+i[H]]=E[H].v.val}var p={Mx:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(n.Mnch&&n.Mnch.v)p.Mx=!0;if(p.Mx)q(n.Gry.v,p.k,0);else{q(n.Rd.v,p.k,0);q(n.Grn.v,p.k,5);q(n.Bl.v,p.k,10)}return p};
var fU={};fU.UC=function(n){var q=n.filterID.v;return q>16777215?u.aaF(q):n.Fltr.v.classID};fU.DJ=[{IH:"GEfc"},{IH:"LnCr"},{IH:"LqFy",H8:!0},{u5:"3D",Tj:["lightFilterGradient"]},{u5:[24,2],Tj:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{u5:[24,4],Tj:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{u5:[24,6],Tj:["AdNs","Dspc","DstS","Mdn "]},{u5:[24,8],Tj:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{u5:[24,10],Tj:["Flam","Clds","DfrC","Fbrs","LnsF"]},{u5:[24,12],Tj:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{u5:[24,14],Tj:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{u5:[24,16],Tj:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")},{u5:"Fourier",Tj:["dDFT","iDFT"]}];
fU.Wg={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
fU.SP={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
fU.A={rigidTransform:A.oF};fU.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
fU.yQ=function(n){var q=null;if(n=="GEfc")q={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:bf.yQ("GlwE")}]}};
if(n=="LqFy"){var p={XF:5,rZ:5,map:new Float32Array(5*5*2)},E=new Uint8Array(d_.SY(p)),T=[];for(var R=0;
R<E.length;R++)T.push(E[R]);q={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:T}}}if(n=="rigidTransform"){q={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(n=="LnCr")q={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(n=="adaptCorrect")q={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(n=="Dfs ")q={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(n=="Fbrs")q={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(n=="Embs")q={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(n=="oilPaint")q={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(n=="TrcC")q={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(n=="Wnd ")q={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(n=="lightFilterGradient")q={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(n=="boxblur")q={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(n=="GsnB")q={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(n=="Bokh")q={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(n=="MtnB")q={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(n=="RdlB")q={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(n=="surfaceBlur")q={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(n=="Dspl")q={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(n=="Pnch")q={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(n=="Plr ")q={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(n=="Rple")q={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(n=="Shr ")q={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(n=="Sphr")q={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(n=="Twrl")q={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(n=="Wave")q={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(n=="ZgZg")q={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(n=="AdNs")q={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(n=="DstS")q={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(n=="Mdn ")q={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(n=="ClrH")q={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(n=="Crst")q={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(n=="Mztn")q={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(n=="Msc ")q={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(n=="Pntl")q={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(n=="LnsF")q={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(n=="smartSharpen")q={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(n=="UnsM")q={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(n=="HghP")q={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(n=="HsbP")q={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(n=="Mxm ")q={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(n=="Mnm ")q={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(n=="Ofst")q={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(n=="Rept")q={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(n=="Flam")q={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(n=="Ctoa")q={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(n=="brit")q={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(n=="levl")q={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(n=="curv")q={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(n=="expA")q={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(n=="vibA")q={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(n=="hue2")q={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(n=="blnc")q={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(n=="blwh")q={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(n=="phfl")q={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(n=="grdm")q={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(iq.FT[6]).Grad};
if(n=="selc")q={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(n=="thrs")q={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(n=="mixr")q={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(n=="clrL")q={__name:"Color Lookup",classID:"colorLookup"};if(n=="post")q={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(n=="rplc")q={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(n=="fade")q={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(n=="aply")q={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(n=="blendOptions")q={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return q};fU.ti={sFlam:function(n,q){q[0]=n.Type.v;q[1]=n.Leng.v;q[2]=n.RndL.v;q[3]=n.Widt.v;q[4]=n.Angl.v;
q[5]=n.Intr.v;q[6]=n.Adpt.v;q[7]=n.Clr.v;q[8]=n.Qual.v;q[9]=n.Turb.v;q[10]=n.Jag.v;q[11]=n.Opct.v.val;
q[12]=n.Lins.v;q[13]=n.Botm.v;q[14]=n.Styl.v;q[15]=n.Shap.v;q[16]=n.RnSh.v;q[17]=n.Arng.v},gFlam:function(n,q){n.Type.v=q[0];
n.Leng.v=q[1];n.RndL.v=q[2];n.Widt.v=q[3];n.Angl.v=q[4];n.Intr.v=q[5];n.Adpt.v=q[6];n.Clr.v=q[7];n.Qual.v=q[8];
n.Turb.v=q[9];n.Jag.v=q[10];n.Opct.v.val=q[11];n.Lins.v=q[12];n.Botm.v=q[13];n.Styl.v=q[14];n.Shap.v=q[15];
n.RnSh.v=q[16];n.Arng.v=q[17]},sAdNs:function(n,q){q[0]=n.Nose.v.val;q[1]=["Gsn","Unfr"].indexOf(n.Dstr.v.Dstr);
q[2]=n.Mnch.v},gAdNs:function(n,q){n.Nose.v.val=q[0];n.Dstr.v.Dstr=["Gsn","Unfr"][q[1]];n.Mnch.v=q[2]},sDstS:function(n,q){q[0]=n.Rds.v;
q[1]=n.Thsh.v},gDstS:function(n,q){n.Rds.v=q[0];n.Thsh.v=q[1]},sGsnB:function(n,q){q[0]=n.Rds.v.val},gGsnB:function(n,q){n.Rds.v.val=q[0]},sHghP:function(n,q){q[0]=n.Rds.v.val},gHghP:function(n,q){n.Rds.v.val=q[0]},sHsbP:function(n,q){var p=["RGBC","HSBl","HSLC"];
q[0]=p.indexOf(n.Inpt.v.ClrS);q[1]=p.indexOf(n.Otpt.v.ClrS)},gHsbP:function(n,q){var p=["RGBC","HSBl","HSLC"];
n.Inpt.v.ClrS=p[q[0]];n.Otpt.v.ClrS=p[q[1]]},"sMxm ":function(n,q){var p="preserveShape";q[0]=n.Rds.v.val;
q[1]=n[p]?["squareness","Rndn"].indexOf(n[p].v[p]):0},"gMxm ":function(n,q){var p="preserveShape";n.Rds.v.val=q[0];
n[p]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},"sMnm ":function(n,q){var p="preserveShape";
q[0]=n.Rds.v.val;q[1]=n[p]?["squareness","Rndn"].indexOf(n[p].v[p]):0},"gMnm ":function(n,q){var p="preserveShape";
n.Rds.v.val=q[0];n[p]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},sMtnB:function(n,q){q[0]=[n.Angl.v];
q[1]=n.Dstn.v.val;console.log(q)},gMtnB:function(n,q){n.Angl.v=typeof q[0]=="number"?q[0]:q[0][0];n.Dstn.v.val=q[1]},sOfst:function(n,q){q[0]=n.Hrzn.v;
q[1]=n.Vrtc.v;q[2]=["Rpt","Bckg","Wrp"].indexOf(n.Fl.v.FlMd)},gOfst:function(n,q){n.Hrzn.v=q[0];n.Vrtc.v=q[1];
n.Fl.v.FlMd=["Rpt","Bckg","Wrp"][q[2]]},sPnch:function(n,q){q[0]=n.Amnt.v},gPnch:function(n,q){n.Amnt.v=q[0]},"sPlr ":function(n,q){q[0]=["RctP","PlrR"].indexOf(n.Cnvr.v.Cnvr)},"gPlr ":function(n,q){n.Cnvr.v.Cnvr=["RctP","PlrR"][q[0]]},sRple:function(n,q){q[0]=n.Amnt.v;
q[1]=["Sml","Mdm","Lrg"].indexOf(n.RplS.v.RplS)},gRple:function(n,q){n.Amnt.v=q[0];n.RplS.v.RplS=["Sml","Mdm","Lrg"][q[1]]},sTwrl:function(n,q){q[0]=n.Angl.v},gTwrl:function(n,q){n.Angl.v=q[0]},sZgZg:function(n,q){q[0]=n.Amnt.v;
q[1]=n.NmbR.v;q[2]=["ArnC","OtFr","PndR"].indexOf(n.ZZTy.v.ZZTy)},gZgZg:function(n,q){n.Amnt.v=q[0];
n.NmbR.v=q[1];n.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][q[2]]},sUnsM:function(n,q){q[0]=n.Amnt.v.val;q[1]=n.Rds.v.val;
q[2]=n.Thsh.v},gUnsM:function(n,q){n.Amnt.v.val=q[0];n.Rds.v.val=q[1];n.Thsh.v=q[2]}};fU.ao2=function(n){var q=new fc(0,0);
if(n.enab.v==!1)return q;var p=n.filterFXList.v;for(var R=0;R<p.length;R++){var E=p[R].v;if(E.enab.v==!1)continue;
var T=fU.UC(E),i=fU.Aw(T,E.Fltr?E.Fltr.v:null);if(i.x>q.x)q.x=i.x;if(i.y>q.y)q.y=i.y}return q};fU.Aw=function(n,q){var p=0,E=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(n)!=-1){var T=q.Rds.v.val;p=E=T*2.57}if(n=="MtnB")p=E=q.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(n)!=-1){p=E=1e4}if(n=="GEfc")return bf.Aw(q);
return new fc(Math.ceil(p),Math.ceil(E))};fU.u4=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
fU.ah=function(n,q){var p={_:q.ny>>16,q:q.ny>>8&255,X:q.ny&255},E={_:q.iu>>16,q:q.iu>>8&255,X:q.iu&255},T=fU.names[n];
if(T==null)T=iJ.names[n];var i=n;for(var H in iJ.Fi)if(iJ.Fi[H]==n)i=H;var Z={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:fE.get(T)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:j.f.iB(p)},BckC:{t:"Objc",v:j.f.iB(E)},filterID:{t:"long",v:i.length==4?u.abh(i):777}}},w=fU.yQ(n);
if(w)Z.v.Fltr={t:"Objc",v:w};return Z};fU.nQ=function(n,q,p,E){j.Gy(p);if(n<1){var T=Math.round(n*5),i=[1,2,1,2,[40,26,13,6,4,2][T],2,1,2,1];
i=j.wn.Jz(i);var H=p.slice(0);j.wn.W4(H,p,E.v,E.o,i,255)}else q(p,E,n);j.X8(p)};fU.alB=function(n,q,p,E){for(var R=0;
R<n.length;R++){p[R]=n[R]*(1/255);E[R]=0}FFT.fft2d(p,E);var T=q>>>1,i=16384,H=128,w=100;while(H<q){H<<=1;
i<<=2}var Z=255/Math.log(i),d=-100;for(var O=0;O<q;O++)for(var W=0;W<T;W++){var C=q+T+O&q-1,a=p[C*q+W],B=E[C*q+W],$=Math.sqrt(a*a+B*B),I=Math.atan2(B,a);
n[O*q+W]=Math.round(Z*Math.log($+1));n[O*q+T+W]=Math.round((Math.PI+I)*(255*.5/Math.PI))}};fU.afj=function(n,q,p,E){p.fill(0);
E.fill(0);var T=q>>>1,i=16384,H=128;while(H<q){H<<=1;i<<=2}var Z=255/Math.log(i),w=[],d=[],O=[];for(var R=0;
R<256;R++){w[R]=Math.exp(R/Z)-1;var W=R*(2*Math.PI/255)-Math.PI;d[R]=Math.sin(W);O[R]=Math.cos(W)}for(var C=0;
C<q;C++)for(var a=0;a<T;a++){var B=q+T+C&q-1,$=w[n[C*q+a]],W=n[C*q+T+a],I=$*O[W],x=$*d[W];p[B*q+a]=I;
E[B*q+a]=x;if(a!=0){var U=B==0?B*q+q-a:(q-B)*q+(q-a);p[U]=I;E[U]=-x}}FFT.ifft2d(p,E);for(var R=0;R<n.length;
R++){n[R]=Math.max(0,Math.min(255,~~(.5+255*p[R])))}};fU.Ek=new ArrayBuffer(512);fU.a2J=function(n){var q=fU.Ek,p=n.length;
if(q.byteLength<p)fU.Ek=q=new ArrayBuffer(p);var E=new Uint8Array(q);for(var R=0;R<p;R+=4){E[R]=n[R];
E[R+1]=n[R+1];E[R+2]=n[R+2];E[R+3]=n[R+3]}return q};fU._g=function(n,q,p,E,T,i,H){if(i==null)i={buffer:j.U(q.buffer.length),rect:q.rect.clone()};
j.Sa(q.buffer,i.buffer);var Z=p&&p.RndS?p.RndS.v>>>1:0;if(n=="GEfc"){var w=[];if(p.GEfs){var d=p.GEfs.v;
for(var R=0;R<d.length;R++){var O=d[R].v;if(O.GELv&&O.GELv.v==!1)continue;w.push(O)}}else w=[p];for(var R=0;
R<w.length;R++){var W;if(R==0)bf._g(n,q,w[R],E,T,i,H);else{if(W==null)W={buffer:j.U(q.buffer.length),rect:q.rect.clone()};
j.Sa(i.buffer,W.buffer);bf._g(n,W,w[R],E,T,i,H)}}}if(n=="adaptCorrect"){var C=q.rect,a=C.v,B=C.o,$=a*B,I=$*4,x=p.sdwM.v,U=x.Amnt.v.val/100,N=x.Wdth.v.val/100,m=x.Rds.v,f=p.hglM.v,c=f.Amnt.v.val/100,D=f.Wdth.v.val/100,z=f.Rds.v;
j.TM.aqT(q.buffer,i.buffer,a,B,U,N,m,c,D,z,p.ClrC.v/100,p.Cntr.v/100)}if(n=="HsbP"){var _=p.Inpt.v.ClrS,v=p.Otpt.v.ClrS,C=q.rect,a=C.v,B=C.o,$=a*B;
for(var R=0;R<$;R++){var o=R*4,y=q.buffer[o]*(1/255),k=q.buffer[o+1]*(1/255),L=q.buffer[o+2]*(1/255);
if(_=="RGBC"){}else if(_=="HSLC"){var X=j.G5(y,k,L);y=X._;k=X.q;L=X.X}else if(_=="HSBl"){var X=j.abA(y,k,L);
y=X._;k=X.q;L=X.X}var s=y,M=k,V=L;if(v=="RGBC"){}else if(v=="HSLC"){var X=j.JF(y,k,L);s=X.rZ;M=X.dd;
V=X.Nb}else if(v=="HSBl"){var X=j.abW(y,k,L);s=X.rZ;M=X.dd;V=X.X}i.buffer[o]=~~(255*s);i.buffer[o+1]=~~(255*M);
i.buffer[o+2]=~~(255*V)}}if(n=="Fbrs"){var C=q.rect,a=C.v,B=C.o;j.d.a4_(q.buffer,a,B,i.buffer,[p.Vrnc.v,p.Strg.v,Z]);
var l=j.U(a*B);j.J2(i.buffer,l,0);j.z3(l);bf.$i(l,i.buffer,E,T)}if(n=="Frgm"){var C=q.rect,a=C.v,B=C.o,e=q.buffer.slice(0);
j.Gy(e);j.d.anh(e,a,B,i.buffer);j.X8(i.buffer)}if(n=="Flam"){var C=q.rect,a=C.v,B=C.o,Y=p.Clr.v,J={type:p.Type.v+1,length:p.Leng.v,a7R:p.RndL.v,vT:p.Widt.v,a6X:p.Angl.v,a37:p.Intr.v,anA:p.Adpt.v,color:{_:Y.Rd.v,q:Y.Grn.v,X:Y.Bl.v},w8:p.Qual.v+1,I2:p.Turb.v,EE:p.Jag.v,opacity:p.Opct.v.val,EI:p.Lins.v,aeu:p.Botm.v,style:p.Styl.v+1,shape:p.Shap.v+1,a8S:p.RnSh.v,a6m:p.Arng.v,a1S:!1},G=H[3],F=G[0],b=G[1],h=F[b.length!=0?b[0]:0];
if(h==null){alert("Make a path first");return}var bj=h.add.vmsk.Q,i4=j.G.ji(bj),t=[];for(var aG=0;aG<i4;
aG++){var Q=j.G.HC(bj,aG),jd=bj[Q];if(jd.length<2)continue;var bP=[];t.push(bP);var gz=jd.length-(jd.type==3?1:0);
for(var fZ=0;fZ<gz;fZ++){var dt=bj[Q+1+fZ],a9=fZ==jd.length-1?bj[Q+1]:bj[Q+1+fZ+1],bi=dt.L,az=dt.OR,hd=a9.m5,aB=a9.L,cv=Math.round(fc.vu(bi,aB)/5);
for(var c$=0;c$<cv;c$++){var cT=c$/cv,fp=1-cT,cD=fp*fp*fp*bi.x+3*fp*fp*cT*az.x+3*fp*cT*cT*hd.x+cT*cT*cT*aB.x,f_=fp*fp*fp*bi.y+3*fp*fp*cT*az.y+3*fp*cT*cT*hd.y+cT*cT*cT*aB.y;
bP.push(cD,f_)}}}var f9=[t,J],dO=Date.now(),a6=fd(f9);j9(q.buffer,a,B,i.buffer,a6,f9)}if(n=="Dfs "){var C=q.rect,a=C.v,B=C.o,hb=["Nrml","DrkO","LghO","anisotropic"].indexOf(p.Md.v.DfsM);
if(hb<3)j.d.a4V(q.buffer,a,B,i.buffer,[hb]);else{var f9=[1.4,1.6,1,4,!1,2,[0,0,.001]],C=q.rect.clone();
C.x=C.y=0;j.jn.filter(q.buffer,C,i.buffer,f9)}}if(n=="TrcC"){var C=q.rect,a=C.v,jr=a<<2,B=C.o,dh=p.Lvl.v,jq=p.Edg.v.CntE=="Lwr",g3=q.buffer,c6=i.buffer;
j.nz(c6,16777215,4278190080);function cd(h7,gx){cV(h7,gx);cV(h7+1,gx+1);cV(h7+2,gx+2)}function jn(h7,gx){fM(h7,gx);
fM(h7+1,gx+1);fM(h7+2,gx+2)}function cV(h7,gx){var s=g3[h7],M=g3[gx];if(s>=dh&&M<dh)c6[h7]=0;if(s<dh&&M>=dh)c6[gx]=0}function fM(h7,gx){var s=g3[h7],M=g3[gx];
if(s>dh&&M<=dh)c6[gx]=0;if(s<=dh&&M>dh)c6[h7]=0}if(jq)for(var f_=1;f_<B;f_++)for(var cD=1;cD<a;cD++){var o=f_*a+cD<<2;
cd(o,o-4);cd(o,o-jr)}else for(var f_=1;f_<B;f_++)for(var cD=1;cD<a;cD++){var o=f_*a+cD<<2;jn(o,o-4);
jn(o,o-jr)}}if(n=="Embs"){var C=q.rect,a=C.v,B=C.o,bE=-p.Angl.v*Math.PI/180,gU=p.Hght.v,g6=p.Amnt.v/100;
gU/=2;var cu=Math.cos(bE)*gU,f5=Math.sin(bE)*gU,g3=q.buffer,c6=i.buffer;c6.fill(0);var iP=new Uint32Array(g3.buffer),X=new Uint8Array(4),id=new Uint32Array(X.buffer);
for(var f_=0;f_<B;f_++)for(var cD=0;cD<a;cD++){var aY=0,fT=0,h8=0;if(0<=cD+cu&&cD+cu<a&&0<=f_+f5&&f_+f5<B){j.V.ET(cD+cu+.5,f_+f5+.5,iP,a,B,id,0,0);
aY+=X[0]-128;fT+=X[1]-128;h8+=X[2]-128}if(0<=cD-cu&&cD-cu<a&&0<=f_-f5&&f_-f5<B){j.V.ET(cD-cu+.5,f_-f5+.5,iP,a,B,id,0,0);
aY-=X[0]-128;fT-=X[1]-128;h8-=X[2]-128}var o=f_*a+cD<<2;c6[o]=Math.max(0,Math.min(255,aY*g6+128));c6[o+1]=Math.max(0,Math.min(255,fT*g6+128));
c6[o+2]=Math.max(0,Math.min(255,h8*g6+128));c6[o+3]=g3[o+3]}}if(n=="ShrE"){var C=q.rect,a=C.v,B=C.o;
j.d.aht(q.buffer,a,B,i.buffer)}if(n=="Dspc"){var C=q.rect,a=C.v,B=C.o;j.d.aiq(q.buffer,a,B,i.buffer)}if(n=="Slrz"){var jf=i.buffer,h2=128;
for(var R=0;R<jf.length;R+=4){if(jf[R]>h2)jf[R]=255-jf[R];if(jf[R+1]>h2)jf[R+1]=255-jf[R+1];if(jf[R+2]>h2)jf[R+2]=255-jf[R+2]}}if(n=="Wnd "){var C=q.rect,a=C.v,B=C.o,e9=["Wnd","Blst","Stgr"],ed=p.WndM.v.WndM;
j.d.ov(q.buffer,a,B,i.buffer,[e9.indexOf(ed),p.Drct.v.Drct!="Left"])}if(n=="Bokh"){var C=q.rect,a=C.v,B=C.o,$=a*B,I=$*4,bZ=q.buffer.slice(0),ji=p.BkDi.v.BtDi,a4=p.BkDc,eG=p.BkDp.v/255;
if(ji=="BeIn")eG=0;var e6=57*(.3+.7*((a+B)/2)/1750)*(p.BkIb.v/100)*(1+.2*Math.pow(eG,.1)),eR=parseInt(p.BkIs.v.BtIs.slice(3)),eH=-p.BkIr.v*Math.PI/180,eP=[];
for(var R=0;R<8;R++){var iE=eH+R*(Math.PI*2/eR),aR=eH+(R+1)*(Math.PI*2/eR),aq=Math.cos(iE),gv=Math.sin(iE),fL=Math.cos(aR),hq=Math.sin(aR),hz=[0,0,0];
j.Oc.TD([[aq,gv,1,0],[fL,hq,1,0],[1,1,1,1]],hz);if(hz[2]>0){hz[0]*=-1;hz[1]*=-1;hz[2]*=-1}eP.push(hz[0],hz[1],hz[2],0)}if(ji=="BeIn"){j.nz(bZ,0,16777215);
eG=1}else if(ji=="BeIt"&&a4.v.BtDc=="BeCt"){}else{var cy;if(ji=="BeIt"&&a4.v.BtDc=="BeCm")cy=H[1];else if(ji=="BeIa")cy=H[2][a4.v];
if(cy==null){j.nz(bZ,0,16777215)}else{var bX;if(cy.rect.rv(C))bX=cy.channel;else bX=cy.YH(C);j.yI(bX,bZ,3)}}if(K.pb){var is=bZ,dr=a,cx=B,g1=1,da=(p.BkSb.v==0||p.BkSt.v==255)&&ji=="BeIn";
if(!da){var aS=0;for(var R=0;R<I;R+=4)aS+=Math.abs(eG-bZ[R+3]*(1/255));aS=aS/$*e6;var iZ=3.14*aS*aS*a*B/3e6;
if(iZ>2e3){alert("too large radius");return}}while(da&&3*(e6/g1)*(e6/g1)*a*B>500*2e3*2e3){var hs=j.zZ(bZ,new eL(0,0,dr,cx));
bZ=hs.OT;dr=hs.rect.v;cx=hs.rect.o;g1*=2}var dO=Date.now(),aD=K.nt(0,dr,cx);aD.set(bZ);var iT=K.nt(1,a,B);
K.zJ(iT);K.filter.ZP({type:K.filter.a72,ZC:new Float32Array([1/dr,1/cx]),al7:eG,Lv:e6/g1,asD:new Float32Array([p.BkSb.v/100,p.BkSt.v/255]),amX:new Float32Array([p.BkNa.v/100,p.BkNt.v.BtNt=="BeNu"?0:1,p.BkNm.v?1:0]),a8I:new Float32Array(eP.slice(0,16)),a8A:new Float32Array(eP.slice(16))},aD.Mw);
iT.get(i.buffer);var fQ=i.buffer;for(var R=0;R<I;R+=4)fQ[R+3]=q.buffer[R+3]}}if(n=="rigidTransform"){var dO=Date.now(),fx=fU.a2J,aD=q.buffer.slice(0),aT=0,bp=0;
j.Gy(aD);j.nz(i.buffer,0);var a=q.rect.v,B=q.rect.o,i8=p.puppetShapeList.v,ho=[],aW=[],ic=[],iO=[];for(var fZ=0;
fZ<i8.length;fZ++){var co=i8[fZ].v,gR=aT*2,aA=bp*3,bK=co.originalVertexArray.v.length>>>2,c7=co.indexArray.v.length>>>2,eZ=new Float32Array(fx(co.originalVertexArray.v));
for(var R=0;R<bK;R++)ho[gR+R]=eZ[R];var dB=new Float32Array(fx(co.deformedVertexArray.v));for(var R=0;
R<bK;R++)aW[gR+R]=dB[R];var d8=new Uint32Array(fx(co.indexArray.v));for(var R=0;R<c7;R++)ic[aA+R]=aT+d8[R];
var dG=[],eU=[],f3=co.PnDp.v;for(var R=0;R<f3.length;R++){dG.push(co.pinVertexIndices.v[R].v);eU.push(f3[R].v)}var ft=j.Gr.ajm(eZ,d8,dG,eU);
for(var R=0;R<ft.length;R++)iO[aT+R]=ft[R];aT+=bK>>>1;bp+=~~(c7/3)}var y=q.rect,a=y.v,B=y.o;j.Gr.JS(aD,a,B,i.buffer,a,B,ho,aW,iO,ic);
j.X8(i.buffer)}if(n=="lightFilterGradient"){function fi(bi){var iH=1/Math.sqrt(bi[0]*bi[0]+bi[1]*bi[1]+bi[2]*bi[2]);
bi[0]*=iH;bi[1]*=iH;bi[2]*=iH}var a=q.rect.v,B=q.rect.o,$=a*B,dO=Date.now(),b0=j.U($),M=.3,V=.7;j.Eq(i.buffer,b0);
var dp=j.U($);j.Lw.BE(b0,dp,i.rect,16);var ee=j.U($);j.Lw.BE(b0,ee,i.rect,8);var dR=b0,d0=new Float32Array($),gS=p.Dtl.v,hl=gS[2].v,iR=gS[1].v,bI=gS[0].v,dW=p.Scl.v*40*p.textureScale.v/(hl+iR+bI);
hl*=dW;iR*=dW;bI*=dW;for(var R=0;R<$;R++){var iS=dp[R]*(1/255),dI=ee[R]*(1/255),gK=dR[R]*(1/255);gK=gK*gK;
d0[R]=hl*iS+iR*dI+bI*gK}var jp=p.blur.v;if(jp!=0){var hm=d0.slice(0);j.Lw.zy(hm,d0,i.rect,jp)}var gy=a-1,fu=B-1;
for(var f_=1;f_<fu;f_++)for(var cD=1;cD<gy;cD++){var R=f_*a+cD,o=R*4,ig=d0[R],cu=M*(d0[R+1]-ig)+V*(ig-d0[R-1]),f5=M*(d0[R+a]-ig)+V*(ig-d0[R-a]),bi=[1,0,cu],az=[0,1,f5];
fi(bi);fi(az);var aR=bi[0],gr=bi[2],ao=az[1],bz=az[2],h1=-gr*ao,aQ=-aR*bz,g4=aR*ao;i.buffer[o]=~~(127.5+h1*127.5);
i.buffer[o+1]=~~(127.5+aQ*127.5);i.buffer[o+2]=~~(127.5+g4*127.5)}}if(n=="dDFT"||n=="iDFT"){function eb(eR){if(eR==0)return 1;
eR--;eR|=eR>>1;eR|=eR>>2;eR|=eR>>4;eR|=eR>>8;eR|=eR>>16;return eR+1}var a=q.rect.v,B=q.rect.o,br=eb(Math.max(a,B)),aX=br>>>1,gk=new eL(0,0,br,br),gF=new eL(0,0,a,B);
gF.y=br-B>>>1;var eT=a>>>1,bw=new eL(0,gF.y,eT,B),h_=new j.U$(a*B);j.MF(q.buffer,h_);var dT=new Float64Array(br*br),a0=new Float64Array(br*br),bX=j.U(br*br);
FFT.init(br);var fr=[h_._,h_.q,h_.X];for(var R=0;R<3;R++){var ab=fr[R];bX.fill(0);if(n=="dDFT"){j.cg(ab,gF,bX,gk);
fU.alB(bX,br,dT,a0);j.cg(bX,gk,ab,gF,bw);bw.x+=eT;gk.x-=aX-eT;j.cg(bX,gk,ab,gF,bw);bw.x-=eT;gk.x+=aX-eT}else{j.cg(ab,gF,bX,gk,bw);
bw.x+=aX;gF.x+=aX-eT;j.cg(ab,gF,bX,gk,bw);bw.x-=aX;gF.x-=aX-eT;fU.afj(bX,br,dT,a0);j.cg(bX,gk,ab,gF)}}j.c2(h_,i.buffer)}if(n=="Avrg"){var fl=0,an=0,dV=0,fO=0,cM=1;
for(var R=0;R<q.buffer.length;R+=4){var as=q.buffer[R+3];dV+=q.buffer[R]*as;an+=q.buffer[R+1]*as;fl+=q.buffer[R+2]*as;
fO+=as}var a_=1/fO;fl=Math.round(cM*(fl*a_)+(1-cM)*255);an=Math.round(cM*(an*a_)+(1-cM)*255);dV=Math.round(cM*(dV*a_)+(1-cM)*255);
j.nz(i.buffer,fl<<16|an<<8|dV,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(n)!=-1){var c8=p.Rds.v.val,gl=n=="boxblur"?j.Lw.vd:j.Lw.akE;
fU.nQ(c8,gl,i.buffer,i.rect);if(n=="UnsM"||n=="smartSharpen"){var g6=p.Amnt.v.val/100,aZ=0;if(n=="UnsM")aZ=p.Thsh.v;
else g6*=.75;for(var R=0;R<q.buffer.length;R++){if((R&3)==3){i.buffer[R]=q.buffer[R];continue}var cc=q.buffer[R],hy=i.buffer[R],jk=g6*(cc-hy);
if(jk>0)jk=Math.max(0,jk-aZ);else jk=Math.min(0,jk+aZ);i.buffer[R]=Math.max(0,Math.min(255,cc+jk))}}if(n=="HghP")for(var R=0;
R<q.buffer.length;R++){if((R&3)==3){i.buffer[R]=q.buffer[R];continue}var cc=q.buffer[R],hy=i.buffer[R];
i.buffer[R]=Math.max(0,Math.min(255,128+cc-hy))}}if(n=="AdNs"){var h$=new Uint8ClampedArray(i.buffer.buffer),df=255*p.Nose.v.val/100,aa;
if(p.Dstr.v.Dstr=="Gsn")aa=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else aa=function(){return Math.random()*2-1};for(var R=0;R<h$.length;R+=4){var y=h$[R],k=h$[R+1],L=h$[R+2],fh,fR,ek;
if(p.Mnch.v){fh=fR=ek=aa()}else{fh=aa();fR=aa();ek=aa()}y+=df*fh;k+=df*fR;L+=df*ek;h$[R]=y;h$[R+1]=k;
h$[R+2]=L}}var dO=Date.now();if(n=="Mdn "||n=="DstS"||n=="Mxm "||n=="Mnm "||n=="surfaceBlur"){var y=0,eM=p.Thsh,co=0;
if(eM)eM=eM.v;else eM=0;if(n=="Mdn "||n=="Mxm "||n=="Mnm "||n=="surfaceBlur")y=p.Rds.v.val;else y=p.Rds.v;
var dP=p.preserveShape;if(dP&&dP.v.preserveShape=="Rndn")co=1;var a=q.rect.v,B=q.rect.o,bF=["Mnm ","Mxm ","surfaceBlur"].indexOf(n),dU=(co==0?1:.75)*[.73,.73,1][bF]*(a*B*y*y)/1722387,gP=[.73,.9,1.4][bF]*(a*B*Math.sqrt(y))/6500;
if(K.pb&&bF!=-1&&(dU<gP||co==1)&&dU<1500){var aD=K.nt(0,a,B);aD.set(q.buffer);var W=K.nt(1,a,B);K.zJ(W);
K.filter.ZP({type:K.filter.fz,ZC:new Float32Array([1/a,1/B]),Lv:y,ai$:eM/255,IQ:[co,bF,10*Math.ceil(y/10)]},aD.Mw);
W.get(i.buffer)}else{y=Math.round(y);j.gb.Fa=.5;var gl=j.gb.UZ;if(n=="Mxm ")gl=j.gb.bq;if(n=="Mnm ")gl=j.gb.YW;
if(n=="surfaceBlur")gl=j.gb.oX;j.gb.oB(q.buffer,i.buffer,a,B,y,gl,[eM]);if(n=="DstS")for(var R=0;R<a*B*4;
R++){var h5=Math.abs(q.buffer[R]-i.buffer[R]);if(h5<=eM)i.buffer[R]=q.buffer[R]}}}if(n=="ClrH"){var bw=q.rect.clone();
bw.x=bw.y=0;var y=p.Rds.v;y=Math.round(y*Math.sqrt(2));var a=bw.v,B=bw.o,h_=new j.U$(a*B);j.MF(q.buffer,h_);
j.z3(h_._);j.z3(h_.q);j.z3(h_.X);var gN=P.z("canvas","");gN.width=a;gN.height=B;var g_=gN.getContext("2d"),fQ=j.U(a*B*4);
for(var jb=0;jb<3;jb++){var bX=jb==0?h_._:jb==1?h_.q:h_.X,bE=Math.PI*p["Ang"+(jb+1)].v/180,g8=new b$(1/y,0,0,1/y,0,0);
g8.rotate(bE);j.yI(bX,fQ,3);var X=A.Z.i8([fQ,bw],g8,!0),gF=X.rect;g_.clearRect(0,0,a,B);var dM=Math.sin(bE),iI=Math.cos(bE);
for(var R=0;R<gF.o;R++)for(var c$=0;c$<gF.v;c$++){var cD=(c$+gF.x+.5)*y,f_=(R+gF.y+.5)*y,hV=cD,h9=f_;
cD=iI*hV-dM*h9;f_=dM*hV+iI*h9;var $=X.buffer[(R*gF.v+c$<<2)+3]*(1/255),c8=y*Math.sqrt($*(1/Math.PI));
g_.beginPath();g_.arc(cD,f_,c8,0,2*Math.PI);g_.fill()}var dz=g_.getImageData(0,0,a,B);j.J2(dz.data,bX,3)}j.z3(h_._);
j.z3(h_.q);j.z3(h_.X);j.c2(h_,i.buffer)}if(n=="Crst"||n=="Pntl"){var a=q.rect.v,B=q.rect.o,gl=n=="Crst"?j.sA.an9:j.sA.ao7;
gl(q.buffer,a,B,i.buffer,p.ClSz.v,[Math.round(T._),Math.round(T.q),Math.round(T.X)])}if(n=="Mztn"){var a=q.rect.v,B=q.rect.o,$=a*B,h_=new j.U$($),jm=[h_._,h_.q,h_.X];
j.MF(q.buffer,h_);var ed=p.MztT.v.MztT,aH={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ed],dO=Date.now(),eJ=[];
for(var R=0;R<$;R++){eJ[R]=Math.random()}var $=a*B,i3=Math.round($*aH[0]),ep=$-a-1;for(var R=0;R<i3;
R++){var bd=Math.random(),gY=1;if(bd<.5){gY=a;bd*=2}else bd=2*(bd-.5);var h7=Math.floor(bd*ep),gx=h7+gY;
eJ[h7]=eJ[gx]}var fq=Math.round(a*aH[1]);for(var f_=0;f_<B;f_++)for(var R=0;R<fq;R++){var bd=j.a.I8(f_*$+R),h7=f_*a+Math.floor(bd*(a-1));
eJ[h7]=eJ[h7+1]}var ir=new Float64Array(256);for(var R=0;R<256;R++){var dx=R/255,aE=2*(dx<.5?dx:1-dx);
aE=aH[2]+Math.pow(aE,aH[3])*(1-aH[2]);dx=dx<.5?aE*.5:1-aE*.5;ir[R]=dx}for(var b9=0;b9<3;b9++){var bX=jm[b9];
for(var f_=0;f_<B;f_++){for(var cD=0;cD<a;cD++){var R=f_*a+cD,af=bX[R],dx=ir[af],bd=eJ[R];bX[R]=bd>dx?0:255}}}j.c2(h_,i.buffer)}if(n=="Msc "){var i4=p.ClSz.v.val,a=q.rect.v,B=q.rect.o,gi=Math.ceil(a/i4),cK=Math.ceil(B/i4),gX=j.U(gi*cK*4);
j.scale.z_(q.buffer,a,B,gX,gi,cK,1/i4);j.scale.z_(gX,gi,cK,i.buffer,a,B,i4)}if(n=="Clds"||n=="DfrC"){var a=i.rect.v,B=i.rect.o,$=a*B,c_=j.U($);
if(n=="Clds")j.nz(i.buffer,4278190080);var eo=j.U(256*4);for(var R=0;R<256;R++){var o=R<<2,hZ=R/255,d8=1-hZ;
eo[o]=Math.round(hZ*E._+d8*T._);eo[o+1]=Math.round(hZ*E.q+d8*T.q);eo[o+2]=Math.round(hZ*E.X+d8*T.X)}j.d.acX(q.buffer,a,B,c_);
var i7=i.buffer;for(var R=0;R<$;R++){var o=R<<2,b9=c_[R]<<2,y=eo[b9],k=eo[b9+1],L=eo[b9+2];if(n=="Clds"){i7[o]=y;
i7[o+1]=k;i7[o+2]=L}else{i7[o]=Math.abs(i7[4*R]-y);i7[o+1]=Math.abs(i7[4*R+1]-k);i7[o+2]=Math.abs(i7[4*R+2]-L)}}}if(n=="LnsF"){var a=q.rect.v,B=q.rect.o,ed=["Zm","Nkn","Nkn1","PnVs"].indexOf(p.Lns.v.Lns),f0=p.FlrC.v,dj=[Math.min(ed,2),p.Brgh.v/100,f0.Hrzn.v,f0.Vrtc.v],dO=Date.now();
j.aei(q.buffer,a,B,i.buffer,dj)}var a8=["Blr ","BlrM","Shrp","ShrM"].indexOf(n);if(a8!=-1){var iC=a8>1,a=q.rect.v,B=q.rect.o,cb=j.wn.W$[a8],fC=q.buffer.slice(0);
if(!iC)j.Gy(fC);j.wn.W4(fC,i.buffer,a,B,cb,255,!1,iC);if(!iC)j.X8(i.buffer)}if(n=="MtnB"){var cC=-p.Angl.v*Math.PI/180,ik=p.Dstn.v.val/2,dO=Date.now(),a=q.rect.v,B=q.rect.o,C=q.rect.clone();
C.x=C.y=0;if(K.pb){var dO=Date.now(),gn=i.buffer;gn.set(q.buffer);j.Gy(gn);var g7=K.nt(0,a,B);g7.set(gn);
var g3=j.U(4);g3[0]=Math.round(128+127*Math.cos(cC));g3[1]=Math.round(128+127*Math.sin(cC));new Uint32Array(gn.buffer).fill(new Uint32Array(g3.buffer)[0]);
var cY=K.nt(1,a,B);cY.set(gn);K.zJ(g7,C);g7.d5(C);K.filter.ZP({type:K.filter.VR,Kh:cY.Mw,ZC:new Float32Array([1/a,1/B]),alx:ik/2,ao$:1},g7.j1);
g7.get(gn);j.X8(gn)}else{var g8=new b$;g8.rotate(cC);var X=A.Z.i8([q.buffer,q.rect],g8,!1,null,!0);fU.nQ(ik,j.Lw.aC,X.buffer,X.rect);
g8.z3();X=A.Z.i8([X.buffer,X.rect],g8,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-dO)}if(n=="RdlB"){var a=q.rect.v,B=q.rect.o,g6=p.Amnt.v,bv=p.BlrM.v.BlrM=="Zm",jb=p.Cntr.v,ah=jb.Hrzn.v,a7=jb.Vrtc.v,cu=Math.max(ah,1-ah)*a,f5=Math.max(a7,1-a7)*B,c8=Math.sqrt(cu*cu+f5*f5),bB=2*Math.PI*c8*1.5,bh=Math.round(bB),d2=Math.round(c8),bw=new eL(0,0,bh,d2),hE=j.U(bh*d2*4),cz=bv?4:1,eh=bv?.6:8*((a+B)/2)/1400,iz=.1,g1=1,d1=1;
j.V.L2(q.buffer,a,B,hE,bh,d2,ah,a7,cz,iz,g1,d1);var gj=bv?j.U(bh*d2*4):null;if(bv){j.V.O5(hE,gj,bh,d2);
var cT=gj;gj=hE;hE=cT;bw.v=d2;bw.o=bh}fU.nQ(eh*g6,j.Lw.aC,hE,bw);if(bv){j.V.O5(hE,gj,d2,bh);var cT=gj;
gj=hE;hE=cT;bw.v=bh;bw.o=d2}j.V.q_(hE,bh,d2,i.buffer,a,B,ah,a7,cz,iz,g1,d1)}if(n=="Plr "){var a=q.rect.v,B=q.rect.o;
if(p.Cnvr.v.Cnvr=="RctP")j.V.q_(q.buffer,a,B,i.buffer,a,B,.5,.5,1,0,2,a/B);else j.V.L2(q.buffer,a,B,i.buffer,a,B,.5,.5,1,0,2,a/B)}if(n=="FndE"){var a=q.rect.v,B=q.rect.o;
j.wn.wc(q.buffer,i.buffer,a,B)}if(n=="oilPaint"){var bE=p.LghD.v*Math.PI/180,b2=[Math.cos(bE),Math.sin(bE),.001],f9=[p.stylization.v,p.cleanliness.v,p.brushScale.v,p.microBrush.v,p.lightingOn.v,p.specularity.v,b2],C=q.rect.clone();
C.x=C.y=0;j.jn.filter(q.buffer,C,i.buffer,f9)}if(n=="Ofst"){var a=q.rect.v,B=q.rect.o,gE=new Uint32Array(q.buffer.buffer),dc=new Uint32Array(i.buffer.buffer),hV=p.Hrzn.v,h9=p.Vrtc.v,e3=p.Fl.v.FlMd;
j.nz(dc,0);if(e3=="Bckg"||e3=="Rpt"){var bw=q.rect.clone();bw.offset(hV,h9);j.hk(gE,bw,dc,i.rect)}if(e3=="Rpt"){var aq,gv,fL,hq,dQ;
hV=Math.max(-a,Math.min(a,hV));h9=Math.max(-B,Math.min(B,h9));aq=hV>0?hV:0;fL=hV>0?a:a+hV;gv=h9>0?0:h9+B;
hq=h9>0?h9:B;dQ=h9>0?0:a*(B-1);for(var f_=gv;f_<hq;f_++)for(var cD=aq;cD<fL;cD++)dc[f_*a+cD]=gE[dQ+cD-hV];
aq=hV>0?0:a+hV;fL=hV>0?hV:a;gv=h9>0?h9:0;hq=h9>0?B:B+h9;dQ=hV>0?0:a-1;for(var f_=gv;f_<hq;f_++)for(var cD=aq;
cD<fL;cD++)dc[f_*a+cD]=gE[dQ+a*(f_-h9)];if(hV>=0&&h9>=0){aq=0;fL=hV;gv=0;hq=h9;dQ=0}if(hV>=0&&h9<0){aq=0;
fL=hV;gv=B+h9;hq=B;dQ=a*(B-1)}if(hV<0&&h9>=0){aq=a+hV;fL=a;gv=0;hq=h9;dQ=a-1}if(hV<0&&h9<0){aq=a+hV;
fL=a;gv=B+h9;hq=B;dQ=a*B-1}for(var f_=gv;f_<hq;f_++)for(var cD=aq;cD<fL;cD++)dc[f_*a+cD]=gE[dQ]}if(e3=="Wrp"){hV=(hV+100*a)%a;
h9=(h9+100*B)%B;var bw=new eL(hV-a,h9-B,a,B);j.hk(gE,bw,dc,i.rect);bw.offset(a,0);j.hk(gE,bw,dc,i.rect);
bw.offset(0,B);j.hk(gE,bw,dc,i.rect);bw.offset(-a,0);j.hk(gE,bw,dc,i.rect)}}if(n=="Rept"){var ex=p.Rsft.v.val/100,hh=p.SpcX.v.val/100;
hh=Math.max(hh,-.99);var bx=p.SpcY.v.val/100;bx=Math.max(bx,-.99);var g1=p.Scl.v.val/100,g8=new b$;g8.rotate(p.Angl.v*Math.PI/180);
g8.scale(g1,g1);var b_={buffer:q.buffer,rect:q.rect};j.x0(b_);if(b_.rect.M6()){b_.buffer=q.buffer;b_.rect=q.rect}var i7=b_.buffer,bw=b_.rect,f7=j.XU(i7,bw,0),bO=new Uint32Array(i7.buffer)[0];
if(!f7.M6()&&!f7.rv(bw)){var dw=j.U(f7.P()*4);j.hk(i7,bw,dw,f7);i7=dw;bw=f7}bw.x=bw.y=0;bO=hh==0&&bx==0||p.SpcC.v?bO:0;
function hJ(cD){return cD<0?Math.ceil(cD):Math.floor(cD)}var dD=g8.i1(new fc(bw.v,0));dD.x=hJ(dD.x);
dD.y=hJ(dD.y);var hC=g8.i1(new fc(0,bw.o));hC.x=hJ(hC.x);hC.y=hJ(hC.y);var X=A.Z.i8([i7,bw],g8,!1),gF=X.rect,c6=X.buffer,cl=Math.round(gF.x),cE=Math.round(gF.y),hK=Math.max(i.rect.v,i.rect.o)/Math.min(bw.v*g1*(1+hh),bw.o*g1*(1+bx));
hK=Math.ceil(hK*1.7);j.nz(i.buffer,bO);for(var f_=-hK;f_<hK;f_++){for(var cD=-hK;cD<hK;cD++){var hS=(cD+f_*ex)*(1+hh),f4=f_*(1+bx);
gF.x=cl+Math.round(hS*dD.x+f4*hC.x);gF.y=cE+Math.round(hS*dD.y+f4*hC.y);if(gF.Y9(i.rect))j.a.Ef("norm",c6,gF,i.buffer,i.rect,gF,1)}}}if(n=="Ctoa"){var T=j.f.aV(p.Clr.v),eM=p.Trsp.v.val/100,fs=p.Opct.v.val/100;
eM=fs==0?0:eM/fs;var a=q.rect.v,B=q.rect.o,iW=~~T._,aC=~~T.q,ar=~~T.X,dQ=q.buffer,b3=i.buffer;for(var f_=0;
f_<B;f_++)for(var cD=0;cD<a;cD++){var R=f_*a+cD,o=R<<2,bw=dQ[o],e_=dQ[o+1],i7=dQ[o+2],dX=Math.abs(iW-bw),dS=Math.abs(aC-e_),c0=Math.abs(ar-i7),ck=Math.max(dX,dS,c0)*(1/255);
ck=Math.max(0,Math.min(1,ck/fs));var cG=ck==0?0:1/ck,bT=eM==1?1:Math.max(0,Math.min(1,(ck-eM)/(1-eM)));
b3[o]=Math.max(0,Math.min(255,(bw-iW*(1-ck))*cG));b3[o+1]=Math.max(0,Math.min(255,(e_-aC*(1-ck))*cG));
b3[o+2]=Math.max(0,Math.min(255,(i7-ar*(1-ck))*cG));b3[o+3]=~~(.5+bT*255)}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(n)!=-1){var ii=H[0],a=q.rect.v,B=q.rect.o,ir,dl=0;
if(n=="LqFy")ir=d_.U4(new Uint8Array(p.LqMe.v).buffer);else{var dC=3;ir={XF:Math.floor(a/dC),rZ:Math.floor(B/dC)};
ir.map=new Float32Array(ir.XF*ir.rZ*2);if(n=="LnCr"){var ah=.5*(ir.XF-1),a7=.5*(ir.rZ-1),b1=Math.max(Math.abs(0-ah),Math.abs(1-ah)),eq=Math.max(Math.abs(0-a7),Math.abs(1-a7)),hw=Math.sqrt(b1*b1+eq*eq),cS=0,fb=0,bt=-1,b8=2,g1=p.LnSi.v/100,bv=1/g1,iw=p.LnIa.v/100,i2=iw==0?1e-6:iw*4.6,aO=bv/hw;
for(var f_=0;f_<ir.rZ;f_++){for(var cD=0;cD<ir.XF;cD++){var cu=(cD-ah)*aO,f5=(f_-a7)*aO,y=Math.sqrt(cu*cu+f5*f5)*i2,go=Math.atan(y),c1=iw>0?go/y:y/go,d1=ah+hw*c1*cu,cH=a7+hw*c1*f5,R=f_*ir.XF+cD<<1;
ir.map[R]=d1-cD;ir.map[R+1]=cH-f_}}}else if(n=="Dspl"&&ii.length!=0){dl=p.UndA.v.UndA=="WrpA"?2:1;var fo=p.DspF.v.pth,by;
for(var R=0;R<ii.length;R++)if(ii[R].l5==fo)by=ii[R];if(by==null)by=ii[0];by.Zk();var dX=by.H5[1],ay=j.U(dX.P());
j.Eq(by.H5[0],ay);var fJ=dX.v,io=dX.o;ir={XF:fJ,rZ:io};ir.map=new Float32Array(ir.XF*ir.rZ*2);var am=2.54*p.HrzS.v*fJ/a,dE=2.54*p.VrtS.v*io/B;
for(var f_=0;f_<ir.rZ;f_++){for(var cD=0;cD<ir.XF;cD++){var h5=-.5+ay[f_*fJ+cD]*(1/255),R=f_*ir.XF+cD<<1;
ir.map[R]=h5*am;ir.map[R+1]=h5*dE}}}else if(n=="Pnch"||n=="Twrl"||n=="Sphr"||n=="ZgZg"){var g6=1,cC=Math.PI,i5=0,hR=1,ei=0,jb=3,i4=1.53,c1=1;
if(n=="Pnch"||n=="Sphr"||n=="ZgZg")g6=p.Amnt.v/100;if(n=="ZgZg"){hR=p.NmbR.v;ei=["ArnC","OtFr","PndR"].indexOf(p.ZZTy.v.ZZTy)}if(n=="Twrl")cC=p.Angl.v*Math.PI/180;
if(n=="Sphr")i5=["Nrml","HrzO","VrtO"].indexOf(p.SphM.v.SphM);function gl(cD){cD=Math.pow(cD,1-cD*.3-cD*cD*(cD*cD)*.5);
return-.225*Math.sin(cD*Math.PI)}function c5(B,iH,y,aq,gv,fL,hq,c1){var cu=fL-aq,f5=hq-gv,d$=aq-B,dJ=gv-iH,hZ=cu*cu+f5*f5,L=2*(cu*d$+f5*dJ),jb=d$*d$+dJ*dJ-y*y,hN=Math.sqrt(L*L-4*hZ*jb),ch=c1/(2*hZ),d9=(-L+hN)*ch,c4=(-L-hN)*ch;
return c1*Math.min(d9,c4)}var gi=ir.XF,cK=ir.rZ,gA=ir.XF/2,fu=ir.rZ/2,cO=1/gA,y=Math.sqrt(jb*jb+1)/jb,ab=jb+Math.sqrt(1/(jb*jb));
if(g6<0){jb=1.72;y=1;ab=jb;i4=-1;c1=-1}for(var f_=0;f_<cK;f_++){var f5=(f_-fu)/fu;for(var cD=0;cD<gi;
cD++){var cu=(cD-gA)*cO;if(i5==1)f5=0;else if(i5==2)cu=0;var fn=Math.sqrt(cu*cu+f5*f5);if(fn<1&&fn!=0){var R=f_*ir.XF+cD<<1;
if(n=="Pnch"){var a5=-g6*gl(fn)/fn;ir.map[R]=cu*a5*gA;ir.map[R+1]=f5*a5*fu}else if(n=="Sphr"){var cT=c5(0,ab,y,0,0,fn,jb,c1),cL=i4*g6*(cT-1);
ir.map[R]=cu*cL*gA;ir.map[R+1]=f5*cL*fu}else if(n=="Twrl"){var bE=Math.atan2(f5,cu)-cC*(1-fn)*(1-fn),ha=Math.cos(bE),e2=Math.sin(bE);
ir.map[R]=(fn*ha-cu)*gA;ir.map[R+1]=(fn*e2-f5)*fu}else if(n=="ZgZg"){var ha=0,e2=0,eI=g6*(.5-.5*Math.cos(fn*hR*2*Math.PI))*(1-fn);
if(ei==0){var bE=Math.atan2(f5,cu)-3.5*eI;ha=fn*Math.cos(bE);e2=fn*Math.sin(bE)}if(ei==1){eI=100/a*eI/fn;
ha=(1-eI)*cu;e2=(1-eI)*f5}if(ei==2){var gh=512/a*eI*Math.PI/4;ha=gh+cu;e2=gh+f5}ir.map[R]=(ha-cu)*gA;
ir.map[R+1]=(e2-f5)*fu}}}}}else if(n=="Shr "){var bj=JSON.parse(JSON.stringify(p.ShrP.v));j.A6.B(bj,new b$(0,255/127,255/127,0,-2,0));
var ev=j.A6.Cg(bj,ir.rZ,!0);dl=p.UndA.v.UndA=="WrpA"?2:1;for(var f_=0;f_<ir.rZ;f_++){var cu=-ev[f_]*ir.XF;
for(var cD=0;cD<ir.XF;cD++){var R=f_*ir.XF+cD<<1;ir.map[R]=cu}}}else if(n=="Wave"){var b4=p.NmbG.v,jo=p.WLMn.v,ff=p.WLMx.v,fN=p.AmMn.v*(Math.PI/4),j3=p.AmMx.v*(Math.PI/4),fD=p.SclH.v/100,bS=p.SclV.v/100,ed=p.Wvtp.v.Wvtp,eI=Math.sin;
if(ed=="WvTr")eI=function(cD){cD*=2/Math.PI;return-.5+Math.abs(cD%2-1)};if(ed=="WvSq")eI=function(cD){cD*=2/Math.PI;
return 1+2*Math.floor(cD%2-1)};var e1=[],cP=new j.a.hb(p.RndS.v);for(var R=0;R<b4;R++){e1.push(cP.get()*10);
e1.push(Math.PI*dC/(jo+cP.get()*(ff-jo)));e1.push(fD*(fN+cP.get()*(j3-fN))/dC);e1.push(cP.get()*10);
e1.push(Math.PI*dC/(jo+cP.get()*(ff-jo)));e1.push(bS*(fN+cP.get()*(j3-fN))/dC)}var dF=[],gu=[],ef=Math.max(ir.XF,ir.rZ);
for(var R=0;R<ef;R++){var cu=0,f5=0;for(var c$=0;c$<b4;c$++){var c9=c$*6;cu+=e1[c9+2]*eI(e1[c9]+R*e1[c9+1]);
f5+=e1[c9+5]*eI(e1[c9+3]+R*e1[c9+4])}dF[R]=f5;gu[R]=cu}for(var f_=0;f_<ir.rZ;f_++){for(var cD=0;cD<ir.XF;
cD++){var R=f_*ir.XF+cD<<1;ir.map[R]=gu[f_];ir.map[R+1]=dF[cD]}}dl=p.UndA.v.UndA=="WrpA"?2:1}else if(n=="Rple"){dl=1;
var g6=p.Amnt.v/100,iU=4,hB=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],eW=1,er=1,d$=0,bW=["Sml","Mdm","Lrg"].indexOf(p.RplS.v.RplS);
if(bW==0){eW=1;er=.2;d$=3}if(bW==2){eW=1;er=2;d$=-1;hB=hB.reverse()}var fY=function(cD,f_){var jb=Math.cos,dW=0;
for(var R=0;R<iU;R++)for(var c$=0;c$<iU;c$++)dW+=hB[R*iU+c$]*jb(cD*(R+d$)-f_*(c$+d$));return dW},db=Math.floor(50/dC),jc=new Float32Array(db*db*2),f2=er*g6*.5/dC;
for(var f_=0;f_<db;f_++)for(var cD=0;cD<db;cD++){var ah=eW*cD*2*Math.PI/db,a7=eW*f_*2*Math.PI/db,gL=fY(ah,a7),cu=(fY(ah+.01,a7)-gL)*100,f5=(fY(ah,a7+.01)-gL)*100,R=(f_*db+cD)*2;
jc[R]=cu*f2;jc[R+1]=f5*f2}for(var f_=0;f_<ir.rZ;f_++)for(var cD=0;cD<ir.XF;cD++){var e2=f_%db,ha=cD%db,R=f_*ir.XF+cD<<1,il=e2*db+ha<<1;
ir.map[R]=jc[il];ir.map[R+1]=jc[il+1]}}}j.Vv.Cc(q.buffer,i.buffer,a,B,null,ir.map,ir.XF,ir.rZ,dl)}return i};
var bf={};bf.rs="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");bf.BF="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
bf.qQ=["ScrC","ScrD","ScrL"];bf.LU=["SDRD","SDHz","SDLD","SDVt"];bf.JE="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
bf.lQ="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");bf.uh="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
bf.Wg={PntD:"paintDaubs"};bf.DJ=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];bf.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
bf.yQ=function(n){var q;if(n=="ClrP")q={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(n=="Ct")q={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(n=="DryB")q={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(n=="FlmG")q={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(n=="Frsc")q={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(n=="NGlw")q={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(n=="PntD")q={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(n=="PltK")q={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(n=="PlsW")q={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(n=="PstE")q={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(n=="RghP")q={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(n=="SmdS")q={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(n=="Spng")q={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(n=="Undr")q={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(n=="Wtrc")q={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(n=="AccE")q={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(n=="AngS")q={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(n=="Crsh")q={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(n=="DrkS")q={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(n=="InkO")q={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(n=="Smie")q={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(n=="Spt")q={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(n=="SprS")q={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(n=="DfsG")q={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(n=="Gls")q={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(n=="OcnR")q={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(n=="BsRl")q={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(n=="ChlC")q={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(n=="Chrc")q={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(n=="Chrm")q={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(n=="CntC")q={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(n=="GraP")q={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(n=="HlfS")q={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(n=="NtPr")q={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(n=="Phtc")q={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(n=="Plst")q={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(n=="Rtcl")q={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(n=="Stmp")q={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(n=="TrnE")q={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(n=="WtrP")q={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(n=="GlwE")q={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(n=="Crql")q={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(n=="Grn")q={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(n=="MscT")q={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(n=="Ptch")q={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(n=="StnG")q={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(n=="Txtz")q={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
q.__name="Filter Gallery";q.classID="GEfc";q.GEfk={t:"enum",v:{GEft:n}};q.GELv={t:"bool",v:!0};return q};
bf.Ps=function(n,q){for(var R=0;R<q.length;R++)~~(q[R]=(n[4*R]+n[4*R+1]+n[4*R+2])*(1/3))};bf._g=function(n,q,p,E,T,i,H){n=p.GEfk.v.GEft;
var Z=q.rect,w=Z.v,d=Z.o,O=w*d,W=p.FlRs?p.FlRs.v>>>1:0;function C(c){return c._<<24|c.q<<16|c.X<<8|255}if(n=="ClrP")j.d.a0x(q.buffer,w,d,i.buffer,[p.Pncl.v,p.StrP.v,p.PprB.v]);
if(n=="Ct"){var a=p.NmbL.v,B=p.EdgS.v,$=UPNG.quantize(q.buffer.buffer,a*2);$={dm:$.inds,LW:$.plte};var I=Math.floor((w+d)*.015);
if(I!=0)j.fD.Pk($.dm,w,d,I);var x=new Uint8Array((w+2)*(d+2));j.cg($.dm,new eL(1,1,w,d),x,new eL(0,0,w+2,d+2));
var U=j.O.B$(x,w+2,d+2,B,!1),N=new b$(1,0,0,1,-1,-1);for(var R=0;R<U.length;R++)j.O.B(U[R].path.W,N,U[R].path.W);
var m=[],f=$.LW;for(var R=0;R<f.length;R++){var c=f[R].est.q;m.push({_:Math.round(255*c[0]),q:Math.round(255*c[1]),X:Math.round(255*c[2]),jS:Math.round(255*c[3])})}var D=j.vl(w,d);
for(var R=0;R<U.length;R++){var z=U[R],c=m[z.color];if(c.jS==0)continue;D.fillStyle="rgba("+c._+","+c.q+","+c.X+","+c.jS/255+")";
D.beginPath();Typr.U.pathToContext({crds:z.path.W,cmds:z.path.F},D);D.fill()}if(!Z.M6()){var _=D.getImageData(0,0,w,d);
j.Sa(_.data,i.buffer)}}if(n=="DryB")j.d.akw(q.buffer,w,d,i.buffer,[p.BrsS.v,p.BrsD.v,p.Txtr.v]);if(n=="FlmG")j.d.alg(q.buffer,w,d,i.buffer,[p.Grn.v,p.HghA.v,p.Intn.v,W]);
if(n=="Frsc")j.d.aaS(q.buffer,w,d,i.buffer,[p.BrsS.v,p.BrsD.v,p.Txtr.v]);if(n=="NGlw")j.d.a9S(q.buffer,w,d,i.buffer,[p.Sz.v,p.Brgh.v,C(j.f.aV(p.Clr.v)),C(E),C(T)]);
if(n=="PltK")j.d.al9(q.buffer,w,d,i.buffer,[p.StrS.v,p.StDt.v,p.Sftn.v]);if(n=="PstE")j.d.are(q.buffer,w,d,i.buffer,[p.EdgT.v,p.EdgI.v,p.Pstr.v]);
if(n=="RghP")j.d.abn(q.buffer,w,d,i.buffer,[p.StrL.v,p.StDt.v,bf.JE.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,bf.BF.indexOf(p.LghD.v.LghD),p.InvT.v]);
if(n=="SmdS")j.d.ash(q.buffer,w,d,i.buffer,[p.StrL.v,p.HghA.v,p.Intn.v,p.FlRs.v,W]);if(n=="Spng")j.d.ags(q.buffer,w,d,i.buffer,[p.BrsS.v,p.Dfnt.v,p.Smth.v,p.FlRs.v,W]);
if(n=="Undr")j.d.aah(q.buffer,w,d,i.buffer,[p.BrsS.v,p.TxtC.v,bf.JE.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,bf.BF.indexOf(p.LghD.v.LghD),p.InvT.v]);
if(n=="Wtrc")j.d.aaw(q.buffer,w,d,i.buffer,[p.BrsD.v,p.ShdI.v,p.Txtr.v]);if(n=="AccE")j.d.a8v(q.buffer,w,d,i.buffer,[p.EdgW.v,p.EdgB.v,p.Smth.v]);
if(n=="AngS")j.d.a0S(q.buffer,w,d,i.buffer,[p.DrcB.v,p.StrL.v,p.Shrp.v]);if(n=="Crsh")j.d.a1y(q.buffer,w,d,i.buffer,[p.StrL.v,p.Shrp.v,p.Strg.v]);
if(n=="DrkS")j.d.amG(q.buffer,w,d,i.buffer,[p.Blnc.v,p.BlcI.v,p.WhtI.v]);if(n=="InkO")j.d.aeC(q.buffer,w,d,i.buffer,[p.StrL.v,p.DrkI.v,p.LghI.v]);
if(n=="Smie")j.d.a8O(q.buffer,w,d,i.buffer,[p.StrW.v,p.StrP.v,p.Cntr.v]);if(n=="DfsG")j.d.a4h(q.buffer,w,d,i.buffer,[p.Grns.v,p.GlwA.v,p.ClrA.v,C(T),W]);
if(n=="CntC")j.d.afd(q.buffer,w,d,i.buffer,[p.FrgL.v,p.BckL.v,bf.JE.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,bf.BF.indexOf(p.LghD.v.LghD),p.InvT.v,C(T),C(E)]);
if(n=="ChlC")j.d.aqF(q.buffer,w,d,i.buffer,[p.ChrA.v,p.ChlA.v,p.StrP.v,W,C(T),C(E)]);var v=n=="GraP"||n=="Chrc"||n=="Plst"||n=="Rtcl"||n=="Stmp"||n=="TrnE";
if(v){var o=j.U(w*d);if(n=="GraP")j.d.a7Q(q.buffer,w,d,i.buffer,[p.StrL.v,p.LgDr.v,bf.LU.indexOf(p.SDir.v.StrD),W]);
if(n=="Chrc")j.d.a3r(q.buffer,w,d,i.buffer,[p.ChAm.v,p.Dtl.v,p.LgDr.v]);if(n=="Plst")j.d.a6H(q.buffer,w,d,i.buffer,[p.ImgB.v,bf.lQ.indexOf(p.LghP.v.LghP),p.Smth.v]);
if(n=="Rtcl")j.d.aii(q.buffer,w,d,i.buffer,[p.Dnst.v,p.BlcL.v,p.WhtL.v,W]);if(n=="Stmp")j.d.aa9(q.buffer,w,d,i.buffer,[p.LgDr.v,p.Smth.v]);
if(n=="TrnE")j.d.ahT(q.buffer,w,d,i.buffer,[p.ImgB.v,p.Smth.v,p.Cntr.v,W]);j.J2(i.buffer,o,0);bf.$i(o,i.buffer,E,T)}if(n=="NtPr")j.d.alJ(q.buffer,w,d,i.buffer,[p.ImgB.v,p.Grns.v,p.Rlf.v,C(E),C(T),W]);
if(n=="WtrP")j.d.adu(q.buffer,w,d,i.buffer,[p.FbrL.v,p.Brgh.v,p.Cntr.v,W>>>1]);if(n=="Crql")j.d.ao_(q.buffer,w,d,i.buffer,[p.CrcS.v,p.CrcD.v,p.CrcB.v,W]);
if(n=="Grn")j.d.a44(q.buffer,w,d,i.buffer,[p.Intn.v,bf.uh.indexOf(p.Grnt.v.Grnt),p.Cntr.v,C(E),C(T),W]);
if(n=="MscT")j.d.acJ(q.buffer,w,d,i.buffer,[p.TlSz.v,p.GrtW.v,p.LghG.v,W]);if(n=="Ptch")j.d.a6a(q.buffer,w,d,i.buffer,[p.SqrS.v,p.Rlf.v,W]);
if(n=="Phtc"){function y(cu,f5,Z,cx){j.Lw.ut(cu,f5,Z,cx);for(var R=0;R<O;R++)f5[R]=Math.max(0,Math.min(255,128+cu[R]-f5[R]))}var k=p.Dtl.v,S=p.Drkn.v,L=j.U(O);
j.Eq(q.buffer,L);var X=j.U(O);y(L,X,Z,1);var s=j.U(O);y(L,s,Z,k);for(var R=0;R<O;R++)L[R]=Math.max(0,Math.min(255,255-(X[R]-s[R])*S));
bf.$i(L,i.buffer,E,T)}if(n=="Spt"||n=="SprS"){var M,V=1,l=1;M={XF:Math.floor(w/l),rZ:Math.floor(d/l)};
M.map=new Float32Array(M.XF*M.rZ*2);var e=new j.a.hb(p.FlRs.v),Y=new Float32Array(8192),J=p.SprR.v,G=J<20?.018*J:.36+(J-20)*.128;
if(n=="SprS"){G=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][J]}for(var R=0;
R<8192;R++)Y[R]=(-1+2*e.get())*G*70;for(var F=0;F<d;F++)for(var b=0;b<w;b++){var h=F*w+b<<1;M.map[h]=Y[h%7919];
M.map[h+1]=Y[(h+1)%7919]}var bj=M.map.slice(0),i4=n=="Spt"?p.Smth.v-1:1;if(n=="Spt"&&i4!=0){bf.jN(M.map,bj,w,d,i4);
bf.bI(bj,M.map,w,d,i4)}if(n=="SprS"){var t=p.StrL.v>>>1,aG=t==0?2:1;bf.jN(M.map,bj,w,d,aG);bf.bI(bj,M.map,w,d,aG);
if(t!=0){var Q=bf.LU.indexOf(p.SDir.v.StrD),jd=[1,1,1,0][Q],bP=[-1,0,1,1][Q],gz=2*t+1,fZ=1/gz;for(var F=0;
F<d;F++)for(var b=0;b<w;b++){var h=F*w+b<<1,dt=0,a9=0;for(var R=0;R<gz;R++){var bi=Math.max(0,Math.min(w-1,b-(t+R)*jd)),az=Math.max(0,Math.min(d-1,F-(t+R)*bP)),hd=az*w+bi<<1;
dt+=M.map[hd];a9+=M.map[hd+1]}bj[h]=dt*fZ;bj[h+1]=a9*fZ}M.map=bj}}j.Vv.Cc(q.buffer,i.buffer,w,d,null,M.map,M.XF,M.rZ,V)}if(n=="BsRl"||n=="PlsW"||n=="Chrm"){var aB=Date.now(),cv=j.U(O),c$=cv.slice(0);
j.Eq(q.buffer,cv);var k=p.Dtl.v,cT=p.Smth.v;if(k!=15){j.Lw.BE(cv,c$,Z,Math.round((15-k)*.5));j.Sa(c$,cv)}var fp=1.4/w,cD=1.4/d,f_=new Float32Array(O),f9=new Float32Array(O),dO=new Float32Array(i.buffer.buffer);
for(var F=0;F<d;F++)for(var b=0;b<w;b++){var R=F*w+b,jd=b==w-1?cv[R]-cv[R-1]:cv[R+1]-cv[R],bP=F==d-1?cv[R]-cv[R-w]:cv[R+w]-cv[R],a6=b*fp-.7,hb=F*cD-.7;
f_[R]=jd==0?a6:jd*.4;f9[R]=bP==0?hb:bP*.4}if(n=="BsRl"){var jr=(2+bf.BF.indexOf(p.LghD.v.LghD))*Math.PI*.25,dt=Math.cos(jr);
if(Math.abs(dt)<.1)dt=0;dt=Math.sign(dt);var a9=Math.sin(jr);if(Math.abs(a9)<.1)a9=0;a9=Math.sign(a9);
var dh=1/(dt*dt+a9*a9);for(var F=0;F<d;F++)for(var b=0;b<w;b++){var R=F*w+b,jq=Math.max(-1,Math.min(1,dt*f_[R])),g3=Math.max(-1,Math.min(1,a9*f9[R]));
c$[R]=128+127*(jq+g3)*dh}if(cT!=1){j.Lw.BE(c$,cv,Z,Math.round((cT-1)*.5));j.Sa(cv,c$)}bf.$i(c$,i.buffer,E,T)}else{if(n=="Chrm")cT=5+cT;
if(cT>1)bf.nQ(f_,f9,dO,Z,cT-1);if(n=="PlsW"){var c6=new Uint8Array(f_.buffer);for(var R=0;R<O;R++){var cd=R<<2,jd=f_[R],bP=f9[R],jn=1/(Math.sqrt(1+jd*jd)*Math.sqrt(1+bP*bP)),cV=jn*jn,fM=cV*cV,c=~~(255*(fM*fM*cV));
c6[cd+0]=c;c6[cd+1]=c;c6[cd+2]=c;c6[cd+3]=c}i.buffer.set(q.buffer);j.a.Ef("norm",c6,Z,i.buffer,Z,Z,p.HghS.v/20)}else if(n=="Chrm"){var bE=i.buffer,gU=w>>>1,g6=d>>>1;
for(var R=0;R<O;R++){var cd=R<<2,jd=f_[R],bP=f9[R],cu={x:1,y:0,xh:jd};cU.VT(cu);var f5={x:0,y:1,xh:bP};
cU.VT(f5);var iP=cU.M8(cu,f5),id=1/iP.xh,aY=~~Math.max(0,Math.min(w-1,gU-iP.x*id*gU)),fT=~~Math.max(0,Math.min(d-1,g6-iP.y*id*g6)),c=cv[fT*w+aY];
bE[cd+0]=c;bE[cd+1]=c;bE[cd+2]=c}}}}if(n=="Gls"||n=="OcnR"||n=="Txtz"){var h8=n=="OcnR"?2:bf.JE.indexOf(p.TxtT.v.TxtT),jf=bf.yV(h8),h2=jf[0],cv=jf[1],e9=h2.v,ed=h2.o,gz=24,aR=0,aq,gv;
function bZ(f3,ft,fi){return~~(ji*(f3+ft)+8192)&127}var f_=new Float32Array(O),f9=new Float32Array(O),dO=new Float32Array(i.buffer.buffer),ji=n=="OcnR"?1/(1+(p.RplS.v-1)*.1):100/p.Scln.v;
if(h8==3)ji*=32/22.2;var aB=Date.now(),a4=ji,fp=1.4/w,cD=1.4/d;if(n=="Txtz"){a4*=1/255;gz=256}for(var F=0;
F<d;F++){var eG=bZ(F,Z.y,ed),az=eG+1&127;for(var b=0;b<w;b++){var R=F*w+b,e6=bZ(b,Z.x,e9),bi=e6+1&127,eH=0,eP=0,iE=0;
if(n=="Txtz"){eH=j.V.NI(ji*b,ji*F,cv,128,128);eP=j.V.NI(ji*b,ji*F+1,cv,128,128);iE=j.V.NI(ji*b+1,ji*F,cv,128,128)}else{eH=cv[eG*e9+e6];
eP=cv[az*e9+e6];iE=cv[eG*e9+bi]}f_[R]=Math.max(-gz,Math.min((iE-eH)*a4,gz));f9[R]=Math.max(-gz,Math.min((eP-eH)*a4,gz))}}if(n=="Txtz")bf.kf(f_,f9,dO,Z,6);
else bf.nQ(f_,f9,dO,Z,n=="Txtz"?1:n=="OcnR"?3.5/ji:p.Smth.v);if(n=="Txtz")aR=p.InvT.v?-1:1;else if(n=="Gls"){aR=[1,.4,.5,.5][h8]*(Math.exp(p.Dstr.v*.155)-1);
if(p.InvT.v)aR=-aR}else{aR=.5*(Math.exp(p.RplM.v*.155)-1)}var bE=i.buffer;if(n=="Txtz"){var jr=(2+bf.BF.indexOf(p.LghD.v.LghD))*Math.PI*.25,dt=Math.cos(jr),a9=Math.sin(jr);
aq={x:dt,y:a9,xh:0};cU.VT(aq);gv=p.Rlf.v;gv=gv/4+Math.max(0,(gv-35)*2)}function fL(cu,f5,hz){var iT=j.a.overF(f5,cu,1),f3=(1-hz)*cu+hz*(hz*f5+(1-hz)*iT);
return f3*255}for(var F=0;F<d;F++)for(var b=0;b<w;b++){var R=F*w+b,cd=R<<2,jd=f_[R],bP=f9[R],cu={x:1,y:0,xh:jd};
cU.VT(cu);var f5={x:0,y:1,xh:bP};cU.VT(f5);var iP=cU.M8(cu,f5);if(n=="Txtz"){var hq=cU.ahd(iP,aq)*aR,hz=1,c=1;
if(hq<0){c=0;hq=-hq}hz=Math.min(1,hq*gv);bE[cd+0]=~~fL(q.buffer[cd]*(1/255),c,hz);bE[cd+1]=~~fL(q.buffer[cd+1]*(1/255),c,hz);
bE[cd+2]=~~fL(q.buffer[cd+2]*(1/255),c,hz)}else{var id=aR/iP.xh,aY=~~Math.max(0,Math.min(w-1,b-iP.x*id)),fT=~~Math.max(0,Math.min(d-1,F-iP.y*id)),cy=fT*w+aY<<2;
bE[cd+0]=q.buffer[cy];bE[cd+1]=q.buffer[cy+1];bE[cd+2]=q.buffer[cy+2]}}}if(n=="PntD"){var bX=p.Shrp.v*.4,is=p.BrsT.v.BrsT,dr={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[is],cx=Math.round(p.Sz.v*.5);
j.gb.Fa=dr[0];var g1=j.gb.UZ;j.gb.oB(q.buffer,i.buffer,w,d,cx,g1,[]);var da=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
da=j.wn.Jz(da);var aS=i.buffer.slice(0);j.wn.W4(aS,i.buffer,w,d,da,0);for(var R=0;R<q.buffer.length;
R++){var iZ=i.buffer[R]-aS[R];i.buffer[R]=Math.max(0,Math.min(255,aS[R]+bX*iZ))}}if(n=="GlwE"){var hs=i.buffer.slice(0);
j.gb.Fa=.5;var g1=j.gb.UZ;j.gb.oB(q.buffer,hs,w,d,p.Smth.v>>>1,g1,[]);j.wn.wc(hs,i.buffer,w,d);j.Sa(i.buffer,hs);
j.z3(hs);j.nz(hs,4278190080,16777215);j.gb.oB(hs,i.buffer,w,d,p.EdgW.v>>>1,j.gb.bq,[]);var aD=p.EdgB.v/10;
for(var R=0;R<hs.length;R++){if((R&3)==3)continue;var iT=i.buffer[R];i.buffer[R]=Math.max(0,Math.min(255,iT*aD))}}if(n=="StnG"){j.sA.am0(q.buffer,w,d,i.buffer,p.ClSz.v,[Math.round(E._),Math.round(E.q),Math.round(E.X)],p.BrdT.v)}if(n=="HlfS"){var fQ=p.HlSz.v,fx=fQ*2+1,i8=p.Cntr.v,ho=bf.qQ.indexOf(p.ScrT.v.ScrT),O=w*d,aW=O*4,ic=j.U(O),iO=q.buffer,aA=0,bK=0;
bf.Ps(iO,ic);var aT=ic.slice(0);j.Lw.jg(aT,ic,Z,fQ);var bp=Math.PI/fx,co=new Float64Array(w),dt=new Float64Array(w),gR=new Float64Array(2*w);
for(var b=0;b<w;b++){var e6=(b-(w>>>1))*bp;co[b]=e6*e6;dt[b]=Math.cos(e6);var jd=b<<1;gR[jd]=Math.sin(jd*(1/4.5));
gR[jd+1]=Math.sin((jd+1)*(1/4.5))}for(var F=0;F<d;F++){var eG=(F-(d>>>1))*bp,a9=Math.cos(eG),c7=eG*eG;
for(var b=0;b<w;b++){var c=a9;if(ho==0){var eZ=.5+Math.sqrt(co[b]+c7)*4.5;c=gR[~~eZ]}else if(ho==1){c=dt[b]*a9}var R=F*w+b,dB=ic[R]*(.75+.25*c),hz=iO[(R<<2)+3]*(1/255),d8=Math.max(0,Math.min(255,~~dB));
aA+=d8*hz,bK+=hz;ic[R]=d8}}aA/=bK;var dG=128+1.26*(aA-128),aD=.08+.25*Math.abs((128-aA)/128),eU=1+aD*i8;
for(var R=0;R<O;R++){var dB=dG+(ic[R]-dG)*eU;ic[R]=Math.max(0,Math.min(255,~~dB))}if(i8>46)j.round(ic);
bf.$i(ic,i.buffer,E,T)}for(var R=0;R<q.buffer.length;R+=4)i.buffer[R+3]=q.buffer[R+3]};bf.$i=function(n,q,p,E){var T=n.length,i=p._,H=p.q,Z=p.X,w=E._,d=E.q,O=E.X;
for(var R=0;R<T;R++){var W=n[R]*(1/255),C=1-W,a=R<<2;q[a]=~~(i*C+w*W);q[a+1]=~~(H*C+d*W);q[a+2]=~~(Z*C+O*W)}};
bf.yV=function(n){if(n==6)n=2;var q="blocks canvas frosted tinylens brick burlap".split(" ")[n];if(bf.oa==null)bf.oa=[];
if(bf.oa[n]==null){var p,E;if(n==2){E=new eL(0,0,128,128);var T=fU.yQ("AdNs");T.Mnch.v=!0;T.Dstr.v.Dstr="Gsn";
T.Nose.v.val=50;var p=j.U(E.P()*4),i=p.slice(0);new Uint32Array(i.buffer).fill(4286611584);fU._g("AdNs",{buffer:i,rect:E},T,0,0,{buffer:p,rect:E})}else{var H=al.bG.get("tex/"+q,!0)[0];
E=H.Yd;p=new Uint8Array(H.data)}var Z=j.U(E.P());j.J2(p,Z,0);bf.oa[n]=[E,Z]}return bf.oa[n]};bf.nQ=function(n,q,p,E,T){if(T<=1){T=Math.round(T);
bf.kf(n,q,p,E,[1,16,4][T]);return}var i=T*.42;if(n){j.Lw.zy(n,p,E,i,3);n.set(p)}if(q){j.Lw.zy(q,p,E,i,3);
q.set(p)}};bf.kf=function(n,q,p,E,T){var i=j.wn.Jz([1,2,1,2,T,2,1,2,1]);if(n){p.set(n);j.wn.rK(n,p,E.v,E.o,i);
n.set(p)}if(q){p.set(q);j.wn.rK(q,p,E.v,E.o,i);q.set(p)}};bf.Aw=function(n){if(n==null)return new fc(0,0);
var q=0,p=n.GEfs?n.GEfs.v:[{v:n}];for(var R=0;R<p.length;R++){var E=p[R].v,i=1e4;if(E.GELv&&!E.GELv.v)continue;
var T=E.GEfk.v.GEft;if(T=="GlwE"||T=="Phtc"||T=="BsRl"||T=="PlsW"||T=="Chrm"||T=="Gls"||T=="OcnR")i=0;
q=Math.max(q,i)}return new fc(q,q)};bf.fS=function(n){var q=[0,0,0,0,0,0,0,0,0,0,0,0,0],p=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][n];
for(var R=0;R<13;R++){var E=R-6;q[R]=1/(p*Math.sqrt(2*Math.PI))*Math.exp(-.5*(E/p)*(E/p))}return q};
bf.jN=function(n,q,p,E,T){var i=bf.fS(T),H=6,Z=13;for(var w=0;w<E;w++)for(var d=0;d<p;d++){var O=w*p+d<<1,W=0,C=0;
for(var R=0;R<Z;R++){var a=d+R-H,B=a<0?0:a>=p?p-1:a,$=(w*p+B)*2,I=i[R];W+=I*n[$];C+=I*n[$+1]}q[O]=W;
q[O+1]=C}};bf.bI=function(n,q,p,E,T){var i=bf.fS(T),H=6,Z=13;for(var w=0;w<E;w++)for(var d=0;d<p;d++){var O=w*p+d<<1,W=0,C=0;
for(var R=0;R<Z;R++){var a=w+R-H,B=a<0?0:a>=E?E-1:a,$=(B*p+d)*2,I=i[R];W+=I*n[$];C+=I*n[$+1]}q[O]=W;
q[O+1]=C}};function d3(){}d3.BJ=[2,5,5,7,4,4];d3.hd="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
d3.Uc="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
d3.qn=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
d3.Zo=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
d3.JM=function(n){if(n=="passThrough")return"pass";return d3.hd[d3.Uc.indexOf(n)]};d3.g6=function(n){if(n=="pass")return"passThrough";
return d3.Uc[d3.hd.indexOf(n)]};d3.getName=function(n){return d3.qn[d3.hd.indexOf(n)]};function g(){this.rect=null;
this.Nl="norm";this.opacity=255;this.PJ=!1;this.GZ=0;this.tS=0;this.fK=!0;this.tA=[];for(var R=0;R<10;
R++)this.tA.push(0,0,255,255);this.name=null;this.add={};this.buffer=null;this.Qw=null;this.PR=null;
this.w=null;this.y9=null;this.a7a=30;this.SZ=g._e();this.asv=g._e();this.a02=g._e();this.aa_=g._e();
this.TL=0;this._i=!1;this.ns=null;this.wA=new g.TC}g._e=function(){var n=P.z("canvas");n.width=n.height=30;
return n.getContext("2d")};g.TC=function(){this.Bx=!0;this.bZ=!0;this.gj=j.U(0);this.aiP=j.U(0);this._E=null;
this.S9={};this.a7D=null;this.xS=null;this.SG=null;this.IX=null;this.eH=null;this.ZQ=null;this.bj=null;
this.Ij=null;this.pd=null;this.$A=null;this.It=null;this.ha=null;this.B6=!1};g.TC.prototype.os=function(){this.Bx=!1;
this.bZ=!1;this._E=null;this.B6=K.pb};g.TC.prototype.a1_=function(){cU.Oy(this.S9);this.gj=j.U(0);this.aiP=j.U(0);
if(this.IX)this.IX.delete();if(this.eH)this.eH.delete();this.IX=null;this.eH=null;var n=[this.ZQ,this.bj,this.Ij,this.pd,this.$A,this.It];
for(var R=0;R<6;R++)if(n[R]!=null&&n[R]instanceof K.U$)n[R].delete();this.ZQ=null;this.bj=null;this.Ij=null;
this.pd=null;this.$A=null;this.It=null};g.prototype.M=function(n){if(n==null)n=this.rect.clone();if(this.wA._E==null)this.wA._E=n;
else this.wA._E=this.wA._E.AL(n)};g.prototype.z7=function(){return this.add.lsct==fX.eV||this.add.lsct==fX.Ku};
g.prototype._m=function(){var n=this.add;return n.SoCo!=null||n.GdFl!=null||n.PtFl!=null};g.prototype.DW=function(){var n=this.add.lmfx;
if(n==null)return;var q=["GrFl","patternFill"];for(var R=0;R<q.length;R++){var p=iq.Da[iq.order.indexOf(q[R])],E=n[p].v;
if(E.length==0)continue;for(var T=0;T<E.length;T++){var i=E[T].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.wA.bZ=!0}}};
g.prototype.eE=function(){var n=this.w;if(this._m())n=this.u1();if(!K.pb)return n.D1();if(this.wA.eH==null||this.wA.Bx||K.pb!=this.wA.B6){if(this.wA.eH)this.wA.eH.delete();
this.wA.eH=new K.QS(n.UB().v,n.UB().o);this.wA.eH.set(n.D1())}return this.wA.eH};g.prototype.K3=function(n){var q=this.rect,p=this.buffer;
if(!K.pb){var E=this.bx(n,p,q);if(E){p=E.OT;q=E.rect}return p}if(this.wA._E!=null||K.pb!=this.wA.B6){var E=this.bx(n,p,q);
if(E){p=E.OT;q=E.rect}var T=q;if(K.pb!=this.wA.B6||this.wA.IX==null||this.wA.IX.v!=T.v||this.wA.IX.o!=T.o){if(this.wA.IX)this.wA.IX.delete();
this.wA.IX=new K.U$(T.v,T.o);this.wA.IX.set(p)}else{var i=this.wA._E.clone();i.offset(-q.x,-q.y);this.wA.IX.set(p,i)}}return this.wA.IX};
g.prototype.sc=function(){var n=this.w;if(this._m())n=this.u1();return n!=null&&n.isEnabled&&(!n.rect.M6()||n.aV()!=255)};
g.prototype.bx=function(n,q,p){if(this.Sr()){var E=this.vr(n);if(E.w&&E.w.isEnabled&&(!E.w.rect.M6()||E.w.color==0)){var T=this.add.SoLd.filterFX.v;
E.w.Cm=T.filterMaskDensity?T.filterMaskDensity.v:255;E.w.pR=T.filterMaskFeather?T.filterMaskFeather.v:0;
var i=E.buffer,H=E.rect;if(H.P()<p.P()){H=p;i=j.U(H.P()*4);j.hk(E.buffer,E.rect,i,H)}var Z=E.w.YH(p);
j.z3(Z);q=q.slice(0);j.a.ZH(i,H,q,p,Z,p,0,p,1);return{OT:q,rect:p}}}};g.prototype.a3Z=function(){var n={PN:!1,UO:!1,Yr:0,gX:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)n.UO=!0;if(this.u1()&&this.u1().isEnabled)n.PN=!0;if(n.PN&&n.UO){n.Yr=this.u1().rect.x-this.add.vmsk.u1().rect.x;
n.gX=this.u1().rect.y-this.add.vmsk.u1().rect.y}return n};g.prototype.VA=function(n){if(this.add.lsct==fX.ct)return;
var q=this,p=this.u1()!=null&&this.u1().zK,E=this.add.vmsk!=null&&this.add.vmsk.zK,T=this.a3Z(),i=JSON.stringify(T)!=this.wA.a7D||T.PN&&p||T.UO&&E;
if(i){if(T.UO){var H=this.add.vmsk.u1();if(T.PN){this.w=this.u1().LT(H);this.wA.xS=new fc(this.w.rect.x-this.u1().rect.x,this.w.rect.y-this.u1().rect.y)}else this.w=H}if(this.w)this.wA.Bx=!0;
if(this.w)this.wA.SG=new fc(this.rect.x-this.w.rect.x,this.rect.y-this.w.rect.y);if(T.PN)this.u1().zK=!1;
if(T.UO)this.add.vmsk.zK=!1;this.M()}else{if(T.PN&&T.UO){this.w.rect.x=this.u1().rect.x+this.wA.xS.x;
this.w.rect.y=this.u1().rect.y+this.wA.xS.y}}if(q._m()){this.$k(n)}if(q.pp()){var Z;if(this.w)Z=new fc(this.rect.x-this.w.rect.x,this.rect.y-this.w.rect.y);
if(this.w&&this.w.isEnabled&&(this.wA.SG==null||!Z.rv(this.wA.SG))){this.wA.SG=Z;this.M();this.wA.Bx=!0}}if(iJ.get(q.add)!=null)this.wA.Bx=!0;
this.wA.a7D=JSON.stringify(T)};g.prototype.$k=function(n){var q=this,p=q.add.vstk,E=new eL(0,0,n.v,n.o),T,i=q.add.vmsk?this.add.vmsk.u1():null,w=!0;
if(i&&i.isEnabled&&i.aV()==0)T=i.UB().clone();else T=E;var H=q.u1();if(H&&H.isEnabled&&H.aV()==0)T=T.O1(q.w.UB());
var Z=i&&p;if(p&&(!p.strokeEnabled.v||p.strokeStyleLineWidth.v.val==0))Z=!1;if(p&&!p.fillEnabled.v&&Z)w=!1;
var d=j.U(T.P()*4);if(w){if(q.add.SoCo)cU.eD(d,q.add.SoCo.Clr.v);if(q.add.GdFl){var O=i&&i.color==0?j.G.Sc(q.add.vmsk.Q,null,!0):null;
cU.kW(q.add.GdFl,d,T,n,null,O)}if(q.add.PtFl)cU.qb(q.add.PtFl,d,T,n.add.Patt,q.add.fxrp)}if(i){var W=i.Cm;
if(Z)i.Cm=255;var C=j.U(T.P());if(i.aV()!=0)C.fill(Math.round(i.aV()));if(i&&i.isEnabled){var a=i.UB(),B=i.D1();
if(a.rv(T))j.Sa(B,C);else j.cg(B,a,C,T)}if(q.add.SoCo&&w){j.yI(C,d,3)}else j.qF(C,T,d,T);if(Z)i.Cm=W}q.buffer=d;
q.rect=T;if(Z){var $=iq.DL.uO.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment),I=p.strokeStyleContent.v,x=iq.DL.LK.indexOf(I.classID),U=this.add.vmsk.u1(p);
if(q.rect.rv(E))q.rect=q.rect;else if($!=0){var N=q.rect.AL(U.UB()),m=j.U(N.P()*4);j.hk(q.buffer,q.rect,m,N);
q.buffer=m;q.rect=N}var W=U.Cm;U.Cm=255;var f=U.YH(q.rect);U.Cm=W;if(U.color==255)j.z3(f);var c=j.U(q.rect.P()*4);
if(x==0)cU.eD(c,I.Clr.v);if(x==1)cU.kW(I,c,q.rect,n,null,i.color==0?i.rect:null);if(x==2)cU.qb(I,c,q.rect,n.add.Patt,q.add.fxrp);
var D=p.strokeStyleOpacity.v.val/100;if(D!=1)j.gs(f,D);j.yI(f,c,3);if(U.color==255)$=2-$;if($==0){j.a.Ef("norm",c,q.rect,q.buffer,q.rect,q.rect,1);
j.qF(C,q.rect,q.buffer,q.rect)}if($==1){j.a.Ef("norm",c,q.rect,q.buffer,q.rect,q.rect,1)}if($==2){j.z3(C);
j.a.ZH(c,q.rect,q.buffer,q.rect,C,T,255,q.rect,1,!1);j.z3(C)}if(U.Cm!=255){var z=c.slice(0);j.nz(z,4278190080,16777215);
j.a.Ef("norm",z,q.rect,q.buffer,q.rect,q.rect,1-U.Cm/255)}W=i.Cm;i.Cm=255;this.aiP=i.YH(q.rect);i.Cm=W}this.M()};
g.prototype.Ze=function(n,q){var p=this,E=p.add.SoLd.Idnt.v,T=p.add.SoLd,i=j.O.Uh(A.Z.ZA(T.nonAffineTransform)),H=n.Fn(E,T.Crop?T.Crop.v:null,[i.v,i.o],T.Impr.v.classID);
if(H==null)return;var Z=H.H5;T.Sz.v.Wdth.v=Z[1].v;T.Sz.v.Hght.v=Z[1].o;var w=T.warp.v,d=A.Z.ZA(T.nonAffineTransform),O=j.V.EY(d,Z[1]);
if(w&&!j.bF.wO(w)){var i=j.O.Uh(j.bF.Bh(w)),W=i.x,C=i.y,a=1/i.v,B=1/i.o;O=j.V.EY(d);O=j.V.LT(O,[a,0,-W*a,0,B,-C*B,0,0])}var $=A.Z.MY(Z,q?0:1,O,w,null,null,null,q);
if($==null){p.buffer=j.U();p.rect=new eL}else if(p.Sr()){var I=p.vr(n);I.buffer=$.buffer;I.rect=$.rect.clone();
this.Is(n,q)}else{p.buffer=$.buffer;p.rect=$.rect}p.VA(n);p.M();n.M()};g.prototype.Is=function(n,q){if(q==null)q=!1;
var p=this.vr(n),E=this.add.SoLd.filterFX.v,T=fU.ao2(E),i=new eL(0,0,n.v,n.o),H=p.rect.AL(i),Z=p.rect.clone();
Z.ZU(T.x,T.y);var w={buffer:null,rect:H.O1(Z)};w.buffer=j.U(w.rect.P()*4);j.hk(p.buffer,p.rect,w.buffer,w.rect);
if(E.enab.v&&q==!1){var d=E.filterFXList.v;for(var R=0;R<d.length;R++){var O=d[R].v;if(O.enab.v==!1)continue;
var W=O.blendOptions.v,C=d3.JM(W.Md.v.BlnM),a=W.Opct.v.val/100,B=j.f.aV(O.FrgC.v),$=j.f.aV(O.BckC.v),I=fU.UC(O),x={buffer:j.U(w.buffer.length),rect:w.rect.clone()},U=O.Fltr?O.Fltr.v:null;
if(iJ.Fi[I]!=null){var N=iJ.Fi[I],m=iJ.cI(N,U);if(m)iJ._g(m,w.buffer,x.buffer,w.rect)}else fU._g(I,w,U,B,$,x,[n.add.lnk2?n.add.lnk2:[],this.u1(),n.v4]);
if(C=="norm"&&a==1)w=x;else if(C=="norm"){j.a.ZH(x.buffer,x.rect,w.buffer,w.rect,null,null,null,w.rect,a)}else{j.a.Ef(C,x.buffer,x.rect,w.buffer,w.rect,w.rect,a)}}}this.rect=w.rect;
this.buffer=w.buffer;this.aA();this.M();n.M()};g.prototype.qt=function(n,q,p){this.ns=this.xs(n,q,p)};
g.prototype.Iw=function(n,q){var p=this.xs(n,q,!0);if(p==null)return null;var E={wM:p.TL,hc:p.U_,rect:p.Qx};
if(E.wM==1||E.wM==3){var T=E.rect,i=j.U(T.v*T.o*4);j.yI(E.hc,i,0);j.yI(E.hc,i,1);j.yI(E.hc,i,2);j.vL(n.$.channel,n.$.rect,i,T);
E.hc=i}return E};g.prototype.xs=function(n,q,p){var E,T,i,H,Z,w,d;if(this.TL<=0){var O=j.U(this.rect.P());
j.J2(this.buffer,O,3);E=j.pB.RS(q,{channel:O,rect:this.rect},3);if(E==null)return null;var W=j.YA(E.channel,E.rect);
H=E.rect.clone();Z=this.rect.clone();T=j.U(H.P()*4);j.hk(this.buffer,Z,T,H);j.yI(E.channel,T,3);i=this.buffer.slice(0);
if(!p){var C=q.channel.slice(0);j.z3(C);j.qF(C,q.rect,i,Z)}w=this.buffer.slice(0);d=this.rect.clone()}if(this.TL==1||this.TL==3){var a=this.TL==1?this.u1():this.vr(n).w;
H=q.rect.clone();Z=a.rect.clone();T=a.hE(H);var i=a.channel.slice(0);if(!p)j.a.jG(a.color==255?j.xq(H.P()):j.Ji(H.P()),H,i,Z,q.channel,H,1);
w=a.channel.slice(0);d=a.rect.clone()}return{TL:this.TL,U_:T,Qx:H,C8:i,AO:Z,Nn:w,kT:d}};g.prototype.n6=function(n,q){var p=this.ns;
if(p.TL==0){this.rect=p.kT;this.buffer=p.Nn;this.M()}if(p.TL==1||p.TL==3){var E=p.TL==1?this.u1():this.vr(n).w;
E.channel=p.Nn;E.rect=p.kT;if(this.TL==1){E.zK=!0;this.VA(n)}if(this.TL==3)this.M()}this.ns=q};g.prototype.sM=function(n,q){if(this.TL<=0&&q.rect.rv(this.rect)){var p=j.U(this.rect.P());
j.J2(this.buffer,p,3);if(j.rv(n.$.channel,p)){var E=this.rect,T=this.buffer;this.ns={TL:this.TL,U_:T.slice(0),Qx:E.clone(),C8:j.U(0),AO:new eL,Nn:j.U(0),kT:new eL};
return!0}}var i=this.ns;if(i==null)return!1;if(i.TL!=this.TL)return!1;if(!q.rect.rv(i.Qx))return!1;var H=i.AO.AL(i.Qx);
if(i.TL<=0){if(!H.rv(this.rect))return!1;var Z=j.U(i.U_.length>>2);j.J2(i.U_,Z,3);if(!j.rv(q.channel,Z))return!1;
var w=j.U(H.v*H.o*4);j.hk(i.C8,i.AO,w,H);j.a.Ef("norm",i.U_,i.Qx,w,H,H,1);return j.rv(w,this.buffer)}if(i.TL==1||i.TL==3){var d=i.TL==1?this.u1():this.vr(n).w;
if(!H.rv(d.rect))return!1;var O=j.U(H.P());O.fill(d.color);j.cg(i.C8,i.AO,O,H);j.a.jG(i.U_,i.Qx,O,H,q.channel,H,1);
return j.rv(O,d.channel)}};g.prototype.ka=function(n,q,p,E){var T=this.ns;T.Qx.offset(q,p);var i=T.AO.AL(T.Qx);
if(T.TL<=0){var H=j.U(i.P()*4);j.hk(T.C8,T.AO,H,i);j.a.Ef("norm",T.U_,T.Qx,H,i,i,1);this.buffer=H;this.rect=i;
this.M()}else{var Z=this.TL==1?this.u1():this.vr(n).w,w=j.U(i.P());w.fill(Z.color);j.cg(T.C8,T.AO,w,i);
j.a.jG(T.U_,T.Qx,w,i,E.channel,i,1);Z.channel=w;Z.rect=i.clone();if(this.TL==1){Z.zK=!0;this.VA(n)}if(this.TL==3)this.M()}};
g.prototype.At=function(){var n=[-1,0,1,2];if(this.w)n.push(-2);if(this.y9)n.push(-3);return n};g.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
g.prototype.WR=function(eR){this.add.luni=this.name=eR};g.prototype.$Y=function(n){var q=this.add.lnsr,p=this.add.TySh;
if(q=="rend"&&p)this.WR(hx.Q2(p.Bd).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};g.prototype.Fp=function(){return(this.GZ&1<<1)==0};
g.prototype.pp=function(){return(this.GZ&1<<4)==0};g.prototype.kR=function(){return(this.GZ&1<<5)!=0};
g.prototype.anY=function(){var n=this;if(n.add.lnsr!="bgnd"){n.add.lnsr="bgnd";n.WR("Background");n.add.lspf=1<<2}};
g.prototype.aqM=function(){var n=this;if(n.add.lnsr=="bgnd"){delete n.add.lnsr;n.WR("Layer 0");n.add.lspf=0}};
g.prototype.d9=function(n){var q=this.add.lspf;return q==null?!1:(q>>n&1)!=0};g.prototype.c4=function(n){if(n&&!this.Fp())this.GZ-=2;
if(!n&&this.Fp())this.GZ+=2};g.prototype.Lc=function(){var n=this.add.lmfx;if(n==null)return!1;for(var q in n){if(q=="masterFXSwitch")continue;
if(q=="Scl")continue;if(q=="classID")continue;if(n[q].v.length>0)return!0}return!1};g.prototype.Sr=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
g.prototype.l1=function(){var n=this.add.lmfx;if(n==null)return!1;if(!n.masterFXSwitch.v)return!1;for(var q in n){if(q=="masterFXSwitch")continue;
if(q=="Scl")continue;if(q=="classID")continue;var p=n[q].v;for(var R=0;R<p.length;R++)if(p[R].v.enab.v)return!0}return!1};
g.prototype.XT=function(n,q,p,E){var T=new eL,i=this.Ie(n,p,E);if(i.indexOf(0)!=-1)T=T.AL(this.rect);
if(i.indexOf(1)!=-1){var H=this.u1(),Z=H.UB();T=p&&H.aV()==0?T.M6()?Z:T.O1(Z):T.AL(Z)}if(i.indexOf(2)!=-1){var w=this.add.vmsk,d;
if(q){if(w.Eg.length>1){var O=j.G.OO(w.Q,null,w.Eg);d=j.O.Uh(O)}else d=j.G.Sc(w.Q,w.p.length!=0?w.p:null)}else d=j.G.Sc(w.Q);
T=T.AL(d)}if(i.indexOf(3)!=-1)T=T.AL(this.vr(n).w.UB());if(i.length==0&&this._m())T=new eL(0,0,n.v,n.o);
return T};g.prototype.AU=function(){var n=this.add.artb,q=n.artboardBackgroundType.v,p=0;if(q==1)p=4294967295;
else if(q==2)p=4278190080;else if(q==3)p=0;else if(q==4){p=n.Clr.v;p=255<<24|p.Bl.v<<16|p.Grn.v<<8|p.Rd.v}else throw q;
return p};g.prototype.Kl=function(){var n=this.add.artb.artboardRect.v,q=n.Btom.v,p=n.Left.v,E=n.Rght.v,top=n.Top.v;
return new eL(p,top,E-p,q-top)};g.prototype.O$=function(n){var q=g.$U(n);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=q};g.$U=function(n){var q={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
q.Btom.v=n.y+n.o;q.Left.v=n.x;q.Rght.v=n.x+n.v;q.Top.v=n.y;return q};g.prototype.Ie=function(n,q,p){var E=[],T=this,i=this._i;
if(!q&&T._i&&p){E.push(2)}else if(T.TL<=0||q){if(T.pp())if(!this.rect.M6())E.push(0);if(T.u1()&&!T.u1().rect.M6())if(T.u1().$g||q)E.push(1);
if(T.add.vmsk)if(T.add.vmsk.$g||q)E.push(2);if(T.Sr()&&T.vr(n).w&&!T.vr(n).w.rect.M6())E.push(3)}else if(T.TL==1){E.push(1);
if(T.u1().$g&&!T.u1().rect.M6()){if(T.pp())if(!this.rect.M6())E.push(0);if(T.add.vmsk)if(T.add.vmsk.$g)E.push(2)}}else if(T.TL==3&&!T.vr(n).w.rect.M6())E.push(3);
if(T.add.artb&&E.indexOf(0)==-1)E.push(0);E.sort();return E};g.prototype.u1=function(){var n=this;return n.y9?n.y9:n.add.vmsk&&n.add.vmsk.isEnabled?null:n.w};
g.prototype.vr=function(n){var q=this.add.SoLd.placed.v,p=n.add.FEid;if(p==null)return null;for(var R=0;
R<p.length;R++)if(p[R].id==q)return p[R];return null};g.prototype.extend=function(n){j.aeM(this,n)};
g.prototype.Gq=function(n,q,p){var E=n.clone();if(this.l1()){var T=this.add.lmfx,i=q.root.io(q.h.indexOf(this)),H=T.gradientFillMulti.v,Z=!1;
for(var R=0;R<H.length;R++)if(H[R].v.enab.v&&H[R].v.Algn.v)Z=!0;if(Z)E=E.AL(i.UB(q,!1));var w=cU.a4I(this,q,p);
E.offset(w.x,w.y);E.v+=w.v;E.o+=w.o}return E};g.prototype.aA=function(){if(this.pp())j.x0(this);var n=this.u1();
if(n)n.aA()};g.prototype.clone=function(){var n=new g;n.rect=this.rect.clone();n.buffer=this.buffer.slice(0);
n.Nl=this.Nl;n.opacity=this.opacity;n.PJ=this.PJ;n.GZ=this.GZ;n.name=this.name;n.tA=this.tA.slice(0);
if(this.w)n.w=this.w.clone();if(this.y9)n.y9=this.y9.clone();for(var q in this.add)n.add[q]=dv.clone(q,this.add[q]);
return n};g.prototype.kB=function(n){var q=this;if(q.add.TySh)delete q.add.TySh;if(q.add.SoLd){var p=this.bx(n,this.buffer,this.rect);
if(p){this.buffer=p.OT;this.rect=p.rect;this.M()}delete q.add.SoLd}if(q.add.SoCo||q.add.GdFl||q.add.PtFl){if(q.add.vogk)delete q.add.vogk;
if(q.add.SoCo)delete q.add.SoCo;if(q.add.GdFl)delete q.add.GdFl;if(q.add.PtFl)delete q.add.PtFl;if(q.add.vmsk){console.log(q.y9,q.w);
delete q.add.vmsk;if(q.y9==null&&q.w)delete q.w;else if(q.y9!=null&&q.w!=null){q.w=q.y9;delete q.y9}}}if(!q.z7()&&iJ.get(q.add)==null&&!this.pp())this.GZ-=16};
g.prototype.dU=function(n){var q=255,p=0;if(n==2){var E=this.add.SoLd.filterFX.v;if(E.filterMaskDensity)q=E.filterMaskDensity.v;
if(E.filterMaskFeather)p=E.filterMaskFeather.v}else{var T=n==0?this.u1():this.add.vmsk;q=T.Cm;p=T.pR}return{TA:n,$N:q,mq:p}};
g.prototype.to=function(n){if(n.TA==2){var q=this.add.SoLd.filterFX.v;if(n.$N==255)delete q.filterMaskDensity;
else q.filterMaskDensity={t:"long",v:n.$N};if(n.mq==0)delete q.filterMaskFeather;else q.filterMaskFeather={t:"doub",v:n.mq};
this.M()}else{var p=n.TA==0?this.u1():this.add.vmsk;p.Cm=n.$N;p.pR=n.mq;p.zK=!0}};g.prototype.J0=function(){var n=this,q=n.add.vmsk;
if(q==null)return;n.add.vogk=g.J0(q.Q)};g.J0=function(n){var q=[],p=j.G.ji(n);for(var E=0;E<p;E++)q.push(j.k4.Ji());
return q};var fX={d$:0,eV:1,Ku:2,ct:3};g.JI=function(){this.name="Mask";this.Fk=!1;this.Q9={_:255,q:0,X:0};
this.Lm=50;this.hw=0;this.color=255;this.$g=!0;this.isEnabled=!0;this.DM=!1;this.Cm=255;this.pR=0;this.rect=new eL;
this.channel=j.U(0);this.l2=null;this.afP=null;this.zK=!0};g.JI.prototype.LT=function(n){if(!this.isEnabled)return n;
var q=new g.JI;q.color=Math.round(this.aV()*n.aV()/255);if(this.aV()==0&&n.aV()==0)q.rect=this.UB().O1(n.UB());
else if(n.aV()==0)q.rect=n.UB().clone();else if(this.aV()==0)q.rect=this.UB().clone();else q.rect=this.UB().AL(n.UB());
q.channel=this.YH(q.rect);q.Cm=255;q.pR=0;var p=n.YH(q.rect);j.a07(p,q.rect,q.channel,q.rect);return q};
g.JI.prototype.UB=function(){if(this.pR==0)return this.rect;var n=Math.ceil(this.pR*2.2),q=this.rect.clone();
q.ZU(n,n);return q};g.JI.prototype.D1=function(){if(this.pR==0&&this.Cm==255)return this.channel;if(this.pR==0){var n=this.channel.slice(0);
j.z3(n);j.gs(n,this.Cm/255);j.z3(n);return n}var q=this.UB(),p=this.hE(q),n=j.U(q.P());j.Lw.BE(p,n,q,this.pR);
if(this.Cm!=255){j.z3(n);j.gs(n,this.Cm/255);j.z3(n)}return n};g.JI.prototype.aV=function(){return Math.round(255-(255-this.color)*(this.Cm/255))};
g.JI.prototype.extend=function(n){j.extend(this,n,this.color)};g.JI.prototype.aA=function(){if(this.color==255)j.z3(this.channel);
j.aA(this);if(this.color==255)j.z3(this.channel)};g.JI.prototype.clone=function(){var n=new g.JI;n.name=this.name;
n.Fk=this.Fk;n.Q9=this.Q9;n.Lm=this.Lm;n.hw=this.hw;n.color=this.color;n.$g=this.$g;n.isEnabled=this.isEnabled;
n.DM=this.DM;n.Cm=this.Cm;n.pR=this.pR;n.rect=this.rect.clone();n.channel=this.channel.slice(0);return n};
g.JI.prototype.hE=function(n,q){if(q==null)q=j.U(n.P());q.fill(this.color);j.cg(this.channel,this.rect,q,n);
return q};g.JI.prototype.YH=function(n,q){var p=this.UB(),E=this.D1();if(q==null)q=j.U(n.P());q.fill(this.aV());
j.cg(E,p,q,n);return q};g.Xg=function(){this.$g=!0;this.isEnabled=!0;this.Cm=255;this.pR=0;this.Q=[{type:6},{type:8,all:0}];
this.yF=[-3,-3];this.eJ=!1;this.y9=null;this.zK=!0;this.p=[];this.Eg=[]};g.Xg.prototype.offset=function(n,q){this.y9=this.u1();
j.G.ra(this.Q,new b$(1,0,0,1,n,q));this.y9.rect.offset(n,q)};g.Xg.prototype.u1=function(n){if(!this.zK&&this.y9&&n==null){this.y9.isEnabled=this.isEnabled;
return this.y9}var q=j.G.Sc(this.Q),p="strokeStyleLineAlignment",E="strokeStyleLineJoinType";if(q.P()>3e4*3e4)q=new eL(0,0,100,100);
if(n&&n[p].v[p]!="strokeStyleAlignInside"){var T=1;if(n[E].v[E]=="strokeStyleMiterJoin"){var i=j.G.aqq(this.Q),H=i/2,Z=Math.sin(H),w=Math.cos(H);
w/=Z;Z=1;var T=Math.sqrt(w*w+Z*Z);if(isNaN(T)||T<1)T=1}T*=n[p].v[p]=="strokeStyleAlignOutside"?1:.5;
var d=Math.ceil(n.strokeStyleLineWidth.v.val*T);d=Math.min(d,600);q.ZU(d,d)}q=j.O.Xf(q);var O=new g.JI;
O.color=j.G.jD(this.Q)?0:255;O.$g=this.$g;O.isEnabled=this.isEnabled;O.DM=!0;O.rect=q;O.Cm=this.Cm;O.pR=this.pR;
O.channel=j.U(O.rect.P());if(!q.M6())j.G.a8M(this.Q,O.channel,O.rect,n);if(n==null){this.y9=O;this.zK=!1}return O};
g.Xg.prototype.clone=function(){var n=new g.Xg;n.$g=this.$g;n.isEnabled=this.isEnabled;n.Cm=this.Cm;
n.pR=this.pR;n.Q=g.Xg.A$(this.Q);n.yF=this.yF.slice(0);n.eJ=this.eJ;n.p=this.p.slice(0);n.Eg=this.Eg.slice(0);
return n};g.Xg.prototype.concat=function(n){var q=n.Q.slice(2);if(q.length==0)return;q[0].HW=3;this.Q=this.Q.concat(q)};
g.Xg.A$=function(n){var q=[];for(var R=0;R<n.length;R++){var p=n[R];if(p.type>5||p.type==0||p.type==3)q.push(JSON.parse(JSON.stringify(p)));
else q.push({type:p.type,m5:p.m5.clone(),L:p.L.clone(),OR:p.OR.clone()})}return q};g.Xg.aqn=function(n,q,p){if(n.length!=q.length)return!1;
for(var R=2;R<n.length;R++){var E=n[R],T=q[R];if(E.type!=T.type)return!1;if(E.type==0||E.type==3){if(E.length!=T.length||!p&&E.HW!=T.HW)return!1}else if(!E.m5.rv(T.m5)||!E.L.rv(T.L)||!E.OR.rv(T.OR))return!1}return!0};
g.Xg.prototype.asP=function(){var n=this.Q;for(var R=3;R<n.length;R++)if(n[R].type==0||n[R].type==3)n[R].HW=-1};
g.i2=function(){this.type=null;this.Tx=2;this.l5=null;this.KF="";this.a5="";this.xr="";this.open=0;this.raw=null;
this.H5=null;this.a8H=""};g.i2.prototype.clone=function(){var n=new g.i2;n.type=this.type;n.Tx=this.Tx;
n.l5=this.l5;n.KF=this.KF;n.a5=this.a5;n.xr=this.xr;n.open=this.open;n.raw=new Uint8Array(this.raw.buffer.slice(0));
return n};g.i2.prototype.Zk=function(n,q,p){if(p==null)p="none";var E=this,T=al.Y3(E.raw.buffer),i=T=="svg"||T=="pdf";
if(E.H5){var H=q&&i&&Math.max(E.H5[1].v,E.H5[1].o)<Math.max(q[0],q[1]);if(!H&&p==this.a8H)return}this.a8H=p;
if(!i)n=0;if(T==null){alert("Unsupported format: "+u.xj(E.raw,0,4));return null}var Z=al.vE(T);if(Z.ZX){var w=new gd(name+(T=="psd"?"":"-"+T)+".psd"),d;
Z.es(E.raw.buffer,w,q);var O=new eL(0,0,w.v,w.o);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(p)!=-1){var W=[];
for(var R=0;R<w.h.length;R++){var C=w.h[R],a=C.buffer;if(!C.rect.rv(O)){a=j.U(O.P()*4);j.hk(C.buffer,C.rect,a,O);
console.log("resizing")}W.push(a)}d=j.U(O.P()*4);j.stack.stack(W,d,p)}else{for(var R=0;R<w.h.length;
R++)if(w.h[R]._m())w.h[R].VA(w);w.ko();w.M();w.FN();d=w.Zk()}E.H5=[d,O]}else if(Z){var B=Z.es(E.raw.buffer)[0];
E.H5=[new Uint8Array(B.data),B.Yd]}if(E.H5){if(n==1){var a=E.H5[0],$=E.H5[1],I=j.U($.P());j.J2(a,I,3);
var x=j.YA(I,$),U=j.U(x.P()*4);j.hk(a,$,U,x);E.H5=[U,x]}j.bl(E.H5)}};g.se="0";g.va="2";g.E8="2.5";g.jZ="2.6";
g.kc="3";g.Qy="4";g.gd="4.5";g.Wr="4.6";g.xc="5";g.Ng="5.5";g.sk="6";g.bB="7";g.jH="7.5";g.eB="8";g.LJ="9";
g.GR="9.3";g.OV="9.5";g.wp="9.6";g._M="10";g.WM="11";g.zG="12";g.iy="13";g.SM="13.1";g.dw="13.2";g.aw="13.3";
g.GY="13.4";g.EC="14";g.tO="14.1";g.kd="14.2";g.m2="14.3";g.Tv="17";g.re="18";g.Hc="19";g.te="19.5";
g.QH="19.6";g.b4="19.7";g.M2="20";g.hH="21";g.dQ="21.5";g.C9="22";g.lX="22.5";g.il="23";g.ai9="24";g.ZR="25";
g.t1="26";g.cF="27";g.Nr="28";g.ke="29";g.dj="30";g.P2="31";g.mp="32";g.D3="33";g.qw="34";g.Po="35";
g.Qi="36";g.AF="36.5";g.qJ="37";g.zS="37.5";g.age="37.6";g.OI="38";g.iO="38.5";g.Su="38.6";g.V$="39";
g.Bt="40";g.iG="41";g.gC="42";g.SB="50";g.sn="51";g.Ha="52";g._3="53";g.ds="54";g.Pv="54.5";g.Gc="54.6";
g.po="54.7";g.TK="54.8";g.QM="55";g.ua="56";g.L0="57";g.Ql="58";g.Lh="59";function iB(){this.depth=0;
this.index=-1;this.Y=null;this.anc=null;this._v=-1;this.children=null;this.parent=null;this.RV=null}iB.prototype.DZ=function(n,q){if(this.depth!=0)n.push(this.Y.getName());
if(this.children)for(var R=0;R<this.children.length;R++)this.children[R].DZ(n,q);if(n.length>q.Gm.length)q.Gm=n.slice(0);
if(this.depth!=0)n.pop()};iB.prototype.ahI=function(){var n=0;if(this.Y.z7()){for(var R=0;R<this.children.length;
R++)n+=this.children[R].ahI()}else if(this.Y.buffer)n+=this.Y.buffer.length;return n};iB.prototype.io=function(n){var q=this.RV[n];
return this.RV[n]};iB.prototype.td=function(n,q){var p=this.Y;if(!p.Fp()||p.d9(2)||p.d9(31))return null;
if(p.sc()){var E=p.w.rect.Y9(n);if(!E&&p.w.color==0)return}if(p.z7()){for(var R=0;R<this.children.length;
R++){var eR=this.children[R];eR.td(n,q)}}else if(p.rect.Y9(n))q.push(this.index)};iB.prototype.GM=function(n,q){var p=this.Y;
if(!p.Fp()||p.d9(2)||p.d9(31))return null;if(p.sc()){if(p.w.rect.Z4(n)){if(!j.GM(n,p.w.channel,p.w.rect))return null}else if(p.w.color==0)return null}if(p.z7()){if(p.add.artb&&!p.Kl().Z4(n))return null;
for(var R=this.children.length-1;R>=0;R--){var eR=this.children[R],E=eR.GM(n,q);if(E&&q==null)return E}return null}else if(p.add.TySh&&p.rect.Z4(n)||j.ar1(n,p.buffer,p.rect)){if(q==null)return this;
else q.push(this.index)}return null};iB.prototype.af7=function(n){var q=this.Y;if(!q.Fp()||q.d9(2)||q.d9(31))return null;
var p=q.add.vmsk;if(p&&p.isEnabled){var E=j.G.GM(p.Q,n).ap;if(E!=-1)return{aqI:this,ai4:E}}if(q.z7()){if(q.add.artb&&!q.Kl().Z4(n))return null;
for(var R=this.children.length-1;R>=0;R--){var eR=this.children[R],T=eR.af7(n);if(T)return T}return null}return null};
iB.prototype.VJ=function(n,q){n.push(this.index);if(this.Y.z7()){n.push(this._v);if(q)if(this.Y.TL==1&&this.Y.u1().$g==!1)return;
for(var R=0;R<this.children.length;R++)this.children[R].VJ(n)}};iB.prototype.Xm=function(n,q,p){var E=this.Y,T,i;
if(E.z7()&&E.add.artb!=null)q=E.Kl();if(q.v>q.o){T=p;i=Math.floor(p*(q.o/q.v))}else{T=Math.floor(p*(q.v/q.o));
i=p}if(E._m()&&E.add.vmsk==null||E.add.TySh)T=i=Math.max(i,16);else{T=Math.max(T,6);i=Math.max(i,6)}var H=i,Z=E._m()&&E.add.vmsk;
if(Z){var w=E.rect.clone(),W,C;if(w.M6())w=new eL(0,0,20,20);var d=w.v,O=w.o;if(d>O){W=p;C=Math.floor(p*(O/d))}else{W=Math.floor(p*(d/O));
C=p}if(W*C==0)W=C=16;j.wj.Uw(E.SZ,W,C,w,E.buffer,E.rect,!1);j.wj.a0O(E.SZ,W,C);H=C}else if(E.add.TySh){j.wj.a3y(E.SZ,H,H,E.add.TySh)}else if(E.add.SoCo){H=Math.max(16,Math.min(T,i));
j.wj.a8K(E.SZ,H,H,E.add.SoCo)}else if(E.add.GdFl){j.wj.a70(E.SZ,H,H,E.add.GdFl)}else if(E.add.PtFl){j.wj.abY(E.SZ,H,H,E.add.PtFl,n)}else if(iJ.get(E.add)!=null){j.wj.ap3(E.SZ,H,H,E.add)}else if(E.add.SoLd){j.wj.Uw(E.SZ,T,i,q,E.buffer,E.rect,!1);
j.wj.anW(E.SZ,T,i,E.add.SoLd)}else if(E.z7()){H=16}else{if(E.pp())j.wj.Uw(E.SZ,T,i,q,E.buffer,E.rect,!1);
else{j.wj.asF(E.SZ,H,H)}}var a=E.u1();if(a)j.wj.xZ(E.asv,T,i,q,a);if(E.Sr()&&E.vr(n)&&E.vr(n).w){var B=E.vr(n).w;
j.wj.xZ(E.aa_,T,i,q,B)}if(!Z&&E.add.vmsk){j.wj.xZ(E.a02,T,i,q,E.add.vmsk.u1(),!0)}if(E.add.vmsk||a)H=Math.max(H,i);
E.a7a=Math.max(H,16);if(E.z7()&&E.add.lsct==fX.eV)for(var R=0;R<this.children.length;R++)this.children[R].Xm(n,q,p)};
iB.prototype.Q7=function(n,q,p,E){this.depth=p;var T=n[q];if(E==null)E=[];this.RV=E;if(T.add.lsct==fX.ct){this.anc=T;
this._v=q-1;this.children=[];var R=q+1;while(!0){var i=n[R];if(i==null)console.log(R,n.length);if(i.add.lsct==fX.eV||i.add.lsct==fX.Ku){if(T.add.lyid==i.add.lyid)T.add.lyid+=16777215;
this.Y=i;this.index=R-1;E[this.index]=this;E[q-1]=this;break}var H=new iB;H.parent=this;R=H.Q7(n,R,p+1,E);
this.children.push(H)}return R+1}else{this.Y=T;this.index=q-1;E[this.index]=this;return q+1}};iB.prototype.RT=function(n,q,p,E){var T=this.io(p),i=n;
while(T.parent!=null){i=T.Y.Gq(i,q,E);T=T.parent}return i};iB.prototype.UB=function(n,q){var p=this.Y,E=new eL;
if(!p.Fp())return E;var T=p.u1();if(p.z7())for(var R=0;R<this.children.length;R++){var i=this.children[R].UB(n,!0);
E=E.AL(i)}else if(iJ.get(p.add)!=null)E=p.sc()&&p.w.color==0?p.w.UB().clone():new eL(0,0,n.v,n.o);else if(p._m()&&p.add.vmsk&&p.add.vmsk.isEnabled&&p.add.vstk){E=p.rect.clone()}else if(p._m()&&T&&T.isEnabled&&T.aV()!=0)E=new eL(0,0,n.v,n.o);
else{E=p.XT(n,!1,!0);if(p.add.vmsk)E=j.O.Xf(E)}return q?p.Gq(E,n):E};iB.prototype.ob=function(n,q,p,E,T){var i=this.Y,H=cU.Pd(i);
if(!i.Fp())return;if(i.opacity==255){this.vI(n,q,p,E,T);return}var Z=n.slice(0);this.vI(Z,q,p,E,T);j.a.ZH(Z,q,n,q,null,null,0,p,i.opacity/255,i.Nl=="diss")};
iB.prototype.vI=function(n,q,p,E,T){var i=this.Y,H=cU.Pd(i),Z=iJ.get(i.add)!=null,W,B;if(i.z7()&&i.Nl=="pass"&&!i.sc()&&!(T.length>0||H.fill!=1||i.l1())){this.nJ(n,q,p,E);
return}var w=i.z7()&&i.Nl=="pass"&&(T.length>0||H.fill!=1||i.l1()),d=i.rect,O=i.buffer;if(i.z7()){d=this.UB(E,!1);
var C=j.U(d.P()*4);W=j.U(d.P());this.nJ(C,d,p,E);j.J2(C,W,3)}else if(Z){d=q.clone();W=j.U(d.P());W.fill(255)}else{d=i.rect;
W=j.U(d.P());j.J2(O,W,3)}if(i.sc()){var a=i.w.YH(d);j.Qk(a,W)}if(i.l1())B=cU.x1(i.add.lmfx,i.add.fxrp,W,d,E);
if(i.l1())cU.jQ(i.add.lmfx,B,d,n,q,p);if(i.z7()){O=j.U(d.P()*4);if(i.Nl=="pass")j.hk(n,q,O,d);if(w){var C=j.U(d.P()*4);
this.nJ(C,d,p,E);var $=j.U(d.P());j.J2(C,$,3);j.qF($,d,O,d)}this.nJ(O,d,p,E)}if(Z){O=n.slice(0);j.nz(O,4278190080,16777215);
var I=iJ.get(i.add),x=iJ.cI(I,i.add[I]);iJ._g(x,O,O,d)}var U=O.slice(0);j.nz(U,4278190080,16777215);
for(var R=0;R<T.length;R++)T[R].ob(U,d,p,E,[]);var N=j.U(d.P()*4);j.hk(n,q,N,d);if(Z)H.fC=!0;j.a.Ef(i.Nl=="pass"?"norm":i.Nl,U,d,N,d,p,1,H);
if(i.l1()){var m=i.wA.S9.type.FrFX,f=null;if(m.length!=0){f=m[0];for(var R=0;R<m.length;R++)if(m[R].Eh.v>f.Eh.v)f=m[R];
var c=j.U(f.Eh.v*f.Eh.o*4);j.hk(n,q,c,f.Eh)}cU.k6(i.add.lmfx,B,d,n,q,p,N,c,f?f.Eh:null)}j.a.ZH(N,d,n,q,W,d,0,p,1,i.Nl=="diss")};
iB.prototype.nJ=function(n,q,p,E){var T=this.children;for(var R=0;R<T.length;R++){var i=[];for(var H=R+1;
H<T.length;H++)if(T[H].Y.PJ)i.push(T[H]);else break;T[R].ob(n,q,p,E,i);R+=i.length}};iB.px={delete:function(n){if(n&&n.v)n.delete()},U:function(n,q){return K.pb?new K.U$(n,q):j.U(n*q*4)},fX:function(n,q,p){if(K.pb){if(n==null||n.v!=q||n.o!=p){iB.px.delete(n);
return new K.U$(q,p)}}else{if(n==null||!(n instanceof Uint8Array)||n.length!=q*p*4){iB.px.delete(n);
return j.U(q*p*4)}}return n},cg:function(n,q,p,E,T){(K.pb?K.Ap:j.hk)(n,q,p,E,T)},ZH:function(n,q,p,E,T,i,H,Z,R,w,d){(K.pb?K.a.OS:j.a.ZH)(n,q,p,E,T,i,H,Z,R,w,d)},Ef:function(n,q,p,E,T,i,H,Z){if(K.pb)K.a.qP(n,q,p,E,T,i,H,Z);
else j.a.Ef(n,q,p,E,T,i,H,Z)},nz:function(n,q,p){if(K.pb){K.zJ(n);K.OJ(q,p)}else j.nz(n,q,p)},a4W:function(n,q,p,E,T){if(K.pb){K.a.OS(null,null,E,T,n,q,p,T,1,!1)}else{if(p==255)j.qF(n,q,E,T);
else{var i=j.U(q.P());j.Fm(E,T,i,q);j.Qk(n,i);j.nz(E,0,16777215);j.vL(i,q,E,T)}}},DG:function(n,q,p,E){if(K.pb)K.a.OS(null,null,p,E,n,q,0,E,1,!1);
else j.DG(n,q,p,E)}};iB.prototype.kP=function(n,q,p,E,T,i){var H=typeof i=="number";if(!this.Y.z7()&&(H&&this.index>i||!H&&i.indexOf(this.index)==-1)){return}var Z=this.Y,w=cU.Pd(Z),d=iB.px,O=Z._m()?Z.u1():Z.w;
if(!Z.Fp())return;if(Z.sc()&&O.rect.M6()&&O.aV()==0){return}if(Z.add.vstk==null&&this.UB(E,!1).M6()){return}var W=this.UB(E,!0).O1(p);
if(!q.rv(p)&&!p.Y9(W))return;if(Z.z7()&&Z.add.artb){var C=Z.Kl();p=p.O1(C)}var a=iB.W2(Z,T,w);if(!a){this.O4(n,q,p,E,T,i);
return}Z.wA.ZQ=d.fX(Z.wA.ZQ,W.v,W.o);d.cg(n,q,Z.wA.ZQ,W,p);this.O4(Z.wA.ZQ,W,p,E,T,i);d.ZH(Z.wA.ZQ,W,n,q,null,null,0,p,Z.opacity/255,Z.Nl=="diss",w.ZJ)};
iB.W2=function(n,q,p){if(p.ZJ[0]*p.ZJ[1]*p.ZJ[2]==0)return!0;return n.opacity!=255&&(q.length!=0||n.z7()||n.l1())};
iB.a0M={wA:{}};iB.prototype.O4=function(n,q,p,E,T,i){var H=this.Y,Z=cU.Pd(H),w=iJ.get(H.add)!=null,d=iB.px,O=iB.W2(H,T,Z),W=O?1:H.opacity/255,C=H._m()?H.u1():H.w,a=H.z7()&&H.Nl=="pass"&&!(T.length>0||Z.fill!=1||H.l1()),B=!H.z7()&&!w&&!H.l1()&&T.length==0,$=w&&!H.l1()&&T.length==0,f=null,c=null,D=null,o;
if(a||B||$){var I=n,x=q;if(H.sc()){x=this.UB(E,!1);I=H.wA.pd=d.fX(H.wA.pd,x.v,x.o);d.cg(n,q,H.wA.pd,x)}if(a)this.$0(I,x,p,E,i);
if(B)d.Ef(H.Nl,H.K3(E),H.rect,I,x,p,W,Z);if($){var U=H.sc()&&C.aV()==0?C.UB().clone():x.clone(),N=H.wA;
if(U.rv(new eL(0,0,E.v,E.o)))N=iB.a0M;N.Ij=this.$X(I,x,N.Ij,U,H.add);Z.fC=!0;d.Ef(H.Nl,N.Ij,U,I,x,p,W,Z)}if(H.sc())d.ZH(I,x,n,q,H.eE(),C.UB(),C.aV(),p,1,H.Nl=="diss");
H.wA.os();return}var m=H.z7()&&H.Nl=="pass"&&(T.length>0||Z.fill!=1||H.l1()),U=H.rect;if(H.z7()){U=this.UB(E,!1);
D=H.wA.Ij=d.fX(H.wA.Ij,U.v,U.o);d.nz(D,0);this.$0(D,U,U,E,i);c=d.fX(H.wA.bj,U.v,U.o);d.cg(D,U,c,U)}else if(w){U=H.sc()&&C.aV()==0?C.UB().clone():q.clone();
c=d.fX(H.wA.bj,U.v,U.o);d.nz(c,4294967295)}else{U=H.rect;f=H.K3(E);c=d.fX(H.wA.bj,U.v,U.o);d.cg(f,U,c,U)}H.wA.bj=c;
if(H.sc())d.a4W(H.eE(),C.UB(),C.aV(),c,U);if(H.l1())if(H.wA._E||H.wA.bZ||H.wA.B6!=K.pb||H.wA.Bx||H.z7()){var z=j.U(U.v*U.o);
if(cU.sj(H.add.lmfx)){if(K.pb){if(!H.z7()&&H.u1()==null&&H.rect.rv(U)&&H.add.vmsk==null)j.J2(H.buffer,z,3);
else{var _=j.U(U.v*U.o*4);c.get(_);j.J2(_,z,3)}}else j.J2(c,z,3)}if(H.wA.bZ||H.wA.B6!=K.pb||!j.rv(z,H.wA.gj)){var v=null;
if(H._m()&&H.add.vmsk&&H.add.vmsk.isEnabled&&H.add.vmsk.u1().color==0)v=H.add.vmsk.u1().rect;cU.aiu(H.wA.S9,z,U,H.add.lmfx,H.add.fxrp,E,v);
H.wA.gj=z;H.wA.apy=U}}if(H.l1())cU.jQ(H.add.lmfx,H.wA.S9,U,n,q,p);if(H.z7()){f=d.fX(H.wA.pd,U.v,U.o);
d.nz(f,0);if(H.Nl=="pass")d.cg(n,q,f,U);if(m)d.DG(D,U,f,U);this.$0(f,U,p,E,i);H.wA.pd=f}if(w){f=H.wA.pd=this.$X(n,q,H.wA.pd,U,H.add)}if(H.z7()||w)o=f;
else{o=d.fX(H.wA.pd,U.v,U.o);d.cg(f,U,o,U,p);H.wA.pd=o}d.nz(o,4278190080,16777215);for(var R=0;R<T.length;
R++)T[R].kP(o,U,p,E,[],i);var y=H.wA.$A=d.fX(H.wA.$A,U.v,U.o);d.cg(n,q,y,U,p);if(w)Z.fC=!0;d.Ef(H.Nl=="pass"?"norm":H.Nl,o,U,y,U,p,1,Z);
if(H.l1()){var k=H.wA.S9.type.FrFX,S=null;if(k.length!=0){S=k[0];for(var R=0;R<k.length;R++)if(k[R].Eh.v>S.Eh.v)S=k[R];
H.wA.It=d.fX(H.wA.It,S.Eh.v,S.Eh.o);d.cg(n,q,H.wA.It,S.Eh,p);H.wA.ha=d.fX(H.wA.ha,S.Eh.v,S.Eh.o)}cU.k6(H.add.lmfx,H.wA.S9,U,n,q,p,y,H.wA.It,H.wA.ha,S?S.Eh:null)}if(!K.pb){var L=j.U(U.P());
j.J2(c,L,3);c=L}d.ZH(y,U,n,q,c,U,0,p,1,H.Nl=="diss");H.wA.os()};iB.prototype.$X=function(n,q,p,E,T){var i=iJ.get(T),H;
if(i)H=iJ.cI(i,T[i]);var Z=iB.px;p=Z.fX(p,E.v,E.o);if(!(K.pb&&q.rv(E)))Z.cg(n,q,p,E);if(H){if(K.pb){var w=E.clone();
w.x=w.y=0;if(q.rv(E)){K.zJ(p,w);iJ.ZP(H,n.Mw,w)}else{K.zJ(p,E);p.d5(E);iJ.ZP(H,p.j1,w)}}else iJ._g(H,p,p,E)}return p};
iB.prototype.$0=function(n,q,p,E,T){var i=this.children;for(var R=0;R<i.length;R++){var H=[];for(var Z=R+1;
Z<i.length;Z++)if(i[Z].Y.PJ)H.push(i[Z]);else break;i[R].kP(n,q,p,E,H,T);R+=H.length}};function gd(n){this.ON="psd";
this.mw=!1;this.name=n;this.$m=-1;this.wH=null;this.om=null;this.OY=null;this.ps=null;this.v=0;this.o=0;
this.h=[];this.i$={};this.add={};this.buffer=null;this.HB=4;this._U=null;this.xm=72;this.Sm={};this.p=[];
this.lA=[];this.D0=[];this.yg=[];this.kA=[gd.f$("Work Path")];this.Dm=[];this.LS=null;this.ev={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.Ec=null;this.pL=!1;this.a3u=!1;this.ar8=!1;this.h3=!1;this.mT=!1;this.IJ=!1;this.Ln=!1;
this.l0=!1;this.Qc=!1;this.rw=!1;this._E=null;this.gU=null;this.ns={};this.$=null;this.v4=[];this.z1=[];
this.H={mX:{},$O:[],a9X:[],Rr:[],n8:[],f4:null,TQ:null,j_:null,ur:null,G1:[],eW:[],q7:null};this.history=[new d4([1,0],null)];
this.yv=0;this.pP=0;this.c=new gQ(this)}gd.prototype.fN=function(){var n=this.lA,q=[];for(var R=0;R<n.length;
R++)q[R]=-1;var p=this.root.children;for(var R=0;R<p.length;R++){var E=p[R],T=E.Y.add.artb;if(T==null)continue;
var i=T.guideIndeces;i=i?i.v:[];for(var H=0;H<i.length;H++)q[i[H].v]=E.index}return[JSON.parse(JSON.stringify(n)),q]};
gd.prototype.k2=function(n){this.lA=JSON.parse(JSON.stringify(n[0]));var q=n[1],p=this.root.children;
for(var R=0;R<p.length;R++){var E=p[R],T=E.Y.add.artb;if(T==null)continue;T.guideIndeces={t:"VlLs",v:[]}}for(var R=0;
R<q.length;R++)if(q[R]!=-1)this.h[q[R]].add.artb.guideIndeces.v.push({t:"long",v:R})};gd.prototype.X3=function(n){var q=this;
if(n[0])q.add.lnk2=n[0];else delete q.add.lnk2;if(n[1])q.add.FEid=n[1];else delete q.add.FEid;if(n[2])q.add.Patt=n[2];
else delete q.add.Patt};gd.prototype.a4L=function(n){var q=this,p=[],E=[],T=[],B=null,$=null,I=null;
for(var R=0;R<n.length;R++){var i=n[R];if(i.add.SoLd){p.push(i.add.SoLd.Idnt.v);E.push(i.add.SoLd.placed.v)}if(i.add.PtFl)T.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var H=0;H<iq.Da.length;H++){var Z=i.add.lmfx[iq.Da[H]].v;for(var w=0;w<Z.length;w++)if(Z[w].v.Ptrn){var d=Z[w].v;
if(d.classID=="FrFX"&&d.PntT.v.FrFl!="Ptrn")continue;T.push(d.Ptrn.v.Idnt.v)}}}var O=i.add.vstk;if(O&&O.strokeStyleContent.v.classID=="patternLayer"){T.push(O.strokeStyleContent.v.Ptrn.v.Idnt.v)}}console.log(T);
var W=q.add.lnk2,C=q.add.FEid,a=q.add.Patt;if(W){B=[];for(var R=0;R<W.length;R++)if(p.indexOf(W[R].l5)!=-1)B.push(W[R]);
if(B.length==0)B=null}if(C){$=[];for(var R=0;R<C.length;R++)if(E.indexOf(C[R].id)!=-1)$.push(C[R]);if($.length==0)$=null}if(a){I=[];
for(var R=0;R<a.length;R++)if(T.indexOf(a[R].id)!=-1)I.push(a[R]);if(I.length==0)I=null}return[B,$,I]};
gd.prototype.ew=function(){var n=this.v4,q=this.v4.length;if(q!=0&&n[q-1].name=="Quick Mask")return n[q-1]};
gd.prototype.Jl=function(){return this.ON==P.HT("% |/!)")||this.ON==P.CL("gP")};gd.prototype.R$=function(n){var q=this.add.artd;
if(n!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:n},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};gd.prototype.O8=function(n){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(n)==-1)this.add.FEid.push(n)};
gd.prototype.iT=function(n){var q=this.add.FEid.indexOf(n);this.add.FEid.splice(q,1);if(this.add.FEid.length==0)delete this.add.FEid};
gd.prototype.M=function(n){if(n==null)n=new eL(0,0,this.v,this.o);if(this._E==null)this._E=n;else this._E=this._E.AL(n)};
gd.prototype.apt=function(n){return this._E!=null};gd.prototype.Mo=function(n){var q=this.h[n],p=this.root.io(n);
if(p==null)return!1;if(q.z7()||p.parent.children.indexOf(p)==0)return!1;return!0};gd.adn=function(n){if(n.add.lnk2)for(var R=0;
R<n.add.lnk2.length;R++){var q=n.add.lnk2[R].l5;n.add.lnk2[R].l5=gd.R4()+q.slice(8);for(var p=0;p<n.h.length;
p++){var E=n.h[p].add.SoLd;if(E&&E.Idnt.v==q)E.Idnt.v=n.add.lnk2[R].l5}}};gd.prototype.ij=function(n,q,p){n.sort(function(W,C){return W-C});
var top=n[n.length-1],E=this.h.slice(0),T=this.p.slice(0),i=[],H=[];for(var R=0;R<this.h.length;R++){if(n.indexOf(R)!=-1)H.push(this.h[R]);
else i.push(this.h[R])}this.Kq(H);this.p=[];var Z=this.root.UB(this,!0);if(q)Z=Z.O1(q);if(p)Z=Z.AL(p);
if(Z.M6())Z=new eL(0,0,100,100);var w=new eL(-Z.x,-Z.y,this.v,this.o),d=new Uint8Array(al.vE("PSD").U7(this,0,0,[!0,!1]));
this.Kq(E);this.p=T;var O=new gd(this.h[top].getName());al.vE("PSD").es(d.buffer,O);delete O.add.artd;
O.D0=[];O.Kq(O.h);O.k2([[],[]]);gd.adn(O);A.c8.HD(O,Z);O.M();O.FN();O.Zk();return[O,Z,i,top]};gd.prototype.O3=function(n,q,p){var E=this.ij(n),T=E[0],i=E[1],H=E[2],top=E[3],Z;
if(p=="jpg")Z=new Uint8Array(al.vE("JPG").U7([[T.Zk().buffer]],T.v,T.o,[80]));else Z=new Uint8Array(al.vE("PSD").U7(T,null,null,[!0,!1]));
if(q)H=this.h.slice(0);var w=this.YC(Z,T.name,i.x,i.y);if(top==this.h.length-1)H.push(w);else H.splice(q?top+1:top-n.length+1,0,w);
this.Kq(H);this.p=[H.indexOf(w)]};gd.R4=function(){var n="";for(var R=0;R<8;R++)n+=Math.floor(Math.random()*16).toString(16);
return n};gd.prototype.J1=function(n){if(n==null)return;if(this.add.Patt==null)this.add.Patt=[];var q=this.add.Patt;
for(var R=0;R<q.length;R++)if(q[R].id==n.id)return;q.push(n)};gd.prototype.YC=function(n,q,p,E,T){if(this.add.lnk2==null)this.add.lnk2=[];
var i=null,W=!1;for(var R=0;R<this.add.lnk2.length;R++)if(j.rv(n,this.add.lnk2[R].raw)){i=this.add.lnk2[R].l5;
break}if(i==null){var H=al.Y3(n.buffer);i=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f";var Z=new g.i2;Z.l5=i;
Z.xr=H=="psd"?"8BIM":"    ";Z.KF=q+"."+H;Z.a5=H=="psd"?"8BPB":"    ";Z.open=0;Z.raw=n;Z.type="liFD";
Z.Tx=2;this.add.lnk2.push(Z)}var w=this.Fn(i),d=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f",O=this.Je();O.WR(q);
if(w!=null){var C=0,a=0,B=this.v,$=this.o;if(T){C=T.x;a=T.y;B=T.v;$=T.o}var I=O.rect=w.H5[1].clone();
I.offset(C+p,a+E);var x=Math.max(I.v/B,I.o/$),W=T!=null&&x>1.0001;if(W){I.v=Math.round(I.v/x);I.o=Math.round(I.o/x);
I.x=Math.round(C+(B-I.v)/2);I.y=Math.round(a+($-I.o)/2)}else if(T!=null&&al.Y3(n.buffer)=="pdf"&&this.xm!=144){var x=144/this.xm;
I.v=Math.round(I.v/x);I.o=Math.round(I.o/x);W=!0}O.buffer=j.U(I.P()*4);if(!W)j.Sa(w.H5[0],O.buffer)}O.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:i},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:d},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:j.bF.U(w?w.H5[1]:O.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:O.rect.v},Hght:{t:"doub",v:O.rect.o}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var U=j.O.aS(O.rect).W;O.add.SoLd.Trnf=A.Z.g8(U);O.add.SoLd.nonAffineTransform=A.Z.g8(U);if(W)O.Ze(this,!1);
return O};gd.prototype.Zk=function(n){if(n!=null){this.M();this.FN(n);var q=this.buffer;if(K.pb)this.Ec.get(q);
else q=q.slice(0);this.M();this.FN();return q}if(this._E){this.FN();this._E=null}if(K.pb&&this.gU){this.Ec.get(this.buffer);
this.gU=null;this.Ln=!0}return this.buffer};gd.prototype.p0=function(){for(var R=0;R<this.h.length;R++)this.h[R].DW();
this.M()};gd.prototype.y8=function(){for(var R=0;R<this.h.length;R++)if(this.h[R].add.lmfx)this.h[R].wA.bZ=!0};
gd.prototype.x3=function(){var n=this.i$.r1044;if(n==null){n=this.i$.r1044=new Uint8Array(4);var q=0;
for(var R=0;R<this.h.length;R++)q=Math.max(q,this.h[R].add.lyid);u.Qh(n,0,q)}var p=u.s(n,0);u.Qh(n,0,p+1);
return p+1};gd.prototype.zP=function(n,q,p){if(n==null)n=!0;var E=this;if(E.z1.length!=0)return!0;if(E.p.length!=1){if(n)alert(E.p.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.bv(n,q,p)};gd.prototype.bv=function(n,q,p){if(n==null)n=!0;if(q==null)q=!1;var E=this;
if(E.z1.length!=0)return!0;for(var R=0;R<E.p.length;R++){var T=E.h[E.p[R]],i=q||T.TL<=0;if(T.add.lsct!=null&&T.add.lsct!=fX.d$&&T.TL!=1){if(n)alert(fE.get([15,7,2]));
return!1}if(i&&!T.pp()){if(n)alert(fE.get([15,7,2]));return!1}if(i&&T.add.TySh){return this.wi(n,[15,7,3],p)}if(i&&T.add.SoLd){return this.wi(n,[15,7,4],p)}if(T.d9(1)||T.d9(31)){if(n)alert(fE.get([6,57,0]));
return!1}}return!0};gd.prototype.wi=function(n,q,p){if(n&&typeof n=="object"){var E=window.confirm(fE.get(q)+". "+fE.get([6,8])+"?");
if(E){var T=new ea(P.E.Gi,!0);T.data={oK:"rasterizeLayer",ga:{classID:"rasterizeLayer",null:j4.hZ("Lyr",!0)}};
n.K(T)}return p?E:!1}if(n)alert(fE.get(q));return!1};gd.prototype.tT=function(n){var q=this.root.io(n);
if(q.parent)return q.Y.Fp()&&this.tT(q.parent.index);else return q.Y.Fp()};gd.prototype.Cq=function(){var n=this;
if(n.add.artd&&n.p.length!=0){var q=n.root.io(n.p[0]);while(q.parent.parent)q=q.parent;if(q.Y.add.artb)return q.index}return-1};
gd.prototype.XK=function(){var n=this.h[this.p[0]];if(n.TL<=0&&!n.rect.Y9(this.$.rect)){alert("Selected area is empty.");
return!1}if(this.p.length==1&&this.$){var q=j.U(this.$.channel.length);j.Fm(n.buffer,n.rect,q,this.$.rect);
j.Qk(this.$.channel,q);if(j.sy(q,0)){alert("Selected area is empty.");return!1}}return!0};gd.prototype.E5=function(){if(this.i$["r"+1037]==null)this.aK(30);
return u.EW(this.i$["r"+1037],0)};gd.prototype.aK=function(n){if(this.i$["r"+1037]==null)this.i$["r"+1037]=new Uint8Array(4);
if(u.EW(this.i$["r"+1037],0)==n)return;u.RN(this.i$["r"+1037],0,n);this.y8()};gd.prototype.j4=function(){if(this.i$["r"+1049]==null)this.Ti(30);
return u.EW(this.i$["r"+1049],0)};gd.prototype.Ti=function(n){if(this.i$["r"+1049]==null)this.i$["r"+1049]=new Uint8Array(4);
if(u.EW(this.i$["r"+1049],0)==n)return;u.RN(this.i$["r"+1049],0,n);this.y8()};gd.prototype.mQ=function(n){if(this.add.lnk2==null)return null;
for(var R=0;R<this.add.lnk2.length;R++)if(this.add.lnk2[R].l5==n)return this.add.lnk2[R];return null};
gd.prototype.ahK=function(n){var q=this.mQ(n);if(q==null)return!1;var p=al.Y3(q.raw.buffer);if(p==null)return!1;
if(al.vE(p)!=null||p=="psd")return!0;return!1};gd.prototype.Fn=function(n,q,p,E){var T=this.mQ(n);if(T==null)return null;
T.Zk(q,p,E);if(T.H5)return T};gd.prototype.ER=function(){var n=this.v,q=this.o;if(K.pb&&this.Ec==null)this.Ec=new K.U$(n,q,!0);
if(this.buffer==null||this.buffer.length!=n*q*4||K.pb&&(this.Ec.v!=n||this.Ec.o!=q)){this.buffer=j.U(n*q*4);
if(this.Ec)this.Ec.delete();if(K.pb)this.Ec=new K.U$(n,q,!0)}};gd.prototype.aki=function(){this.ER();
if(K.pb){this.Ec.set(this.buffer)}};gd.prototype.FN=function(n){var q=this.v,p=this.o,E=new eL(0,0,q,p),T=E.O1(this._E);
this.ER();if(T.M6())return;if(!T.rv(E)){if(!K.pb){var i=j.Ji(T.P()*4);j.hk(i,T,this.buffer,E)}if(K.pb){K.zJ(this.Ec,T);
K.OJ(0)}}else{if(K.pb){this.Ec.set(null)}else{this.buffer.fill(0)}}var H=Date.now(),Z=K.pb?this.Ec:this.buffer;
if(n==null)n=1e9;var w=this.root.children;for(var R=0;R<w.length;R++){var d=w[R].Y;if(d.Fp()&&d.add.artb){var O=d.Kl(),W=T.O1(O),C=d.AU();
if(C!=0){if(K.pb){K.zJ(Z,W);K.OJ(C);K.OJ(C)}else j.adr(Z,E,W,C)}}}this.root.kP(Z,E,T,this,[],n);this.gU=this._E.clone()};
gd.prototype.Je=function(n){var q=new g;q.rect=new eL(0,0,0,0);q.buffer=j.U(1);q.add.luni=new fc(0,0);
if(n!=!0)q.add.lyid=this.x3();q.add.lsct=fX.d$;q.add.lclr=0;q.add.fxrp=new fc(0,0);return q};gd.prototype.Ch=function(n){var q=this.Je(n);
q.WR("</Layer group>");q.add.lsct=fX.ct;q.GZ=24;return q};gd.prototype.ci=function(){return this.yv!=this.pP};
gd.prototype.Dc=function(n){while(this.history.length>this.yv+1)this.history.pop();if(this.pP>this.yv)this.pP=-1;
if(n.i.id!=A._h){this.h3=!0;if(this.ev.lastAppliedComp){delete this.ev.lastAppliedComp;this.Ln=!0}}this.history.push(n);
this.yv++;this.Ln=!0;var q=de.f7()?60:30,p=0;for(var R=this.history.length-1;R>=0;R--){var E=this.history[R];
if(E.no)continue;p++;if(p==q){this.yv-=R;this.history=this.history.slice(R);break}}};gd.prototype.ft=function(){if(this.yv!=this.history.length-1)return null;
return this.history[this.history.length-1]};gd.prototype.lR=function(n,q,p,E){if(n==null)n=!1;var T=q!=null?[q]:this.p.slice(0);
if(E){var i=[];for(var R=0;R<T.length;R++){var H=this.h[T[R]],Z=H.tS;if(H.fK&&Z!=0&&i.indexOf(Z)==-1)i.push(Z)}if(i.length!=0)for(var R=0;
R<this.h.length;R++){var H=this.h[R],Z=H.tS;if(H.fK&&Z!=0&&i.indexOf(Z)!=-1&&T.indexOf(R)==-1)T.push(R)}}var w=[];
for(var R=0;R<T.length;R++){var d=this.GL(T[R],n);for(var O=0;O<d.length;O++)if(w.indexOf(d[O])==-1)w.push(d[O]);
if(p){var eR=this.root.io(T[R]);while(eR.parent!=null&&eR.parent.parent!=null){eR=eR.parent;if(w.indexOf(eR.index)==-1){w.push(eR.index,eR._v)}}}}return w};
gd.prototype.JD=function(n,q,p){var E=this,T=E.lR(!1,n,null,p);T.sort(function(U,N){return U-N});var i={};
for(var H=0;H<E.h.length;H++){var Z=E.h[H].getName();i[Z]=!0}var w=[];for(var R=0;R<T.length;R++){var d=E.h[T[R]].clone(),$,I;
d.add.lyid=E.x3();d.add.lspf=0;if(d.Sr()){var O=d.vr(E),W=gd.K5(O);E.O8(W);d.add.SoLd.placed.v=W.id}d.VA(E);
var C=d.getName(),a=C.length;while(48<=C.charCodeAt(a-1)&&C.charCodeAt(a-1)<=57)a--;var B=parseInt(C.slice(a));
if(isNaN(B)){if(C.endsWith(" copy")){B=1;$=C.slice(0,C.length-5)}else{B=0;$=C}}else if(C.slice(0,a).endsWith(" copy ")){B=B;
$=C.slice(0,a-6)}else{B=0;$=C}B++;while(!0){I=$+" copy"+(B==1?"":" "+B);if(i[I]==null)break;B++}var x=T.indexOf(this.root.io(T[R]).parent.index)!=-1;
if(C=="Background"&&E.h.length==1)I="Layer 1";if(q!=!0&&!x)d.WR(I);i[I]=!0;w.push(d)}return w};gd.K5=function(n){return{id:gd.R4()+n.id.slice(8),buffer:n.buffer.slice(0),rect:n.rect.clone(),w:n.w?n.w.clone():null}};
gd.JJ=function(n){return{id:n,rect:new eL,buffer:j.U(1),w:new g.JI}};gd.f$=function(n,q){if(q==null)q={vmsk:new g.Xg};
if(q.vogk==null){q.vogk=[];var p=j.G.ji(q.vmsk.Q);for(var E=0;E<p;E++)q.vogk.push(j.k4.Ji())}return{name:n,ap:0,add:q}};
gd.prototype.Jy=function(n){var q=[],p=[],E=this,i=0;for(var R=1;R<E.kA.length;R++){var T=E.kA[R];T.ap=-1-R;
q.push(T);if(E.Dm.indexOf(R)!=-1)p.push(q.length-1)}if(E.kA[0].add.vmsk.Q.length>2){var T=E.kA[0];T.ap=-1;
q.push(T);if(E.Dm.indexOf(0)!=-1)p.push(q.length-1)}var H=E.LS==null;if(H)E.LS=[];for(var R=E.p.length-1;
R>=0;R--){var Z=E.h[E.p[R]],w=Z.add.TySh;if(Z.add.vmsk!=null&&(Z._i||Z._m())){var T=gd.f$("\""+Z.getName()+"\" Shape Path",Z.add);
T.ap=E.p[R];q.push(T);if(H)E.LS.push(i);if(E.LS.indexOf(i)!=-1)p.push(q.length-1);i++}if(n!=!0&&w&&w.add&&j.bF.wO(w.vX)){var T=gd.f$("\""+Z.getName().slice(0,10)+"..\" Text Path",w.add);
T.ap=1e6+E.p[R];q.push(T);p.push(q.length-1);i++}}if(p.length==0&&n){E.kA[0].ap=-1;E.Dm=[0];p.push(q.length);
q.push(E.kA[0])}return[q,p]};gd.prototype.GL=function(R,n){var q=[],eR=this.root.io(R);if(eR)eR.VJ(q,n);
return q};gd.prototype.cO=function(){this.root.Xm(this,new eL(0,0,this.v,this.o),32)};gd.prototype.Kq=function(n){for(var R=0;
R<this.h.length;R++){var q=this.h[R];if(n.indexOf(q)==-1){q.wA.a1_();q.M()}}var p=0;for(var R=0;R<n.length;
R++)if(n[R].add.artb)p++;this.R$(p);this.h=n.slice(0);this.ko()};gd.prototype.ko=function(){var n=this.h,q=n.length;
this.root=new iB;var p=this.Je(!0);p.Nl="pass";p.add.lsct=fX.eV;var E=this.Ch(!0),T=[E];for(var R=0;
R<q;R++)T.push(n[R]);T.push(p);this.root.Q7(T,0,0);if(this.p.length==0)this.p=[q-1]};gd.prototype.P3=function(){if(this.p.length!=1)return;
var n=this.root.io(this.p[0]);while(n.parent!=null){var q=n.parent.Y;q.add.lsct=fX.eV;n=n.parent}this.IJ=this.ans=!0};
gd.prototype.a7B=function(){this.ko();var n=[this.root],et=0;while(n.length!=0){var top=n.pop();et++;
if(top.Y.add.lsct==fX.eV)for(var R=0;R<top.children.length;R++)n.push(top.children[R])}if(et>1e3){var q=this.root.children;
for(var R=0;R<q.length;R++)if(q[R].Y.add.lsct==fX.eV)q[R].Y.add.lsct=fX.Ku}};gd.lG=function(n,q,p,E,T,i){var H={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:E},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:n}},Hght:{t:"UntF",v:{type:"#Rlt",val:q}},Rslt:{t:"UntF",v:{type:"#Rsl",val:p}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:T}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{oK:"make",ga:H}};gd.a4e=function(n,q){var p=0,E=0,T=72,i=q.aa$,H=n.preset&&n.preset.v=="Clipboard";
if(H){p=i.v;E=i.o}else{p=n.Wdth.v.val;E=n.Hght.v.val;T=n.Rslt.v.val}var Z=new gd((n.Nm?n.Nm.v:fE.get([11,7]))+".psd");
Z.v=p;Z.o=E;Z.xm=T;var w=n.Fl?n.Fl.v.Fl:"Wht";if(n.artboard&&n.artboard.v){var d=Z.Je();d.WR("Artboard 1");
d.add.lsct=fX.eV;d.O$(new eL(0,0,p,E));d.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1}[w]};
d.Nl="pass";d.GZ=24;Z.Kq([Z.Ch(),d]);Z.R$(1)}else{var O=Z.Je();O.WR("Background");Z.Kq([O]);O.add.lspf=1<<2;
if(w!="Trns"){var W=q.iu;W=(W&255)<<16|(W>>>8&255)<<8|W>>>16;O.rect=new eL(0,0,p,E);O.buffer=j.U(p*E*4);
j.nz(O.buffer,{Wht:4294967295,Blck:4278190080,BckC:255<<24|W}[w])}}Z.buffer=j.U(p*E*4);return Z};function gQ(n){this.eL=n;
this.n=0;this.Ny=1;this.t=new fc(0,0);this.cx=new fc(0,0);this.H9=0;this.mc=[1,1,1];this.fM=new eL(0,0,1,1);
this.aiX=new eL(0,0,n.v,n.o);this.gL=null;this.pq=null;this.rW=new Uint32Array(0);this.u9=null;this.pQ=null;
this.zf=j.U(0);this.g7=null;this.sa=null}gQ.prototype.w5=function(n){var q=new b$,p=this.fM,E=this.eL,T=n?this.Ny:this.n,i=n?this.cx:this.t,H=Math.round((p.v-E.v*T)/2+i.x),Z=Math.round((p.o-E.o*T)/2+i.y);
q.translate(-H,-Z);q.scale(1/T,1/T);var w=E.v/2,d=E.o/2;q.translate(-w,-d);q.rotate(this.H9);q.translate(w,d);
return q};gQ.prototype.sV=function(n){var q=this.fM,p=this.eL,E=Math.atan2(-n.X,n.jS),T=p.v/2,i=p.o/2;
n.translate(-T,-i);n.rotate(-E);n.translate(T,i);var H=1/n.SD();n.scale(H,H);var Z=-n.R_,w=-n.so,d=Math.round(Z-(q.v-p.v*H)/2),O=Math.round(w-(q.o-p.o*H)/2);
if(Math.abs(H-Math.round(H))<1e-6)H=Math.round(H);this.H9=E;this.n=H;this.t=new fc(d,O)};gQ.prototype.hQ=function(n,q){var p=this.w5();
return p.i1(new fc(n,q))};gQ.prototype.eh=function(n,q){var p=this.w5();p.z3();return p.i1(new fc(n,q))};
function iq(){}iq.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");iq.Da="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
iq.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];iq.No=["DrSh","IrSh","SoFi","GrFl","FrFX"];
iq.zo=["Clr"];iq.kb="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");iq.fi=["Ptrn","Scl","Algn","phase"];
iq.Xc={zX:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",Ig:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",tY:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",VM:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
iq.Xc.zX="\"Clr\": "+iq.Xc.zX;iq.Xc.f="\"Grad\":"+iq.Xc.Ig+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
iq.Xc.VM="\"Ptrn\":"+iq.Xc.VM+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
iq.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
iq.FT=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+iq.Xc.zX+","+iq.Xc.f+","+iq.Xc.VM+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Xc.zX+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Xc.f+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Xc.VM+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
iq.f={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
iq.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],VX:["SClr","GrFl","Ptrn"],a0s:[[13,0],[12,37],[12,62]]};
iq.WS={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],t6:["SrcC","SrcE"],aeU:[[19,5,1],[12,69]]};iq.ld={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],vZ:["SfBL","PrBL","Slmt"],a8R:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
iq.DL={jY:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],uO:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],LK:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+iq.Xc.zX+"}")},strokeStyleResolution:{t:"doub",v:72}}};
iq.FH=[{classID:"null",Clr:JSON.parse(iq.FT[5]).Clr},{classID:"null",Grad:JSON.parse(iq.FT[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(iq.FT[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var cU={};cU.SE=function(n,q){function p(n,C){if(n==null)return null;var a=n[C].v,B;if(a.length!=0){B=a[0].v;
if(!B.enab.v)B=null}return B}var E=q.SoCo,T=q.GdFl,i=p(n,"solidFillMulti"),H=p(n,"gradientFillMulti");
if(i==null&&H==null)return[E,T];var Z=cU.aer;if(E&&i&&H==null){var w=JSON.parse(JSON.stringify(E));w.Clr.v=Z(i.Clr.v,E.Clr.v,i);
return[w,null]}if(T&&i&&H==null){var d=JSON.parse(JSON.stringify(T)),O=d.Grad.v.Clrs.v;for(var R=0;R<O.length;
R++){var W=O[R].v.Clr;W.v=Z(i.Clr.v,W.v,i)}return[null,d]}if(E&&H){var d=JSON.parse(JSON.stringify(H)),O=d.Grad.v.Clrs.v;
for(var R=0;R<O.length;R++){var W=O[R].v.Clr;W.v=Z(W.v,E.Clr.v,H)}return[null,d]}return[i,H]};cU.ars={wJ:j.U(4),Gb:j.U(4),_:new eL(0,0,1,1)};
cU.aer=function(n,q,p){var E=d3.JM(p.Md.v.BlnM),T=p.Opct.v.val/100,i=cU.ars;n=j.f.aV(n);q=j.f.aV(q);
i.wJ[0]=n._;i.wJ[1]=n.q;i.wJ[2]=n.X;i.wJ[3]=255;i.Gb[0]=q._;i.Gb[1]=q.q;i.Gb[2]=q.X;i.Gb[3]=255;j.a.Ef(E,i.wJ,i._,i.Gb,i._,i._,T);
return{classID:"RGBC",Rd:{t:"doub",v:i.Gb[0]},Grn:{t:"doub",v:i.Gb[1]},Bl:{t:"doub",v:i.Gb[2]}}};cU.YT=function(n,q,p){var E=n;
n=n.slice(0);var T=d3.hd[d3.Uc.indexOf(q.Md.v.BlnM)],i=j.f.aV(q.Clr.v),H=4278190080|Math.round(i.X)<<16|Math.round(i.q)<<8|Math.round(i._),Z=j.U(p.P()*4);
j.nz(Z,H);j.a.Ef(T,Z,p,n,p,p,q.Opct.v.val/100);for(var R=0;R<n.length;R+=4)n[R+3]=E[R+3];return n};cU.Rb=function(n,q){var p=["Sz","blur","Sftn","Dstn"];
for(var R=0;R<iq.order.length;R++){var E=iq.order[R],T=n[iq.Da[R]].v;for(var i=0;i<T.length;i++){var H=T[i].v;
for(var Z=0;Z<p.length;Z++){var w=H[p[Z]];if(w){var d=w.v.val,O=d;O=Math.max(d==0?0:1,O*q);if(E=="ChFX")O=Math.min(O,250);
if(E=="ebbl"){if(p[Z]=="blur")O=Math.min(O,250);if(p[Z]=="Sftn")O=Math.min(O,16)}w.v.val=Math.round(O)}}if(E=="ebbl"||E=="patternFill"||E=="FrFX")if(H.Ptrn&&H.Scl)H.Scl.v.val=Math.max(1,Math.min(1e3,H.Scl.v.val*q))}}};
cU.a4I=function(n,q,p){var E=new eL(-.5,-.5,1,1),T=n.add.lmfx;for(var R=0;R<iq.order.length;R++){var i=iq.order[R],H=T[iq.Da[R]].v;
for(var Z=0;Z<H.length;Z++){var w=H[Z].v,C;if(!w.enab.v)continue;var d=w.blur?w.blur.v.val+1:0,O=w.Ckmt?w.Ckmt.v.val/100:0,W=Math.round(d*O);
if(i=="DrSh"||i=="IrSh"&&p){C=new eL(-.5,-.5,1,1);C.ZU(d,d);cU.Jg(C,w,q,0)}if(i=="OrGl"||i=="IrGl"&&p){C=new eL(-.5,-.5,1,1);
C.ZU(d,d)}if(i=="FrFX"){var a=cU.vz(w),B=a[1];if(p)B=Math.max(a[0],B);C=new eL(-.5,-.5,1,1);C.ZU(Math.ceil(B),Math.ceil(B))}if(i=="ebbl"){var d=w.blur.v.val,$=w.bvlS.v.BESl;
if($=="Embs"||$=="PlEb")d/=2;var I=["OtrB","InrB","Embs","PlEb","strokeEmboss"],x=["SfBL","PrBL","Slmt"],U=["In","Out"],N=w.bvlT.v.bvlT!="SfBL"?d:d*.43,m=Math.round(d);
C=new eL(-m-1,-m-1,2*m+2,2*m+2)}if(p&&i=="ChFX"){C=new eL(-.5,-.5,1,1);C.ZU(d,d);var f=C.clone();cU.Jg(C,w,q,0);
cU.Jg(f,w,q,Math.PI);C=C.AL(f)}if(C)E=E.AL(C)}}if(E.x!=Math.ceil(E.x)){E.x=Math.ceil(E.x);E.v-=1}if(E.y!=Math.ceil(E.y)){E.y=Math.ceil(E.y);
E.o-=1}E.v=Math.floor(E.v);E.o=Math.floor(E.o);return E};cU.vz=function(n){var q=0,p=0,E=n.Styl.v.FStl,T=n.Sz.v.val;
if(E=="OutF")p=T;if(E=="InsF")q=T;if(E=="CtrF")q=p=T/2;return[q,p]};cU.Oy=function(n){if(n.all==null)return;
for(var R=0;R<n.all.length;R++){var q=n.all[R];if(q.jC)q.jC.delete();if(q.pt)q.pt.delete();if(q.N4)q.N4.delete()}};
cU.aiu=function(n,q,p,E,T,i,H){cU.Oy(n);var Z=cU.x1(E,T,q,p,i,H);n.type=Z.type,n.all=Z.all;if(K.pb)for(var R=0;
R<n.all.length;R++){var w=n.all[R];w.jC=new K.U$(w.zj.v,w.zj.o);w.jC.set(w.OT);delete w.OT;if(w.qL){w.pt=new K.QS(w.zj.v,w.zj.o);
w.pt.set(w.qL);delete w.qL}if(w.bm){w.N4=new K.QS(w.zj.v,w.zj.o);w.N4.set(w.bm);delete w.bm}}};cU.sj=function(n){for(var R=0;
R<iq.order.length;R++){var q=iq.order[R],p=iq.Da[R],E=n[p].v;for(var T=0;T<E.length;T++){var i=E[T].v;
if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(q)==-1)return!0}}return!1};cU.x1=function(n,q,p,E,T,i){if(i==null)i=E;
var H=0,Z=0;for(var R=0;R<iq.order.length;R++){var w=iq.order[R],d=iq.Da[R],O=n[d].v;for(var W=0;W<O.length;
W++){var C=O[W].v;if(w=="DrSh"&&C.enab.v&&C.Ckmt.v.val>0&&C.blur.v.val>0)H=Math.max(H,Math.ceil(C.Ckmt.v.val*C.blur.v.val/100));
if(w=="OrGl"&&C.enab.v&&C.Ckmt.v.val>0&&C.blur.v.val>0&&C.GlwT.v.BETE=="SfBL")H=Math.max(H,Math.ceil(C.Ckmt.v.val*C.blur.v.val/100));
if(w=="OrGl"&&C.enab.v&&C.blur.v.val>0&&C.GlwT.v.BETE=="PrBL")H=Math.max(H,C.blur.v.val);if(w=="FrFX"&&C.enab.v&&C.Sz.v.val>0){if(C.Styl.v.FStl=="OutF")H=Math.max(H,C.Sz.v.val);
if(C.Styl.v.FStl=="CtrF")H=Math.max(H,Math.ceil(C.Sz.v.val/2));Z=Math.max(Z,cU.vz(C)[1])}}}var a=new cU.Sy(p,E,H,cU.sj(n)),B=-E.x,$=-E.y,I={type:{},all:[]};
for(var x=0;x<iq.order.length;x++){var w=iq.order[x],d=iq.Da[x];I.type[w]=[];for(var U=n[d].v.length-1;
U>=0;U--){var N=n[d].v[U].v;if(!N.enab.v)continue;var m=N.blur?N.blur.v.val:0,f=N.Ckmt?N.Ckmt.v.val/100:0,c=m*f;
if(w=="DrSh"){var D=a.y7(c,m-c,!0),z=D.Jf,_=D.n7;_.offset(B,$);cU.ce(z,N,!1);cU.Jg(_,N,T,0);var v=j.U(_.P()*4);
cU.eD(v,N.Clr.v);j.yI(z,v,3);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100,a9y:N.layerConceals.v};
I.type[w].push(o);I.all.push(o)}if(w=="IrSh"){var D=a.y7(c,m-c,!1);cU.Jg(D.n7,N,T,0);var _=a.rect().clone(),z=j.U(_.P());
z.fill(255);j.cg(D.Jf,D.n7,z,_);cU.ce(z,N,!0);var v=j.U(_.P()*4);cU.eD(v,N.Clr.v);j.yI(z,v,3);_.offset(B,$);
var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};I.type[w].push(o);I.all.push(o)}if(w=="GrFl"){var v=j.U(a.rect().P()*4);
cU.kW(N,v,a.rect(),T,null,i);var _=a.rect().clone();_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};
I.type[w].push(o);I.all.push(o)}if(w=="SoFi"){var v=j.U(a.Jf().length*4);cU.eD(v,N.Clr.v);var _=a.rect().clone();
_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};I.type[w].push(o);I.all.push(o)}if(w=="ebbl"){var y=!1;
if(y)console.log(N);var k=Date.now(),S=N.bvlS.v.BESl;if(S=="strokeEmboss"){var L=n.frameFXMulti.v;if(L.length==0)continue;
L=L[0].v;if(!L.enab.v)continue;var X=L.Styl.v.FStl;if(X=="OutF")S="OtrB";if(X=="CtrF")S="Embs";if(X=="InsF")S="InrB"}var m=N.blur.v.val;
if(m==0)m=.7;if(S=="Embs"||S=="PlEb")m/=2;var M=["OtrB","InrB","Embs","PlEb","strokeEmboss"],V=["SfBL","PrBL","Slmt"],l=["In","Out"],e=N.bvlT.v.bvlT!="SfBL"?m:m*.45,Y=Math.round(m),J=a.rect().clone(),G=J.clone();
G.ZU(Y,Y);var F=G.v,b=G.o,h=F*b,bj=j.U(h);j.cg(a.Jf(),J,bj,G);var i4=new Float64Array(h),t=new Float64Array(h);
j.style.mJ(bj,i4,F,b);j.z3(bj);j.style.mJ(bj,t,F,b);if(y)console.log("distTransform computed",Date.now()-k);
for(var R=0;R<h;R++)t[R]=t[R]-i4[R];for(var R=0;R<h;R++){var aG=t[R];if(aG<-e)t[R]=-e;else if(aG>e)t[R]=e}if(y)console.log("summing + cropping",Date.now()-k);
if(N.bvlT.v.bvlT=="SfBL"){var Q=Math.pow(m*.21,1.22);if(!0)Q=Math.max(Q,2);var jd=j.Lw.mv(Q,2);j.Lw.rl(t,i4,G,jd[0]>>>1);
j.Lw.rl(i4,t,G,jd[1]>>>1)}if(y)console.log("blurring",Date.now()-k);var bP=t,gz=bP.slice(0);if(N.useShape.v){var fZ=Math.min(100,N.Inpr.v.val+1)/100;
if(S!="OtrB"&&S!="InrB")fZ=1;var dt=j.A6.Cg(N.MpgS.v.Crv.v,2e3),a9=Math.round(2e3/fZ);dt=j.A6.akQ(dt,a9,S=="InrB");
var bi=.5/e;for(var R=0;R<h;R++){var az=bP[R],hd=.99999*(az+e)*bi;bP[R]=-e+2*e*dt[~~(hd*(a9-1))]}if(y)console.log("applying shape",Date.now()-k)}if(N.useTexture.v){var aB=j.U(F*b*4);
cU.qb(N,aB,G,T.add.Patt,q);var cv=j.U(F*b);j.Eq(aB,cv);var c$=j.U(F*b);j.Lw.jg(cv,c$,G,1);cv=c$;var cT=m*N.textureDepth.v.val*(1/100)*(1/255);
if(N.InvT.v)cT=-cT;for(var R=0;R<h;R++)bP[R]+=-cT*cv[R];if(y)console.log("applying texture",Date.now()-k)}var fp=(N.bvlT.v.bvlT=="SfBL"?1:.5)*(N.bvlD.v.BESs=="In"?1:-1)*N.srgR.v.val/100;
for(var R=0;R<h;R++)bP[R]*=fp;if(y)console.log("scaling",Date.now()-k);var cD=N.uglg&&N.uglg.v?T.E5():N.lagl.v.val;
cD=cD*(Math.PI/180);var f_=N.uglg&&N.uglg.v?T.j4():N.Lald.v.val;f_=f_*(Math.PI/180);var f9=Math.cos(cD)*Math.cos(f_),dO=-Math.sin(cD)*Math.cos(f_),a6=Math.sin(f_),hb=new Float64Array(h),jr=new Float64Array(h),dh=S=="PlEb";
for(var jq=0;jq<b;jq++)for(var g3=0;g3<F;g3++){var R=jq*F+g3,c6=0,cd=0,jn=1;if(jq!=0&&jq!=b-1&&g3!=0&&g3!=F-1){var cV=bP[R-F-1],fM=bP[R-F+1],bE=bP[R+F-1],gU=bP[R+F+1];
c6=-.125*(fM+2*bP[R+1]+gU-(cV+2*bP[R-1]+bE));cd=-.125*(bE+2*bP[R+F]+gU-(cV+2*bP[R-F]+fM))}else{var g6=bP[R];
cd=-(jq==0?bP[R+F]-g6:jq==b-1?g6-bP[R-F]:.5*(bP[R+F]-bP[R-F]));c6=-(g3==0?bP[R+1]-g6:g3==F-1?g6-bP[R-1]:.5*(bP[R+1]-bP[R-1]))}var cu=1/Math.sqrt(c6*c6+cd*cd+1);
c6*=cu;cd*=cu;jn*=cu;var f5=c6*f9+cd*dO+jn*a6,iP=f5;if(dh)iP=-c6*f9-cd*dO+jn*a6;if(f5>0)hb[R]=f5;if(iP>0)jr[R]=iP}if(y)console.log("raycasting",Date.now()-k);
if(N.Sftn.v.val!=0){j.Lw.zy(hb,i4,G,N.Sftn.v.val*.43);var id=i4,i4=hb,hb=id;if(dh){j.Lw.zy(jr,i4,G,N.Sftn.v.val*.43);
var id=i4,i4=jr,jr=id}else j.Sa(hb,jr)}if(y)console.log("softening",Date.now()-k);var dt=j.A6.Cg(N.TrnS.v.Crv.v,1024);
for(var R=0;R<h;R++){hb[R]=dt[~~(hb[R]*1024)];jr[R]=dt[~~(jr[R]*1024)]}if(y)console.log("contour remap",Date.now()-k);
F=Math.round(F);b=Math.round(b);var aY=j.U(F*b*4);cU.eD(aY,N.hglC.v);var fT=j.U(F*b*4);cU.eD(fT,N.sdwC.v);
var h8=j.U(F*b*4);cU.eD(h8,N.hglC.v);var jf=j.U(F*b*4);cU.eD(jf,N.sdwC.v);var h2=1/a6,e9=1/(1-a6),bi=1/e,jt=new Float64Array(1e3);
for(var R=0;R<1e3;R++)jt[R]=Math.pow(R*.001,.2);for(var jq=0;jq<b;jq++)for(var g3=0;g3<F;g3++){var R=jq*F+g3,ed=4*R+3,bZ=0,ji=0;
bZ=hb[R];ji=jr[R];var a4=Math.max(0,Math.min(.9999,(gz[R]+e*.993)*bi));a4=jt[Math.floor(a4*1e3)];var eG=a4*(1-Math.min(1,bZ*h2)),e6=a4*(1-Math.min(1,(1-bZ)*e9)),eH=a4*(1-Math.min(1,ji*h2)),eP=a4*(1-Math.min(1,(1-ji)*e9));
fT[ed]=Math.round(255*eG);aY[ed]=Math.round(255*e6);jf[ed]=Math.round(255*eH);h8[ed]=Math.round(255*eP)}if(y)console.log("baking textures",Date.now()-k);
G=a.rect().clone();G.ZU(Y,Y);G.offset(B,$);var iE={aek:N.bvlS.v.BESl=="strokeEmboss"};if(["InrB","Embs","PlEb"].indexOf(S)!=-1){iE.Ne={OT:aY,zj:G,pz:d3.JM(N.hglM.v.BlnM),xx:N.hglO.v.val/100};
iE.EL={OT:fT,zj:G,pz:d3.JM(N.sdwM.v.BlnM),xx:N.sdwO.v.val/100};I.all.push(iE.Ne,iE.EL)}if(["OtrB","Embs","PlEb"].indexOf(S)!=-1){iE.oS={OT:h8,zj:G,pz:d3.JM(N.hglM.v.BlnM),xx:N.hglO.v.val/100};
iE.Mt={OT:jf,zj:G,pz:d3.JM(N.sdwM.v.BlnM),xx:N.sdwO.v.val/100};I.all.push(iE.oS,iE.Mt)}if(y)console.log(Date.now()-k);
I.type[w].push(iE)}if(w=="patternFill"){var aR=a.rect(),v=j.U(aR.P()*4);cU.qb(N,v,aR,T.add.Patt,q);var _=aR.clone();
_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};I.type[w].push(o);I.all.push(o)}if(w=="ChFX"){var v=j.U(a.Jf().length*4);
cU.eD(v,N.Clr.v);var m=N.blur.v.val,aq=a.rect().clone();aq.ZU(m,m);var gv=j.U(aq.P()),fL=j.U(aq.P());
j.cg(a.Jf(),a.rect(),fL,aq);j.Lw.BE(fL,gv,aq,m*.43);var hq=j.A6.SK(N.MpgS.v.Crv.v,256,!0);j.eA(gv,hq);
var hz=j.U(a.Jf().length),cy=j.U(a.Jf().length),bX=a.rect().clone();cU.Jg(bX,N,T,0);j.cg(gv,aq,hz,bX);
bX=a.rect().clone();cU.Jg(bX,N,T,Math.PI);j.cg(gv,aq,cy,bX);var is=hz.length;for(var R=0;R<is;R++)v[4*R+3]=Math.abs(hz[R]-cy[R]);
if(N.Invr.v)for(var R=0;R<is;R++)v[4*R+3]=255-v[4*R+3];var _=a.rect().clone();_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};
I.type[w].push(o);I.all.push(o)}if(w=="OrGl"){var D;if(N.GlwT.v.BETE=="SfBL")D=a.y7(c,m-c,!0);else D=a.Pn(m,f,!0);
var z=D.Jf,_=D.n7,dr=z.slice(0);cU.Pp(z,N);var v=j.U(_.P()*4);if(N.Grad==null){cU.eD(v,N.Clr.v);cU.ce(z,N,!1)}else{cU.ce(z,N,null);
var cx={B9:z,DC:255,uP:0,mV:_};cU.kW(N,v,_,T,cx);var g1=N.Nose.v.val/100,da=_.v;for(var R=0;R<dr.length;
R++){var aS=255,iZ=dr[R];if(iZ<32){var hs=(iZ+dr[R-1]+dr[R+1]+dr[R-da]+dr[R+da])*.2-1;aS=Math.min(255,Math.round(Math.max(0,hs)*8))}z[R]=aS}cU.bc(z,N)}j.yI(z,v,3);
_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};I.type[w].push(o);I.all.push(o)}if(w=="IrGl"){var D;
if(N.GlwT.v.BETE=="SfBL")D=a.y7(c,m-c,!1);else D=a.Pn(m,f,!1);var z=D.Jf,_=D.n7;cU.Pp(z,N);if(N.glwS.v.IGSr=="SrcC")j.z3(z);
var v=j.U(_.P()*4);if(N.Grad==null){cU.eD(v,N.Clr.v);cU.ce(z,N,!0)}else{cU.ce(z,N,null);var cx={B9:z,DC:255,uP:0,mV:_};
cU.kW(N,v,_,T,cx);z.fill(255);cU.bc(z,N)}j.yI(z,v,3);_.offset(B,$);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100};
I.type[w].push(o);I.all.push(o)}if(w=="FrFX"){var aD=cU.vz(N),iT=aD[0],fQ=aD[1],_=a.rect().clone(),fx=null,i8=null;
_.ZU(Math.ceil(Z),Math.ceil(Z));if(fQ>0){var D=a.y7(fQ,0,!0);i8=D.Jf;if(i8.length<_.P()){i8=j.U(_.P());
j.cg(D.Jf,D.n7,i8,_)}}if(iT>0){var D=a.y7(iT,0,!1);fx=j.U(_.P());fx.fill(255);j.cg(D.Jf,D.n7,fx,_)}_.offset(B,$);
var v=j.U(_.P()*4),ho=N.PntT.v.FrFl;if(ho=="SClr")cU.eD(v,N.Clr.v);if(ho=="GrFl")cU.kW(N,v,_,T,a.ajf(iT,fQ));
if(ho=="Ptrn")cU.qb(N,v,_,T.add.Patt,q);var o={OT:v,zj:_,pz:d3.JM(N.Md.v.BlnM),xx:N.Opct.v.val/100,bm:i8,qL:fx};
I.type[w].push(o);I.all.push(o)}}}return I};cU.VT=function(n){var q=1/Math.sqrt(n.x*n.x+n.y*n.y+n.xh*n.xh);
n.x*=q;n.y*=q;n.xh*=q};cU.M8=function(n,q){return{x:n.y*q.xh-n.xh*q.y,y:n.xh*q.x-n.x*q.xh,xh:n.x*q.y-n.y*q.x}};
cU.ahd=function(n,q){return n.x*q.x+n.y*q.y+n.xh*q.xh};cU.bc=function(n,q){var p=q.Nose.v.val/100;if(p>0)for(var R=0;
R<n.length;R++){var E=n[R];E=Math.min(510-(1+p)*j.style.I8(R),E);n[R]=E}};cU.Pd=function(n){var q=cU.k0(),p=n.tA,E=!1;
for(var R=0;R<32;R+=8)if(p[R]+p[R+1]+p[R+4]+p[R+5]!=0||p[R+2]+p[R+3]+p[R+6]+p[R+7]!=1020)E=!0;if(E){p=p.slice(0);
for(var R=0;R<40;R+=4){var T=p[R]/255,i=p[R+1]/255,H=p[R+2]/255,Z=p[R+3]/255;p[R]=T-.001;p[R+1]=T==i?1e6:1/(i-T);
p[R+2]=H==Z?-1e6:1/(H-Z);p[R+3]=Z+.001}}var w=n.add.iOpa!=null?n.add.iOpa/255:q.fill,d=n.add.vstk;if(d&&!d.fillEnabled.v&&(!d.strokeEnabled.v||d.strokeStyleLineWidth.v.val==0))w=0;
return{fill:w,rU:E?p:null,ZJ:n.add.brst!=null?n.add.brst:q.ZJ,adN:n.add.knko!=null?n.add.knko:q.adN,style:!1,fC:!1}};
cU.k0=function(){return{fill:1,rU:null,ZJ:[1,1,1],adN:0,style:!1,fC:!1}};cU.Zb=function(n,q){if(q==null)return null;
var p=n.Idnt.v,E=null;for(var R=0;R<q.length;R++)if(q[R].id==p)return q[R];return null};cU.Ip=function(n,q,p){var E=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var R=0;R<E.length;R++){var T=n.v[E[R]].v;for(var i=0;i<T.length;i++)if(T[i].v.Ptrn)q.J1(cU.Zb(T[i].v.Ptrn.v,p))}};
cU.ap8=function(n,q,p){var E=["patternFillMulti","ebblMulti","frameFXMulti"];for(var R=0;R<E.length;
R++){var T=n.v[E[R]].v;for(var i=0;i<T.length;i++)if(T[i].v.Ptrn){var H=T[i].v.Ptrn.v,Z=cU.Zb(H,p),w=cU.Zb(H,q.add.Patt);
if(Z==null&&w)p.push(w)}}};cU.qb=function(n,q,p,E,T){var i=cU.Zb(n.Ptrn.v,E);if(i!=null&&!p.M6()){var H=i.Ac,Z=H[0],w=H[1],d=0;
j.bl(H);var O=(n.Scl?n.Scl.v.val:100)/100;while((O<.3||O==.5)&&H[d+2]){O*=w.v/H[d+3].v;d+=2;Z=H[d];w=H[d+1]}var W=j.scale.qb(Z,w.v,w.o),C=n.phase?n.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},a=-p.x+C.Hrzn.v-1,B=-p.y+C.Vrtc.v-1;
if(n.Algn!=null&&!n.Algn.v){}else{a+=T.x;B+=T.y}j.scale.a0(W,q,p.v,p.o,O,O,a+1,B+1)}};cU.kW=function(n,q,p,E,T,i){if(i==null)i=p;
var H=n.Type?n.Type.v.GrdT:"shapeburst",Z=n.Algn&&n.Algn.v?i:new eL(0,0,E.v,E.o),w=n.Angl?j.f.M5(n,Z):[new fc(0,0),new fc(100,0)],d=w[0].x,O=w[0].y,W=w[1].x-d,C=w[1].y-O,a=Math.sqrt(W*W+C*C);
a=1/(2*a*a);var B=[W*a,C*a,-C*a,W*a],$=n.Rvrs?n.Rvrs.v:!1,I=n.Dthr?n.Dthr.v:!1;j.f.Ma(n.Grad.v,q,p,B,d,O,$,iq.f.types.indexOf(H),0,0,T,I)};
cU.aaC=function(n,q){for(var R=0;R<n.all.length;R++){var p=n.all[R];p.Eh=p.zj.clone();p.Eh.offset(q.x,q.y)}};
cU.jQ=function(n,q,p,E,T,i){var H=K.pb?cU.PB:cU.qu;cU.aaC(q,p);var Z=q.type.DrSh;for(var R=0;R<Z.length;
R++)if(!Z[R].a9y)H(Z[R],E,T,i)};cU.k6=function(n,q,p,E,T,i,H,Z,w,d){var O=p,W=K.pb?cU.PB:cU.qu,C=K.pb?K.a.OS:j.a.ZH,a;
a=q.type.DrSh;for(var R=0;R<a.length;R++)if(a[R].a9y)W(a[R],E,T,i);a=q.type.OrGl;for(var R=0;R<a.length;
R++)W(a[R],E,T,i);var B="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var $=0;$<B.length;$++){var a=q.type[B[$]];
for(var R=0;R<a.length;R++)W(a[R],H,O,i)}var I=q.type.ebbl[0],x=I!=null&&I.aek;a=q.type.FrFX;for(var R=0;
R<a.length;R++){var U=a[R];iB.px.cg(Z,d,w,d,i);W(U,w,d,i);if(x&&R==a.length-1){if(I.Mt)W(I.Mt,w,d,i);
if(I.oS)W(I.oS,w,d,i);if(I.EL)W(I.EL,w,d,i);if(I.Ne)W(I.Ne,w,d,i)}if(U.qL||U.pt)C(w,d,H,O,K.pb?U.pt:U.qL,U.Eh,0,i,1);
if(U.bm||U.N4)C(w,d,E,T,K.pb?U.N4:U.bm,U.Eh,0,i,1)}if(!x&&I!=null){if(I.Mt)W(I.Mt,E,T,i);if(I.oS)W(I.oS,E,T,i);
if(I.EL)W(I.EL,H,O,i);if(I.Ne)W(I.Ne,H,O,i)}};cU.qu=function(n,q,p,E){var T=cU.k0();T.fill=n.xx;T.style=!0;
j.a.Ef(n.pz,n.OT,n.Eh,q,p,E,1,T)};cU.PB=function(n,q,p,E){var T=cU.k0();T.fill=n.xx;T.style=!0;K.a.qP(n.pz,n.jC,n.Eh,q,p,E,1,T)};
cU.Pp=function(n,q){var p=1-q.Inpr.v.val/100,E=1+Math.tan(p*(Math.PI/2)),T=n.length;for(var R=0;R<T;
R++)n[R]=Math.min(255,Math.round(n[R]*E))};cU.ce=function(n,q,p){var E=q.blur.v.val,T=Math.round(E*(q.Ckmt.v.val/100));
if(E>T){var i=j.A6.SK(q.TrnS.v.Crv.v,256,!0);j.eA(n,i)}if(p!=null&&q.Nose.v.val>0)j.style.ix(n,q.Nose.v.val/100,p)};
cU.eD=function(n,q,p){if(p==null)p=255;var E=j.f.aV(q),T=p<<24|E.X<<16|E.q<<8|E._,i=new Uint32Array(n.buffer);
i.fill(T)};cU.Jg=function(n,q,p,E){var T=q.uglg&&q.uglg.v?p.E5():q.lagl.v.val;T=T*Math.PI/180+E;var i=Math.cos(T)*q.Dstn.v.val,H=Math.sin(T)*q.Dstn.v.val;
n.x-=Math.round(i);n.y+=Math.round(H)};cU.BO=function(n){if(n==null)return null;var q=n.frameFXMulti.v;
if(q.length==0)return null;q=q[0].v;var p=JSON.parse(JSON.stringify(iq.DL.default));cU.Vr(q,p);return p};
cU.Vr=function(n,q){var p=iq.stroke.VX.indexOf(n.PntT.v.FrFl),E=[iq.zo,iq.kb,iq.fi][p],T=q.strokeStyleContent.v={classID:iq.DL.LK[p]};
for(var R=0;R<E.length;R++)T[E[R]]=n[E[R]];q.strokeEnabled=n.enab;q.strokeStyleLineWidth=n.Sz;q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[iq.stroke.types.indexOf(n.Styl.v.FStl)];
q.strokeStyleOpacity=n.Opct;q.strokeStyleBlendMode=n.Md};cU.Wv=function(n,q){var p=[];for(var R=0;R<n.length;
R++)p.push({t:"UntF",v:{type:"#Nne",val:Math.round(n[R]*q)}});return p};cU.Sy=function(n,q,p,E){this.PV=q.clone();
this.a85=q.clone();this.a85.ZU(p,p);if(E){this.PV.ZU(1,1);this.bN=j.U(this.PV.P());j.cg(n,q,this.bN,this.PV)}else this.bN=n;
this.JT=null;this.ky=null;this.zQ=null};cU.Sy.prototype.Jf=function(){return this.bN};cU.Sy.prototype.rect=function(){return this.PV};
cU.Sy.prototype.Cv=function(){return this.a85};cU.Sy.prototype.gw=function(){if(this.JT)return this.JT;
this.JT=this.Jf().slice(0);j.z3(this.JT);return this.JT};cU.Sy.prototype.LB=function(){if(this.ky)return this.ky;
this.ky=new Float64Array(this.rect().P());j.style.mJ(this.gw(),this.ky,this.rect().v,this.rect().o);
return this.ky};cU.Sy.prototype.H_=function(){if(this.zQ)return this.zQ;var n=this.Cv(),q=j.U(n.P());
j.cg(this.Jf(),this.rect(),q,n);this.zQ=new Float64Array(n.P());j.style.mJ(q,this.zQ,n.v,n.o);return this.zQ};
cU.Sy.prototype.ajf=function(n,q){var p={DC:-q,uP:n,mV:null,B9:null};if(q==0){p.mV=this.rect();p.B9=this.LB();
return p}var E=this.H_().slice(0),T=this.Cv();p.mV=T;p.B9=E;for(var R=0;R<E.length;R++)E[R]=-E[R];if(n==0)return p;
var i=this.LB(),H=this.rect();for(var Z=0;Z<H.o;Z++)for(var w=0;w<H.v;w++){var d=Z*H.v+w,O=(Z+H.y-T.y)*T.v+w+H.x-T.x;
E[O]+=i[d]}return p};cU.Sy.prototype.y7=function(n,q,p){var E=Math.ceil(n+q),T={n7:this.rect().clone(),Jf:null};
T.n7.ZU(E,E);T.Jf=j.U(T.n7.P());if(n==0&&q==0)j.Sa(p?this.Jf():this.gw(),T.Jf);else{var i=j.U(T.n7.P());
j.cg(this.Jf(),this.rect(),i,T.n7);if(!p)j.z3(i);if(n!=0){if(p)j.style.Mn(i,T.n7,this.H_(),this.Cv(),n);
else j.style.Mn(i,T.n7,this.LB(),this.rect(),n)}if(q!=0)j.Lw.BE(i,T.Jf,T.n7,Math.max(1,q*.43));else T.Jf=i}return T};
cU.Sy.prototype.Pn=function(n,q,p){var E=n*(q-.5),T={n7:this.rect().clone(),Jf:null};if(p)T.n7.ZU(n,n);
T.Jf=j.U(T.n7.P());var i=T.n7.v,H=T.n7.o,Z=p?this.H_():this.LB(),w=p?this.Cv():this.rect(),d=T.n7,O=d.O1(w),i=O.v,H=O.o,W=O.x-d.x,C=O.y-d.y,a=O.x-w.x,B=O.y-w.y,$=1-q*2;
for(var I=0;I<H;I++)for(var x=0;x<i;x++){var U=Z[(I+B)*w.v+x+a],N=U/n;T.Jf[(I+C)*d.v+x+W]=Math.max(0,Math.min(255,255-255*((N+$)/(1+$))))}return T};
cU.pD=function(n,q,p){var E=n.Lefx,T=n.blendOptions;if(E){var i=q.add.lmfx;if(p==null)p=i?i.Scl.v.val:100;
q.add.lmfx=JSON.parse(JSON.stringify(E.v));if(q.add.lmfx.Scl==null)q.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
cU.Rb(q.add.lmfx,p/q.add.lmfx.Scl.v.val);if(i)q.add.lmfx.Scl.v.val=i.Scl.v.val}else delete q.add.lmfx;
if(T){T=T.v;if(T.Md)q.Nl=d3.JM(T.Md.v.BlnM);if(T.Opct)q.opacity=Math.round(T.Opct.v.val*255/100);if(T.fillOpacity)q.add.iOpa=Math.round(T.fillOpacity.v.val*255/100);
if(T.Blnd){var H=[];for(var R=0;R<10;R++)H.push(0,0,255,255);var Z=T.Blnd.v,w="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var R=0;R<Z.length;R++){var d=Z[R].v,O=8*["Gry","Rd","Grn","Bl"].indexOf(d.Chnl.v[0].v.enum);for(var W=0;
W<8;W++){H[O+W]=d[w[W]].v}}q.tA=H}}};cU.gi=function(n){var q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),p=[],E=n.tA;
for(var R=0;R<4;R++){var T=R*8;if(E[T]+E[T+1]+E[T+4]+E[T+5]==0&&E[T+2]+E[T+3]+E[T+6]+E[T+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][R]}}]}}};
p.push(i);for(var H=0;H<8;H++)i.v[q[H]]={t:"long",v:E[R*8+H]}}var Z={classID:"blendOptions"};if(n.Nl!="norm")Z.Md={t:"enum",v:{BlnM:d3.g6(n.Nl)}};
if(n.opacity!=255)Z.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(n.opacity*100/255)}};if(n.add.iOpa!=null)Z.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(n.add.iOpa*100/255)}};
if(p.length!=0)Z.Blnd={t:"VlLs",v:p};var w={Ax:{classID:"null",Idnt:{t:"TEXT",v:gd.R4()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Tp:{classID:"Styl",blendOptions:{t:"Objc",v:Z}}},d=n.add.lmfx;
if(d)w.Tp.Lefx={t:"Objc",v:d};return w};function gV(){}gV.Vz=function(n){return JSON.parse(JSON.stringify(n))};
gV.y$=function(n){var q=gV.Vz(gV.a0N),p=q.Brsh.v;if(n!=null){delete p.Hrdn;p.classID="sampledBrush";
p.Nm={t:"TEXT",v:"layer.png"},p.sampledData={t:"TEXT",v:n}}return q};gV.a0N={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
gV.VT={};gV.VT.check=function(n){var q=gV.VT.ql;for(var R=0;R<q.length;R++)if(n[q[R]]==null)n[q[R]]=JSON.parse(gV.VT.Qp[q[R]]);
var p=[];for(var R=0;R<q.length;R++)p.push(q[R]);var E=gV.VT._p;for(var R=0;R<E.length;R++){var T=E[R][0],i=E[R][1],H=!0;
for(var Z=0;Z<T.length;Z++)H=H&&n[T[Z]].v==!0;if(H)for(var Z=0;Z<i.length;Z++){if(n[i[Z]]==null)console.log("Missing conditional parameter "+i[Z]);
else p.push(i[Z])}}for(var w in n)if(p.indexOf(w)==-1)console.log("Extra parameter "+w);n=n.Brsh.v;q=gV.VT.Hv.ql;
for(var R=0;R<q.length;R++)if(n[q[R]]==null)n[q[R]]=JSON.parse(gV.VT.Hv.Qp[q[R]]);p=[];for(var R=0;R<q.length;
R++)if(n[q[R]])p.push(q[R]);else console.log("Missing default parameter "+q[R]);E=gV.VT.Hv.amt[n.classID];
for(var R=0;R<E.length;R++)if(n[E[R]]==null&&E[R]!="dtipsGridSize"&&E[R]!="dtipsErodibleTipHeightMap"&&n.arK!=1)console.log("Missing conditional parameter "+E[R]);
else p.push(E[R]);for(var w in n)if(p.indexOf(w)==-1)console.log("Extra parameter "+w)};gV.VT.xH=function(n){var q=gV.VT._p;
for(var R=0;R<q.length;R++){var p=q[R][0],E=q[R][1],T=!0;for(var i=0;i<p.length;i++)T=T&&n[p[i]]&&n[p[i]].v==!0;
if(T){for(var i=0;i<E.length;i++)if(n[E[i]]==null){n[E[i]]=JSON.parse(gV.VT.Qp[E[i]])}}else for(var i=0;
i<E.length;i++)if(n[E[i]]!=null){delete n[E[i]]}}};gV.VT.Hv={};gV.VT.Hv.ql="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
gV.VT.Hv.Qp={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};gV.VT.Hv.amt={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
gV.VT._p=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
gV.VT.ql="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
gV.VT.Qp={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function a2(n,q){this.adJ=n;this.H9=q==null?0:q;this.dir=0}a2.prototype.Ov=function(n,q){var p=this.adJ,E=new fc(n.x-p.x,n.y-p.y),T=new b$;
T.rotate(-this.H9);E=T.i1(E);if(this.dir==0&&!p.rv(n))this.dir=Math.abs(E.x)<Math.abs(E.y)?1:2;if(q.r(aj.$t)){if(this.dir==1)E.x=0;
if(this.dir==2)E.y=0}T.z3();E=T.i1(E);var i=new fc(p.x+E.x,p.y+E.y);return i};function iX(n,q,p,E,T,i,H,Z){this.Hh=q;
this.yi=p;this.iu=i;this.zF=E;if(E.m_==null)E.m_=[!1,!0];this.jz=null;this.dG=null;this.s3=0;this.ajF=0;
this.a2p=0;this.zC=0;this.ot=0;this.afl=H;this.Yd=new eL;this.r9=new eL;this.rect=new eL;if(Z!=null){this.OT=Z}else{var w=iX.Vg;
if(w.length!=H.P()*4)w=j.U(H.P()*4);else w.fill(0);this.OT=iX.Vg=w}this.rect=H.clone();this._F=[];this.XE=[];
this.V6=null;this.ny=0;this.X=null;this.zU="";this.P$=null;this.wW(n,T)}iX.Vg=j.U(16);iX.prototype.wW=function(n,q){this.ny=q;
this.X=n;this.zU=JSON.stringify(n)+JSON.stringify(this.zF._0);this.P$=iX.a7P(n,this.Hh,this.yi)};iX.prototype.moveTo=function(n,q,p){p=this.rN(p);
this.s3=p;var E=new fc(n,q),T=this.X.Brsh.v.Dmtr.v.val;this.jz=E.clone();this.dG=E.clone();this.V6=E.clone();
this._F=[n,q];this.XE=[p];var i=this.zF.m_;if(this.zF.OM!=iX.gq)this.Nz(this.DI(E,this.k5()*(i[1]?p:1),this.zF.Ik*(i[0]?p*.5:1),new fc(0,0)));
this.zC=E.clone()};iX.prototype.lineTo=function(n,q,p){p=this.rN(p);var E=this._F,T=E.length,i=E[T-2],H=E[T-1];
if(n==i&&q==H)return;var Z=this.X.Brsh.v.Dmtr.v.val,w=Math.ceil(Z)+1,d=new eL(Math.round(i),Math.round(H),0,0);
d.ZU(w,w);var O=new eL(Math.round(n),Math.round(q),0,0);O.ZU(w,w);this.rf(d.AL(O));this._F.push(n,q);
this.XE.push(p);T+=2;if(T>=6)this.Nz(this.wb(T))};iX.prototype.rN=function(n){if(n==null)n=1;n=Math.max(.05,Math.min(5,n));
if(isNaN(n)){alert("Pressure is not a number");throw"e"}return n};iX.prototype.Nz=function(n){this.Yd=n;
this.r9=this.r9.AL(n)};iX.prototype.finish=function(){var n=this._F,q=n.length,p;if(q==4)p=this.vw(n[q-2],n[q-1],this.XE[(q>>1)-1],!0);
if(q>4)p=this.wb(q+2);if(p)this.Nz(p)};iX.prototype.wb=function(n){var q=this._F,p=this.XE,E=q[n-6],T=q[n-5],i=q[n-4],H=q[n-3],Z=p[(n>>1)-3],w=p[(n>>1)-2],d=new fc(0,0),O=new fc(0,0);
if(8<=n)d=iX.Dq(q[n-8],q[n-7],E,T,i,H);if(n<=q.length)O=iX.Dq(q[n-2],q[n-1],i,H,E,T);var W=E+d.x,C=T+d.y,a=i+O.x,B=H+O.y,$=new eL;
for(var R=0;R<10;R++){var I=(R+1)*.1,x=1-I,U=x*x*x*E+3*I*x*x*W+3*I*I*x*a+I*I*I*i,N=x*x*x*T+3*I*x*x*C+3*I*I*x*B+I*I*I*H,m=this.vw(U,N,Z+I*(w-Z));
$=$.AL(m)}return $};iX.Dq=function(n,q,p,E,T,i){var H=n-p,Z=q-E,w=T-p,d=i-E,O=Math.sqrt(H*H+Z*Z),W=Math.sqrt(w*w+d*d),C=Math.acos((H*w+Z*d)/(O*W))/Math.PI,a=.35,B=.1;
C=B+C*(a-B);var $=T-n,I=i-q,x=Math.sqrt($*$+I*I),U=C*W/x;return new fc($*U,I*U)};iX.prototype.vw=function(n,q,p,E){var T=new eL,i=this.zF.a2X;
if(i==null)i=0;if(i==0||E){T=this.tP(n,q,p);return T}var H=this.V6,Z=n-H.x,w=q-H.y,d=Math.sqrt(Z*Z+w*w);
Z/=d;w/=d;if(d>i){var O=H.x+Z*(d-i),W=H.y+w*(d-i);T=this.tP(O,W,p);this.V6.Gw(O,W)}return T};iX.prototype.tP=function(n,q,p){var E=new eL,T=new fc(n,q),i=this.X.Brsh.v.Dmtr.v.val,H=this.zF.OM,Z=T.NH(this.dG);
Z.normalize(1);var w=fc.vu(this.dG,T),d=-this.ajF,O=this.dG.clone(),W=this.zF.m_;while(!0){var C=this.s3+(p-this.s3)*(Math.max(0,d)/w),a=this.k5()*(W[1]?C:1),B=this.aok()*(a+this.a2p)/2;
if(H==iX.gq)B=1;if(d+B<w){d+=B;var $=new fc(this.dG.x+Z.x*d,this.dG.y+Z.y*d),U=1;if(H==iX.gq){var I=O.clone();
I.x+=Z.x>0?1:-1;var x=O.clone();x.y+=Z.y>0?1:-1;if(fc.vu(I,$)<fc.vu(x,$))$=I;else $=x;d=fc.vu($,this.dG)}if(this.X.useScatter.v==!0){U=this.X.Cnt.v;
var N=this.X.countDynamics.v.jitter.v.val/100,m=N*(-1+2*this.gG());U+=Math.round(U*m)}for(var R=0;R<U;
R++){var f=this.DI($,a,this.zF.Ik*(W[0]?C*.5:1),Z);E=E.AL(f)}O=$}else break}this.ajF=w-d;this.dG=T;this.s3=p;
return E};iX.prototype.aok=function(){var n=this.X.Brsh.v,q=n.Spcn.v.val,p=Math.max(5,n.Rndn.v.val);
return p/100*(q/100)};iX.prototype.k5=function(){var n=this.X,q=n.Brsh.v.Dmtr.v.val;if(n.useTipDynamics.v){var p=q*(n.minimumDiameter.v.val/100);
q=p+(q-p)*(1-this.gG()*(n.szVr.v.jitter.v.val/100))}return q};iX.prototype.DI=function(n,q,p,E){p=Math.min(1,p);
var T=this.X,i=this.X.Brsh.v,H=i.Dmtr.v.val,Z=this.zF,w=Z.OM,d=Z.amZ,O=new b$;O.translate(-this.P$.mn.v/2,-this.P$.mn.o/2);
O.scale(1/this.P$.a8h,1/this.P$.a8h);O.scale(q/H,q/H);O.scale(1,Math.max(5,i.Rndn.v.val)/100);if(T.useTipDynamics.v){var W=T.minimumRoundness.v.val/100;
O.scale(1,W+(1-W)*Math.round(100-this.gG()*T.roundnessDynamics.v.jitter.v.val)/100);O.rotate((-.5+this.gG())*4*Math.PI*(T.angleDynamics.v.jitter.v.val/100))}O.rotate(i.Angl.v.val*(Math.PI/180));
if(T.useScatter.v){var C=(-1+2*this.gG())*T.scatterDynamics.v.jitter.v.val/100;O.translate(-C*q*E.y,C*q*E.x)}O.translate(n.x,n.y);
var a=this.a6J(O,n);this.rf(a.rect);var B=a.rect.clone();if(w==null){var $=this.aV(T);j.nz(a.Hj,Math.round($.X*255)<<16|Math.round($.q*255)<<8|Math.round($._*255)<<0,4278190080);
if(this.r9.M6()&&this.rect.rv(a.rect)&&p==1)this.OT=a.Hj.slice(0);else j.a.ao4(a.Hj,a.rect,this.OT,this.rect,a.rect,p)}if(w==iX.gq){var I=new fc(a.rect.x+a.rect.v/2,a.rect.y+a.rect.o/2),x=Math.round(I.x-this.zC.x),U=Math.round(I.y-this.zC.y),N=a.rect.clone();
N.offset(-x,-U);var m=N.O1(this.rect);m.offset(x,U);j.hk(this.OT,this.rect,a.Hj,N);j.a.d3(a.Hj,a.rect,this.OT,this.rect,a.t3,a.rect,p)}if(w==iX.IS||w==iX.l8||w==iX.vS){var f=a.rect.O1(this.rect),c;
if(f.rv(a.rect))c=a.t3;else{c=j.U(f.P());j.cg(a.t3,a.rect,c,f)}var D=j.U(f.P()*4);j.hk(this.OT,this.rect,D,f);
if(w==iX.l8){var z=D.slice(0),_=j.wn.Jz([-1,-1,-1,-1,25,-1,-1,-1,-1]);j.wn.W4(D,z,f.v,f.o,_,0);j.Sa(z,D)}else if(w==iX.vS){var v=fU.yQ("UnsM");
v.Amnt.v.val=15;v.Thsh.v=0;v.Rds.v.val=5;var z=j.U(D.length);fU._g("UnsM",{buffer:D,rect:f},v,0,0,{buffer:z,rect:f});
j.Sa(z,D)}else{fU.nQ(1,j.Lw.vd,D,f)}j.a.d3(D,f,this.OT,this.rect,c,f,p)}this.a2p=q;this.zC=I;return B};
iX.prototype.aV=function(n){var q=iX.tu(this.ny);if(n.useColorDynamics&&n.useColorDynamics.v){var p=1-this.gG()*n.clVr.v.jitter.v.val/100,E=iX.tu(this.iu);
q._=p*q._+(1-p)*E._;q.q=p*q.q+(1-p)*E.q;q.X=p*q.X+(1-p)*E.X;var T=(-.5+this.gG())*n.H.v.val/100,i=(-1+2*this.gG())*n.Strt.v.val/100,H=(-1+2*this.gG())*n.Brgh.v.val/100,Z=j.PW(q._,q.q,q.X);
Z.rZ=(Z.rZ+T+1)%1;Z.dd=Z.dd+i;if(Z.dd<0)Z.dd=-Z.dd;if(Z.dd>1)Z.dd=1-(Z.dd-1);Z.Gm=Z.Gm+H;if(Z.Gm<0)Z.Gm=-Z.Gm;
if(Z.Gm>1)Z.Gm=1-(Z.Gm-1);q=j.RF(Z.rZ,Z.dd,Z.Gm)}return q};iX.prototype.VT=function(n){return Math.max(0,Math.min(1,n))};
iX.prototype.gG=function(){this.ot++;return iX.hash(this.ot)};iX.tu=function(n){return{_:(n>>16&255)/255,q:(n>>8&255)/255,X:(n>>0&255)/255}};
iX.hash=function(n){n=n^61^n>>16;n=n+(n<<3);n=n^n>>4;n=n*668265261;n=n^n>>15;return(n&16777215)/16777215};
iX.HK=[];iX.ane=function(n,eR){var q=n.SD(),p=eR.SD();if(q<p){var E=q;q=p;p=E}var T=n.jS-eR.jS,i=n.X-eR.X,H=n.kr-eR.kr,Z=n.FF-eR.FF;
return p!=0&&q-p<.025&&Math.max(T*T,i*i,H*H,Z*Z)<=.01};iX.prototype.a6J=function(n,q){var p=null,i;for(var R=0;
R<iX.HK.length;R++)if(iX.HK[R].zU==this.zU){p=iX.HK[R];iX.HK.splice(R,1)}if(p==null)p={PD:[],zU:this.zU,RA:0,P:0};
var E=p.PD,T=this.zF._0;if(T){n=n.clone();n.R_=Math.floor(n.R_);n.so=Math.floor(n.so)}var H=iX.oU(n.R_,n.so);
for(var R=0;R<E.length;R++){var Z=E[R];if(!iX.ane(Z.nE,n))continue;if(iX.a0o(Z.Ag,H)<.2||Z.rect.P()>2500){i=Z;
break}}var w=Math.round(this.X.Brsh.v.Dmtr.v.val);if(i){i.rect.x=Math.round(i.pv.x-i.nE.R_+n.R_);i.rect.y=Math.round(i.pv.y-i.nE.so+n.so);
if(T){i.rect.x=Math.round(q.x-i.rect.v/2);i.rect.y=Math.round(q.y-i.rect.o/2)}i.RA=Date.now()}else{var d;
if(T&&w<=3){d={buffer:j.U(w*w*4),rect:new eL(Math.round(q.x-w/2),Math.round(q.y-w/2),w,w)};j.nz(d.buffer,4278190080)}else if(n.jS==1&&n.X==0&&n.kr==0&&n.FF==1){d={buffer:this.P$.Hj,rect:this.P$.mn.clone()};
d.rect.x=Math.round(n.R_);d.rect.y=Math.round(n.so)}else d=A.Z.i8([this.P$.Hj,this.P$.mn],n);if(T){for(var R=0;
R<d.buffer.length;R++)d.buffer[R]=d.buffer[R]>127?255:0}if(d==null)d={buffer:j.U(0),rect:new eL};var O=n.R_-Math.floor(n.R_),W=n.so-Math.floor(n.so);
i={Hj:d.buffer,t3:j.U(d.rect.P()),rect:d.rect,pv:d.rect.clone(),nE:n,Ag:iX.oU(n.R_,n.so),RA:Date.now()};
j.J2(i.Hj,i.t3,3);E.push(i);p.P+=d.rect.P();if(E.length>2e3||p.P>100*100*400){console.log("pruning",p.P,E.length);
E.sort(function(a,B){return B.RA-a.RA});while(E.length>1e3||p.P>100*100*200){var C=E.pop();p.P-=C.rect.P()}}}p.PD=E;
p.RA=Date.now();iX.HK.push(p);iX.HK.sort(function(a,B){return B.RA-a.RA});while(iX.HK.length>3)iX.HK.pop();
return i};iX.oU=function(n,q){return new fc(n-Math.floor(n),q-Math.floor(q))};iX.a0o=function(n,q){var p=q.x,E=q.y,T=Math.abs(p-n.x),i=Math.abs(E-n.y);
if(Math.abs(p-1-n.x)<T)p--;else if(Math.abs(p+1-n.x)<T)p++;if(Math.abs(E-1-n.y)<i)E--;else if(Math.abs(E+1-n.y)<i)E++;
T=n.x-p;i=n.y-E;return Math.sqrt(T*T+i*i)};iX.prototype.rf=function(n){};iX.a7P=function(n,q,p){var E,T,i,H=n.Brsh.v.Dmtr.v.val;
if(n.Brsh.v.classID=="computedBrush"){var Z=n.Brsh.v.Hrdn.v.val/100,w=1+.55*(1-Z);i=H<100?1.2:1;var d=Math.round(i*H*w);
T=new eL(0,0,d,d);E=j.U(d*d*4);var O=new Uint32Array(E.buffer),W=d/2,C=w/W,a=Date.now(),B=iX.Bw(Z),$=Math.round(8e3/W),q=B[0],I=B[1]-$,x=B[2]+$,U=Math.min(d,(d>>>1)+1);
for(var R=0;R<U;R++){var N=C*(R-W+.25);N*=N;var m=C*(R-W+.75);m*=m;var f=R*d,c=(d-1-R)*d;for(var D=0;
D<U;D++){var z=C*(D-W+.25),_=Math.floor(Math.sqrt(z*z+N)*(4e3/1.55));if(x<_)continue;else if(_<I){var v=4278190080;
while(D<U){var o=d-1-D;O[f+D]=v;O[f+o]=v;O[c+D]=v;O[c+o]=v;D++}break}else{var y=C*(D-W+.75),k=Math.floor(Math.sqrt(y*y+N)*(4e3/1.55)),S=Math.floor(Math.sqrt(z*z+m)*(4e3/1.55)),L=Math.floor(Math.sqrt(y*y+m)*(4e3/1.55)),v=~~(.5+255*.25*(q[_]+q[k]+q[S]+q[L]))<<24,o=d-1-D;
O[f+D]=v;O[f+o]=v;O[c+D]=v;O[c+o]=v}}}}if(n.Brsh.v.classID=="sampledBrush"){var X,V=0;for(var R=0;R<q.length;
R++)if(q[R].id==n.Brsh.v.sampledData.v)X=q[R];j.bl(X.Ac);T=X.Ac[1];i=Math.max(T.v,T.o)/H;E=X.Ac[0];var s=T.v,M=T.o;
while(Math.min(s,M)>H*2&&X.Ac[V+2]){V+=2;E=X.Ac[V];T=X.Ac[V+1].clone();i*=T.v/s;s=T.v;M=T.o}T.x=T.y=0}return{a8h:i,mn:T,Hj:E}};
iX.iR=[];iX.Bw=function(n){if(iX.iR[n])return iX.iR[n];var q=Math.pow(n,.55),p=new Float64Array(8e3),E=0,T=8e3;
for(var R=0;R<8e3;R++){var i=iX.abd(R*(1.55/4e3),q);if(i>=1)E=R;else if(i<=0&&T==8e3)T=R;p[R]=i}var H=[p,E,T];
iX.iR[n]=H;return H};iX.abd=function(n,q){var p=n<q?1:iX.acc((n-q)/Math.pow(1.001-q,.86));return p};
iX.acc=function(n){var q=n*.85;return Math.exp(-(q*q)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
iX.prototype.UB=function(){return this.rect.clone()};iX.prototype.U3=function(){return this.Yd.O1(this.rect)};
iX.prototype.o2=function(){return this.r9.O1(this.rect)};iX.prototype.V_=function(){return this.OT};
iX.S=null;iX.Jm=null;iX.Xm=function(n,q,p,E,T,i){var H=iX.S,Z=iX.Jm;if(H==null){iX.S=H=P.z("canvas","");
iX.Jm=Z=H.getContext("2d")}if(i==null)i=E;if(H.width!=i||H.height!=T){H.width=i;H.height=T}else Z.clearRect(0,0,i,T);
Z.fillStyle="#000000";Z.font=Math.floor(10*P.D())+"px sans-serif";var w=n.Brsh.v.Dmtr.v.val,d=""+w,O=Z.measureText(d);
Z.fillText(d,(E-O.width)/2,T-2);var W=E,C=T-10*P.D(),a=Math.min(W,C),B=n.Brsh.v.classID;if(B=="computedBrush"){Z.translate(W/2,C/2);
Z.rotate(-n.Brsh.v.Angl.v.val*Math.PI/180);Z.scale(1,.1+.9*n.Brsh.v.Rndn.v.val/100);var $=Math.min(.95*a/2,w/2)+.5,I=.9*n.Brsh.v.Hrdn.v.val/100,x=Z.createRadialGradient(0,0,0,0,0,$);
x.addColorStop(I,"rgba(0,0,0,1)");x.addColorStop((.5+I)/1.5,"rgba(0,0,0,.5)");x.addColorStop(1,"rgba(0,0,0,0)");
Z.fillStyle=x;Z.fillRect(-$,-$,2*$,2*$);Z.setTransform(1,0,0,1,0,0)}else if(B=="sampledBrush"){var U,D=0;
for(var R=0;R<q.length;R++)if(q[R].id==n.Brsh.v.sampledData.v)U=q[R];var N=U.Ac;j.bl(N);var m=N[0],f=N[1].v,c=N[1].o;
while((f>W||c>C)&&N[D+2]){D+=2;m=N[D];f=N[D+1].v;c=N[D+1].o}if(f*c!=0){var z=new ImageData(new Uint8ClampedArray(m.buffer),f,c);
Z.putImageData(z,Math.round((W-f)/2),Math.round((C-c)/2))}}else{}return H.toDataURL()};iX.JB=function(n,q,p,E){if(p==0)p=1;
var T=n.Brsh.v,i=T.Dmtr.v.val,H=T.Dmtr.v.val=Math.min(E!=null?Math.round(E*2.6):3e3,i*p),Z=T.Hrdn?T.Hrdn.v.val/100:1,w=E!=null?E:Math.round(H*(1+.55*(1-Z)))+4,W;
w=Math.max(15,Math.min(w,3e3));var d=new eL(0,0,w,w),O=new iX(n,q,null,{Ik:1},16711712,0,d);T.Dmtr.v.val=i;
O.moveTo(d.v/2,d.o/2);var C=O.V_(),a=O.UB();if(d.rv(a))W=C;else{W=j.U(d.P()*4);j.hk(C,a,W,d)}return[W,d,H]};
iX.jB=function(n,q,p,E){var T=q.v,i=T>>>1;for(var R=0;R<4;R++){var H=6-R;n[T*(i-H)+i-1]=E;n[T*(i-H)+i]=p;
n[T*(i-H)+i+1]=E;n[T*(i+H)+i-1]=E;n[T*(i+H)+i]=p;n[T*(i+H)+i+1]=E;n[T*(i-1)+i-H]=E;n[T*i+i-H]=p;n[T*(i+1)+i-H]=E;
n[T*(i-1)+i+H]=E;n[T*i+i+H]=p;n[T*(i+1)+i+H]=E}};iX.qr=function(n,q,p,E){var T=iX.JB(n,q,p),i=T[0].slice(0),H=T[1],Z=T[2],w=H.P(),d=j.U(w);
j.J2(i,d,3);var O=j.U(w);j.$.a48(d,O,H);if(Z<3||j.sy(O,0)||E&&Z>12){iX.jB(O,H,255,0)}var W=[1,2,1,2,8,2,1,2,1];
W=j.wn.Jz(W);j.wn.t4(O,d,H.v,H.o,W);j.nz(i,4294967295);j.yI(d,i,3);for(var R=0;R<w;R++)if(O[R]==255){i[R<<2]=i[(R<<2)+1]=i[(R<<2)+2]=0;
i[(R<<2)+3]=255}return{Xt:i,n7:H,h1:new fc(H.v/2,H.o/2)}};iX.gq="0";iX.IS="1";iX.l8="2";iX.vS="3";var hj={};
hj.S=document.createElement("canvas");hj.Jm=hj.S.getContext("2d");hj.JS=function(n,q){var p=n.bo(),Z;
if(p.x==Infinity||p.M6())return{OT:j.U(0),n7:new eL,i0:new eL};var E=n.bo(),T=hj.Vp(n,q),i=j.O.vK(T.W);
if(i.M6())return{OT:j.U(0),n7:new eL,i0:new eL};var H=j.vl(i.v,i.o);H.translate(-i.x,-i.y);hj.anK(T,H);
if(n.h9.length!=0){var w=hx.tl(q),d=H.getImageData(0,0,i.v,i.o);Z=new Uint8Array(d.data.buffer);if(w==0)for(var R=0;
R<Z.length;R+=4)Z[R+3]=Z[R+3]>80?255:0;if(w==3)for(var R=0;R<Z.length;R+=4)Z[R+3]=Math.min(255,Z[R+3]*1.5)}else Z=j.U(i.P()*4);
H.resetTransform();H.beginPath();return{OT:Z,n7:i,i0:E}};hj.Vp=function(n,q){var p=q.B,E=q.Bd,T=hx.tl(q),i=Math.max(p.X*p.X,p.kr*p.kr)<1e-9?p:null;
if(T==3||T==4)i=null;var H={F:[],W:[]};hj.air(n,H,i);H=hj.li(H,q,n);return H};hj.li=function(n,q,p){if(n==null)return n;
if(p&&p.J_)j.O.B(n.W,p.J_,n.W);if(p&&!j.bF.wO(q.vX)){var E=hx.UB(q,p);if(!E.M6()){if(n.F){n=j.O.TR(n);
var T=Math.min(E.v,E.o)/8;if(T<1)T=1;n=j.O.hF(n,T)}var i=j.bF.Bh(q.vX,E);j.c0.B(i,n.W,E)}}var H=q.B;
j.O.B(n.W,H,n.W);return n};hj.anK=function(n,q){Typr.U.pathToContext({crds:n.W,cmds:n.F},q)};hj.HU=function(n,q){if(!e7.qU())return;
var p=n.Bd,E=p.ResourceDict.FontSet,T=p.ResourceDict.StyleSheetSet[0].StyleSheetData,i=p.EngineDict.StyleRun.RunLengthArray,H=p.EngineDict.StyleRun.RunArray,Z=hx.Q2(p),w=!0,d={},O=0;
for(var R=0;R<H.length;R++){var W=H[R].StyleSheet.StyleSheetData.Font;if(W==null)W=T.Font;for(var C=0;
C<i[R];C++){var a=Z.charCodeAt(O+C),B=W+","+(a>128?a:-1);if(d[B]==null){d[B]=1;if(q.oD(E[W].Name,a)==null)w=!1}}O+=i[R]}return w};
hj.air=function(n,q,p){var E=new b$;for(var R=0;R<n.yA.length;R++)hj.af5(n.h9,n.yA[R],q,E,p)};hj.af5=function(n,q,p,E,T){E.translate(q.Ag.x,q.Ag.y);
for(var R=0;R<q.Kp.length;R++){var i={},H=q.Kp[R];if(!H.sU)break;var Z=E.clone();Z.translate(H.Ag.x,H.Ag.y);
if(T){var w=T.so+Z.so*T.FF;Z.so=(Math.round(w)-T.so)/T.FF}for(var d=H.start;d<H.end;d++)hj.a80(n,q.qd[d],q,i,p,Z)}E.translate(-q.Ag.x,-q.Ag.y)};
hj.aoj="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
hj.a80=function(n,q,p,E,T,i){i.translate(q.Ag.x,q.Ag.y);for(var H=q.uX;H<=q.xz;H++){var Z=p.GC[H],w=Z.n7.v,d=n[p.a6D+Z.GB];
if(d.Uo=="\n")continue;var O=d.BP.FontSize/d.jm.head.unitsPerEm,W=hx.aV(d.BP),C=(Math.round(W._)<<16)+(Math.round(W.q)<<8)+Math.round(W.X);
T.F.push("#"+j.E2(C));var a=i.clone();a.translate(Z.Ag.x+Z.Yr*O,Z.Ag.y-Z.gX*O);var B=new b$;B.scale(O,-O);
if(d.FY==1&&hj.aoj.indexOf(d.Uo)!=-1)B.concat(new b$(-1,0,0,1,w,0));if(d.BP.FauxItalic)B.concat(new b$(1,0,-Math.tan(.18),1,0,0));
B.translate(0,d.kJ);B.scale(d.scale.x,d.scale.y);if(d.BP.BaselineShift!=null)B.translate(0,-d.BP.BaselineShift);
if(Z.H9!=0){B.rotate(-Z.H9)}B.concat(a);if(Z.path.F.length!=0&&d.Uo!="\t"){if(d.BP.FauxBold){var $=d.BP.FontSize/2048*27*d.scale.x;
B.R_+=$;j.O.concat(T,Z.path,B);B.R_-=$+$;j.O.concat(T,Z.path,B)}else j.O.concat(T,Z.path,B)}if(d.Uo!="\n"){if(d.BP.Underline){if(E.Sh==null)E.Sh=d.jm.post.underlineThickness;
if(E.a3H==null)E.a3H=d.jm.post.underlinePosition;var I=0,x=E.a3H-E.Sh/2,U=Z.Yt*1.05,N=-E.Sh;j.O.concat(T,{F:["M","L","L","L","Z"],W:[I,x,I+U,x,I+U,x+N,I,x+N]},B)}if(d.BP.Strikethrough){var m=d.jm["OS/2"].yStrikeoutSize,f=d.jm["OS/2"].yStrikeoutPosition,I=0,x=f+m/2,U=Z.Yt*1.05,N=-m;
j.O.concat(T,{F:["M","L","L","L","Z"],W:[I,x,I+U,x,I+U,x+N,I,x+N]},B)}}T.F.push("X")}i.translate(-q.Ag.x,-q.Ag.y)};
function e7(n,q){var p=hx.d_(n),E,T,i=hx.my(n),H=n._LineOrientation==2?new b$:null,O;if(n.Curve)T=e7.Xq(n.Curve);
if(p!=0){E=new eL(i[0],i[1],i[2],i[3]);if(H){var Z=E.v;E.v=E.o;E.o=Z;H.translate(0,-i[2])}if(p==2){E.v=T[5]-T[4];
E.o=9999}}this.yA=[];this.h9=[];this.hw=p;this.J_=H;var w=this.arI=hx.Q2(n),d=-1;for(var R=0;R<w.length;
R++){var W=O,C=hx.PZ(n,R);if(C!=d){d=C;W=O=hx.apV(n,R)}var a={Uo:w.charAt(R),BP:W,jm:null,ca:-1,kJ:0,scale:new fc(0,0),$q:0,lineHeight:0,FY:0},B=n.ResourceDict.FontSet[W.Font].Name,$=a.jm=q.oD(B,w.charCodeAt(R));
a.scale.x=W.HorizontalScale==null?1:W.HorizontalScale;a.scale.y=W.VerticalScale==null?1:W.VerticalScale;
var I=$["OS/2"],x=$.hhea;if(W.FontCaps==1&&a.Uo!=a.Uo.toUpperCase()){var U=I.sxHeight?I.sxHeight/I.sTypoAscender:.76;
a.scale.x*=U;a.scale.y*=U}var N=1/$.head.unitsPerEm*W.FontSize;if(W.FontBaseline==1){var U=n.ResourceDict.SuperscriptSize;
a.scale.x*=U;a.scale.y*=U;a.kJ-=n.ResourceDict.SuperscriptPosition*W.FontSize}if(W.FontBaseline==2){var U=n.ResourceDict.SubscriptSize;
a.scale.x*=U;a.scale.y*=U;a.kJ+=n.ResourceDict.SubscriptPosition*W.FontSize}a.$q=e7.$q($,B,W);a.lineHeight=W.FontSize*1.2;
if(W.AutoLeading==!1)a.lineHeight=W.Leading;if(a.lineHeight==0)a.lineHeight=.01;this.h9.push(a)}var m=this.yA,f=[0];
for(var R=0;R<n.EngineDict.ParagraphRun.RunLengthArray.length;R++){var c=new e7.sO(n,q,this.h9,R,E,f,p==1?T:null);
m.push(c)}if(H){if(p==0)H.translate(0,m[0].qd[0].$q/2);H.rotate(-Math.PI/2)}if(p==2){var D=n.Curve.Points,z=T[0],_=T[1],v=T[2],o=T[3],k=T[4],S=T[5];
for(var R=0;R<m.length;R++)for(var L=0;L<m[R].Kp.length;L++)if(!(R==0&&L==0))m[R].Kp[L].sU=!1;var c=m[0],X=c.Kp[0];
c.Ag.Gw(0,0);X.Ag.Gw(0,0);for(var L=X.start;L<X.end;L++){var s=c.qd[L],M=s.Ag.x;s.Ag.x=0;for(var V=s.uX;
V<=s.xz;V++){var l=c.GC[V],e=l.n7.v/2;l.Ag.x+=M;var Y=e7.aft(z,(k+l.Ag.x+e)%o);l.Ag.x=Y[0]-e*Y[2];l.Ag.y=Y[1]-e*Y[3];
l.H9=Math.atan2(Y[3],Y[2])}}}}e7.$q=function(n,q,p){var E=n["OS/2"],T=n.hhea,i=0,i=0,H=[];H.push(E&&E.sxHeight&&q.toLowerCase().indexOf("capitals")!=-1?E.sxHeight:0);
H.push(E&&E.sCapHeight?E.sCapHeight:0);H.push(E&&E.sTypoAscender?E.sTypoAscender:0);H.push(T.ascender?T.ascender:0);
for(var Z=0;Z<H.length;Z++)if(H[Z]!=0){i=H[Z];break}var w=1/n.head.unitsPerEm*p.FontSize;i=i*w;if(i<p.FontSize*.6)i=p.FontSize*.75;
return i};e7.prototype.a4x=function(){return!this.ee(0)};e7.prototype.aqB=function(){return this.ee(1)};
e7.prototype.ee=function(n){var q=this.yA,p=!0,E=0;for(var R=0;R<q.length;R++){var T=q[R].Kp,i=T.length;
E+=i;for(var H=0;H<i;H++)p&=T[H].sU}return[p,E][n]};e7.Xq=function(n){var q=n.Points,p=q.length,E=p>>>3,T=n.TextOnPathTRange,i=n.Reversed,O=0,W=0;
if(i){var H=q.slice(0);for(var R=0;R<p;R+=2){H[R]=q[p-2-R];H[R+1]=q[p-1-R]}q=H;T=[E-T[1]%E,E-T[0]%E]}var Z=[],w=[0],d=[0];
for(var R=0;R<p;R+=8){var C=q[R+6]-q[R+0],a=q[R+7]-q[R+1],B=Math.round(4*Math.sqrt(C*C+a*a));for(var $=0;
$<B;$++){var I=$/B,x=1-I,U=x*x*x*q[R+0]+3*x*x*I*q[R+2]+3*x*I*I*q[R+4]+I*I*I*q[R+6],N=x*x*x*q[R+1]+3*x*x*I*q[R+3]+3*x*I*I*q[R+5]+I*I*I*q[R+7];
Z.push(U,N);if(R+$!=0){var C=U-O,a=N-W;d.push(d[d.length-1]+Math.sqrt(C*C+a*a));w.push((R>>>3)+I)}O=U;
W=N}}var m=d.length,f=d[m-1],c=e7.MI(T[0],w),D=e7.MI(T[1]%E,w),z=d[c%m],_=d[D%m];if(z>=_)_+=f;return[Z,w,d,f,z,_]};
e7.MI=function(n,q){var R=0;while(q[R]<n)R++;return R};e7.aft=function(n,q){var p=0,R=0,E,T,i;while(p<q){E=n[R+2]-n[R];
T=n[R+3]-n[R+1];i=Math.sqrt(E*E+T*T);p+=i;R+=2}return[n[R],n[R+1],E/i,T/i]};e7.prototype.ak2=function(n){return this.h9[n]};
e7.prototype.ac4=function(n){for(var q=0;q<this.yA.length;q++){var p=this.yA[q];for(var E=0;E<p.Kp.length;
E++){var T=p.Kp[E],i=p.qd[T.start].start,H=p.qd[T.end-1].end;if(i<n&&n<H)return[i,H-1]}}return[0,1]};
e7.prototype.AN=function(n,q){var p=-1,E=this.yA;if(this.hw==2){var T=1e9,i=0,H=E[0],Z=H.Kp[0];for(var w=Z.start;
w<Z.end;w++){var d=H.qd[w];for(var O=d.uX;O<=d.xz;O++){var W=H.GC[O],C=W.n7.v,a=n.x-W.Ag.x,B=n.y-W.Ag.y,$=a*a+B*B;
if($<T){T=$;i=W.GB}}}if(i!=0&&this.arI.codePointAt(i-1)>65535)i--;return i}for(var I=0;I<E.length;I++){var H=E[I];
for(var x=0;x<H.Kp.length;x++){p++;var Z=H.Kp[x],U=H.Kp[x+1];if(U==null&&I<E.length-1)U=E[I+1].Kp[0];
if(q!=null){if(p!=q)continue}else{if(U!=null&&H.Ag.y+Z.Ag.y<n.y)continue}for(var w=Z.start;w<Z.end;w++){var d=H.qd[w];
for(var O=d.uX;O<=d.xz;O++){var W=H.GC[O],C=W.n7.v,N=H.Ag.x+Z.Ag.x+d.Ag.x,m=N+W.Ag.x,f=N+(O<d.xz?H.GC[O+1].Ag.x:W.Ag.x+C);
if(n.x<=f||w+1==Z.end&&O==d.xz){var c=H.a6D+W.GB,D=this.h9[c],z=D.FY&1;if(D.Uo!="\n"&&(z==0&&n.x>m+C/2||z==1&&n.x<m+C/2))c+=this.arI.codePointAt(c)>65535?2:1;
return c}}}}}};e7.prototype.QV=function(n){var q={n7:new eL,aN:0},p=0;for(var E=0;E<this.yA.length;E++){var T=this.yA[E];
for(var i=0;i<T.Kp.length;i++){var H=T.Kp[i];q.aN=p;p++;for(var Z=H.start;Z<H.end;Z++){var w=T.qd[Z];
for(var d=w.start;d<w.end;d++){if(d==n){var O=this.h9[d],W=O.ca,C=T.GC[W].GB,a=1;while(T.GC[W]!=null&&T.GC[W].GB==C){var B=T.GC[W],$=T.Ag.x+H.Ag.x+w.Ag.x+B.Ag.x,I=T.Ag.y+H.Ag.y+w.Ag.y+B.Ag.y;
q.n7=q.n7.AL(new eL($,I-O.lineHeight,B.n7.v,O.lineHeight));q.H9=B.H9;W+=a}return q}}}}}};e7.prototype.bo=function(){var n=Infinity,q=Infinity,p=-Infinity,E=-Infinity;
for(var R=0;R<this.yA.length;R++){var T=this.yA[R];for(var i=0;i<T.Kp.length;i++){var H=T.Kp[i];if(!H.sU)break;
for(var Z=H.start;Z<H.end;Z++){var w=T.qd[Z];for(var d=w.uX;d<=w.xz;d++){var O=T.GC[d],W=O.n7,C=T.Ag.x+H.Ag.x+w.Ag.x+O.Ag.x,a=T.Ag.y+H.Ag.y+w.Ag.y+O.Ag.y;
n=Math.min(n,C+W.x);q=Math.min(q,a+W.y);p=Math.max(p,C+W.x+W.v);E=Math.max(E,a+W.y+W.o)}}}}return new eL(n,q,p-n,E-q)};
e7.LF=function(n){return 19968<=n&&n<=40959||12288<=n&&n<=12543};e7.a96=function(n,q,p,E,T,i,H){var Z=[i],w=0;
for(var R=i;R<H;R++){if(p[R]==null)console.log(R,i,H,p);var d=p[R].Uo,O=d.charCodeAt(0);if(O==32||O==9){Z.push(w,R,1,R+1);
w=0}else if(O==3851){Z.push(w+1,R+1);w=0}else if(e7.LF(O)){Z.push(w,R);w=1}else if(R!=i&&p[R].FY!=p[R-1].FY){Z.push(w,R);
w=1}else w++}Z.push(w);var W=[];for(var R=0;R<Z.length;R+=2){var C=Z[R],a=Z[R+1];if(a==0)continue;W.push(new e7.asK(n,q,p,E,T,C,a))}return W};
e7.a6N=function(n,q,p,E,T,i,H){var Z=[0,q?q.v:1e9],w=[];if(E){var d=n[i].$q,O=T+(T==0?d:n[i].lineHeight),W=O-d*.9,C=j.O.vR(E[0],W),a=C.length,B=j.O.vR(E[0],O),$=B.length;
if(a!=0&&$!=0){var I=0,x=0;Z=[];while(I<a&&x<$){var U=Math.max(C[I],B[x]),N=C[I+1],m=B[x+1],f=Math.min(N,m);
if(U<f)Z.push(U,f);if(N<m)I+=2;else x+=2}}}for(var c=0;c<Z.length;c+=2){var D=Z[c+1]-Z[c],z=0,_=i,v=q?D-p.StartIndent-p.EndIndent-(i==0?p.FirstLineIndent:0):Infinity;
while(i!=n.length){var o=n[i],y=z==0||(o.EF||o.Pw)||z+o.n7.v<v;if(!y)break;z+=o.n7.v;i++}w.push(i-_)}H[0]=w;
H[1]=Z;H[2]=i};e7.ali=function(n,q){var p=n.length,E=new Uint32Array(p),T=new Uint8Array(p),i=0;for(var R=0;
R<p;R++){T[R]=0;var H=n.charCodeAt(R);E[R]=H;if(H>i)i=H}if(i>1424)T=e7.a35(E,q);return T};e7.sO=function(n,q,p,E,T,i,H){this.qd=[];
this.Kp=[];this.Ag=new fc(0,0);this.GC=null;this.qd=null;this.BP=hx.a78(n,E);var Z=this.BP,W=0,B="",N=0,m=1,Y=0;
if(E!=0){var w=Z.SpaceBefore;if(w!=null)i[0]+=w}var d=n.EngineDict.ParagraphRun.RunLengthArray,O=d[E];
for(var R=0;R<E;R++)W+=d[R];var C=Z._Direction?Z._Direction:0;this.a6D=W;var a=hx.Q2(n).slice(W,W+O);
for(var $=0;$<a.length;$++){var I=a.charAt($);B+=p[W+$].BP.FontCaps==0?I:I.toUpperCase()}a=B;var x=e7.ali(a,C),U=[],f=x[R]&1,c=p[W].jm;
p[W].FY=x[0];for(var R=1;R<a.length;R++){var I=p[W+R],D=x[R];I.FY=D;if(D!=f||I.jm!=c){U.push(N,m);N=R;
m=1;f=D;c=I.jm}else m++}U.push(N,m);var z=this.GC=[];for(var R=0;R<U.length;R+=2){var _=U[R],v=U[R+1],o=(p[W+_].FY&1)==0,k=a.slice(_,_+v),S=Typr.U.shapeHB(p[W+_].jm,k,o),L=[],M=0;
for(var $=0;$<S.length;$++){var X=S[$];L.push({q:X.g,GB:X.cl,Yt:X.ax,tF:X.ay,Yr:X.dx,gX:X.dy})}S=L;var s=S.slice(0);
if(!o)s.reverse();for(var $=0;$<k.length;$++){while(M+1<s.length&&s[M+1].GB<=$){M++}while(M>0&&s[M-1].GB==$)M--;
p[W+_+$].ca=z.length+(o?M:s.length-M-1)}for(var $=0;$<S.length;$++){z.push(S[$]);S[$].GB+=_;var I=p[W+S[$].GB];
if(I.Uo=="\n")S[$].Yt=0;if(I.Uo=="\t")S[$].Yt=I.jm.head.unitsPerEm*36/I.BP.FontSize}}var V=hx.oG(Z),l=this.qd=e7.a96(n,q,p,W,z,W,W+O),e=this.Kp,J=-1,B=[null,null,0];
while(Y<l.length){e7.a6N(l,T,Z,H,i[0],Y,B);J++;var G={start:Y,end:0,n7:new eL,Ag:new fc(0,0),sU:!0},az=0,hd=0;
e.push(G);G.end=B[2];var F=G.end==l.length;function b(s,_,c$){var cT=c$-_>>>1;for(var R=0;R<cT;R++){var fp=s[_+R];
s[_+R]=s[c$-1-R];s[c$-1-R]=fp}}for(var h=1;h<5;h++){var bj=-1;for(var R=G.start;R<G.end;R++){var D=p[l[R].start].FY;
if(bj==-1&&D>=h)bj=R;else if(bj!=-1&&D<h){b(l,bj,R);bj=-1}}var i4=G.end;if(C==0&&l[i4-1].EF)i4--;if(bj!=-1)b(l,bj,i4)}var t=B[0],aG=B[1],bj=Y,Q=Y;
for(var jd=0;jd<t.length;jd++){var bP=aG[jd*2+1]-aG[jd*2],gz=0;bj=Q;Q+=t[jd];var fZ=this.a5u(bj,Q,l,C,T!=null);
if(T){if(V==1||F&&V==4)gz=fZ[1]+(bP-fZ[0]);if(V==2||F&&V==5)gz=fZ[1]+(bP-fZ[0])/2;if(J==0)gz+=Z.FirstLineIndent;
gz+=Z.StartIndent}else{if(V==0)gz=Z.StartIndent+Z.FirstLineIndent;if(V==1)gz=-fZ[0]-Z.EndIndent;if(V==2)gz=-fZ[0]/2}gz+=aG[jd*2];
if(T&&V>2&&(V==6||!F))this.a5z(bj,Q,l,bP,C,gz);else{var dt=gz;for(var R=bj;R<Q;R++){var a9=l[R],bi=a9.n7.v;
a9.Ag.x=dt;if(a9.d1=="\t")bi=Math.ceil((dt+4)/36)*36-dt;dt+=bi}}}Y=G.end;for(var R=G.start;R<G.end;R++){var aB=l[R].n7.clone();
aB.Qs(l[R].Ag);G.n7=G.n7.AL(aB);az=Math.max(az,l[R].$q);hd=Math.max(hd,l[R].lineHeight)}G.Ag.y=J==0?0:e[J-1].Ag.y+hd;
if(J==0){if(E==0&&T)i[0]+=az;if(E!=0)i[0]+=hd;this.Ag.y=i[0]}else i[0]+=hd;if(T)G.sU=this.Ag.y+G.Ag.y<T.y+T.o}var cv=Z.SpaceAfter;
if(cv!=null)i[0]+=cv};e7.sO.prototype.a5u=function(n,q,p,E,T){var i=0,H=0;for(var R=n;R<q;R++)i+=p[R].n7.v;
if(T){if(E==0)for(var R=q-1;R>=n;R--)if(p[R].EF||p[R].Pw)i-=p[R].n7.v;else break;if(E==1)for(var R=n;
R<q;R++)if(p[R].EF||p[R].Pw){var Z=p[R].n7.v;i-=Z;H-=Z}else break}return[i,H]};e7.sO.prototype.a5z=function(n,q,p,E,T,i){var H=0,Z=0,w=0,d=0;
for(var R=n;R<q;R++)if(p[R].EF)w++;else{H+=p[R].n7.v;Z++}if(T==0)for(var R=q-1;R>=n;R--)if(p[R].EF||p[R].Pw){if(p[R].EF){w--}}else break;
if(T==1)for(var R=n;R<q;R++)if(p[R].EF||p[R].Pw){if(p[R].EF){w--;d++}}else break;if(Z<=1||w==0){if(Z==1)p[n].Ag.x=i;
return}var O=(E-H)/w,W=-d*O;for(var R=n;R<q;R++){if(p[R].EF)this.GC[p[R].uX].n7.v=p[R].n7.v=O;p[R].Ag.x=i+W;
W+=p[R].n7.v}};e7.asK=function(n,q,p,E,T,i,H){this.d1="";for(var R=0;R<H;R++)this.d1+=p[i+R].Uo;this.EF=H==1&&(p[i].Uo==" "||p[i].Uo=="\t");
this.Pw=H==1&&p[i].Uo=="\n";this.start=i;this.end=i+H;this.n7=new eL;this.Ag=new fc(0,0);this.$q=0;this.lineHeight=0;
var Z=0,w=0;if(H==0){this.lineHeight=p[i].lineHeight;this.$q=p[i].$q;this.n7=new eL(0,-p[i].lineHeight,0,p[i].lineHeight)}var d=p[i].ca,O=p[i+H-1].ca;
if(O<d){var W=d;d=O;O=W}while(O+1<T.length&&T[O].GB==T[O+1].GB){O++}this.uX=d;this.xz=O;for(var C=d;
C<=O;C++){var a=T[C],B=p[E+a.GB],$=n._LineOrientation==2&&(B.BP.BaselineDirection!=2||e7.LF(B.Uo.charCodeAt(0))),I=Typr.U.glyphToPath(B.jm,a.q),f=0;
a.path={F:I.cmds,W:I.crds};var x=B.BP.FontSize,U=1/B.jm.head.unitsPerEm*x;if(!B.BP.AutoKerning)Z+=B.BP.Kerning*2*U*B.scale.x;
a.Ag=new fc(Z,0);a.H9=0;if($&&a.path.W.length>0){a.H9=-Math.PI/2;a.Ag.x+=x*.83;a.Ag.y=-x*.3+a.Yt*U/2;
a.Yt=x/U}var N=a.Yt*U*B.scale.x;a.n7=new eL(0,-B.lineHeight,N,B.lineHeight);var m=a.n7.clone();m.Qs(a.Ag);
if(B.BP.Tracking!=null)f=B.BP.Tracking*.001*x;if(B.BP.FauxBold==!0)f+=.027*x;Z+=N+f;if(H==1&&B.Uo==" ")m.v+=2*f;
else if(H==1&&B.Uo!=null&&e7.LF(B.Uo.charCodeAt(0)))m.v+=f;this.n7=this.n7.AL(m);this.$q=Math.max(this.$q,B.$q);
this.lineHeight=Math.max(this.lineHeight,B.lineHeight)}};e7.sX=0;e7.qU=function(){if(e7.sX==2)return!0;
if(e7.sX==1)return!1;e7.sX=1;function n(){fetch("code/external/fribidi.wasm").then(function(q){return q.arrayBuffer()}).then(function(q){return WebAssembly.instantiate(q)}).then(function(q){var p=q.instance.exports,E=p.memory,T=16,i=256,H=1,Z=T|i,w=T|i|H;
e7.a35=function(O,W){var C=O.length,a=C*4+4+C*4+C*4+C;al.j9(p,a+C+1e7);var B=new Uint8Array(E.buffer),$=new Uint32Array(E.buffer),I=p.calloc(a,1),x=I+C*4,U=x+4,N=U+C*4,m=N+C*4;
$.set(O,I>>>2);$[x>>>2]=W==0?Z:w;p.fribidi_get_bidi_types(I,C,U);p.fribidi_get_bracket_types(I,C,U,N);
p.fribidi_get_par_embedding_levels_ex(U,N,C,x,m);var f=B.slice(m,m+C);p.free(I);return f};e7.sX=2;var d=new ea(P.E.T,!0);
d.data={e:P.C.Th,wH:"add",sQ:cF.Jv,EQ:null};gH.bJ.K(d)})}Typr.U.initHB("code/external/hb.wasm",n);return!1};
function hx(){}hx.Vz=function(n){return JSON.parse(JSON.stringify(n))};hx.zD=function(n,q){for(var p in q)n[p]=q[p]};
hx.sB=function(n,q,p){var E=hx.Ei();if(p)hx.X6(E,0,0,p);var T={B:new b$(1,0,0,1,Math.round(n),Math.round(q)),Bd:E};
T.hW=hx.wh();T.vX=j.bF.U();T.i0=new eL;return T};hx.QW=function(n){var q=["CharacterDirection",0];for(var R=0;
R<q.length;R+=2){if(n[q[R]]!=null&&n[q[R]]!=q[R+1]){throw"e";console.log(q[R],n[q[R]])}}if(n instanceof Array)for(var R=0;
R<n.length;R++)hx.QW(n[R]);else if(n instanceof Object)for(var p in n)hx.QW(n[p])};hx.oG=function(n,q){if(q==null)q=n.Justification;
var p=n._Direction?n._Direction:0;if(p==1){if(q==0||q==3)q++;else if(q==1||q==4)q--}return q};hx.Od=function(n){if(n.add==null)return;
var q=n.Bd,p=q.Curve,E=n.add.vmsk,T=E.Q,i=j.O.kp(T,!0).W,H=n.B.clone();H.z3();j.O.B(i,H,i);var Z=i.slice(0,8);
for(var w=8;w<i.length;w+=6)Z.push(i[w-2],i[w-1],i[w],i[w+1],i[w+2],i[w+3],i[w+4],i[w+5]);p.Points=Z;
p.TextOnPathTRange=E.yF.slice(0);p.Reversed=E.eJ;if(hx.d_(q)==1){var p=e7.Xq(q.Curve),d=j.O.Uh(p[0]);
hx.XM(q,[0,0,d.v,d.o].map(Math.round));for(var R=0;R<Z.length;R+=2){Z[R]-=d.x;Z[R+1]-=d.y}var O=new b$(1,0,0,1,d.x,d.y);
O.concat(n.B);n.B=O}};hx.D6=function(n){if(n.add==null)return;var q=n.add.vmsk,p=n.Bd.Curve,E=p.Points,T={F:["M"],W:[E[0],E[1]]};
for(var R=0;R<E.length;R+=8){T.F.push("C");T.W.push(E[R+2],E[R+3],E[R+4],E[R+5],E[R+6],E[R+7])}j.O.B(T.W,n.B,T.W);
var i=j.O.zt(T,!0);q.Q=i;q.eJ=p.Reversed;q.yF=p.TextOnPathTRange.slice(0);n.add.vogk=g.J0(i)};hx.aV=function(n){var q={_:0,q:0,X:0};
if(n.FillColor){var p=n.FillColor,E=p.Values;if(p.Type==1)q={_:E[1]*255,q:E[2]*255,X:E[3]*255};else if(p.Type==2){var T={classID:"CMYC",Cyn:{t:"doub",v:E[1]*100},Mgnt:{t:"doub",v:E[2]*100},Ylw:{t:"doub",v:E[3]*100},Blck:{t:"doub",v:E[4]*100}};
q=j.f.aV(T)}else console.log("Unknown color type")}return q};hx.asq=function(n){for(var R=0;R<n.length;
R++){var q=n[R].StyleSheet.StyleSheetData,p=q.FillColor;if(p&&p.Type==2){var E=hx.aV(q);p.Type=1;p.Values=[1,E._/255,E.q/255,E.X/255]}}};
hx.UB=function(n,q){var p;if(hx.d_(n.Bd)==1){var E=hx.my(n.Bd);p=new eL(0,0,E[2]-E[0],E[3]-E[1])}else{p=q.bo();
if(q.J_){var T=q.J_.clone(),i=j.O.aS(p);j.O.B(i.W,T,i.W);p=j.O.Uh(i.W)}}return p};hx.LT=function(n){var q=n[0];
for(var R=0;R<n.length;R++)q=hx.a5j(q,n[R]);return q};hx.a5j=function(n,q){var p={};for(var E in n)if(JSON.stringify(n[E])==JSON.stringify(q[E]))p[E]=n[E];
return p};hx.cl=function(n,q){var p=n.GF,E=-1;for(var R=0;R<p.length;R++)if(p[R].Name==q)E=R;if(E==-1){E=p.length;
p.push({FontType:1,Name:q,Script:0,Synthetic:0})}n.h9.Font=E};hx.Q2=function(n){return n.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
hx.OC=function(n,q){n.EngineDict.Editor.Text=q.replace(/\n/g,"\r")};hx.d_=function(n){return n.Curve&&n.Curve.TextOnPathTRange[0]>=0?2:n.EngineDict.Rendered.Shapes.Children[0].ShapeType};
hx.vF=function(n,q){var p=n.EngineDict.Rendered.Shapes.Children[0];p.ShapeType=q;var E=p.Cookie.Photoshop;
E.ShapeType=q;E.Base.ShapeType=q;if(q==0){delete E.BoxBounds;E.PointBase=[0,0]}if(q==1){delete E.PointBase;
E.BoxBounds=[0,0,1,1]}};hx.my=function(n){return n.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
hx.XM=function(n,q){n.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=q};hx.apV=function(n,q){return hx.alK(n,hx.PZ(n,q))};
hx.PZ=function(n,q){var p=n.EngineDict.StyleRun.RunLengthArray;return hx.cp(p,q).ck};hx.alK=function(n,q){var p=n.ResourceDict.StyleSheetSet[0].StyleSheetData,E={};
for(var T in p)E[T]=p[T];var i=n.EngineDict.StyleRun.RunArray[q].StyleSheet.StyleSheetData;hx.zD(E,i);
return E};hx.a78=function(n,q){var p=n.ResourceDict.ParagraphSheetSet[0].Properties,E={};for(var T in p)E[T]=p[T];
var i=n.EngineDict.ParagraphRun.RunArray[q].ParagraphSheet.Properties;hx.zD(E,i);var H=["StartIndent","EndIndent","FirstLineIndent"];
for(var R=0;R<3;R++)if(E[H[R]]==null)E[H[R]]=0;return E};hx.V8=function(n,q,p){if(p=="")return;var E=hx.Q2(n);
hx.OC(n,E.substring(0,q)+p+E.substring(q,E.length));var T=n.EngineDict.StyleRun,i=T.RunLengthArray,H=hx.cp(i,q-1);
i[H.ck]+=p.length;var Z=n.EngineDict.ParagraphRun,i=Z.RunLengthArray,w=hx.cp(i,q),d=p.split("\n");if(d.length==1){i[w.ck]+=p.length;
return}i.splice(w.ck+1,0,i[w.ck]-(q-w.Gg));Z.RunArray.splice(w.ck+1,0,hx.Vz(Z.RunArray[w.ck]));i[w.ck]-=i[w.ck+1];
i[w.ck]+=d[0].length+1;for(var R=1;R<d.length-1;R++){Z.RunArray.splice(w.ck+R,0,hx.Vz(Z.RunArray[w.ck+R-1]));
Z.RunLengthArray.splice(w.ck+R,0,d[R].length+1)}i[w.ck+d.length-1]+=d[d.length-1].length};hx.cH=function(n,q,p){var E=hx.Q2(n);
hx.OC(n,E.substring(0,q)+E.substring(p,E.length));hx.g_(n.EngineDict.ParagraphRun,q,p,!0);hx.g_(n.EngineDict.StyleRun,q,p,!1)};
hx.g_=function(n,q,p,E){var T=n.RunLengthArray,i=hx.cp(T,q),H=hx.cp(T,p),Z=[];for(var R=0;R<T.length;
R++)for(var w=0;w<T[R];w++)Z.push(R);Z.splice(q,p-q);var d=[];for(var R=0;R<T.length;R++)d.push(0);for(var R=0;
R<Z.length;R++)d[Z[R]]++;for(var R=0;R<T.length;R++){if(d[R]==0){d.splice(R,1);T.splice(R,1);n.RunArray.splice(R,1);
R--}else if(d[R]<T[R])T[R]=d[R]}if(E&&i.ck!=H.ck&&i.Gg!=q){T[i.ck]+=T[i.ck+1];T.splice(i.ck+1,1);n.RunArray.splice(i.ck+1,1)}};
hx.X6=function(n,q,p,E){var T=n.EngineDict.Editor.Text.length;if(p==T-2)p++;if(E.h9.Font!=null)n.ResourceDict.FontSet=E.GF.slice(0);
if(q<=p)hx.JH(n.EngineDict.StyleRun,E.h9,q,p,!0);hx.JH(n.EngineDict.ParagraphRun,E.yA,q,p,!1)};hx.JH=function(n,q,p,E,T){var i=n.RunLengthArray;
if(T){var H=hx.cp(i,p);if(H.Gg!=p){var Z=i[H.ck];i.splice(H.ck,0,p-H.Gg);i[H.ck+1]=Z-i[H.ck];n.RunArray.splice(H.ck+1,0,hx.Vz(n.RunArray[H.ck]))}var w=hx.cp(i,E);
if(w.Gg+i[w.ck]-1!=E){var Z=i[w.ck];i.splice(w.ck,0,E-w.Gg+1);i[w.ck+1]=Z-i[w.ck];n.RunArray.splice(w.ck+1,0,hx.Vz(n.RunArray[w.ck]))}}var H=hx.cp(i,p),w=hx.cp(i,E);
if(T)for(var R=H.ck;R<=w.ck;R++)hx.zD(n.RunArray[R].StyleSheet.StyleSheetData,q);else for(var R=H.ck;
R<=w.ck;R++)hx.zD(n.RunArray[R].ParagraphSheet.Properties,q)};hx.aqK=function(n,q,p){var E=n.EngineDict.StyleRun.RunLengthArray,T=[],i=0;
for(var R=0;R<E.length;R++){var H=E[R];for(var Z=0;Z<H;Z++)if(q<=i+Z&&i+Z<p)T.push(R);i+=H}var w=T[0],d=[];
for(var R=0;R<T.length;R++){var O=T[R]-w;if(O==d.length)d.push(0);d[O]++}return d};hx.anQ=function(n){var q=n.EngineDict.StyleRun,p=q.RunArray,E=q.RunLengthArray;
for(var R=0;R<E.length-1;R++){var T=p[R].StyleSheet.StyleSheetData,i=p[R+1].StyleSheet.StyleSheetData;
if(JSON.stringify(T)==JSON.stringify(i)){p.splice(R+1,1);E[R]+=E[R+1];E.splice(R+1,1);R--}}};hx.tl=function(n){var q=n.hW.AntA.v.Annt;
q=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(q);if(q==-1)q=1;return q};hx.o0=function(n,q){n.hW.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][q]};
hx.o1=function(n,q,p){var E={GF:n.ResourceDict.FontSet.slice(0),h9:[],yA:[]},T=n.EngineDict.StyleRun.RunLengthArray,i=hx.cp(T,q).ck,H=hx.cp(T,p).ck;
for(var R=i;R<=H;R++){var Z=hx.Vz(n.ResourceDict.StyleSheetSet[0].StyleSheetData),w=n.EngineDict.StyleRun.RunArray;
if(w.length==0)continue;var d=w[R].StyleSheet.StyleSheetData;hx.zD(Z,d);E.h9.push(Z)}var O=n.EngineDict.ParagraphRun.RunLengthArray,W=hx.cp(O,q).ck,C=hx.cp(O,p).ck;
for(var R=W;R<=C;R++){var a=n.EngineDict.ParagraphRun.RunArray;if(a.length==0)continue;E.yA.push(hx.Vz(a[R].ParagraphSheet.Properties))}E.h9=E.h9.length==0?{}:hx.LT(E.h9);
E.yA=E.yA.length==0?{}:hx.LT(E.yA);return E};hx.gh=function(n,q){var p,E;p=["FontSize","Leading","BaselineShift"];
E=n.h9;for(var R=0;R<p.length;R++)if(E[p[R]]!=null)E[p[R]]*=q;p=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
E=n.yA;for(var R=0;R<p.length;R++)if(E[p[R]]!=null)E[p[R]]*=q};hx.ale=function(){return hx.o1(hx.fI,0,0)};
hx.wh=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
hx.cp=function(n,q){var p=0,R=0;while(p+n[R]<=q){p+=n[R];R++}return{ck:R,Gg:p}};hx.Ei=function(){var n=hx.Vz(this.fI);
return n};hx.H$={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
hx.alo={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
hx.fI={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(hx.H$))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(hx.H$))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(hx.alo))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var hM={};hM.aqJ=function(n){var q=hM.a5t(n._0,n._1);hM.asb(q,n._0);return q};hM.aoT=function(n,q,p){var E={};
E._98={_0:"i7"};E._0=hM.aqe(n,q,p?p._0:null);E._1=hM.a0f(n,q,E._0,p?p._1:null);return E};hM.aqe=function(n,q,p){var E={};
E._1=hM.ajM(n,p?p._1:null);E._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};E._3=JSON.parse(JSON.stringify(hM.apr));
E._4=JSON.parse(JSON.stringify(hM.aq7));E._5=hM.al$(n,E._1._0,p?p._5:null);E._6=hM.aks(n,p?p._6:null);
E._8=hM.a8j(n,q,p?p._8:null);E._9=hM.a71;return E};hM.asb=function(n,q){hM.aiL(n,q._5,q._1._0)};hM.ajM=function(n,q){var p=[],E=[];
for(var R=0;R<n.length;R++){var T=n[R].ResourceDict.FontSet;for(var i=0;i<T.length;i++){var H=T[i];if(E.indexOf(H.Name)!=-1)continue;
p.push(H);E.push(H.Name)}}var Z={_0:[]};for(var R=0;R<p.length;R++){var w=p[R],d={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+w.Name,_1:"i"+w.Script,_2:"i"+w.FontType}}};
if(w.Script==0)delete d._0._0._1;Z._0.push(d)}return Z};hM.al$=function(n,q,p){var E={_0:[],_1:[]},T={_0:JSON.parse(JSON.stringify(hM.UW))};
hM.ID(T._0,n[0].ResourceDict.StyleSheetSet[0],q,n[0].ResourceDict.FontSet);E._0.push(T);E._1.push({_0:"i0"});
E._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});E._1.push({_0:"i1"});return E};hM.aiL=function(n,q,p){var E=q._0[0];
for(var R=0;R<n.length;R++)hM.LG(E._0,n[R].ResourceDict.StyleSheetSet[0],p,n[R].ResourceDict.FontSet)};
hM.aks=function(n,q){var p={_0:[],_1:[]},E={_0:JSON.parse(JSON.stringify(hM.Tg))};hM.A7(E._0,n[0].ResourceDict.ParagraphSheetSet[0]);
p._0.push(E);p._1.push({_0:"i0"});E={_0:JSON.parse(JSON.stringify(hM.Tg))};hM.A7(E._0,n[0].ResourceDict.ParagraphSheetSet[0]);
E._0._0="sBasic Paragraph";E._0._6="i0";p._0.push(E);p._1.push({_0:"i1"});return p};hM.a8j=function(n,q,p){var E={_0:[]};
for(var R=0;R<n.length;R++){var T=n[R].Curve,i={};E._0.push({_0:i});var H=hx.d_(n[R]);i._2={};i._2._0="i"+H;
if(n[R]._LineOrientation==2)i._2._1="i2";if(H==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(H==1&&T==null){var Z=hx.my(n[R]),w=Z[2],d=Z[3];
i._1={_0:hM.cT("f",[0,0,0,0,w,0,w,0,w,0,w,0,w,d,w,d,w,d,w,d,0,d,0,d,0,d,0,d,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(H==1){var Z=hx.my(n[R]),w=Z[2],d=Z[3];i._1={_0:hM.cT("f",T.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(H==2){i._1={_0:hM.cT("f",T.Points)};i._2._6=hM.cT("f",T.TextOnPathTRange);
i._2._11={_0:T.Reversed,_3:"i0",_5:"f0",_7:!1}}}return E};hM.a0f=function(n,q,p,E){var T={};T._0=JSON.parse(JSON.stringify(hM.a0D));
T._1=hM.acz(n,q,p,E?E._1:null);T._2=JSON.parse(JSON.stringify(hM.UW._6));T._3=JSON.parse(JSON.stringify(hM.Tg._5));
return T};hM.a5t=function(n,q){return hM.a8D(n,q._1)};hM.acz=function(n,q,p,E){var T=[],i=p._1._0;for(var R=0;
R<n.length;R++){var H=n[R],Z={_0:{}};T.push(Z);var w=E?E[R]:null;Z._0._0="s"+H.EngineDict.Editor.Text;
Z._0._0=Z._0._0;var d={_0:[]};Z._0._5=d;var O=H.EngineDict.ParagraphRun;for(var W=0;W<O.RunArray.length;
W++){var C={_0:{}};d._0.push(C);C._0._0={_0:"s",_5:{},_6:"i1"};hM.A7(C._0._0,O.RunArray[W].ParagraphSheet);
C._1="i"+O.RunLengthArray[W]}var a={_0:[]};Z._0._6=a;var B=w?w._0._6:null;O=H.EngineDict.StyleRun;for(var W=0;
W<O.RunArray.length;W++){var $={_0:{}};a._0.push($);var I=B?B._0:null;$._0._0={_0:"s",_5:"i1",_6:{}};
hM.ID($._0._0,O.RunArray[W].StyleSheet,i,H.ResourceDict.FontSet,I?$._0._0:null);$._1="i"+O.RunLengthArray[W]}Z._0._10={_0:"i4",_2:!0};
Z._1=hM.view.a40(H,null,R,null)}return T};hM.a8D=function(n,q){var p=[],E=n._1._0;for(var R=0;R<q.length;
R++){var T=hx.Ei();p.push(T);var i=q[R];T.EngineDict.Editor.Text=i._0._0.slice(1);var H=T.EngineDict.ParagraphRun.RunArray[0],Z=T.EngineDict.ParagraphRun,w=i._0._5;
if(w)for(var d=0;d<w._0.length;d++){var O=w._0[d];Z.RunLengthArray[d]=parseInt(O._1.slice(1));Z.RunArray[d]=JSON.parse(JSON.stringify(H));
hM.ad1(O._0._0,Z.RunArray[d].ParagraphSheet)}else{Z.RunLengthArray[0]=hx.Q2(T).length}var W=i._0._6;
Z=T.EngineDict.StyleRun;if(W)for(var d=0;d<W._0.length;d++){var C=W._0[d];Z.RunLengthArray[d]=parseInt(C._1.slice(1));
Z.RunArray[d]={StyleSheet:{StyleSheetData:{}}};hM.LG(C._0._0,Z.RunArray[d].StyleSheet,E,T.ResourceDict.FontSet)}else{Z.RunLengthArray[0]=hx.Q2(T).length;
Z.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return p};hM.ID=function(n,q,p,E,T){n._0="s"+(q.Name?q.Name:"");
var i=n._6,H=T?T._6:null,Z=q.StyleSheetData;if(Z.Font==null)return;var w=E[Z.Font].Name,d=-1;for(var R=0;
R<p.length;R++)if("s"+w==p[R]._0._0._0){d=R;break}i._0="i"+d;if(Z.FontSize!=null)i._1="f"+Z.FontSize;
if(Z.FauxBold!=null)i._2=Z.FauxBold;if(Z.FauxItalic!=null)i._3=Z.FauxItalic;if(Z.AutoLeading!=null)i._4=Z.AutoLeading;
if(Z.Leading!=null)i._5="f"+Z.Leading;if(Z.HorizontalScale!=null)i._6="f"+Z.HorizontalScale;if(Z.VerticalScale!=null)i._7="f"+Z.VerticalScale;
if(Z.Tracking!=null)i._8="i"+Z.Tracking;if(Z.BaselineShift!=null)i._9="f"+Z.BaselineShift;if(Z.AutoKerning!=null)i._11="i"+(Z.AutoKerning?1:0);
if(Z.FontCaps!=null)i._12="i"+Z.FontCaps;if(Z.FontBaseline!=null)i._13="i"+Z.FontBaseline;if(Z.Strikethrough!=null)i._15="i"+(Z.Strikethrough?1:0);
if(Z.Underline!=null)i._16="i"+(Z.Underline?2:0);if(Z.Ligatures!=null)i._18=Z.Ligatures;if(Z.DLigatures!=null)i._19=Z.DLigatures;
if(Z.BaselineDirection!=null)i._35="i"+Z.BaselineDirection;if(Z.Language!=null)i._38="i"+Z.Language;
if(Z.FillColor!=null)i._53={_99:"/SimplePaint",_0:{_0:"i1",_1:hM.cT("f",Z.FillColor.Values)}}};hM.LG=function(n,q,p,E){var T=n._6;
if(T==null)return;var i=q.StyleSheetData;if(T._0){var H=parseInt(T._0.slice(1)),Z=p[H]._0._0._0.slice(1);
hx.cl({h9:i,GF:E},Z)}if(T._1!=null)i.FontSize=parseFloat(T._1.slice(1));if(T._2!=null)i.FauxBold=T._2;
if(T._3!=null)i.FauxItalic=T._3;if(T._4!=null)i.AutoLeading=T._4;if(T._5!=null)i.Leading=parseFloat(T._5.slice(1));
if(T._6!=null)i.HorizontalScale=parseFloat(T._6.slice(1));if(T._7!=null)i.VerticalScale=parseFloat(T._7.slice(1));
if(T._8!=null)i.Tracking=parseFloat(T._8.slice(1));if(T._9!=null)i.BaselineShift=parseFloat(T._9.slice(1));
if(T._11!=null)i.AutoKerning=parseFloat(T._11.slice(1))==1;if(T._12!=null)i.FontCaps=parseFloat(T._12.slice(1));
if(T._13!=null)i.FontBaseline=parseFloat(T._13.slice(1));if(T._15!=null)i.Strikethrough=parseFloat(T._15.slice(1))==1;
if(T._16!=null)i.Underline=parseFloat(T._16.slice(1))==1;if(T._18!=null)i.Ligatures=T._18;if(T._19!=null)i.DLigatures=T._19;
if(T._35!=null)i.BaselineDirection=parseFloat(T._35.slice(1));if(T._38!=null)i.Language=parseFloat(T._38.slice(1));
var w=T._53;if(w){var d=w._0._0,O=w._0._1,W=[1,0,0,0],C=[];for(var R=0;R<O.length;R++)C[R]=parseFloat(O[R].slice(1));
if(d=="i0")W[1]=W[2]=W[3]=C[1];else if(d=="i1")W=C;else if(d=="i2")W=[1].concat(UDOC.C.cmykToRgb(C.slice(1)));
else console.log("unknown color type",d,C);i.FillColor={Type:1,Values:W}}};hM.A7=function(n,q){n._0="s"+(q.Name?q.Name:"");
var p=n._5,E=q.Properties;if(E.Justification!=null)p._0="i"+E.Justification;if(E.FirstLineIndent!=null)p._1="f"+E.FirstLineIndent;
if(E.StartIndent!=null)p._2="f"+E.StartIndent;if(E.EndtIndent!=null)p._3="f"+E.EndtIndent;if(E.SpaceBefore!=null)p._4="f"+E.SpaceBefore;
if(E.SpaceAfter!=null)p._5="f"+E.SpaceAfter;if(E.AutoHyphenate!=null)p._9=E.AutoHyphenate;if(E._Direction!=null)p._33="i"+E._Direction;
if(E._ComposerEngine!=null)p._35="i"+E._ComposerEngine};hM.ad1=function(n,q){var p=n._5;if(p==null)return;
var E=q.Properties;if(p._0)E.Justification=parseInt(p._0.slice(1))};hM.cT=function(n,q){var p=[];for(var R=0;
R<q.length;R++)p.push(n+q[R]);return p};hM.apr={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
hM.aq7={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
hM.UW={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
hM.Tg={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
hM.a71={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
hM.a0D={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var dH={};dH.KR=function(n){return dH.up(n,dH.KG,0)};dH.af6=function(n){return dH.Np(n,dH.KG)};dH.up=function(n,q,p){var E;
if(typeof n=="string")return n;if(n instanceof Array){E=[];for(var R=0;R<n.length;R++)E[R]=dH.up(n[R],q,p+1)}else{E={};
var T={};for(var i in q){var H=q[i],Z="_"+H[0];if(n[Z]!=null){E[i]=H[1]?dH.up(n[Z],H[1],p+1):n[Z];T[Z]=!0}}for(var i in n){if(T[i]==null){console.log(q,T);
console.log(i,n);throw"e"}}}return E};dH.Np=function(n,q){var p;if(typeof n=="string")return n;else if(n instanceof Array){p=[];
for(var R=0;R<n.length;R++)p[R]=dH.Np(n[R],q)}else{p={};var E={};for(var T in q){var i=q[T],H="_"+i[0];
if(n[T]!=null){p[H]=i[1]?dH.Np(n[T],i[1]):n[T];E[T]=!0}}for(var T in n){if(E[T]==null){console.log(q,E);
console.log(T,n);throw"e"}}}return p};dH.p2={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
dH.Uc={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,dH.p2],_StrokeColor:[54,dH.p2],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,dH.p2],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88]};
dH.dr={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,dH.Uc],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
dH.ro={_Name:[0],_Features:[5,dH.dr],_Parent:[6],_97:[97]};dH.NL={_Name:[0],_Parent:[5],_Features:[6,dH.Uc],_97:[97]};
dH.KG={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,dH.NL]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,dH.ro]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_5:[5,{_0:[0],_1:[1],_2:[2],_3:[3],_5:[5,{_0:[0],_1:[1],_3:[3],_99:[99]}],_6:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,dH.ro]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,dH.NL]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_AlternateGlyphRun:[16],_HyperlinkRun:[17]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,dH.Uc],_OriginalNormalParagraphFeatures:[3,dH.dr]}]};
hM.view={};hM.view.a40=function(n,q,p,E){var T={},i=hx.d_(n);T._0=[{_0:"i"+p}];return T};function CSS(){}CSS.a0l=function(n,q){var p=n.add,E=p.vmsk,T=p.vstk,i=p.lmfx,H=p.TySh,Z=[],w=CSS.a5I(i,p);
if(n._m()&&E){var d=j.G.Sc(E.Q);if(!d.M6()){Z.push("width: "+Math.round(d.v)+"px");Z.push("height: "+Math.round(d.o)+"px")}var O=j.G.a0W(E.Q);
if(O>0)Z.push("border-radius: "+Math.round(O)+"px")}else if(H){var W=H.Bd;if(hx.d_(W)==1){var d=hx.my(W);
Z.push("width: "+Math.round(d[2])+"px");Z.push("height: "+Math.round(d[3])+"px")}CSS.QJ(Z,hx.o1(W,0,0),H.B,!1,!1,w[0])}var C=[],a=i?i.dropShadowMulti.v:0;
for(var R=0;R<a.length;R++){var B=a[R].v;if(B.enab.v){var $=B.Dstn.v.val,I=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)I=q.E5()*Math.PI/180;var x=$*Math.cos(I),U=$*Math.sin(I);C.push("drop-shadow("+(x==0?"0 ":CSS.rP(-x)+"px ")+(U==0?"0 ":CSS.rP(U)+"px ")+B.blur.v.val/2+"px "+CSS.pK(B.Clr.v,B.Opct.v.val/100)+")")}}if(C.length!=0)Z.push("filter: "+C.join(" "));
if(H==null)CSS.afF(w,Z);if(T==null||!T.strokeEnabled.v)T=cU.BO(i);if(T&&T.strokeEnabled.v){var N=T.strokeStyleContent.v,m=N.classID,f=iq.DL.jY.indexOf(T.strokeStyleLineCapType.v.strokeStyleLineCapType),c=iq.DL.join.indexOf(T.strokeStyleLineJoinType.v.strokeStyleLineJoinType),D=T.strokeStyleOpacity.v.val/100,z=T.strokeStyleLineWidth.v.val,_="";
if(m=="solidColorLayer")_=CSS.pK(N.Clr.v,D);Z.push("border: "+z+"px solid "+_)}return Z};CSS.a5I=function(n,q){var p=cU.SE(n,q),E=p[0],T=p[1],i,H;
if(E){i=CSS.pK(E.Clr.v,q.iOpa!=null?q.iOpa/255:1)}else if(T){H=CSS.Sj(T)}return[i,H]};CSS.afF=function(n,q){if(n[0])q.push("background-color: "+n[0]);
if(n[1])q.push("background-image: "+n[1])};CSS.Bn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.rP=function(eR){return""+parseFloat(eR.toFixed(3))};CSS.v5=function(n){if(n==null)return{_:0,q:0,X:0};
var q=n.indexOf("(");if(q!=-1){var p=n.slice(q+1,n.length-1).split(",");for(var R=0;R<p.length;R++){var E=p[R].trim();
p[R]=parseFloat(E)*(E.endsWith("%")?255/100:1)}return{_:p[0],q:p[1],X:p[2]}}if(n.charAt(0)!="#"){var T=CSS.Bn;
if(T[n])n=T[n];else console.log("unknown color "+n)}n=n.slice(1);if(n.length==3)n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2];
n=parseInt(n,16);return{_:n>>16&255,q:n>>8&255,X:n&255}};CSS.pK=function(n,q){return CSS.sw(j.f.aV(n),q)};
CSS.sw=function(n,q){if(q==null)q=1;var p=Math.round(n._),E=Math.round(n.q),T=Math.round(n.X),i=p<<16|E<<8|T;
return q==1?"#"+j.E2(i):"rgba("+p+","+E+","+T+","+q+")"};CSS.Sj=function(n){var q=n.Grad.v;if(q.Clrs==null)return"";
var p=q.Clrs.v.slice(0),E=q.Trns.v.slice(0),T=n.Ofst.v,i=n.Type.v.GrdT=="Rdl"?1:0,H=(i==1?"radial":"linear")+"-gradient",Z=i==0?Math.round(-n.Angl.v.val+90)+"deg":"circle at center",w=n.Rvrs.v;
if(w){p.reverse();E.reverse()}for(var R=0;R<p.length;R++){var d=p[R].v,O=R<E.length?E[R].v.Opct.v.val/100:1,W=d.Lctn.v/4096;
if(w)W=1-W;Z+=", "+CSS.pK(d.Clr.v,O)+" "+Math.round(W*100)+"%"}return H+"("+Z+")"};CSS.QJ=function(n,q,p,E,T,i){var H=q.h9,Z=E?1:A.Z.SD(p),w=Math.round(H.FontSize*Z);
n.push("font-size: "+w+"px");var d=H.Tracking;if(!E&&d!=null&&d!=0)n.push("letter-spacing: "+Math.round(d*w/1e3)+"px");
if(!H.AutoLeading)n.push("line-height: "+Math.round(H.Leading*Z)+"px");if(H.Strikethrough)n.push("text-decoration: line-through");
var O=hx.aV(H);O=[O._,O.q,O.X].map(Math.round);n.push((E?"fill: ":"color: ")+(i?i:"#"+j.E2(O[0]<<16|O[1]<<8|O[2])));
var W=q.GF[H.Font].Name;if(W){var C=gH.bJ.oD(W),a="",B=null,$=null;if(C!=null&&W!=gH.jT(C))C=null;if(T&&C)a+="\""+W+"\", ";
var I=W.toLowerCase();if(C){B=gH.Pm(C)[0];if(C["OS/2"])$=C["OS/2"].usWeightClass}else{B=CSS.a4F(W);if(I.indexOf("light")!=-1)$=300;
else if(I.indexOf("medium")!=-1)$=500;else if(I.indexOf("black")!=-1||I.indexOf("extrabold")!=-1)$=800;
else if(I.indexOf("bold")!=-1)$="bold"}if(B!=null)a+="\""+B+"\"";if($!=null)n.push("font-weight: "+$);
if(I.indexOf("italic")!=-1||I.indexOf("oblique")!=-1)n.push("font-style: italic");if(a)n.push("font-family: "+a)}var x=q.yA.Justification;
if(x!=null&&x!=0)if(E)n.push("text-anchor: "+["start","end","middle"][x%3]);else n.push("text-align: "+["left","right","center"][x%3])};
CSS.a4F=function(n){n=n.split("-")[0];while(n.endsWith("MT")||n.endsWith("PS"))n=n.slice(0,n.length-2);
var q=!0;for(var R=0;R<n.length;R++){var p=n.charAt(R);if(!q&&p.toLowerCase()!=p){n=n.slice(0,R)+" "+n.slice(R);
R++;q=!0}else q=!1}return n};function ix(){}ix.Yx={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
ix.au=function(n,q){var p=Date.now(),E;try{E=acorn.parse(n)}catch(de){console.log(de);return}var T=JSON.parse(JSON.stringify(ix.y1.IP));
T.__return=!1;T.__continue=!1;T.__break=!1;T.__throw=!1;T.__fs={};T.__window={};ix.eval(E,q,T);var i=T.__fs;
if(Object.keys(i).length!=0){var H=UZIP.encode(i);a$.save(H,"output.zip")}};ix.eval=function(n,q,p){var E=n.type;
if(!1){}else if(E=="Program"||E=="BlockStatement"){var T=n.body;for(var R=0;R<T.length;R++){var i=T[R].type;
if(i=="FunctionDeclaration")p[T[R].id.name]=T[R]}for(var R=0;R<T.length;R++){var i=T[R].type,H=ix.eval(T[R],q,p);
if(p.__continue){p.__continue=!1;return H}if(p.__return||p.__break||p.__throw)return H}}else if(E=="ReturnStatement"){p.__return=!0;
return n.argument?ix.Jx(n.argument,q,p):null}else if(E=="BreakStatement"){p.__break=!0}else if(E=="ContinueStatement"){p.__continue=!0}else if(E=="VariableDeclaration"){var Z=n.declarations;
for(var R=0;R<Z.length;R++)ix.eval(Z[R],q,p)}else if(E=="VariableDeclarator"){p[n.id.name]=n.init?ix.Jx(n.init,q,p):null}else if(E=="FunctionDeclaration"){p[n.id.name]=n}else if(E=="MemberExpression"){var w=ix.Jx(n.object,q,p),d=n.computed?ix.Jx(n.property,q,p):ix.eval(n.property,q,p),H;
if(w.mc!=null)H=ix.y1.fj(w,d,q,p);else if(w==window&&ix.Yx[d]){}else H=w[d];return H}else if(E=="ArrayExpression"){var O=[],W=n.elements;
for(var R=0;R<W.length;R++)O.push(ix.Jx(W[R],q,p));return O}else if(E=="ObjectExpression"){var O={},W=n.properties;
for(var R=0;R<W.length;R++){var C=W[R],a=W[R].key.name?W[R].key.name:W[R].key.value;O[a]=ix.Jx(W[R].value,q,p)}return O}else if(E=="ExpressionStatement"){return ix.eval(n.expression,q,p)}else if(E=="NewExpression"){var B=n.arguments,$=n.callee,I=$.type,x=[],O=null;
for(var R=0;R<B.length;R++)x.push(ix.Jx(B[R],q,p));if(I=="Identifier")O=ix.y1.ap1($.name,x,q,p);else throw"e";
if(O==null)throw"new "+$.name;return O}else if(E=="CallExpression"){var B=n.arguments,$=n.callee,I=$.type,U={};
for(var N in p)U[N]=p[N];var x=[];for(var R=0;R<B.length;R++)x.push(ix.Jx(B[R],q,p));if(I=="Identifier"){var m=$.name,f=p[m];
if(f){if(f.params){var c=f.params;for(var R=0;R<c.length;R++)U[c[R].name]=x[R];return ix.eval(f.body,q,U)}else{return f.apply(null,x)}}else if(ix.y1.aiQ.indexOf(m)!=-1)return ix.y1.PU({mc:"Application"},m,x,q,p);
else if(window[m]==null)console.log("Unknown function "+m);else if(ix.Yx[m])alert(m+"() not available");
else{var D=window[m].apply(window,x);return D}}else if(I=="MemberExpression"){var w=ix.Jx($.object,q,p),d=$.computed?ix.Jx($.property,q,p):ix.eval($.property,q,p);
if(w==window&&ix.Yx[d])return;if(w.mc!=null)return ix.y1.PU(w,d,x,q,p);else return w[d].apply(w,x)}else if(I=="FunctionExpression"){return ix.eval($.body,q,p)}else console.log(n)}else if(E=="AssignmentExpression"){var z=n.operator,_=n.left,v=_.type,o=ix.Jx(_,q,p),y=ix.Jx(n.right,q,p),H=null;
if(!1){}else if(z=="=")H=y;else if(z=="+=")H=o+y;else if(z=="-=")H=o-y;else if(z=="*=")H=o*y;else if(z=="/=")H=o/y;
else if(z=="%=")H=o%y;else if(z=="&=")H=o&y;else if(z=="|=")H=o|y;else if(z=="&&=")H=o&&y;else if(z=="||=")H=o||y;
else console.log(n);if(v=="Identifier"){var k=_.name;if(p.hasOwnProperty(k))p[k]=H;else p.__window[k]=H}else if(v=="MemberExpression"){var S=ix.eval(_.property,q,p),L=ix.Jx(_.object,q,p);
if(L.mc!=null)ix.y1.aeZ(L,S,H,q,p);else L[S]=H}else console.log(n)}else if(E=="Identifier")return n.name;
else if(E=="Literal")return n.value;else if(E=="UpdateExpression"){var z=n.operator,X=n.argument.name,O=ix.Jx(n.argument,q,p),M=p;
if(M[X]==null)M=p.__window;if(!1){}else if(z=="++"){M[X]++;return n.prefix?M[X]:M[X]-1}else if(z=="--"){M[X]--;
return n.prefix?M[X]:M[X]+1}else console.log(n)}else if(E=="UnaryExpression"){var z=n.operator,V=ix.Jx(n.argument,q,p);
if(V.mc=="UnitValue"){if(z=="-")return-V.k;else return ix.s6(V.k,z)}else return ix.s6(V,z)}else if(E=="BinaryExpression"||E=="LogicalExpression"){var z=n.operator,_=ix.Jx(n.left,q,p),V=ix.Jx(n.right,q,p);
if(_==null||V==null)return ix.mz(_,V,z);else if(_.mc=="UnitValue"&&V.mc=="UnitValue")return ix.mz(_.k,V.k,z);
else if(_.mc=="UnitValue")return ix.mz(_.k,V,z);else if(V.mc=="UnitValue"){if(z=="-")return-(_-V.k);
else return ix.mz(_,V.k,z)}else return ix.mz(_,V,z)}else if(E=="IfStatement"||E=="ConditionalExpression"){var l=ix.Jx(n.test,q,p);
if(l)return ix.eval(n.consequent,q,p);else if(n.alternate)return ix.eval(n.alternate,q,p)}else if(E=="ForInStatement"){ix.eval(n.left,q,p);
var e=n.left.declarations[0].id.name,Y=ix.Jx(n.right,q,p);for(var N in Y){p[e]=N;var J=ix.eval(n.body,q,p);
if(p.__break)break;if(p.__return)return J}p.__break=!1}else if(E=="ForStatement"){ix.eval(n.init,q,p);
while(ix.eval(n.test,q,p)){var J=ix.eval(n.body,q,p);if(p.__break)break;if(p.__return)return J;ix.eval(n.update,q,p)}p.__break=!1}else if(E=="DoWhileStatement"){do{var J=ix.eval(n.body,q,p);
if(p.__break)break;if(p.__return)return J}while(ix.eval(n.test,q,p));p.__break=!1}else if(E=="TryStatement"){ix.eval(n.block,q,p);
if(p.__throw){var G=n.handler;p[G.param.name]=p.__throw;p.__throw=!1;ix.eval(G.body,q,p);delete p[G.param.name]}}else if(E=="EmptyStatement"){}else console.log(n)};
ix.mz=function(n,q,p){if(p=="+")return n+q;else if(p=="-")return n-q;else if(p=="*")return n*q;else if(p=="/")return n/q;
else if(p=="%")return n%q;else if(p=="^")return n^q;else if(p=="&")return n&q;else if(p=="&&")return n&&q;
else if(p=="|")return n|q;else if(p=="||")return n||q;else if(p=="<")return n<q;else if(p==">")return n>q;
else if(p=="==")return n==q;else if(p=="===")return n===q;else if(p=="<=")return n<=q;else if(p==">=")return n>=q;
else if(p=="!=")return n!=q;else if(p=="!==")return n!==q;else if(p=="<<")return n<<q;else if(p==">>")return n>>q;
else console.log(p)};ix.s6=function(n,q){if(q=="-")return-n;else if(q=="!")return!n;else if(q=="~")return~n;
else if(q=="+")return n;else console.log(obj)};ix.Jx=function(n,q,p){var E=n.type;if(E=="Identifier")return ix.aqX(n.name,q,p);
else return ix.eval(n,q,p)};ix.aqX=function(n,q,p){if(n=="undefined")return undefined;else if(p.hasOwnProperty(n))return p[n];
else if(n=="app")return{mc:"Application"};else if(n=="$")return{mc:"$"};else if(ix.y1.aqW.indexOf(n)!=-1)return ix.y1.fj({mc:"Application"},n,q,p);
else if(p.__window.hasOwnProperty(n))return p.__window[n];else if(window[n]&&!ix.Yx[n])return window[n];
else{p[n]=null;return null}};ix.y1={};ix.y1.ap1=function(n,q,p,E){var T;if(n=="SolidColor")T={mc:n,k:[1,0,0,0]};
if(n=="RGBColor")T={mc:n,k:[1,0,0,0]};if(n=="Window")T={mc:n,k:new bM(q[0],q[1],q[2])};if(n=="ExportOptionsSaveForWeb")T={mc:n,k:{db:"png",Pr:100}};
if(n=="JPEGSaveOptions")T={mc:n,k:{db:"jpg",Pr:100}};if(n=="PDFSaveOptions")T={mc:n,k:{db:"pdf",akb:""}};
if(n=="File")T={mc:n,k:q[0]};if(n=="ActionReference")T={mc:n,k:[]};if(n=="ActionDescriptor")T={mc:n,k:{}};
if(n=="ActionList")T={mc:n,k:[]};if(n=="UnitValue")T={mc:n,k:q.length==0?0:parseFloat(q[0])};return T};
ix.y1.aqW="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
ix.y1.aiQ=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];ix.y1.fj=function(n,q,p,E){var T=p.Cr,i=p.H3();
if(!1){}else if(q=="typename"){if(n.mc=="Layer")return n.k.z7()?"LayerSet":"ArtLayer";else return n.mc}else if(["Document","Layer"].indexOf(n.mc)!=-1&&["layers","artLayers","layerSets"].indexOf(q)!=-1){var H=i.root,Z={mc:"Layers",Mp:q,k:[]};
if(n.mc=="Layer")H=i.root.io(i.h.indexOf(n.k));if(H.children==null)return null;for(var R=0;R<H.children.length;
R++){var w=H.children[R].Y,d=w.z7();if(d&&q=="artLayers"||!d&&q=="layerSets")continue;Z.k.push({mc:"Layer",k:w})}Z.k.reverse();
return Z}else if(n.mc=="Documents"||n.mc=="Layers"||n.mc=="HistoryStates"||n.mc=="LayerComps"){if(!1){}else if(q=="length")return n.k.length;
else if(Number.isInteger(q))return n.k[q];else console.log(n.mc+": unknown property ",q)}else if(n.mc=="Application"){if(!1){}else if(q=="activeDocument")return{mc:"Document",k:p.H3()};
else if(q=="documents"){var Z={mc:"Documents",k:[]};for(var R=0;R<p.lr.length;R++)Z.k.push({mc:"Document",k:p.lr[R]});
return Z}else if(q=="fonts")return{mc:"TextFonts"};else if(q=="preferences")return{mc:"Preferences"};
else if(q=="displayDialogs")return{mc:"DialogModes"};else if(q=="foregroundColor"||q=="backgroundColor"){var O=q[0]=="f"?T.ny:T.iu;
return{mc:"SolidColor",k:[1,(O>>>16&255)/255,(O>>>8&255)/255,(O>>>0&255)/255]}}else if(q=="UI")return{mc:"UI"};
else console.log(n,q)}else if(n.mc=="Document"){var i=n.k;if(!1){}else if(q=="activeLayer"){var w=i.h[i.p[0]];
return{mc:"Layer",k:w}}else if(q=="resolution")return i.xm;else if(q=="width")return i.v;else if(q=="height")return i.o;
else if(q=="name")return i.name;else if(q=="saved")return!i.ci();else if(q=="selection")return{mc:"Selection"};
else if(q=="activeHistoryState")return{mc:"HistoryState",ap:i.yv};else if(q=="source")return i.om;else if(q=="layerComps"){var W=i.ev.list.v,C=[];
for(var R=0;R<W.length;R++)C.push({mc:"LayerComp",k:R});return{mc:"LayerComps",k:C}}else if(q=="historyStates"){var a=[];
for(var R=0;R<i.history.length;R++)a.push({mc:"HistoryState",ap:R});return{mc:"HistoryStates",k:a}}else console.log(n,q)}else if(n.mc=="LayerComp"){if(q=="name")return i.ev.list.v[n.k].v.Nm.v;
else throw q}else if(n.mc=="Layer"){var B={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},w=n.k;
if(!1){}else if(q=="visible")return w.Fp();else if(q=="selected")return i.p.indexOf(i.h.indexOf(w))!=-1;
else if(q=="grouped")return w.PJ;else if(B[q]!=null)return w.d9(B[q]);else if(q=="opacity")return w.opacity*100/255;
else if(q=="blendMode")return w.Nl;else if(q=="name")return w.getName();else if(q=="textItem")return{mc:"TextItem",k:w};
else if(q=="bounds"){var $=A.Z.UB(i,[i.h.indexOf(w)]);return ix.y1._B($,i)}else if(q=="parent"){var I=p.lr;
for(var R=0;R<I.length;R++)if(I[R].h.indexOf(w)!=-1)return{mc:"Document",k:I[R]}}else if(q=="kind"){var x=ix.y1.Uz;
for(var R=0;R<x.length;R++)if(w.add[x[R]]!=null)return R;return 0}else console.log(n,q)}else if(n.mc=="Selection"){if(!1){}else if(q=="bounds")return ix.y1._B(p.H3().$.rect,i);
else console.log(n,q)}else if(n.mc=="TextItem"){var U=n.k.add.TySh,N=U.Bd,m=hx.Q2(N),f=U.B.SD(),c=hx.o1(N,0,Math.max(0,m.length-2));
if(q=="contents")return m.slice(0,m.length-1).replace(/\n/g,"\r");else if(q=="font")return c.h9.Font!=null?c.GF[c.h9.Font].Name:null;
else if(q=="size")return ix.y1.gN(c.h9.FontSize*f,i);else if(q=="leading")return ix.y1.gN(c.h9.Leading*f,i);
else if(q=="tracking")return ix.y1.gN(c.h9.Tracking);else if(q=="baselineShift")return ix.y1.gN(c.h9.BaselineShift);
else if(q=="fauxBold")return c.h9.FauxBold;else if(q=="fauxItalic")return c.h9.FauxItalic;else if(q=="kind")return 1-hx.d_(N);
else if(q=="useAutoLeading")return c.yA.AutoLeading;else if(q=="hyphenation")return c.yA.AutoHyphenate;
else if(q=="justification")return ix.y1.gN(c.yA.Justification);else if(q=="color")return{mc:"SolidColor",k:c.h9.FillColor.Values.slice(0)};
else if(q=="width"||q=="height"){var D=hx.my(N),z=(D[2]-D[0])*f,_=(D[3]-D[1])*f;return ix.y1.gN(q=="width"?z:_,i)}else if(q=="position"){var v=U.B;
return ix.y1.jt([v.R_,v.so],i)}else if(q=="horizontalScale"||q=="verticalScale"){var o=q[0].toUpperCase()+q.slice(1);
return Math.round(c.h9[o]*100)}else if(q=="antiAliasMethod")hx.tl(U);else console.log(n,q)}else if(n.mc=="Preferences"){if(q=="rulerUnits")return T.yM.XN;
else console.log(n,q)}else if(n.mc=="SolidColor"){if(q=="rgb")return{mc:"RGBColor",k:n.k};else console.log(n,q)}else if(n.mc=="RGBColor"){var $=Math.round(255*n.k[1]),k=Math.round(255*n.k[2]),S=Math.round(255*n.k[3]);
if(!1){}else if(q=="red")return $;else if(q=="green")return k;else if(q=="blue")return S;else if(q=="hexValue")return"#"+j.E2($<<16|k<<8|S).toUpperCase();
else console.log(n,q)}else if(n.mc=="UnitValue"){if(q=="value")return n.k;else throw"e"}else if(n.mc=="ExportOptionsSaveForWeb"){if(q=="format")return n.k.db;
else if(q=="PNG8"||q=="interlaced")return!1;else if(q=="quality")return n.k.Pr;else if(q=="transparency")return!0;
else throw q}else if(n.mc=="JPEGSaveOptions"||n.mc=="PDFSaveOptions"){return 0}else console.log(n,q)};
ix.y1._B=function(n,q){return ix.y1.jt([n.x,n.y,n.x+n.v,n.y+n.o],q)};ix.y1.jt=function(n,q){var p=[];
for(var R=0;R<n.length;R++)p.push(ix.y1.gN(n[R],q));return p};ix.y1.Md=function(n){var q=[];for(var R=0;
R<n.length;R++)q.push(n[R].mc?n[R].k:n[R]);return q};ix.y1.gN=function(n,q){return{mc:"UnitValue",k:n}};
ix.y1.ab2=function(n,q){if(n.mc=="UnitValue")return n.k;return n};ix.y1.aeZ=function(n,q,p,E,T){var i=new ea(P.E.u,!0),H=new ea(P.E.T,!0),Z=E.H3(),w=E.Cr;
if(!1){}else if(n.mc=="Application"){if(!1){}else if(q=="activeDocument"){H.data={e:P.C.D9,eL:p.k};E.K(H)}else if(q=="displayDialogs"){}else console.log(n,q,p)}else if(n.mc=="Document"){var d=n.k;
if(!1){}else if(q=="name"){i.i=A.iq;i.data={e:g.iO,k:p,ajg:!0,Ow:d};Z.Ln=!0}else if(q=="source")d.om=p;
else if(q=="activeLayer"){d.p=[d.h.indexOf(p.k)]}else if(q=="activeHistoryState"){i.i=A.e$;i.data={e:"h_itemchange",index:p.ap}}else console.log(n,q)}else if(n.mc=="Layer"){i.i=A.iq;
var O={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},W=n.k,C=Z.h.indexOf(W);
if(!1){}else if(q=="visible"){if(W.Fp()!=p)i.data={e:g.il,Y:C}}else if(q=="opacity"){i.data={e:g.hH,Y:C,Il:Math.round(255*p/100)}}else if(q=="blendMode"){i.data={e:g.M2,Y:C,Il:d3.hd.indexOf(p)}}else if(q=="name"){i.data={e:g.OI,Y:C,name:p}}else if(O[q]!=null){i.data={e:g.dQ,Y:C,Il:[[p],[O[q]]]}}else if(q=="kind"){i.data={e:g.lX,Y:C,Hu:ix.y1.Uz[p]}}else if(q=="grouped"){i.data={e:g.P2,Y:C,Il:p}}else console.log(n,q,p)}else if(n.mc=="TextItem"){i.i=A.cY;
var W=n.k,a=W.add.TySh,B=JSON.parse(JSON.stringify(a.Bd)),$=a.B.clone(),I=a.B.SD(),x=hx.Q2(B),U=hx.o1(B,0,x.length-2),N=!1;
if(!1){}else if(q=="contents"){hx.cH(B,0,x.length-1);hx.V8(B,0,p.replace(/\r/g,"\n"))}else if(q=="size"){U.h9.FontSize=(p.k!=null?p.k:p)/I;
N=!0}else if(q=="leading"){U.h9.Leading=(p.k!=null?p.k:p)/I;N=!0}else if(q=="tracking"){U.h9.Tracking=p.k!=null?p.k:p;
N=!0}else if(q=="baselineShift"){U.h9.BaselineShift=p.k!=null?p.k:p;N=!0}else if(q=="fauxBold"){U.h9.FauxBold=p;
N=!0}else if(q=="fauxItalic"){U.h9.FauxItalic=p;N=!0}else if(q=="kind"){var m=hx.d_(B);if(m==1&&p==1){var f=new e7(B,E.Cr.s4).yA[0],c=f.Kp[0].end,D=f.qd[c-1].end;
hx.cH(B,0,x.length-1);hx.V8(B,0,x.slice(0,D-1))}if(m==p)hx.vF(B,1-p)}else if(q=="useAutoLeading"){U.yA.AutoLeading=p;
N=!0}else if(q=="hyphenation"){U.yA.AutoHyphenate=p;N=!0}else if(q=="justification"){U.yA.Justification=p;
N=!0}else if(q=="font"){hx.cl(U,p);N=!0}else if(q=="color"){U.h9.FillColor.Values=p.k.slice(0);N=!0}else if(q=="width"||q=="height"){var z=hx.my(B).slice(0),_=ix.y1.ab2(p);
if(q=="width")z[2]=Math.round(z[0]+_/I);else z[3]=Math.round(z[1]+_/I);hx.XM(B,z)}else if(q=="position"){$.R_=p[0];
$.so=p[1]}else if(q=="horizontalScale"||q=="verticalScale"){var v=q[0].toUpperCase()+q.slice(1);U.h9[v]=p/100;
N=!0}else if(q=="antiAliasMethod")hx.o0(a,p);else console.log(n,q,p);if(N)hx.X6(B,0,x.length-1,U);i.data={e:"newED",nw:Z.h.indexOf(W),YS:B,B:$}}else if(n.mc=="Preferences"){if(!1){}else if(q=="rulerUnits"){var o=JSON.parse(JSON.stringify(w.yM));
o.XN=p;H.data={e:P.C.Th,sQ:cF.tw,Il:o};E.K(H)}else console.log(n,q,p)}else if(n.mc=="SolidColor"){if(q=="rgb")n.k=p.k;
else throw q}else if(n.mc=="RGBColor"){if(!1){}else if(q=="red")n.k[1]=p/255;else if(q=="green")n.k[2]=p/255;
else if(q=="blue")n.k[3]=p/255;else if(q=="hexValue"){var k=j.Wk(p.slice(1));n.k[1]=(k>>>16&255)/255;
n.k[2]=(k>>>8&255)/255;n.k[3]=(k>>>0&255)/255}else console.log(n,q)}else if(n.mc=="ExportOptionsSaveForWeb"){if(q=="format")n.k.db=p;
else if(q=="PNG8"||q=="transparency"||q=="interlaced"){}else if(q=="quality")n.k.Pr=p;else throw q}else if(n.mc=="JPEGSaveOptions"){if(q=="quality")n.k.Pr=Math.round(100*p/12)}else if(n.mc=="PDFSaveOptions"){if(q=="preset")n.k.akb=p}else console.log(n,q,p);
if(i.data!=null)E.K(i)};ix.y1.PU=function(n,q,p,E,T){var i=n.mc,H=null,Z=new ea(P.E.u,!0),w=new ea(P.E.Gi,!0),d=new ea(P.E.T,!0),O=E.H3(),W=E.lr;
if(!1){}else if(i=="Application"){if(!1){}else if(q=="charIDToTypeID"){var C=p[0].trim(),a={slct:"select",Dlt:"delete",Mk:"make"};
return a[C]?a[C]:C}else if(q=="stringIDToTypeID"){var B=p[0].trim(),a={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},$=a[B];
return $==null?B:$}else if(q=="executeAction"){console.log(p);var I;if(p[1]){I=p[1].k;I.classID=p[0]}var x={setd:"set"},U=x[p[0]];
if(U==null)U=p[0];var N=iJ.Fi[p[0]];if(N&&iJ.Wg[N])U=iJ.Wg[N];w.data={oK:U,ga:I}}else if(q=="executeActionGet"){return{mc:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:p[0].k}}}}else if(q=="doAction"){d.data={e:P.C.aI,zF:[p[0],p[1]]}}else if(q=="open"){d.data={e:P.C.Av,sQ:{url:p[0]}};
if(p[2]&&W.length!=0)d.data.sQ.mM=W.indexOf(O)}else if(q=="echoToOE"){d.data={e:P.C.hO,sQ:p[0]}}else console.log(q)}else if(i=="LayerComp"){if(q=="apply"){Z.i=A._h;
Z.data={e:"setLC",ap:O.ev.list.v[n.k].v.compID.v}}else throw q}else if(i=="Document"){var O=n.k;if(!1){}else if(q=="crop"){w.data=A.c8.pS(p[0])}else if(q=="trim"){var m=[];
for(var R=0;R<4;R++)m.push(p[R+1]!=null?p[R+1]:!0);w.data=A.c8.WT(p[0]!=null?p[0]:0,m)}else if(q=="suspendHistory"){var f=acorn.parse(p[1]);
ix.eval(f,E,T)}else if(q=="save"){d.data={e:P.C.fF}}else if(q=="saveToOE"){d.data={e:P.C.fF,aa6:p}}else if(q=="rotateCanvas"){w.data=A.Z.K2(!0,p[0])}else if(q=="resizeImage"||q=="resizeCanvas"){var c=p[0],D=p[1];
if(typeof c!="number"){c=O.v*parseFloat(c.slice(0,c.length-1))/100;D=O.o*parseFloat(D.slice(0,D.length-1))/100}if(q=="resizeCanvas")w.data=A.c8.e9(Math.round(c),Math.round(D),p[2]);
else w.data=A.c8.BA(Math.round(c),Math.round(D),null,1)}else if(q=="paste"){d.data={e:P.C.W6,rF:p.length!=0&&p[0],od:!0}}else if(q=="close"){d.data={e:P.C.bi,zH:O}}else if(q=="exportDocument"||q=="saveAs"){var z=T.__fs,_=p[0].k.replace(":","").replace("~/",""),v=q=="exportDocument"?p[2].k:p[1].k,o=al.sp(O,v.db,null,null,v.db=="pdf"?null:[v.Pr],E.Cr);
z[_]=new Uint8Array(o)}else console.log(n,q,p)}else if(i=="Layer"){var y=n.k,k=O.h.indexOf(y);if(!1){}else if(q=="copy"){ix.y1.g5(O,E,0);
d.data={e:P.C.yr,n5:p[0],a3:k,od:!0};E.K(d);delete d.data;ix.y1.g5(O,E,1)}else if(q=="clear"){ix.y1.g5(O,E,0);
w.data={oK:"delete"};E.K(w);delete w.data;ix.y1.g5(O,E,1)}else if(q=="duplicate"){if(p.length==0){Z.data={e:g.se,Y:k};
Z.i=A.iq;E.K(Z);Z.data=null;H={mc:"Layer",k:O.h[O.p[0]]}}else if(p[0].mc=="Document"){Z.data={e:g.dj,h:O.JD(k),B1:O,z6:p[0].k};
Z.i=A.iq}}else if(q=="merge"||q=="remove"){Z.data={e:q=="merge"?g.eB:g.va,Y:k};Z.i=A.iq;if(q!="remove")H={mc:"Layer",k:O.h[O.p[0]]}}else if(q=="move"){Z.data={e:g.Qi,source:k,target:O.h.indexOf(p[0].k),Kg:p[1]!=3?.6:.3};
Z.i=A.iq}else if(q=="rasterize"){w.data={oK:"rasterizeLayer",ga:{classID:"rasterizeLayer",null:j4.hZ("Lyr",!0)}}}else if(q=="rotate"){Z.data={e:"rot",as:[2,5],k:-p[0]*Math.PI/180,xT:p[1],Y:k};
Z.i=A.Uv}else if(q=="resize"){Z.data={e:"scl",as:[2,4],k:new fc(p[0]/100,p[1]/100),xT:p[2],Y:k};Z.i=A.Uv}else if(q=="translate"){var S=ix.y1.Md(p);
Z.data={e:"trsl",Y:k,anT:S[0],agH:S[1]};Z.i=A.o$}else if(q=="link"){Z.data={e:g.E8,a1E:[k,O.h.indexOf(p[0].k)]};
Z.i=A.iq}else if(q=="invert"){Z.i=A.C7;Z.data={e:"start",WX:"nvrt"}}else if(q.startsWith("apply")&&fU.SP[q.slice(5)]){var S=ix.y1.Md(p),L=fU.SP[q.slice(5)];
w.data={oK:fU.Wg[L]};var I=fU.yQ(L);if(I){fU.ti["g"+L](I,S);w.data.ga=I}}else console.log(n,q,p)}else if(i=="Documents"){if(q=="getByName"){for(var R=0;
R<W.length;R++)if(W[R].name==p[0])return{mc:"Document",k:W[R]};return null}else if(q=="add"){var X=p[5];
if(X==null)X=1;w.data=gd.lG(p[0],p[1],p[2],p[3],["Wht","Trns","BckC"][X],!1)}else throw"e"}else if(i=="Layers"){if(q=="getByName"){for(var R=0;
R<n.k.length;R++)if(n.k[R].k.getName()==p[0]){H=n.k[R];break}if(H==null)T.__throw={message:"No layer with a name "+p[0]}}else if(q=="add"){Z.data={e:n.Mp=="layerSets"?g.D3:g.mp};
Z.i=A.iq;E.K(Z);Z.data=null;H={mc:"Layer",k:O.h[O.p[0]]}}else console.log(n,q,p)}else if(n.mc=="Selection"){if(q=="select"){var s=p[0],M=[];
for(var R=0;R<s.length;R++)M.push(s[R][0],s[R][1]);w.data=A.eY.pg(M)}else if(q=="selectAll"){w.data=A.eY.b0(!0)}else if(q=="invert"){w.data={oK:"inverse"}}else if(q=="copy"){d.data={e:P.C.yr}}else if(q=="deselect"){w.data=A.eY.b0()}else if(q=="fill"){var V=p[0].k;
V=j.f.iB({_:V[1]*255,q:V[2]*255,X:V[3]*255});w.data=A.o8.zm("Clr",p[1],p[2]==null?1:p[2]/100,V)}else console.log(n,q,p)}else if(n.mc=="Window"){if(q=="show"){d.data={e:P.C.Lr,ov:n.k}}else throw"e"}else if(n.mc=="ActionReference"){if(q=="putProperty"){n.k.push({t:"prop",v:{classID:p[0],keyID:p[1]}})}else if(q=="putClass"){n.k.push({t:"Clss",v:{classID:p[0]}})}else if(q=="putEnumerated"){n.k.push({t:"Enmr",v:{classID:p[0],typeID:p[1],enum:p[2]}})}else console.log(q,p)}else if(n.mc=="ActionDescriptor"||n.mc=="ActionList"){if(q=="putReference"){n.k[p[0]]={t:"obj ",v:p[1].k}}else if(q=="putDouble"){n.k[p[0]]={t:"doub",v:p[1]}}else if(q=="putUnitDouble"){n.k[p[0]]={t:"UntF",v:{type:p[1],val:p[2]}}}else if(q=="putObject"){if(n.mc=="ActionList"){var l=p[1].k;
l.classID=p[0];n.k.push({t:"Objc",v:l})}else{var l=p[2].k;l.classID=p[1];n.k[p[0]]={t:"Objc",v:l}}}else if(q=="putList"){n.k[p[0]]={t:"VlLs",v:p[1].k}}else if(q=="putBoolean"){n.k[p[0]]={t:"bool",v:p[1]}}else if(q=="putInteger"){n.k[p[0]]={t:"long",v:p[1]}}else if(q=="putString"){n.k[p[0]]={t:"TEXT",v:p[1]}}else if(q=="putEnumerated"){var e={};
e[p[1]]=p[2];n.k[p[0]]={t:"enum",v:e}}else if(q=="hasKey"){var Y=n.k.null.v;for(var R=0;R<Y.length;R++){if(Y[R].v.keyID==p[0]){if(p[0]=="UsrM"){return O.h[O.p[0]].u1()!=null}else throw p}}}else console.log(q,p)}else if(n.mc=="$"){if(q=="writeln"){console.log(p[0])}else throw q}else if(n.mc=="UI"){var G;
if(q=="zoomIn"||q=="zoomOut"){G={e:"zoom",ux:q=="zoomIn"}}else if(q=="fitTheArea"){G={e:"adapt",k:"fitscr"}}else if(q=="pixelToPixel"){G={e:"adapt",k:"pixel"}}Z.i=A.$v;
Z.data=G}else console.log(n,q,p);if(Z.data)E.K(Z);if(w.data)E.K(w);if(d.data)E.K(d);return H};ix.y1.g5=function(n,q,p){var E=new ea(P.E.u,!0);
E.i=A.L7;var T=new ea(P.E.Gi,!0);if(p==0){ix.y1.c7=n.$;T.data=A.eY.b0(!0)}else{var i=ix.y1.c7;if(i)E.data={e:"setsel",as:"Restore Selection",$:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else T.data=A.eY.b0()}q.K(E.data?E:T)};ix.y1.c7=null;ix.y1.IP={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
ix.y1.IP.ColorBlendMode=ix.y1.IP.BlendMode;ix.y1.Uz="---- SoLd TySh SoCo GdFl PtFl".split(" ");function cm(){}cm.yN={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
cm.fG={"5":"dc:Title","55":"exif:DateTimeOriginal","80":"tiff:Artist","120":"tiff:ImageDescription"};
cm.asi=function(n,q){if(q==null)q={};var p=cm.fG,E=[];for(var R=0;R<n.length;R++){var T=n[R],i=p[T[0]+""];
if(q[i]==null)q[i]=T[1];else if(T[0]==25)E.push(T[1])}if(E.length!=0&&q["dc:Keywords"]==null)q["dc:Keywords"]=E.join(";");
return q};cm.apI=function(n){var q=cm.fG,p=[];for(var E in q)if(n[q[E]])p.push([parseInt(E),n[q[E]]]);
if(n["dc:Keywords"]){var T=n["dc:Keywords"].split(";");for(var R=0;R<T.length;R++)p.push([25,T[R].trim()])}return p};
cm.mR=function(n,q){if(q==null)q={};var p=new DOMParser,E=p.parseFromString(n,"image/svg+xml"),T=E.getElementsByTagName("rdf:Description")[0];
if(T==null)return q;var i=cm.yN;for(var H in i){var Z=i[H][2];if(Z==null)continue;var w=T.getElementsByTagName(Z)[0];
if(w==null)continue;var d=w.getElementsByTagName("rdf:li"),O=[];for(var R=0;R<d.length;R++)O.push(d[R].textContent);
q[H]=O.join("; ")}return q};cm.Qe=function(n){var q=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],p=cm.yN;
for(var E in p){var T=n[E],i=p[E][2],H="Seq",Z="";if(T==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){H="Alt";
Z=" xml:lang=\"x-default\""}if(i=="dc:subject")H="Bag";q.push("\t<"+i+"><rdf:"+H+">");var w=i=="dc:subject"?T.split(";").join(",").split(","):[T];
for(var R=0;R<w.length;R++)q.push("\t\t<rdf:li"+Z+">"+w[R].trim()+"</rdf:li>");q.push("\t</rdf:"+H+"></"+i+">")}q.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return q.join("\n")};cm.ar3=function(n){var q=[];for(var R=0;R<n.length;R++)q[R]=n[R][1]==0?0:n[R][0]/n[R][1];
return q};cm.aqC=function(n){var q=[];for(var R=0;R<n.length;R++){var p=n[R],E=1;if(p!=Math.round(p)){E=1e3;
p=Math.round(p*E)}q[R]=[p,E]}return q};cm.tQ=function(n,q){var p=cm.yN;if(q==null)q={};for(var E in p){var T=p[E][1],i="t"+T;
if(T!=null&&n[i]!=null){var H=n[i];if(T==0)H=H.join(".");else if(T==2||T==4){var Z=n["t"+(T-1)];if(Z==null)Z=[T==2?"N":"E"];
H=cm.ar3(H).join(",")+Z[0]}else if(T==42034)H=cm.ar3(H).join(" ");else if(T==270||T==315){var w=H[0],d=new Uint8Array(w.length);
u.dy(d,0,w);H=u.L4(d)}else H=H[0];q[E]=H}}if(n.exifIFD)cm.tQ(n.exifIFD,q);if(n.gpsiIFD)cm.tQ(n.gpsiIFD,q);
return q};cm.Mf=function(n,q,p){var E=cm.yN,i=0,Z=0;if(q==null)q={};var T={},H={};for(var w in E){if(n[w]==null||E[w][1]==null)continue;
var d=E[w][1],O="t"+d,W=q;if(w.startsWith("exif:")){W=T;i++;if(w.startsWith("exif:GPS")){W=H;Z++}}var C=n[w];
if(d==0)C=new Uint8Array(C.split(".").map(parseFloat));else if(d==2||d==4){var a=C.length;W["t"+(d-1)]=[C.slice(C.length-1)];
C=cm.aqC(C.split(",").map(parseFloat))}else if(d==42034)C=cm.aqC(C.split(" ").map(parseFloat));else if(d==270||d==315){var B=u.Va(C);
C=[u.xj(B,0,B.length)]}else C=[C];W[O]=C}if(i!=0){q.exifIFD=T;q.t34665=[0]}if(Z!=0){q.gpsiIFD=H;q.t34853=[0]}var $=new Date,I=[$.getFullYear(),$.getMonth()+1,$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds()];
for(var R=0;R<6;R++)I[R]=(I[R]+"").padStart(2,"0");q.t305=["Photopea Editor (www.photopea.com)"];if(p!=!0)q.t306=[I[0]+":"+I[1]+":"+I[2]+" "+I[3]+":"+I[4]+":"+I[5]];
return q};var P={};P.aeV=0;P.UC=function(){P.aeV++;return P.aeV};P.a4t="uint8";P.EN=function(){if(window.top!=window.self)return!1;
var n=navigator.userAgent.toLowerCase();if(n.indexOf("android")!=-1)return!1;if(n.indexOf("safari")!=-1&&n.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};P.oY=function(n){this.UJ=n;this.a6A=P.z("img");this.n1=P.z("canvas");
this.PT=null;this.UX="";this.sF=null;this.zO=new fc(0,0);P.KN(this.UJ,this.RM.bind(this))};P.oY.prototype.o5=function(n,q){this.PT=n;
if(q)this.UX=q;this.RM()};P.oY.prototype.RM=function(n){if(n)this.zO=P.gD(n,this.UJ);var q=this.PT,p=typeof q=="string";
if(!p){var E=P.D(),T=this.zO,i=q.n7.v,H=q.n7.o,Z=typeof q.Xt=="string",w=Z?this.a6A:this.n1;if(Z)w.setAttribute("src",q.Xt);
else{w.width=i;w.height=H;var d=w.getContext("2d"),O=new ImageData(new Uint8ClampedArray(q.Xt.buffer),i,H);
d.putImageData(O,0,0)}w.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(T.y-q.h1.y/E)+"px; left:"+(T.x-q.h1.x/E)+"px; width:"+i/E+"px; height:"+H/E+"px");
var W=this.sF;if(W==null||W!=w){if(W)this.UJ.removeChild(W);this.UJ.appendChild(w);this.sF=w}}else if(this.sF){this.UJ.removeChild(this.sF);
this.sF=null}this.UJ.setAttribute("style","cursor:"+(p?q:"none")+"; "+this.UX)};P.fE=function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
P.Zd=function(n,q){n.l$(fE.get([12,41]).charAt(0)+":");q.l$(fE.get([12,42]).charAt(0)+":")};P.z=function(n,q){var p=document.createElement(n);
if(q!=null)p.setAttribute("class",q);return p};P.Ls=function(n){while(n.firstChild)n.removeChild(n.firstChild)};
P.oI=function(n,q){var p=n.getAttribute("class");if(p==null)p="";p=p.split(" ");if(p.indexOf(q)==-1)p.push(q);
n.setAttribute("class",p.join(" "))};P.kO=function(n,q){var p=n.getAttribute("class");if(p==null)return;
p=p.split(" ");if(p.indexOf(q)!=-1)p.splice(p.indexOf(q),1);n.setAttribute("class",p.join(" "))};P.pM=function(n){while(!0){if(n==document)return!0;
if(n==null)return!1;n=n.parentNode}};P.OK=function(n){n.appendChild(P.z("br"))};P.xf=function(n){n.appendChild(P.z("hr"))};
P.Ey=document;P.sh=function(n){var q=0;for(var R=0;R<n;R++)q+=Math.random();return q/n<Math.PI/4};P.CL=function(n){var q="";
if(!P.sh(28))n+="-3";for(var R=0;R<n.length;R++){var p=n.charCodeAt(R);if(p<32||126<p)throw"e";q+=String.fromCharCode(32+(p-32+17+3*R)%95)}return q};
P.HT=function(n){var q="";if(!P.sh(28))n+="-1";for(var R=0;R<n.length;R++){var p=n.charCodeAt(R);p-=32;
p+=95e4;p-=17+3*R;p=p%95;q+=String.fromCharCode(32+p)}return q};P.OE=function(n){var q=Math.random();
P.a4t="uint"+(3+q);return new n};P.agC=0;P.ajb=function(n,q){var p=0;if(Date.now()-P.agC>1e3){p=q==0?100:q*10}else{if(n%10!=0)n*=10;
p=(n+q)%100}P.agC=Date.now();return p};P.v$=function(n,q){if(window.PointerEvent){n.addEventListener("pointerdown",q,!1);
return}n.addEventListener("mousedown",q,!1);n.addEventListener("touchstart",q,!1)};P.KN=function(n,q){if(window.PointerEvent){n.addEventListener("pointermove",q,!1);
return}n.addEventListener("mousemove",q,!1);n.addEventListener("touchmove",q,!1)};P.iI=function(n,q){if(window.PointerEvent){n.addEventListener("pointerup",q,!1);
return}n.addEventListener("mouseup",q,!1);n.addEventListener("touchend",q,!1)};P.aq9=function(n,q){if(window.PointerEvent){n.removeEventListener("pointerdown",q,!1);
return}n.removeEventListener("mousedown",q,!1);n.removeEventListener("touchstart",q,!1)};P.dt=function(n,q){if(window.PointerEvent){n.removeEventListener("pointermove",q,!1);
return}n.removeEventListener("mousemove",q,!1);n.removeEventListener("touchmove",q,!1)};P.sZ=function(n,q){if(window.PointerEvent){n.removeEventListener("pointerup",q,!1);
return}n.removeEventListener("mouseup",q,!1);n.removeEventListener("touchend",q,!1)};P.l7=function(n){n.addEventListener("touchmove",P.xl,!1);
n.addEventListener("touchend",P.xl,!1);n.addEventListener("gesturestart",P.xl,!1);n.addEventListener("gesturechange",P.xl,!1);
n.addEventListener("gestureend",P.xl,!1)};P.jy=function(n,q,p,E){var T=P.D();n.width=Math.floor(q*T);
n.height=Math.floor(p*T);n.style.width=n.width/T+"px";n.style.height=n.height/T+"px";if(E)E.setTransform(T,0,0,T,0,0)};
P.X_=function(n,q,p){n.setAttribute("style","width:"+q/P.D()+"px; height:"+p/P.D()+"px")};P.gD=function(n,q){if(q==null)q=n.currentTarget;
var p=q.getBoundingClientRect();if(n.touches)n=n.touches.item(0);return{x:n.clientX-p.left,y:n.clientY-p.top}};
P.D=function(n){return window.devicePixelRatio||1};P.xl=function(n){n.preventDefault()};P.dv=function(n){n.stopPropagation();
n.preventDefault()};P.ic=function(n,q,p){p=p?p:"";if(PIMG["__"+n]==null)p+=" gsicon";return"<img src=\""+PIMG[n]+"\" alt=\""+(q?q:"")+"\" class=\""+p+"\" />"};
P.AZ=function(n,q,p,E){var T=n.dataTransfer.getData("text/uri-list");if(T!=null&&T.startsWith("http")){var i=new ea(P.E.T,!0);
i.data={e:P.C.Av,sQ:{url:T,qs:!0,mM:p,H6:E}};q.K(i)}if(n.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var H=[],Z=n.dataTransfer.items.length,w=n.dataTransfer.files;
for(var d of n.dataTransfer.items)d.getAsFileSystemHandle().then(function(O){H.push(O);if(H.length==Z){var i=new ea(P.E.T,!0);
i.data={e:P.C.SX,data:w,mM:p,H6:E,anZ:H};q.K(i)}})}else{var i=new ea(P.E.T,!0);i.data={e:P.C.SX,data:n.dataTransfer.files,mM:p,H6:E};
q.K(i)}};var ea=function(n,q){if(!q)q=!1;this.type=n;this.target=null;this.currentTarget=null;this.bubbles=q;
this.i=null;this.JC=!1};P.E={u:"0",T:"1",Gi:"1.5",b:"2",Ia:"3",arz:"4",q4:"5"};P.C={Y4:"10",KU:"11",dz:"12",Wl:"13",ru:"14",arX:"14.1",Av:"15",By:"16",Tz:"17",eC:"18",fF:"19",aev:"19.5",alq:"20",Ed:"21",yr:"22",W6:"23",Ye:"24",Lr:"25",q6:"26",D9:"27",NW:"28",ar9:"29",SX:"30",Tk:"31",hT:"32",oo:"33",R2:"34",Th:"35",an8:"35.5",bU:"37",aq2:"38",FP:"39",F0:"40",hX:"41",hO:"41.5",ahp:"42",uf:"43",agz:"43.5",bi:"44",aaB:"45",hP:"46",g$:"47",si:"48",aI:"49",af1:"50",by:"51"};
if(P.sh(27))P.Ey=window;else P.Ey=P.aq3;P.Ey._cwY=P.Ey[P.HT("t$&!'31")];var h0={};h0.aiC=function(R){var n=h0.Zu[R],q=document.documentElement.style,E=1;
q.setProperty("--base","#"+j.E2(n["--base"]));q.setProperty("--bg-panel","#"+j.E2(n["--bg-panel"]));
q.setProperty("--bg-canvas","#"+j.E2(n["--bg-canvas"]));q.setProperty("--bg-input","#"+j.E2(n["--bg-input"]));
q.setProperty("--bg-bbtn","#"+j.E2(n["--bg-bbtn"]));q.setProperty("--bg-bbtnOver","#"+j.E2(n["--bg-bbtnOver"]));
q.setProperty("--brdr","#"+j.E2(n["--brdr"]));q.setProperty("--text-color","#"+j.E2(n["--text-color"]));
q.setProperty("--brdrLgt","rgba(255,255,255,"+n["--brdrLgt"]+")");q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+n["--brdrDrk"]+")");
q.setProperty("--alphaDark",""+n["--alphaDark"]);q.setProperty("--gs-invert",""+n["--gs-invert"]);var p=n["--sh-clr"];
q.setProperty("--sh-clr","rgba("+(p>>16)+","+(p>>8&255)+","+(p&255)+", 0.45)");q.setProperty("--sh-dy",""+n["--sh-dy"]+"px");
if(1<P.D()&&P.D()<1.5)E=1/P.D();q.setProperty("--img20",20*E+"px");q.setProperty("--img18",18*E+"px");
if(PIMG!=null){var T="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var R=0;R<T.length;R++){var i=T[R],H=i.split("/").pop(),Z=PIMG["__"+i]==null?n["--gs-invert"]:"0";
q.setProperty("--icon_"+H,"url("+PIMG[i]+")");q.setProperty("--icon_"+H+"_invrt",Z)}}var w=document.querySelector("meta[name=theme-color]");
if(w)w.setAttribute("content","#"+j.E2(n["--base"]))};h0.Zu=[{name:"Silver","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Super Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function g9(){dm.call(this);this.parent=null;this.g=null;this.XF=0;this.rZ=0}g9.prototype=new dm;g9.prototype.a98=function(n){var eR=this;
while(eR!=null){if(eR==n)return!0;eR=eR.parent}return!1};g9.prototype.FD=function(){var n=this.g;return n.offsetWidth+n.clientLeft};
g9.prototype.adw=function(){var n=this.g;return n.offsetHeight+n.clientTop};g9.prototype.update=function(n){};
g9.prototype.K=function(n){dm.prototype.K.call(this,n);if(n.bubbles&&this.parent!=null)this.parent.K(n)};
g9.prototype.ae2=function(n){n.stopPropagation();n.preventDefault()};g9.prototype.N=function(){};g9.prototype.hy=function(n){P.kO(this.g,"disabled")};
g9.prototype.OW=function(n){P.oI(this.g,"disabled")};g9.prototype.aR=function(n){if(n)this.hy();else this.OW()};
function gm(n){g9.call(this);this.aj=[];this.Ge=!1;this.aoH=0;this.SF={x:0,y:0,fk:!1};this.lC=n;this.a3O=this.IO.bind(this);
this.$c=this.a_.bind(this);this.aod=this.Ml.bind(this);P.v$(n,this.a3O);P.KN(n,this.$c);n.addEventListener("wheel",this.mZ.bind(this),!1);
n.addEventListener("contextmenu",this.ao5.bind(this),!1);var q=this.ako.bind(this);n.addEventListener("gesturestart",q,!1);
n.addEventListener("gesturechange",q,!1);n.addEventListener("gestureend",q,!1);P.l7(n)}gm.prototype=new g9;
gm.prototype.ako=function(n){if(n.type=="gesturestart")this.HR=n.scale;if(n.type=="gesturechange"){var q=new ea("mouse",!0);
q.action="scroll";q.Cw=!0;this.Xe(n,q);var p=(this.HR-n.scale)/this.HR;q.MZ=new fc(0,100*p);this.HR=n.scale;
this.K(q)}};gm.prototype.Di=function(n){var q=-1,p=this.aj;for(var R=0;R<p.length;R++)if(p[R].pointerId==n.pointerId)q=R;
return q};gm.NP=function(n){var q=n.pointerType,p=window.__kb;return q=="touch"&&p.r(aj.aeX)};gm.prototype.IO=function(n){if(gm.NP(n))return;
var q=this.Di(n);if(q!=-1)this.aj[q]=n;else this.aj.push(n);if(this.aj.length==1){this.aoH=Date.now();
var p=n.button!=null&&n.button!=0?"rdown":"down",E=new ea("mouse",!0);E.action=p;this.Xe(n,E);this.K(E);
P.dt(this.lC,this.$c);P.KN(window,this.$c);P.iI(window,this.aod)}if(this.aj.length==2){if(Date.now()-this.aoH<100){var E=new ea("mouse",!0);
E.action="cancellast";this.Xe(n,E);this.K(E)}this.a8Q("multidown");this.Ge=!0}};gm.prototype.a_=function(n){if(gm.NP(n))return;
var q=this.Di(n);if(q!=-1)this.aj[q]=n;if(this.aj.length>1){this.a8Q("multimove")}if(this.Ge)return;
var p=new ea("mouse",!0);p.action="move";this.Xe(n,p);this.K(p)};gm.prototype.Ml=function(n){if(gm.NP(n))return;
var q=this.aj,p=this.Di(n);q.splice(p,1);if(q.length==0){var E=n.button!=null&&n.button>0?"rup":"up",T=new ea("mouse",!0);
T.action=E;this.Xe(n,T);this.K(T);P.dt(window,this.$c);P.sZ(window,this.aod);P.KN(this.lC,this.$c);this.Ge=!1}};
gm.prototype.mZ=function(n){n.preventDefault();if(n.deltaX==0&&n.deltaY==0)return;var q=new ea("mouse",!0);
q.action="scroll";q.Cw=n.ctrlKey;this.Xe(n,q);this.K(q)};gm.prototype.ao5=function(n){P.dv(n);var q=n.sourceCapabilities;
if(q)q=q.firesTouchEvents;if(q){var p=new ea("mouse",!0);this.Xe(n,p);p.action="rdown";this.K(p);p.action="rup";
this.K(p)}};gm.prototype.a8Q=function(n){var q=this.aj,p=P.D(),E=[];for(var R=0;R<q.length;R++){var T=E[R]=P.gD(q[R],this.lC);
T.x*=p;T.y*=p}var i=new ea("mouse",!0);i.action=n;i.pc=E;if(q.length<=2)this.K(i)};gm.prototype.Xe=function(n,q,p){var E=this.aj.length!=0;
if(q.action!="up"){var T=P.D();if(p==null)p=P.gD(n,this.lC);this.SF=q.CV={x:T*p.x,y:T*p.y,fk:E};var i=P.gD(n,document.body);
q.CV.Yt=i.x;q.CV.tF=i.y}else this.SF=q.CV={x:this.SF.x,y:this.SF.y,fk:E};q.CV.fQ=.5;if(n.pressure!=null&&n.pressure!=0)q.CV.fQ=n.pressure;
if(n.pointerType=="mouse")q.CV.fQ*=2;if(n.deltaX!=null){var H=n.deltaMode==0?1:40;q.MZ=new fc(n.deltaX*H,n.deltaY*H)}};
function a1(n,q){g9.call(this);this.um=null;this.ahY=this.Ml.bind(this);this.alr=this.Vy.bind(this);
this.afy=this.a30.bind(this);this.a8C=this.aey.bind(this);this.jK=[];this.u6=[];this.A1=[];this.ahe=[];
this.g=P.z("div","contextpanel");this.g.addEventListener("contextmenu",P.xl,!1);this.xk=null;this.QF=0;
this.a0y=n;this.a42=q;this.ES=[];for(var R=0;R<n.length;R++){var p=P.z("div","enab");this.u6.push(p);
this.g.appendChild(p);if(n[R].wj){var E=P.z("img","thumb");E.setAttribute("src",PIMG[n[R].wj]);p.appendChild(E)}else{var T=P.z("span","check");
this.ahe.push(T);p.appendChild(T)}var i=P.z("span","label");i.innerHTML=fE.get(n[R].name);p.appendChild(i);
this.A1.push(i);if(n[R].H8)this.g.appendChild(P.z("hr"));if(n[R].kZ||n[R].sub){var H=P.z("span","right");
p.appendChild(H);if(n[R].kZ)H.innerHTML=aj.iD(n[R].kZ);if(n[R].sub)H.innerHTML="\u25B6"}p.addEventListener("click",this.ahY,!1);
p.addEventListener("mouseover",this.alr,!0);p.addEventListener("mouseout",this.afy,!0);if(n[R].sub){var Z=new a1(n[R].sub,q?q[R].sub:null);
Z.parent=this;this.ES.push(Z);Z.R("select",this.ajP,this)}else this.ES.push(null)}}a1.prototype=new g9;
a1.prototype.aeI=function(n){P.Ls(this.g);for(var R=0;R<n.length;R++)if(n[R]!=0&&n[R]!=null){this.g.appendChild(this.u6[R]);
if(n[R]!=1&&this.ES[R])this.ES[R].aeI(n[R])}};a1.prototype.N=function(){var n=this.a0y;for(var R=0;R<n.length;
R++){if(n[R].title)this.u6[R].title=fE.get(n[R].title);this.A1[R].textContent=fE.get(n[R].name)+(n[R].Ak?"...":"")}for(var R=0;
R<this.ES.length;R++)if(this.ES[R])this.ES[R].N()};a1.prototype.update=function(n,q){var p=this.a0y;
for(var R=0;R<p.length;R++){if(p[R].J){var E=p[R].J(n,q,R);if(E.J!=null)this.u6[R].setAttribute("class",E.J?"enab":"disab");
if(E.XW!=null)this.A1[R].textContent=E.XW;if(E.LV!=null)this.ahe[R].textContent=E.LV?"\u2713":""}}for(var R=0;
R<this.ES.length;R++)if(this.ES[R])this.ES[R].update(n,q)};a1.prototype.uZ=function(){return this.jK};
a1.prototype.Ml=function(n){if(n.button!=0)return;var R=this.u6.indexOf(n.currentTarget);if(this.ES[R]){this.QF=R;
this.aey()}else{if(this.a42){var q=this.a42[R],p=new ea(q.l,!0);p.i=q.i;p.data=q.m;this.K(p)}this.um=null;
this.jK=[R];this.K(new ea("select",!1));var p=new ea(P.E.T,!0);p.data={e:P.C.Wl};this.K(p)}};a1.prototype.Vy=function(n){var R=this.u6.indexOf(n.currentTarget);
if(this.xk){clearTimeout(this.xk);this.xk=null}if(this.ES[R]==null)return;this.QF=R;this.xk=setTimeout(this.a8C,300)};
a1.prototype.a30=function(n){var R=this.u6.indexOf(n.currentTarget);if(this.xk){clearTimeout(this.xk);
this.xk=null}};a1.prototype.aey=function(){if(this.xk){clearTimeout(this.xk);this.xk=null}var R=this.QF;
if(this.um)this.um.ago();this.um=this.ES[R];var n=this.u6[R].getBoundingClientRect(),q=new ea(P.E.T,!0);
q.data={e:P.C.KU,yx:this.ES[R],x:n.left+n.width+2,y:n.top};this.K(q)};a1.prototype.ago=function(){for(var R=0;
R<this.ES.length;R++)if(this.ES[R])this.ES[R].ago();var n=new ea(P.E.T,!0);n.data={e:P.C.dz,yx:this};
this.K(n)};a1.prototype.ajP=function(n){var R=this.ES.indexOf(n.target);this.jK=[R].concat(n.target.uZ());
this.K(new ea("select",!1))};function g5(n,q,p,E,T,i,H,Z,w){g9.call(this);this.g=P.z("span","fitem");
var d=P.UC();this.xe=n;this.LZ=Z;this.amb=w;this.DC=q;this.uP=p;this.b5=null;if(E instanceof Array){this.b5=E;
E=E[0]}this.rL=E;this.rz=T;this.as8=i;this.So=H;this.VN=0;this.eO=P.z("label","flabel");this.eO.innerHTML=n;
this.eO.setAttribute("style","cursor:col-resize;");this.Dv=P.z("input","");this.Dv.setAttribute("type","range");
if(H){this.Dv.min=0;this.Dv.max=400}else{this.Dv.min=q;this.Dv.max=p;if(T!=0)this.Dv.step=(p-q)/200}this.HX=P.z("input","");
this.HX.setAttribute("type","text");this.HX.setAttribute("id",d);this.gO=P.z("span","");this.gO.innerHTML=E;
this.HX.addEventListener("change",this.Dx.bind(this),!1);this.HX.addEventListener("keydown",this.pw.bind(this),!1);
this.HX.addEventListener("wheel",this.mZ.bind(this),!1);this.Dv.addEventListener("input",this.Dx.bind(this),!1);
if(w)this.Dv.addEventListener("change",this.Dx.bind(this),!1);this.Dv.addEventListener("click",this.as4.bind(this),!1);
this.aq5=this.arb.bind(this);this.aiV=this.a51.bind(this);this.ah$=this.a6B.bind(this);this.Cb=0;this.dp=0;
this.DX=!1;P.v$(this.eO,this.aq5);P.l7(this.eO)}g5.prototype=new g9;g5.prototype.t$=function(n){this.rz=n};
g5.prototype.l$=function(n){this.eO.textContent=n};g5.prototype.N=function(){var eR=this.xe,n=this.LZ;
if(eR){if(typeof eR=="string"&&eR.startsWith("<"))this.eO.innerHTML=eR;else this.eO.textContent=fE.get(eR)+":"}if(n){n=fE.get(n);
if(eR)this.eO.setAttribute("title",n);this.HX.setAttribute("title",n)}};g5.prototype.j=function(n,q){var p=this.DC==this.uP;
if(!p&&this.DC>=0)n=Math.max(this.DC,n);if(this.rz==0)n=Math.round(n);var E=this.rL;this.HX.value=(this.rz!=0?n.toFixed(this.rz):n)+(this.as8&&E?(E.toLowerCase()==E.toUpperCase()?"":" ")+E:"");
var T=400*Math.pow((n-this.DC)/(this.uP-this.DC),1/2.7);this.Dv.value=this.So?T:n;if(q)this.RQ()};g5.prototype.I=function(){var n=parseFloat(this.HX.value);
if(isNaN(n))n=0;return n};g5.prototype.ad=function(){return this.rL};g5.prototype.Dx=function(n){var q=0;
if(n.currentTarget==this.HX){var p=n.target.value,E=0;while(E<p.length&&(p.charAt(E)=="."||48<=p.charCodeAt(E)&&p.charCodeAt(E)<=57))E++;
q=p==""?0:parseFloat(p);if(isNaN(q))q=0;var T=p.slice(E).trim();if(this.b5&&this.b5.indexOf(T)!=-1)this.rL=T}else{if(Date.now()-this.VN<10)return;
q=parseFloat(n.target.value);if(this.So){q=this.DC+Math.pow(q/400,2.7)*(this.uP-this.DC);q=this.alV(q)}}this.j(q);
if(n.type=="input"&&this.amb)return;this.RQ()};g5.prototype.RQ=function(){this.K(new ea(P.E.b))};g5.prototype.alV=function(n){if(this.uP-this.DC>50&&n>10)n=Math.round(n);
return n};g5.prototype.pw=function(n){var q=0;if(aj.ju(n.code,aj.Co))q=1;if(aj.ju(n.code,aj.q2))q=-1;
if(q!=0)this.acV(q,n.shiftKey)};g5.prototype.mZ=function(n){this.acV(n.deltaY>0?-1:1,n.shiftKey)};g5.prototype.acV=function(n,q){var p=this.I(),E=this.rz,T=n*(E==null||E==0||p>5?1:.1);
if(q)T*=10;var i=p+T;if(!this.So&&this.uP!=this.DC)i=Math.min(this.uP,i);this.j(i);this.RQ()};g5.prototype.as4=function(n){var q=Date.now()-this.VN;
this.VN=Date.now();if(q>300)return;var p=(this.uP+this.DC)/2;if(this.DC<0&&this.uP>0)p=0;else if(this.DC<1&&this.uP>1&&this.uP<10)p=1;
this.j(p);this.RQ()};g5.prototype.arb=function(n){P.KN(document,this.aiV);P.iI(document,this.ah$);this.Cb=P.gD(n,document.body).x;
this.dp=this.I()};g5.prototype.a51=function(n){P.dv(n);var q=this.DC==this.uP,p=P.gD(n,document.body).x,E=(p-this.Cb)*(q?1:1/120*(this.uP-this.DC)),T=this.dp+E;
if(q)T=Math.round(T);if(!q){if(!0){T=Math.max(this.DC,T);if(T==this.DC){this.Cb=p;this.dp=this.DC}}if(!this.So){T=Math.min(this.uP,T);
if(T==this.uP){this.Cb=p;this.dp=this.uP}}T=this.alV(T)}this.DX=!0;this.j(T);this.RQ()};g5.prototype.a6B=function(n){if(!this.DX)this.HX.focus();
this.DX=!1;P.dt(document,this.aiV);P.sZ(document,this.ah$)};g5.prototype.xY=function(){this.HX.select();
this.HX.focus()};function ds(n,q){g9.call(this);this.I3=[];this.c5=-1;this.a2j=n;this.qf=q;this.uN=0;
this.uD=null;this.zO=new fc(0,0);if(q!=null){this.Nt=new a1([{name:[6,37]},{name:[5,4]}]);this.Nt.parent=this;
this.Nt.R("select",this.ax,this)}this.g=P.z("div","imageset scrollable");this.g.addEventListener("contextmenu",P.xl,!1)}ds.prototype=new g9;
ds.prototype.N=function(){if(this.Nt)this.Nt.N()};ds.prototype.ax=function(n){var R=this.Nt.uZ()[0],q=new ea(P.E.T,!0),p={e:P.C.Th,sQ:this.qf,dm:[this.c5]};
if(R==0){var E=this.uD[1][this.c5];p.wH="rnm";q.data={e:P.C.Lr,ov:"namewindow",Br:E,ls:{l:P.E.T,m:p}}}else{q.data=p;
p.wH="del"}this.K(q)};ds.prototype.aeO=function(){return this.uN};ds.prototype.k3=function(n){this.uN=n;
if(this.uD)this.EA()};ds.prototype.v3=function(n,q,p,E){this.uD=[n,q,p,E];this.EA()};ds.prototype.EA=function(){var n=this.uD,q=n[0],p=n[1],E=n[2],T=n[3];
this.I3=[];this.g.innerHTML="";var i=this.jp.bind(this),H=this.uN;if(H==0)P.oI(this.g,"imageset");else P.kO(this.g,"imageset");
for(var R=0;R<q.length;R++){var Z=q[R],w=null;if(Z==null){this.I3.push(null);continue}if(typeof Z=="string"){w=P.z("img","image");
w.setAttribute("src",Z)}else w=Z;if(E)P.X_(w,E,T);if(this.a2j)P.oI(w,"gsicon");if(H==0){}else{var d=P.z("div","listitem");
d.appendChild(w);var O=P.z("span");O.textContent=p?p[R]:"Item "+(R+1);O.setAttribute("style","margin-left:4px;");
d.appendChild(O);w=d}if(p)w.setAttribute("title",p[R]);w.addEventListener("mousedown",i,!1);this.I3.push(w);
this.g.appendChild(w)}};ds.prototype.jp=function(n){n.preventDefault();this.c5=this.I3.indexOf(n.currentTarget);
this.zO=P.gD(n,n.currentTarget);if(n.button==0)this.K(new ea(P.E.b));if(n.button==2&&this.Nt){var q=this.Nt;
q.update(null);var p=P.gD(n,document.body),E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:q,x:p.x,y:p.y+2};this.K(E)}};
ds.prototype.I=function(){return this.c5};ds.prototype.j=function(n){this.c5=n};ds.prototype.asU=function(){var n=this.zO;
return new fc(n.x,n.y)};ds.prototype.Zn=function(n){for(var R=0;R<this.I3.length;R++){var q=this.I3[R];
if(q==null)continue;if(R==n)P.oI(q,"selected");else P.kO(q,"selected")}};function j8(n,q,p,E,T,i,H){g9.call(this);
this.g=P.z("span","fitem "+p);this.o4=new g9;this.o4.g=P.z("div","floatcont");this.o4.g.setAttribute("style","width: "+(E+1.5)+"em;");
this.o4.parent=this;this.a5a=P.z("div");this.o4.g.appendChild(this.a5a);this.gH=P.z("div");this.o4.g.appendChild(this.gH);
if(n){this.xe=n;this.eO=P.z("label","flabel");this.g.appendChild(this.eO)}this.e=P.z("button",H?"nopadding":"");
this.e.setAttribute("style","position:relative;");this.e.addEventListener("click",(q?this.mP:this._z).bind(this),!1);
this.g.appendChild(this.e);this.xp=P.z("img",H?"gsicon":"");this.e.appendChild(this.xp);if(q){var Z=P.z("button");
Z.textContent="\u25BC";Z.addEventListener("click",this._z.bind(this),!1);this.g.appendChild(Z)}else{var w=P.z("span");
w.textContent="\u25BC";w.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.e.appendChild(w)}var d=P.z("span");
this.gH.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+E+"em;");
this.Wc=new ds(H,i);d.appendChild(this.Wc.g);this.Wc.parent=this.o4;this.Wc.R(P.E.b,this.a94,this);this.Wc.g.style.height=T+"em";
this.Rw=P.z("button");this.Rw.textContent="\u25BC";this.Rw.setAttribute("style","padding:3px");this.Rw.addEventListener("click",this.a3t.bind(this),!1);
this.gH.appendChild(this.Rw);var O=this.MW(),W=i!=cF.Iy&&i!=cF.DN?i:null,C=i==null?"":cF.Ok[i][0].toUpperCase(),a=W?[{name:[12,87]}]:[];
a=a.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]]},{name:[[23,6],"."+(C=="ICC"?"icc .cube .look .3dl":C)]},{name:["VAR0 ."+C,[1,8]],H8:O.length!=0}]);
for(var R=0;R<O.length;R++)a.push({name:O[R].split("/").pop()});this.Nt=new a1(a);this.Nt.parent=this.o4;
this.Nt.R("select",this.ax,this);this.qf=i;this.ak4=W;this.qa=null;this.Or=!0;this.Ba=null}j8.prototype=new g9;
j8.prototype.MW=function(){return[]};j8.prototype.a94=function(n){this.Yp(n);this.Wc.Zn(this.Wc.I())};
j8.prototype.mP=function(){};j8.prototype.N=function(){this.Nt.N();this.Wc.N();var n=this.xe;if(n)this.eO.textContent=fE.get(n)+":"};
j8.prototype.l$=function(n){this.eO.textContent=n};j8.prototype.KC=function(n){var q=this.qf,p=0;if(q==cF.bw){p=this.qa?this.qa.length:0;
n=n.slice(0)}this.qa=n;this.Or=!0;if(P.pM(this.Wc.g)||q==cF.ZG)this.t0();if(q==cF.bw&&n.length-p==1&&P.pM(this.g)){this.j(n[p]);
this.Or=!0;this.t0();this.Wc.Zn(p);this.K(new ea(P.E.b))}};j8.prototype.ax=function(n){var q=n.target.uZ()[0];
if(this.ak4==null)q++;var p=new ea(P.E.T,!0);if(q==0){var E=this.zT();if(this.qf==cF.bw&&E[0].profile==null)return;
p.data={e:P.C.Th,wH:"add",sQ:this.ak4,EQ:E}}else if(q==1)this.Wc.k3(1-this.Wc.aeO());else if(q==2)p.data={e:P.C.By};
else if(q==3)p.data={e:P.C.hP,a06:this.qf};else{var T=this.MW();p.data={e:P.C.Av,sQ:{url:"rsrc/"+T[q-4]}}}if(p.data)this.K(p)};
j8.prototype.zT=function(){return[this.I()]};j8.prototype.a3t=function(n){var q=this.Nt;q.N();q.update(null);
var p=n.currentTarget.getBoundingClientRect(),E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:q,x:p.left,y:p.top+p.height};
this.K(E)};j8.prototype._z=function(n){this.t0();var q=this.e.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.o4,x:q.left,y:q.top+q.height,ZV:!0};this.K(p)};function aJ(){g9.call(this);
this.g=P.z("div");this.PT=!1;this.WK=[new gJ([12,19,1],[[13,1,7]].concat(iJ.D_)),new bY([17,1]),new bY([12,46])];
for(var R=0;R<3;R++){var n=this.WK[R];this.g.appendChild(n.g);n.R(P.E.b,this.RB,this)}this.N()}aJ.prototype=new g9;
aJ.prototype.N=function(){for(var R=0;R<3;R++)this.WK[R].N()};aJ.prototype.I=function(){return this.PT.slice(0)};
aJ.prototype.j=function(n){this.PT=n.slice(0);var q=this.WK,p=q[0].I();q[1].j(n.slice(p*8,p*8+4),p);
q[2].j(n.slice(p*8+4,p*8+8),p)};aJ.prototype.RB=function(n){var q=this.WK,p=q.indexOf(n.currentTarget);
if(p==0)this.j(this.PT);else{var E=q[0].I()*8+(p==1?0:4),T=q[p].I();for(var R=0;R<4;R++)this.PT[E+R]=T[R];
this.K(new ea(P.E.b,!1))}};function bY(n){g9.call(this);this.g=P.z("div");this.S=P.z("canvas");this.Am=n;
this.PT=[0,20,200,255];this.MQ=0;this.oL=-1;this.a9z=[];for(var R=0;R<5;R++){var q=P.z("span");q.setAttribute("style","display:inline-block;width:"+(R==0?8:R==2?7:2)+"em");
this.a9z.push(q);this.g.appendChild(q)}this.Zg=this.IO.bind(this);this.U5=this.a_.bind(this);this.Ot=this.Ml.bind(this);
P.l7(this.S);P.v$(this.S,this.Zg);this.g.appendChild(this.S);this.EA()}bY.prototype=new g9;bY.prototype.N=function(){this.EA()};
bY.prototype.j=function(n,q){this.PT=n;this.MQ=q;this.EA()};bY.prototype.I=function(){return this.PT.slice(0)};
bY.prototype.IO=function(n){var q=this.PT,p=P.gD(n,this.S),E=p.x-8,T=-1,i=1e9;for(var R=0;R<4;R++){var H=E-q[R],Z=Math.abs(H);
if(Z<8&&Z<i&&((R&1)==0&&H<0||(R&1)==1&&H>0)){i=H;T=R}}if(T==-1)return;this.oL=T;this.sz=window.__kb.r(aj.sL)||q[(T>>>1)*2]!=q[(T>>>1)*2+1];
P.KN(window,this.U5);P.iI(window,this.Ot)};bY.prototype.a_=function(n){var q=this.PT,p=this.oL,E=(p>>>1)*2,T=E+1,i=P.gD(n,this.S),H=Math.round(Math.max(0,Math.min(255,i.x-8)));
q[p]=H;if(this.sz&&q[E]>=q[T])this.sz=!1;if(!this.sz)q[E]=q[T]=H;this.EA();this.K(new ea(P.E.b,!1))};
bY.prototype.Ml=function(n){P.dt(window,this.U5);P.sZ(window,this.Ot)};bY.prototype.EA=function(){var n=this.S;
P.jy(n,255+16,16);var q=n.getContext("2d"),p=n.width,E=n.height,T=Math.round(255*P.D()),i=Math.round(8*P.D());
q.translate(i,0);var H=q.createLinearGradient(0,0,T,0);H.addColorStop(0,"black");H.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.MQ]);
q.fillStyle=H;q.fillRect(0,0,T,i);var Z=this.a9z,w=fE.get(this.Am)+":";Z[0].textContent=w;for(var R=0;
R<4;R++){var d=this.PT[R];Z[1+R].textContent=d;var O=Math.round(d*P.D());q.beginPath();q.moveTo(O,i);
q.lineTo(O,i+i);q.lineTo(O+((R&1)==0?-1:1)*i,i+i);q.closePath();q.fillStyle=R<2?"#666666":"#cccccc";
q.fill();q.strokeStyle="black";q.stroke()}};function fz(n,q,p){g9.call(this);if(p==null)p=!1;this.k=[0,0,1];
this.a3w=q;this.aj7=p;this.a2b=0;var E="ai"+P.UC();this.g=P.z("span","fitem angleinput");if(n){this.eO=P.z("label","flabel");
this.xe=n;this.g.appendChild(this.eO);this.eO.setAttribute("for",E)}this.PE=p?44:20;this.S=P.z("canvas","gsicon");
this.Jm=this.S.getContext("2d");P.l7(this.S);P.jy(this.S,this.PE*2+1,this.PE*2+1,this.Jm);this.g.appendChild(this.S);
P.v$(this.S,this.HY.bind(this));this.f3=this.Ew.bind(this);this.np=this.BM.bind(this);var T=this.Dx.bind(this),i=P.z("div");
i.setAttribute("style","display:inline-block;  vertical-align:middle;");if(!p)this.g.appendChild(i);
this.U1=[];for(var R=0;R<2;R++){var H=P.z("input");this.U1.push(H);H.setAttribute("type","text");if(R==0)H.setAttribute("id",E);
H.addEventListener("change",T,!1);var Z=P.z("span");Z.textContent="\xB0";if(R==0||q){i.appendChild(H);
i.appendChild(Z);P.OK(i)}}this.j(this.k)}fz.prototype=new g9;fz.prototype.N=function(){if(this.xe)this.eO.textContent=fE.get(this.xe)+":"};
fz.prototype.l$=function(n){this.eO.textContent=n};fz.prototype.I=function(){return this.k.slice(0)};
fz.prototype.j=function(n,q){var p=this.k;n=n.slice(0);if(n[0]==null)n[0]=p[0];if(n[1]==null)n[1]=p[1];
if(n[2]==null)n[2]=p[2];this.k=n;var E=n[0],T=n[1],i=n[2],H=this.a3w,Z=this.aj7,w=this.PE*.85;if(!H)T=0;
this.U1[0].value=E;this.U1[1].value=T;var d=this.Jm;d.clearRect(0,0,100,100);E=Math.PI*E/180;T=w*(90-T)/90;
var O=this.PE+.5;d.save();d.translate(O,O);d.rotate(-E);d.strokeStyle="rgba(0,0,0,0.5)";d.beginPath();
d.ellipse(0,0,w,w*i,0,0,2*Math.PI);if(Z){d.moveTo(0,-w*i);d.lineTo(0,w*i);d.moveTo(-T,0)}else d.moveTo(0,0);
d.lineTo(T,0);d.stroke();var W=this.PE*.15;d.fillStyle="black";d.beginPath();if(Z){d.arc(0,-w*i,W*.66,0,2*Math.PI);
d.arc(0,w*i,W*.66,0,2*Math.PI)}if(H){d.arc(T,0,W*.4,0,2*Math.PI)}else{d.moveTo(O-W,-W*.66);d.lineTo(O,0);
d.lineTo(O-W,W*.66)}d.fill();d.restore();if(q)this.Dx()};fz.prototype.Dx=function(n){var q=parseInt(this.U1[0].value),p=parseInt(this.U1[1].value);
q=q%360;p=p%360;this.j([q,p]);this.K(new ea(P.E.b,!1))};fz.prototype.HY=function(n){P.KN(window,this.f3);
P.iI(window,this.np);var q=P.gD(n,this.S),O=0,W=1e9;q.x-=this.PE;q.y-=this.PE;var p=this.k,E=p[0]*Math.PI/180,T=(90-p[1])/90,i=p[2],H=this.PE*.85,Z=Math.sin(-E),w=Math.cos(-E),d=[new fc(w*H,Z*H)];
if(this.aj7)d.push(new fc(-Z*H*i,w*H*i),new fc(Z*H*i,-w*H*i));for(var R=0;R<d.length;R++){var C=fc.vu(q,d[R]);
if(C<W){W=C;O=R}}this.a2b=O;if(O==0)this.Ew(n)};fz.prototype.Ew=function(n){var q=P.gD(n,this.S),p=this.a2b,E=[],T=q.x-this.PE,i=q.y-this.PE,H=this.PE*.85;
if(p==0){var Z=180*Math.atan2(-i,T)/Math.PI,w=90-90*Math.min(1,Math.sqrt(T*T+i*i)/H);E=[Math.round(Z),Math.round(w)]}else E=[null,null,Math.max(.01,Math.min(1,Math.sqrt(T*T+i*i)/H))];
this.j(E);this.K(new ea(P.E.b,!1))};fz.prototype.BM=function(n){this.K(new ea(P.E.b,!1));P.dt(window,this.f3);
P.sZ(window,this.np)};function dn(n,q){g9.call(this);this.PT=0;this.tH=q;this.g=P.z("span","fitem angleinput");
if(n){this.eO=P.z("label","flabel");this.xe=n;this.g.appendChild(this.eO)}this.S=P.z("canvas","gsicon");
this.Jm=this.S.getContext("2d");P.jy(this.S,q,q);this.g.appendChild(this.S);P.v$(this.S,this.HY.bind(this));
this.f3=this.Ew.bind(this);this.np=this.BM.bind(this);this.j(0)}dn.prototype=new g9;dn.prototype.N=function(){if(this.xe)this.eO.textContent=fE.get(this.xe)+":"};
dn.prototype.l$=function(n){this.eO.textContent=n};dn.prototype.I=function(){return this.PT};dn.prototype.j=function(n){this.PT=n;
var q=this.S.width,p=Math.floor(n/3),E=n-3*p,T=(E+.5)*q/3,i=(p+.5)*q/3,H=this.Jm,Z=[.5,Math.round(q/3)+.5,Math.round(2*q/3)+.5,q-.5];
H.clearRect(0,0,q,q);var w=this.tH<30;H.setLineDash([]);H.strokeStyle=w?"rgba(0,0,0,0.5)":"#000000";
H.beginPath();for(var R=0;R<4;R++){var d=Z[R];H.moveTo(d,0);H.lineTo(d,q);H.moveTo(0,d);H.lineTo(q,d)}H.stroke();
if(n==9)return;if(!w){H.setLineDash([1,2]);var O=q*.53,W=Math.max(0,Math.min(q-O,T-O/2)),C=Math.max(0,Math.min(q-O,i-O/2));
H.strokeRect(Math.round(W)+.5,Math.round(C)+.5,Math.round(O),Math.round(O))}H.fillStyle="#000000";H.beginPath();
H.arc(T,i,q/8,0,Math.PI*2);H.fill()};dn.prototype.HY=function(n){P.KN(window,this.f3);P.iI(window,this.np);
this.Ew(n)};dn.prototype.Ew=function(n){var q=P.gD(n,this.S),p=Math.max(0,Math.min(2,Math.floor(q.x/(this.tH/3)))),E=Math.max(0,Math.min(2,Math.floor(q.y/(this.tH/3))));
this.j(E*3+p)};dn.prototype.BM=function(n){this.K(new ea(P.E.b,!1));P.dt(window,this.f3);P.sZ(window,this.np)};
function bG(n,q,p,E){g9.call(this);this.g=P.z("button","fitem"+(q?" spread":"")+(E?" bbtn":""));this.xe=n;
this.LZ=p;this.N();this.g.addEventListener("click",this.jp.bind(this),!1)}bG.prototype=new g9;bG.prototype.N=function(){var n=this.g,q=this.xe,p=this.LZ,E=fE.get(q);
if(E.startsWith("<img")||E.startsWith("<svg"))n.innerHTML=E;else n.textContent=E;if(E.startsWith("<img")||E.startsWith("<svg"))n.setAttribute("style","padding:2px");
if(p){n.setAttribute("title",fE.get(p))}};bG.prototype.aim=function(n){this.g.setAttribute("title",n)};
bG.prototype.jp=function(n){this.K(new ea("click",!1))};bG.prototype.P9=function(){P.oI(this.g,"bactive")};
bG.prototype.zw=function(){P.kO(this.g,"bactive")};bG.prototype.l$=function(n,q){if(n)this.xe=n;if(q)this.LZ=q;
this.N()};bG.prototype.j=function(n){if(n)this.P9();else this.zw()};bG.prototype.Jc=function(){return this.g.getAttribute("class").indexOf("bactive")!=-1};
bG.prototype.I=function(){return this.Jc()};function fP(eR){g9.call(this);this.g=P.z("span","fitem cswatch");
this.a7C=0;this.Ft=[];this.Tn=[];var n=this.aiI.bind(this);for(var R=0;R<eR;R++){this.Ft.push(0);var q=P.z("span","colorsample");
q.addEventListener("click",n,!1);this.Tn.push(q);this.g.appendChild(q)}var p=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],E=Math.min(eR,p.length);
for(var R=0;R<E;R++)this.Ft[R]=p[R];this.$z()}fP.prototype=new g9;fP.prototype.aiI=function(n){this.a7C=this.Tn.indexOf(n.currentTarget);
this.K(new ea(P.E.b))};fP.prototype.I=function(){return this.Ft[this.a7C]};fP.prototype.j=function(n){var q=this.Ft,p=q.indexOf(n);
if(p!=-1)q.splice(p,1);else q.pop();q.unshift(n);this.$z()};fP.prototype.$z=function(){for(var R=0;R<this.Ft.length;
R++){this.Tn[R].setAttribute("style","background-color:#"+j.E2(this.Ft[R]))}};function ja(n){g9.call(this);
this.p2={_:0,q:0,X:0};this.fl=n;this.g=P.z("span","fitem colorsample");this.g.addEventListener("click",this.v9.bind(this),!1)}ja.prototype=new g9;
ja.prototype.N=function(){};ja.prototype.v9=function(n){var q=this.p2;this.K(new ea("click"));var p=new ea(P.E.T,!0);
p.data={e:P.C.Lr,ov:"colorpicker",Q9:q._<<16|q.q<<8|q.X,uV:this.az.bind(this),Rq:this.fl};this.K(p)};
ja.prototype.az=function(n){this.GQ(n);this.K(new ea(P.E.b))};ja.prototype.abm=function(){this.v9(null)};
ja.prototype.a9k=function(){var n=this.p2;return n._<<16|n.q<<8|n.X};ja.prototype.I=function(){return j.f.iB(this.p2)};
ja.prototype.GQ=function(n){this.p2={_:n>>16&255,q:n>>8&255,X:n&255};this.aa2()};ja.prototype.j=function(n){this.p2=j.f.aV(n);
this.aa2()};ja.prototype.aa2=function(){var n=this.p2,q=n._,p=n.q,E=n.X,T=q<<16|p<<8|E;this.g.setAttribute("style","background-color:#"+j.E2(T))};
function gD(){g9.call(this);this.xM=!1;this._J=20;this.anl=10;this.Bz=0;this.xM=!1;this.jq={_:255,q:0,X:0};
this.CE={_:0,q:0,X:0};this.g=P.z("canvas");this.EA();P.l7(this.g);P.v$(this.g,this.Zg.bind(this))}gD.prototype=new g9;
gD.prototype.acI=function(n){if(this.xM==n)return;this.xM=n;this.EA()};gD.prototype.N=function(){};gD.prototype.anp=function(n,q){function p(E){return{_:E>>16&255,q:E>>8&255,X:E&255}}if(n!=null)this.jq=p(n);
if(q!=null)this.CE=p(q);this.EA()};gD.prototype.Zg=function(n){var q=P.gD(n,this.g),p=q.x*P.D(),E=q.y*P.D(),T=this._J,i=this.anl,H=0;
if(p<i&&E<i){H=0}else if(p>T-i&&E>T-i){H=1}else if(p<i){H=2}else{H=3}var Z=new ea(P.E.T,!0);if(H>1)Z.data={e:P.C.Th,sQ:cF._H,df:H};
else{this.Bz=H;var w=H==0?this.jq:this.CE;Z.data={e:P.C.Lr,ov:"colorpicker",Q9:w._<<16|w.q<<8|w.X,uV:this.az.bind(this)}}this.K(Z)};
gD.prototype.az=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.Th,sQ:cF._H,df:this.Bz,k:n};this.K(q)};
gD.prototype.EA=function(){var n=this.g,q=n.getContext("2d"),p=P.D(),T="#aaaaaa",i=.62;P.jy(n,34,34);
n.setAttribute("style",n.getAttribute("style")+";cursor:pointer");var E=this._J=n.width,H=this.anl=Math.round(E*i);
function Z(a,B){var $=a._,I=a.q,x=a.X;if(B)$=I=x=Math.round(j.lU($,I,x));var U=$<<16|I<<8|x;return"#"+j.E2(U)}function w(a,B,H,$,I){q.fillStyle=I?I:"black";
q.fillRect(a,B,H,H);q.fillStyle=$;q.fillRect(a+1,B+1,H-2,H-2)}w(E-H,E-H,H,Z(this.CE,this.xM));w(0,0,H,Z(this.jq,this.xM));
var d=E-H,O=Math.round(d*i);w(E-O,d-O,O,"white",T);w(E-d,0,O,"black",T);q.save();q.fillStyle=T;q.translate(0,E);
q.rotate(-Math.PI/2);d=E-H;var W=Math.round(d*.28),C=Math.round(d*.25);for(var R=0;R<2;R++){q.fillRect(W,W,d-W,1);
q.beginPath();q.moveTo(d-C,W+.5-C);q.lineTo(d,W+.5);q.lineTo(d-C,W+.5+C);q.closePath();q.fill();q.transform(0,1,1,0,0,0)}q.restore()};
function ad(n){j8.call(this,n,!1,"brushbutton nopadding",19,10,cF.yR,!0);var q=this.a5a;P.oI(q,"flexrow");
var p=P.z("div");q.appendChild(p);var E=P.z("div");q.appendChild(E);E.setAttribute("style","margin-left:8px");
this.IK=new fz(null,null,!0);this.IK.R(P.E.b,this.B3,this);p.appendChild(this.IK.g);this.SO=new ej([12,14,0],1,1e3," px",0,!0);
this.SO.R(P.E.b,this.B3,this);E.appendChild(this.SO.g);this.pi=new ej([12,17],0,100,"%");this.pi.R(P.E.b,this.B3,this);
E.appendChild(this.pi.g)}ad.prototype=new j8;ad.prototype.MW=function(){var n=["pencil","trees"];for(var R=0;
R<n.length;R++)n[R]="brushes/"+n[R]+".abr";return n};ad.prototype._z=function(n){var q=this.g.getBoundingClientRect();
this.a0u(q.left,q.top+q.height)};ad.prototype.a0u=function(n,q){this.t0();var p=new ea(P.E.T,!0);p.data={e:P.C.KU,yx:this.o4,x:n,y:q};
this.K(p)};ad.prototype.j=function(n,q,p){this.Ba=JSON.parse(JSON.stringify(n));var E=Math.floor(20*P.D()),T=Math.floor(36*P.D()),i=Math.floor(24*P.D()),H=iX.Xm(n,q,p,E,i,T);
this.xp.setAttribute("src",H);P.X_(this.xp,T,i);var Z=n.Brsh.v;this.SO.j(Z.Dmtr.v.val);if(Z.Hrdn!=null){this.pi.hy();
this.pi.j(Z.Hrdn.v.val)}else this.pi.OW();if(Z.Angl!=null)this.IK.j([Z.Angl.v.val]);if(Z.Rndn!=null)this.IK.j([null,null,Z.Rndn.v.val/100]);
this.Wc.Zn(-1)};ad.prototype.zT=function(){return{list:[{t:"Objc",v:this.I()}],Hh:[],yi:[]}};ad.prototype.I=function(){return this.Ba};
ad.prototype.t0=function(){if(!this.Or)return;var n=[],q=[],p=this.qa,E=Math.floor(33*P.D()),T=Math.floor(40*P.D());
for(var R=0;R<p.list.length;R++){var i=p.list[R].v,H=iX.Xm(i,p.Hh,p.yi,E,T);n.push(H);q.push(i.Nm.v.split("=").pop())}this.Wc.v3(n,q,E,T);
this.Or=!1};ad.prototype.Yp=function(n){var q=this.qa;this.j(q.list[this.Wc.I()].v,q.Hh,q.yi);this.K(new ea(P.E.b))};
ad.prototype.N=function(){j8.prototype.N.call(this);this.IK.N();this.SO.N();this.pi.N()};ad.prototype.B3=function(n){var q=this.qa,p=this.Ba,E=p.Brsh.v;
E.Dmtr.v.val=this.SO.I();if(E.Hrdn!=null)E.Hrdn.v.val=this.pi.I();if(E.Angl!=null)E.Angl.v.val=this.IK.I()[0];
if(E.Rndn!=null)E.Rndn.v.val=Math.round(this.IK.I()[2]*100);this.j(p,q.Hh,q.yi);this.K(new ea(P.E.b))};
function he(n){j8.call(this,n,!0,"contourbutton",17,10.5,cF.mY)}he.prototype=new j8;he.prototype.Yp=function(n){this.j(this.qa[n.target.I()]);
this.K(new ea(P.E.b))};he.prototype.mP=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.Lr,ov:"contoureditor",fM:this.Ba,response:this.amn.bind(this)};
this.K(q)};he.prototype.amn=function(n){this.j(n);this.K(new ea(P.E.b))};he.prototype.t0=function(){if(!this.Or)return;
var n=Math.floor(38*P.D()),q=Math.floor(38*P.D()),p=[],E=[],T=this.qa;for(var R=0;R<T.length;R++){E.push(T[R].Nm?T[R].Nm.v:"");
p.push(j.A6.Xm(T[R].Crv.v,n,q))}this.Wc.v3(p,E,n,q);this.Or=!1};he.prototype.j=function(n){this.Ba=JSON.parse(JSON.stringify(n));
var q=this.Ba.Crv.v;for(var R=0;R<q.length;R++)if(q[R].v.Cnty==null)q[R].v.Cnty={t:"bool",v:!0};this.fe()};
he.prototype.fe=function(){var n=Math.floor(30*P.D()),q=Math.floor(30*P.D()),p=j.A6.Xm(this.Ba.Crv.v,n,q);
this.xp.setAttribute("src",p);P.X_(this.xp,n,q)};he.prototype.I=function(){return JSON.parse(JSON.stringify(this.Ba))};
function gI(n){g9.call(this);this.sf=null;this.BW=null;this.FS=null;this.xJ=null;this.am$=[];this.anX=[];
this.g=P.z("span","fitem fillbutton");this.o4=new g9;this.o4.g=P.z("div","floatcont form");this.o4.g.setAttribute("style","width: 21em;");
this.o4.parent=this;this._8=n;this.eO=this.eO=P.z("label","flabel");this.g.appendChild(this.eO);this.S=P.z("canvas");
this.Jm=this.S.getContext("2d");this.afN=null;this.g.appendChild(this.S);this.S.addEventListener("click",this._z.bind(this),!1);
this.j6=new c2([12,66],["","Color","Grad","Patt"]);this.o4.g.appendChild(this.j6.g);this.j6.R(P.E.b,this.RB,this);
this.o4.g.appendChild(P.z("hr"));this.ajt=P.z("span");this.Uq=new ja(!0);this.Uq.parent=this.o4;this.Uq.R(P.E.b,this.RB,this);
this.Tm=new fP(10);this.Tm.R(P.E.b,this.RB,this);this.Cz=P.z("div","marged hiline");this.Cz.appendChild(this.Uq.g);
P.OK(this.Cz);this.Cz.appendChild(this.Tm.g);this.kE=new ie("GrFl",!0);this.kE.parent=this.o4;this.kE.R(P.E.b,this.RB,this);
this.Mu=P.z("div","marged hiline");var q="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var R=0;
R<q.length;R++){var p=this.kE.lZ[q[R]].g;this.Mu.appendChild(p)}this.Ts=new ie("patternFill",!0);this.Ts.parent=this.o4;
this.Ts.R(P.E.b,this.RB,this);this.yK=P.z("div","marged hiline");var q=["Ptrn","Scl","Algn","phase"];
for(var R=0;R<q.length;R++){var p=this.Ts.lZ[q[R]].g;this.yK.appendChild(p)}}gI.prototype=new g9;gI.prototype.ts=function(n,q){if(q==cF.KV){this.am$=[];
this.anX=[];if(this.sf)this.j(this.FS,this.I(),this.sf)}this.BW=n;this.kE.ts(n,q);this.Ts.ts(n,q)};gI.prototype.N=function(){this.eO.textContent=fE.get(this._8)+": ";
this.j6.N();this.Uq.N();this.kE.N();this.Ts.N()};gI.prototype.RB=function(n){var q=n.currentTarget;if(q==this.j6){var p=this.j6.I(),E={a5:p,IH:this.sf[p]};
if(p>0&&E.IH==null)E.IH=JSON.parse(JSON.stringify(iq.FH[p-1]));if(this.sf)this.j(this.FS,E,this.sf)}if(q==this.Tm)this.Uq.GQ(q.I());
this.K(new ea(P.E.b,!1))};gI.prototype._z=function(n){var q=this.S.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.o4,x:q.left,y:q.top+q.height+4};this.K(p);this.Tm.j(this.Uq.a9k())};gI.prototype.j=function(n,q,p){this.sf=p;
this.FS=n;var E=[[13,1,0],[13,0],[12,37],[12,62]],T=this.am$,i=this.anX,H=!1,O;for(var R=0;R<4;R++){var Z={a5:R,IH:p[R]},w=gI.a2K(Z);
if(i[R]==w)continue;H=!0;var d=gI.a8w(null,Z,this.BW,this.FS,22,22,!1);T[R]="<img width=\"22\" height=\"22\" src=\""+d+"\" />";
i[R]=w}if(H)this.j6.qj(T,E);this.j6.j(q.a5);var w=gI.a2K(q);if(w!=this.afN)gI.a8w(this.Jm,q,this.BW,this.FS,30,23,!0);
this.afN=w;var W=q.a5;if(W==0){O=this.ajt}if(W==1){this.Uq.j(q.IH.Clr.v);O=this.Cz}if(W==2){this.kE.update(n,q.IH);
O=this.Mu}if(W==3){this.Ts.update(n,q.IH);O=this.yK}if(O!=this.xJ){if(this.xJ!=null){this.o4.g.removeChild(this.xJ)}this.o4.g.appendChild(O);
this.xJ=O}};gI.prototype.I=function(){var n={a5:this.j6.I()};if(n.a5==1){n.IH=JSON.parse(JSON.stringify(iq.FH[0]));
n.IH.Clr.v=this.Uq.I()}if(n.a5==2){n.IH=this.kE.I()}if(n.a5==3){n.IH=this.Ts.I()}return n};gI.a2K=function(n){var q=n.a5,p=n.IH,E="empty";
if(q==1){E=j.f.aV(p.Clr.v);E=E._+","+E.q+","+E.X}if(q==2)E=JSON.stringify(p.Grad.v);if(q==3)E=p.Ptrn.v.Idnt.v;
return E};gI.a8w=function(n,q,p,E,T,i,H){if(n==null)n=gI.Jm;var Z=Math.floor(T*P.D()),w=Math.floor(i*P.D()),d=n.canvas,O;
d.width=Z;d.height=w;P.X_(d,Z,w);var W=q.a5;if(W==0){n.fillStyle="#ffffff";n.fillRect(0,0,Z,w);n.strokeStyle="#ff0000";
n.lineWidth=2;n.moveTo(0,0);n.lineTo(Z,w);n.moveTo(0,w);n.lineTo(Z,0);n.stroke()}if(W==1){var C=q.IH.Clr.v;
C=j.f.aV(C);n.fillStyle="#"+j.E2(C._<<16|C.q<<8|C.X);n.fillRect(0,0,Z,w)}if(W==2){A.je.Xm(q.IH.Grad.v,Z,w,0,p.ny,p.iu,d)}if(W==3){var a=q.IH.Ptrn.v,B;
if(E!=null)B=cU.Zb(a,E.add.Patt);if(B==null)B=cU.Zb(a,p.bS);fA.Xm(B,Z,w,d)}if(H){n.beginPath();n.strokeStyle="#000000";
n.fillStyle="#ffffff";n.lineWidth=2;var $=Z*.7,I=Math.floor(w*.7),x=7*P.D();n.moveTo($,I);n.lineTo($+x,I);
n.lineTo($+x/2,I+x/2);n.closePath();n.stroke();n.fill()}if(n==gI.Jm)return d.toDataURL()};gI.Jm=P.z("canvas").getContext("2d");
function fA(n){j8.call(this,n,!1,"patternbutton",18,10,cF.KV);this.KP=null}fA.prototype=new j8;fA.prototype.Yp=function(n){var q=this.qa[this.Wc.I()];
this.Ba={classID:"Ptrn",Nm:{t:"TEXT",v:q.name},Idnt:{t:"TEXT",v:q.id}};this.K(new ea(P.E.b));this.fe()};
fA.zk=!1;fA.prototype.t0=function(){if(!this.Or)return;var n=this.qa;if(n==null||!fA.zk){var q=new ea(P.E.T,!0);
q.data={e:P.C.Av,sQ:{url:"rsrc/basic/basic.pat"}};this.K(q);fA.zk=!0;return}var p=Math.floor(34*P.D()),E=Math.floor(34*P.D()),T=[],i=[];
for(var R=0;R<n.length;R++){T.push(fA.Xm(n[R],p,E));i.push(n[R].name)}this.Wc.v3(T,i,p,E);this.Or=!1};
fA.prototype.j=function(n,q){if(this.Ba&&n.Idnt.v==this.Ba.Idnt.v)return;this.Ba=JSON.parse(JSON.stringify(n));
this.fe(q)};fA.prototype.I=function(){return JSON.parse(JSON.stringify(this.Ba))};fA.prototype.zT=function(){return this.KP?[this.KP]:[]};
fA.prototype.fe=function(n){var q=Math.floor(50*P.D()),p=Math.floor(50*P.D()),E;if(n!=null)E=cU.Zb(this.Ba,n.add.Patt);
if(E==null)E=cU.Zb(this.Ba,this.qa);this.KP=E;var T=fA.Xm(E,q,p);this.xp.setAttribute("src",T);P.X_(this.xp,q,p)};
fA.S=P.z("canvas","");fA.Xm=function(n,q,p,E){if(E==null)E=fA.S;var T=E.getContext("2d");E.width=q;E.height=p;
if(n){var i=n.Ac[1],H=i.v,Z=i.o,w=n.Ac[0],d=Math.min(q/H,p/Z),O=d;if(O*H<2)O=2/H;var W=d;if(W*Z<2)W=2/Z;
var C=A.Z.i8([w,i],new b$(O,0,0,W,0,0),!1),a=C.rect.v,B=C.rect.o,$=T.createImageData(a,B);j.Sa(C.buffer,$.data);
T.putImageData($,Math.floor((q-a)/2),Math.floor((p-B)/2))}return E.toDataURL()};function eY(n){j8.call(this,n,!1,"patternbutton",24.2,17,cF.Iy);
this.in=""}eY.prototype=new j8;eY.prototype.Yp=function(n){this.Ba=JSON.parse(JSON.stringify(this.qa[0][this.Wc.I()]));
this.K(new ea(P.E.b))};eY.prototype.t0=function(){var n=this.qa;if(n==null||!this.Or)return;var q=Math.floor(50*P.D()),p=Math.floor(50*P.D()),E=[],T=[];
for(var R=0;R<n[0].length;R++){E.push(eY.Xm(this.qa[0][R].Tp,q,p,this.qa[1]));T.push(n[0][R].Ax.Nm.v.split("=").pop())}this.Wc.v3(E,T,q,p);
this.Or=!1};eY.prototype.j=function(n,q,p,E){var T=JSON.stringify(n.Tp)+","+p+","+E;if(this.in!=T){this.in=T;
this.Ba=JSON.parse(JSON.stringify(n));this.fe(q,p,E)}this.Wc.Zn(-1)};eY.prototype.I=function(){return JSON.parse(JSON.stringify(this.Ba))};
eY.prototype.fe=function(n,q,p){var E=Math.floor(68*P.D()),T=Math.floor(68*P.D()),i=eY.Xm(this.Ba.Tp,E,T,n?n:this.qa[1],q,p);
this.xp.setAttribute("src",i);P.X_(this.xp,E,T)};eY.Xm=function(n,q,p,E,T,i){var H=new gd;H.v=q;H.o=p;
H.buffer=j.U(q*p*4);H.add.Patt=E;H.aK(T==null?90:T);H.Ti(i==null?30:i);var Z=new eL(0,0,Math.round(q*.5),Math.round(p*.5));
Z.x=Math.round((q-Z.v)/2);Z.y=Math.round((p-Z.o)/2);var w=H.Je();w.rect=Z;w.buffer=j.U(Z.P()*4);j.nz(w.buffer,4284045657);
cU.pD(n,w,.5*100);H.h.push(w);H.ko();H.M();var d=K.pb;K.pb=!1;H.FN();var O=H.Zk();K.pb=d;var W=al.O0(O.buffer,H.v,H.o);
return W};function iV(n){j8.call(this,null,!1,"tpresetbutton",18,24,cF.lM,!0);P.kO(this.g,"fitem");this.Wc.k3(1);
this.id=n;this.fe();this.hA=new dq([15,7,9]);this.hA.j(!0);this.hA.R(P.E.b,this.a4X,this);this.gH.appendChild(this.hA.g)}iV.prototype=new j8;
iV.prototype.a5S=function(n){if(this.id==n)return;this.id=n;this.KC(this.qa)};iV.prototype.Yp=function(n){var q=this.qa[this.Wc.I()],p=new ea(P.E.T,!0);
p.data={e:P.C.Th,wH:"set",sQ:cF.lM,EQ:q};this.K(p)};iV.prototype.N=function(){j8.prototype.N.call(this);
this.hA.N()};iV.prototype.a4X=function(){this.Or=!0;this.t0()};iV.prototype.t0=function(){if(!this.Or)return;
var n=Math.floor(16*P.D()),q=Math.floor(16*P.D()),p=[],E=[],T=this.qa,i=this.hA.I();for(var R=0;R<T.length;
R++){var H=A.Fb(T[R]);if(!i||H==this.id){E.push(T[R][0]?T[R][0].split("=").pop():"");p.push(H==-1?"":PIMG[A.$h[H][0]])}else{p.push(null);
E.push(null)}}this.Wc.v3(p,E,n,q);this.Or=!1};iV.prototype.fe=function(){var n=this.xp;n.setAttribute("src",PIMG[A.$h[this.id][0]]);
P.oI(n,"toolicon")};iV.prototype.zT=function(){return null};iV.KG={};iV.Xm=function(n,q,p){var E=iV.Jm,T=iV.KG,i=j.E2(n._<<16|n.q<<8|n.X);
if(T[i])return T[i];if(E==null){var H=P.z("canvas");E=iV.Jm=H.getContext("2d")}var H=E.canvas;H.width=q;
H.height=p;E.fillStyle="#"+i;E.fillRect(0,0,q,p);var Z=T[i]=H.toDataURL();return Z};function hF(n,q){g9.call(this);
this.g=P.z("span","fitem curveeditor");this.HK=null;this.a9O=0;this.MQ="";this.mode=0;this.MG=n;this.aky=q;
this.$K=null;this.qK=null;this.aqR=0;this.ajn=0;this.dG=new fc;this.Zz=this.Ew.bind(this);this.S1=this.BM.bind(this);
this.S=P.z("canvas");this.Jm=this.S.getContext("2d");P.l7(this.S);P.jy(this.S,256,256,this.Jm);this.g.appendChild(this.S);
P.v$(this.S,this.HY.bind(this))}hF.prototype=new g9;hF.prototype.j=function(n,R){var q=JSON.stringify(n);
if(q==JSON.stringify(this.$K))return;this.mode=n.length==256?1:0;this.$K=JSON.parse(q);if(R!=null)this.qK=this.$K[R];
this.E6()};hF.prototype.Kr=function(n,q,p){this.HK=n;this.a9O=q;this.MQ=p;this.E6()};hF.prototype.I=function(){return JSON.parse(JSON.stringify(this.$K))};
hF.prototype.afx=function(){return this.$K.indexOf(this.qK)};hF.prototype.HY=function(n){var q=P.gD(n,this.S),p=q.x,E=256-q.y;
if(this.MG){var T=p;p=256-E;E=T}this.dG.Gw(p,E);if(this.mode==0){var i=0,H=1e9,W;for(var R=0;R<this.$K.length;
R++){var Z=this.$K[R].v,w=Z.Hrzn.v-p,d=Z.Vrtc.v-E,O=Math.sqrt(w*w+d*d);if(O<H){H=O;i=R}}if(H<15)W=this.$K[i];
else{W=j.A6.tB(p,E,!0);this.$K.push(W);this.$K.sort(function(C,a){return C.v.Hrzn.v-a.v.Hrzn.v})}this.qK=W;
this.ajn=this.$K.slice(0)}P.KN(document.body,this.Zz);P.iI(document.body,this.S1);this.Ew(n)};hF.prototype.Ew=function(n){var q=P.gD(n,this.S),p=q.x,E=256-q.y;
if(this.MG){var T=p;p=256-E;E=T}if(this.mode==0){var i=this.$K,H=this.qK,Z=this.ajn,w=Z.indexOf(H),d=i.indexOf(H)!=-1,O=Z.length-1,W=p;
if(w==0){W=Math.max(0,Math.min(Z[1].v.Hrzn.v-1,p))}else if(w==O){W=Math.min(255,Math.max(Z[O-1].v.Hrzn.v+1,p))}else{var C=p<0||p>255||E<0||E>255;
if(p<=Z[w-1].v.Hrzn.v||p>=Z[w+1].v.Hrzn.v)C=!0;if(!C&&!d)i.splice(w,0,H);if(C&&d)i.splice(w,1)}if(!this.aky)H.v.Hrzn.v=Math.round(W);
H.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(E)))}else{p=Math.round(p);E=Math.round(E);p=Math.max(0,Math.min(255,p));
E=Math.max(0,Math.min(255,E));var a=this.dG.x,B=p,$=this.dG.y,I=E;if(p<this.dG.x){B=a;a=p;I=$;$=E}this.$K[p]=E;
if(a!=B)for(var x=a;x<=B;x++)this.$K[x]=Math.round($+(x-a)*(I-$)/(B-a))}this.dG.Gw(p,E);this.E6();this.K(new ea(P.E.b))};
hF.prototype.BM=function(n){P.dt(document.body,this.Zz);P.sZ(document.body,this.S1);this.K(new ea(P.E.b))};
hF.prototype.E6=function(){var n=this.Jm;n.fillStyle="#ffffff";n.fillRect(0,0,256,256);if(this.HK){n.translate(0,256);
n.scale(1,-1);ct.aao(n,this.HK,5700/this.a9O,this.MQ);n.scale(1,-1);n.translate(0,-256)}n.strokeStyle="#aaaaaa";
n.lineWidth=1;n.beginPath();for(var R=1;R<4;R++){n.moveTo(0,64*R-.5);n.lineTo(255,64*R-.5);n.moveTo(64*R-.5,0);
n.lineTo(64*R-.5,255)}n.stroke();if(this.MG){n.save();n.transform(0,1,-1,0,256,0)}if(this.mode==0){var q=this.$K,p=j.A6.SK(q,256);
n.strokeStyle="#000000";n.beginPath();n.moveTo(0,255.5-p[0]);for(var R=0;R<256;R++)n.lineTo(R,255.5-p[R]);
n.stroke();n.lineWidth=2;for(var R=0;R<q.length;R++){var E=q[R].v;n.fillStyle=this.qK==q[R]?"#333":"#fff";
n.beginPath();n.moveTo(E.Hrzn.v,255.5-E.Vrtc.v);n.arc(E.Hrzn.v,255.5-E.Vrtc.v,3,0,2*Math.PI);n.stroke();
n.fill()}}else{var p=this.$K;n.strokeStyle="#000000";n.beginPath();n.moveTo(0,255.5-p[0]);for(var R=0;
R<256;R++)n.lineTo(R,255.5-p[R]);n.stroke()}if(this.MG)n.restore()};function ct(n,q){g9.call(this);this.g=P.z("span","");
this.Cy=new gJ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.Cy.R(P.E.b,this.EA,this);this.g.appendChild(this.Cy.g);
P.OK(this.g);this.S=P.z("canvas");var p=this.S;this.g.appendChild(p);p.width=Math.round(n*P.D());p.height=Math.round(100*P.D());
P.X_(p,p.width,p.height);this.Jm=p.getContext("2d");this.HK=null;this.ej=0;this.a88=null;this.ari=[];
this.RH=[];var E=["Mean:","Pixels:"],T=this.g;for(var R=0;R<E.length;R++){var i=new jh(E[R]);this.ari.push(i);
if(q)T.appendChild(i.g);var H=new jh("hi");this.RH.push(H);if(q)T.appendChild(H.g);P.OK(T)}}ct.prototype=new g9;
ct.prototype.N=function(){this.Cy.N()};ct.prototype.k3=function(n){this.Cy.j(n);this.EA()};ct.prototype.j=function(n,q){this.HK=n;
this.a88=q;this.EA()};ct.prototype.GQ=function(n){if(n==this.ej)return;this.ej=n;this.EA()};ct.prototype.EA=function(){if(this.HK==null)return;
var n=this.S,q=this.Jm,p=this.HK,E=this.a88,T=this.Cy.I(),i=6e3/p[4],H="#"+j.E2(this.ej),Z=ct.aao;n.width=n.width;
q.setTransform(n.width/256,0,0,-n.height/100,0,n.height);q.globalCompositeOperation="lighter";if(T==0)Z(q,p[0],i/3,H);
else if(T<4)Z(q,p[T],i,H);else{Z(q,p[1],i,"#ff0000");Z(q,p[2],i,"#00ff00");Z(q,p[3],i,"#0000ff")}q.setTransform(1,0,0,1,0,0);
if(E!=null){var w=0;for(var R=0;R<256;R++)w+=R*p[T][R];if(T==0)w/=3;this.RH[0].j((w/E).toFixed(1)+"");
this.RH[1].j(E+"")}};ct.aao=function(n,q,p,E){n.beginPath();n.moveTo(0,0);for(var T=0;T<256;T++)n.lineTo(T,q[T]*p);
n.lineTo(256,0);n.closePath();n.fillStyle=E;n.fill()};function hP(n){g9.call(this);this.dW={_:0,q:0,X:0};
if(Math.abs(n-256/P.D())<10)n=256/P.D();var q=this.g=P.z("div","flexrow");this.MP=new fc;this.Ff=new fc;
this.f3=this.a2C.bind(this);this.np=this.agv.bind(this);this.S=P.z("canvas","");this.Jm=this.S.getContext("2d");
this.S.width=this.S.height=256;this.am2=this.Jm.getImageData(0,0,256,256);this.aqm=-1;P.l7(this.S);P.v$(this.S,this.a1u.bind(this));
q.appendChild(this.S);this.a1j=this.aeP.bind(this);this.ac0=this.a2v.bind(this);this.NY=P.z("canvas","");
this.i7=this.NY.getContext("2d");this.NY.width=20;this.NY.height=256;this.ahZ=this.i7.getImageData(0,0,20,256);
hP.a9F(this.ahZ.data,20,256);P.l7(this.NY);P.v$(this.NY,this.a5g.bind(this));q.appendChild(this.NY);
this.S.setAttribute("style","width:"+n+"px; height:"+n+"px");this.NY.setAttribute("style","width:16px; height:"+n+"px")}hP.prototype=new g9;
hP.prototype.rb=function(n,q){this.S.style.width=n-16+"px"};hP.prototype.j=function(n){this.dW=n;this.update()};
hP.prototype.I=function(){return JSON.parse(JSON.stringify(this.dW))};hP.prototype.update=function(){var n=this.dW,q=j.PW(n._,n.q,n.X);
if(q.Gm==0)q.dd=this.MP.x/255;if(q.dd==0||q.Gm==0)q.rZ=(255-this.VT(this.Ff.y))/255;if(q.Gm!=0)this.MP.x=q.dd*255;
this.MP.y=(1-q.Gm)*255;this.Ff.y=(1-q.rZ)*255;var p=this.am2;if(Math.abs(q.rZ-this.aqm)>.002){this.ab1(p.data,256,256,q.rZ);
this.aqm=q.rZ}var E=this.Jm;E.putImageData(p,0,0);E.strokeStyle="#000000";E.beginPath();E.arc(this.MP.x+1,this.MP.y+1,5,0,2*Math.PI);
E.stroke();E.strokeStyle="#ffffff";E.beginPath();E.arc(this.MP.x,this.MP.y,5,0,2*Math.PI);E.stroke();
p=this.ahZ;E=this.i7;E.putImageData(p,0,0);E.strokeStyle="#ffffff";E.beginPath();E.moveTo(0,this.Ff.y);
E.lineTo(20,this.Ff.y);E.lineWidth=2;E.stroke()};hP.prototype.ab1=function(n,q,p,E){var T=1/q,i=1/p;
for(var H=0;H<p;H++)for(var Z=0;Z<q;Z++){var w=j.RF(E,Z*T,(p-H-1)*i),R=H*q+Z<<2;n[R+0]=~~(w._*255);n[R+1]=~~(w.q*255);
n[R+2]=~~(w.X*255);n[R+3]=255}};hP.a9F=function(n,q,p,E,T){if(E==null)E=1;if(T==null)T=0;var i=new Uint32Array(n.buffer);
for(var H=0;H<p;H++){var Z=j.RF((1+E*(1-H/p)+T)%1,1,1),w=255<<24|Z.X*255<<16|Z.q*255<<8|Z._*255;for(var d=0;
d<q;d++)i[H*q+d]=w}};hP.prototype.a1u=function(n){P.KN(window,this.f3);P.iI(window,this.np);this.a2C(n)};
hP.prototype.agv=function(n){P.dt(window,this.f3);P.sZ(window,this.np)};hP.prototype.a2C=function(n){var q=P.gD(n,this.S);
q.x=q.x*(256/parseFloat(this.S.style.width));q.y=q.y*(256/parseFloat(this.S.style.height));this.MP.Gw(this.VT(q.x),this.VT(q.y));
this.RQ()};hP.prototype.RQ=function(){this.dW=this.a1Q();this.K(new ea(P.E.b))};hP.prototype.a1Q=function(){var n=j.RF((255-this.VT(this.Ff.y))/255,this.GD(this.MP.x/255),this.GD(1-this.MP.y/255));
return{_:n._,q:n.q,X:n.X}};hP.prototype.a5g=function(n){P.KN(window,this.a1j);P.iI(window,this.ac0);
this.aeP(n)};hP.prototype.a2v=function(n){P.dt(window,this.a1j);P.sZ(window,this.ac0)};hP.prototype.aeP=function(n){var q=P.gD(n,this.NY);
q.y=q.y*(256/parseFloat(this.NY.style.height));this.Ff.Gw(this.VT(q.x),this.VT(q.y));this.RQ()};hP.prototype.VT=function(n){return Math.max(0,Math.min(255,n))};
hP.prototype.GD=function(n){return Math.max(0,Math.min(1,n))};function c2(n,q,p){g9.call(this);if(!q)return;
this.c5=0;this.g=P.z("span","fitem bbmenu");if(n){this.xe=n;this.eO=P.z("label","flabel");this.eO.textContent=n+":";
this.g.appendChild(this.eO)}this.w1=[];this.Iq=null;this.qj(q,p);this.j(0)}c2.prototype=new g9;c2.prototype.l$=function(n){this.xe=n;
this.N()};c2.prototype.N=function(){if(this.xe!=null){this.eO.textContent=fE.get(this.xe)+": "}for(var R=0;
R<this.w1.length;R++)this.w1[R].N()};c2.prototype.I=function(){return this.c5};c2.prototype.qj=function(n,q){while(this.w1.length>0)this.g.removeChild(this.w1.pop().g);
this.Iq=n;for(var R=0;R<n.length;R++){var p=new bG(n[R],!1,q?q[R]:null);p.R("click",this.Dx,this);this.g.appendChild(p.g);
this.w1.push(p)}this.N()};c2.prototype.j=function(n){this.c5=n;for(var R=0;R<this.w1.length;R++)this.w1[R].zw();
this.w1[n].P9()};c2.prototype.Dx=function(n){var R=this.w1.indexOf(n.target);this.j(R);this.K(new ea(P.E.b,!1))};
c2.dL=function(n,q){if(q==null)q=16;var p=c2.n1,E=p.getContext("2d"),T=q>>>1;p.width=p.height=q;var i=[];
for(var R=0;R<n.length;R++){if(n[R]=="checker"){E.fillStyle="white";E.fillRect(0,0,q,q);E.fillStyle="#bbbbbb";
E.fillRect(T,0,T,T);E.fillRect(0,T,T,T)}else if(n[R].startsWith("#")){E.fillStyle=n[R];E.fillRect(0,0,q,q)}if(n[R][0]=="-")i.push(n[R].slice(1));
else if(n[R]=="checker"||n[R].startsWith("#"))i.push("<img src=\""+p.toDataURL()+"\" />");else i.push("<img src=\""+n[R]+"\" class=\"autoscale gsicon\" />")}return i};
c2.n1=P.z("canvas");function ag(n,q,p,E){var T=c2.dL(q,E);c2.call(this,n,T,p)}ag.prototype=new c2;function gJ(n,q,p,E){g9.call(this);
if(!q)return;if(p==null)p=!1;this.c5=0;this.a95=p;this.xe=n;this.fG=null;this.al4=E;this.iJ=[];var T="dd"+P.UC();
this.g=P.z("span","fitem ddmenu");if(n&&!p){this.eO=P.z("label","flabel");this.g.appendChild(this.eO);
this.eO.setAttribute("for",T)}this.y3=P.z("select","bbtn");this.y3.setAttribute("id",T);this.g.appendChild(this.y3);
this.y3.addEventListener("change",this.Dx.bind(this),!1);this.w1=[];this.Iq=null;this.qj(q,E);this.N()}gJ.prototype=new g9;
gJ.prototype.l$=function(n){this.xe=n;this.N()};gJ.prototype.N=function(){if(this.xe!=null){var n=fE.get(this.xe);
if(this.a95)this.y3.setAttribute("title",n);else this.eO.textContent=n+":"}if(this.Iq)this.qj(this.Iq,this.al4);
this.j(this.c5)};gJ.prototype.I=function(){return this.c5};gJ.prototype.qj=function(n,q){P.Ls(this.y3);
var p=[],E=0;if(q){p.push(q[0]);for(var R=1;R<q.length;R++)p.push(p[R-1]+q[R])}this.Iq=n;this.fG=[];
this.al4=q;for(var R=0;R<n.length;R++){var T=P.z("option");if(this.iJ.indexOf(R)!=-1)T.setAttribute("disabled","");
T.textContent=fE.get(n[R]);T.setAttribute("value",R);this.y3.appendChild(T);this.w1.push(T);this.fG.push(R+E);
if(p.indexOf(R+1)!=-1&&R!=n.length-1){var i=P.z("option");i.setAttribute("disabled","");i.textContent="";
this.y3.appendChild(i);E++}}};gJ.prototype.a6j=function(R){var n=this.iJ,q=n.indexOf(R);if(q==-1)n.push(R);
this.N()};gJ.prototype.aoG=function(R){var n=this.iJ,q=n.indexOf(R);if(q!=-1)n.splice(q,1);this.N()};
gJ.prototype.j=function(n){this.c5=n;this.y3.selectedIndex=this.fG[n]};gJ.prototype.Dx=function(n){this.c5=this.fG.indexOf(this.y3.selectedIndex);
this.K(new ea(P.E.b,!1))};function iY(){g9.call(this);this.eP=null;this.v1=new hi;this.v1.R(P.E.b,this.afV,this);
this.v1.parent=this;this.fm=new iA([12,14,0],1,150,"px",0,!0);this.fm.R(P.E.b,this.$Z,this);this.fm.parent=this;
this.dx=new iA([16,0],.01,100,"px",2,!0,null,5);this.dx.R(P.E.b,this.$Z,this);this.dx.parent=this;this.ox=new dq("Auto");
this.ox.R(P.E.b,this.$Z,this);this.tm=new iA([16,1],-500,5e3,"%",0,!0);this.tm.R(P.E.b,this.$Z,this);
this.tm.parent=this;this.g9=new iA("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.g9.R(P.E.b,this.$Z,this);
this.g9.parent=this;this.R3=new iA("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.R3.R(P.E.b,this.$Z,this);
this.R3.parent=this;this.cS=new iA([16,2],-10,10,"px");this.cS.R(P.E.b,this.$Z,this);this.cS.parent=this;
this.sE=new ja(!0);this.sE.R(P.E.b,this.a1V,this);this.sE.parent=this;this.x9=new bG("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.YK=new bG("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.r6=new bG("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Li=new bG("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Ri=new bG("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.z9=new bG("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.WL=new bG("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Js=new bG("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var n=[this.x9,this.YK,this.r6,this.Li,this.Ri,this.z9,this.WL,this.Js];
for(var R=0;R<n.length;R++)n[R].R("click",this.ah0,this);this.VQ=new bG("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.C2=new bG("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.an=new bG("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a6o=new bG("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a3I=new bG("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.anq=new bG("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a5e=new bG("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Dl=[this.VQ,this.C2,this.an,this.a6o,this.a3I,this.anq,this.a5e];for(var R=0;R<this.Dl.length;R++)this.Dl[R].R("click",this.$Z,this);
var q=["lind","rind","flind","bind","aind"],p=[];for(var R=0;R<5;R++)p.push("<img src=\""+PIMG["par/"+q[R]]+"\" class=\"autoscale gsicon\" /> ");
this.pN=new iA(p[0],-20,20,"px");this.pN.R(P.E.b,this.$Z,this);this.pN.parent=this;this.v2=new iA(p[1],-20,20,"px");
this.v2.R(P.E.b,this.$Z,this);this.v2.parent=this;this.qp=new iA(p[2],-20,20,"px");this.qp.R(P.E.b,this.$Z,this);
this.qp.parent=this;this.Hp=new iA(p[3],-20,20,"px");this.Hp.R(P.E.b,this.$Z,this);this.Hp.parent=this;
this.Jp=new iA(p[4],-20,20,"px");this.Jp.R(P.E.b,this.$Z,this);this.Jp.parent=this;this.Nc=new c2([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.Nc.R(P.E.b,this.$Z,this);this.Nc.parent=this}iY.prototype=new g9;iY.prototype.N=function(){this.v1.N();
this.fm.N();this.dx.N();this.tm.N();this.cS.N();this.g9.N();this.R3.N();this.Nc.N()};iY.prototype.j=function(n,q,p){this.Bb=JSON.parse(JSON.stringify(n));
var E=this.Bb,T=E.h9,i=E.yA;this.x9.j(T.FauxBold!=null?T.FauxBold:!1);this.YK.j(T.FauxItalic!=null?T.FauxItalic:!1);
this.r6.j(T.FontCaps==2);this.Li.j(T.FontCaps==1);this.z9.j(T.FontBaseline==1);this.Ri.j(T.FontBaseline==2);
this.WL.j(T.Underline);this.Js.j(T.Strikethrough);this.v1.j(T.Font==null?null:E.GF[T.Font].Name,q,p);
var H=T.FontSize==null?20:T.FontSize;this.fm.j(H);var Z=T.Tracking;this.tm.j(Z==null?0:Z);this.dx.j(T.Leading!=null&&T.Leading!=0?T.Leading:H);
this.ox.j(T.AutoLeading);this.g9.j((T.VerticalScale!=null?T.VerticalScale:0)*100);this.R3.j((T.HorizontalScale!=null?T.HorizontalScale:0)*100);
this.cS.j(T.BaselineShift!=null?T.BaselineShift:0);if(T.FillColor){var w=hx.aV(T);this.sE.GQ(Math.round(w._)<<16|Math.round(w.q)<<8|Math.round(w.X))}else this.sE.GQ(0);
var d=i._Direction!=null?i._Direction:0,O=hx.oG(i);for(var R=0;R<this.Dl.length;R++)this.Dl[R].j(O==R);
this.Nc.j(d);this.pN.j(i.StartIndent!=null?i.StartIndent:0);this.v2.j(i.EndIndent!=null?i.EndIndent:0);
this.qp.j(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.Hp.j(i.SpaceBefore!=null?i.SpaceBefore:0);
this.Jp.j(i.SpaceAfter!=null?i.SpaceAfter:0)};iY.prototype.Ld=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.Th,sQ:cF.Bc,Bb:this.Bb};
this.K(n);var n=new ea(P.E.u,!0);n.i=A.cY;n.data={e:"updateStyles"};this.K(n)};iY.prototype.ah0=function(n){var q=this.Bb.h9,p=n.target,E=!p.Jc();
if(p==this.x9)q.FauxBold=E;if(p==this.YK)q.FauxItalic=E;if(p==this.r6)q.FontCaps=E?2:0;if(p==this.Li)q.FontCaps=E?1:0;
if(p==this.z9)q.FontBaseline=E?1:0;if(p==this.Ri)q.FontBaseline=E?2:0;if(p==this.WL)q.Underline=E;if(p==this.Js)q.Strikethrough=E;
this.Ld()};iY.prototype.$Z=function(n){var q=this.Bb.h9,p=this.Bb.yA,E=n.target;if(E==this.tm){var T=this.tm.I();
q.Tracking=T}if(E==this.dx){q.AutoLeading=!1;q.Leading=this.dx.I()}if(E==this.ox){q.AutoLeading=this.ox.I()}if(E==this.fm)q.FontSize=E.I();
if(E==this.g9)q.VerticalScale=E.I()/100;if(E==this.R3)q.HorizontalScale=E.I()/100;if(E==this.cS)q.BaselineShift=E.I();
if(this.Dl.indexOf(E)!=-1){p.Justification=hx.oG(p,this.Dl.indexOf(E))}if(E==this.pN)p.StartIndent=E.I();
if(E==this.v2)p.EndIndent=E.I();if(E==this.qp)p.FirstLineIndent=E.I();if(E==this.Hp)p.SpaceBefore=E.I();
if(E==this.Jp)p.SpaceAfter=E.I();if(E==this.Nc)p._Direction=E.I();this.Ld()};iY.prototype.afV=function(n){var q=this.Bb,p=this.v1.I(),E=-1;
for(var R=0;R<q.GF.length;R++)if(q.GF[R].Name==p)E=R;if(E==-1){E=q.GF.length;var T=JSON.parse(JSON.stringify(q.GF[0]));
T.Name=p;q.GF.splice(E,0,T)}q.h9.Font=E;this.Ld()};iY.prototype.a1V=function(n){var q=this.sE.a9k(),p={Type:1,Values:[1,(q>>16&255)/255,(q>>8&255)/255,(q>>0&255)/255]};
for(var R=0;R<4;R++)p.Values[R]=Math.round(p.Values[R]*1e3)/1e3;this.Bb.h9.FillColor=p;this.Ld()};function hi(){g9.call(this);
this.g=P.z("span","fontinput");this.rY=null;this.Cd=null;this.$$=null;this.fg="";this.I3={};this.kN=[];
this.a6e={};this.uj=!1;this.Zf=P.z("button","fitem");this.Zf.setAttribute("style","width:9em;");this.Zf.textContent="Family Name \u25BC";
this.g.appendChild(this.Zf);P.v$(this.Zf,this.aaV.bind(this));this.nx=new g9;this.nx.parent=this;this.nx.g=P.z("div","floatcont");
this.nx.g.addEventListener("keyup",this.aoy.bind(this),!1);this.aJ=new es(6.8);this.nx.g.appendChild(this.aJ.a0h());
this.aJ.parent=this.nx;this.aJ.R(P.E.b,this.Dz,this);var n=P.z("div","form");this.nx.g.appendChild(n);
this.wk=new bG(P.ic("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.wk.R("click",this.a3B,this);
n.appendChild(this.wk.g);this.rR=new gT([12,86],null,8.4);this.rR.R("input",this.uc,this);n.appendChild(this.rR.g);
var q=this.akU=new bG([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);q.R("click",this.a8E,this);
q.g.style.marginLeft="1.5em";q.g.style.marginRight="0";n.appendChild(q.g);this.im=P.z("span","fitem imageset scrollable");
this.im.style.height="30em";this.nx.g.appendChild(this.im);this.XA=P.z("button","fitem");this.XA.setAttribute("style","width:7em;");
this.XA.textContent="SubFamily Name \u25BC";this.g.appendChild(this.XA);P.v$(this.XA,this.aaV.bind(this));
this.sv=new g9;this.sv.parent=this;this.sv.g=P.z("div","floatcont");this.Vf=P.z("span","fitem imageset scrollable marged");
this.sv.g.appendChild(this.Vf)}hi.prototype=new g9;hi.prototype.aoy=function(n){var q=0;if(aj.ju(n.code,aj.Co))q=-1;
if(aj.ju(n.code,aj.q2))q=1;if(q!=0){var p=this.kN,E=p.length,T=this.rY.EZ()[this.$$];if(T==null&&E==0)return;
var i=p.indexOf(T[0]);if(i==-1)return;i=(i+q+E)%E;this.Hn(p[i],null)}};hi.prototype.a8E=function(){var n=new ea(P.E.T,!0);
n.data={e:P.C.By,adg:".otf,.ttf,.ttc"};this.K(n)};hi.prototype.N=function(){this.aJ.N();this.akU.N();
this.wk.l$(P.ic("tools/cshape",null,"autoscale"))};hi.prototype.a3B=function(n){this.wk.j(!this.wk.Jc());
this.Dz()};hi.prototype.uc=function(n){this.fg=this.rR.I().toLowerCase();this.Dz()};hi.prototype.aaV=function(n){P.dv(n);
var q=n.currentTarget,p=q.getBoundingClientRect(),E=q==this.Zf,T=E?this.nx:this.sv;if(P.pM(T.g)){this.a2k(T);
return}if(!E&&this.rY.EZ()[this.$$]==null)return;var i=new ea(P.E.T,!0);i.data={e:P.C.KU,yx:T,x:p.left,y:p.top+p.height};
this.K(i);if(E){this.Dz()}};hi.prototype.aaf=function(n){var q=n.currentTarget.firstChild.nextSibling.textContent;
if(n.target.tagName.toLowerCase()=="button"){var p=this.Cd.slice(0),E=p.indexOf(q);if(E==-1){p=p.slice(Math.max(0,p.length-29));
p.push(q)}else p.splice(E,1);var T=new ea(P.E.T,!0);T.data={e:P.C.Th,sQ:cF._j,Il:p};this.K(T);this.uj=!0;
this.Dz()}else{this.Hn(q,null)}};hi.prototype.a4a=function(n){this.Hn(null,n.currentTarget.firstChild.textContent)};
hi.prototype.Hn=function(n,q){var p=n==null?this.sv:this.nx,E=this.rY;if(n==null)n=E.EZ()[this.$$][0];
else{var T=E.xg(n),i=E.EZ()[this.$$];q=gH.AV(T,i?i[1]:"regular")}var H=E.pj(n,q)[2];this.j(H,E);this.K(new ea(P.E.b,!1));
this.a2k(p);this.Dz()};hi.prototype.a2k=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.dz,yx:n};this.K(q)};
hi.prototype.I=function(){return this.$$};hi.prototype.j=function(n,q,p){var E=this.rY;if(n!=null)this.$$=n;
else n=this.$$;this.rY=q;this.Cd=p;if(n!=null){var T=q.EZ()[n],i,H;if(T==null){i="- "+n;H="-------"}else{i=T[0];
H=T[1];var Z=q.xg(i);Z.sort(gH.afQ);var w=Z.indexOf(H),d=this.a4a.bind(this);this.Vf.textContent="";
for(var R=0;R<Z.length;R++){var T=q.pj(i,Z[R]);if(!this.aJ.y0(T))continue;var O=this.acT(T,T[1],d,!1);
this.Vf.appendChild(O)}}this.Zf.textContent=i.substring(0,15)+" \u25BC";this.Zf.setAttribute("title",i+", \""+n+"\"");
this.XA.textContent=H.substring(0,10)+" \u25BC";this.XA.setAttribute("title",H)}};hi.prototype.Dz=function(){var n=this.rY.EZ()[this.$$],q=this.Cd,p=null,E=this.rY.a9l(),T=this.aaf.bind(this);
this.kN=[];for(var i in E){var H=gH.AV(E[i],"regular"),Z=this.rY.pj(i,H),w=q.indexOf(i)!=-1,d=!0;if(this.fg.length>0&&Z[0].toLowerCase().indexOf(this.fg)==-1)d=!1;
else if(!this.aJ.y0(Z))d=!1;else if(this.wk.Jc()&&!w)d=!1;var O=this.I3[i];if(O==null){var O=this.acT(Z,i,T,!0);
this.I3[i]=O;this.im.appendChild(O)}if(d)this.kN.push(i);var W=d?"":"display:none; ",C="opacity: "+(w?"1":"0.2");
if(n&&n[0]==i){W+="background-color:rgba(0,0,0,0.13);";p=O}if(this.a6e[i]!=W+C){O.setAttribute("style",W);
O.firstChild.setAttribute("style",C);this.a6e[i]=W+C}}if(p&&!this.uj)this.im.scrollTop=p.offsetTop-210;
this.uj=!1};hi.prototype.acT=function(n,q,p,E){var T=P.z("div","fontitem"),w="";T.addEventListener("click",p,!1);
if(E)T.appendChild(P.z("button","star"));var i=P.z("span","label");i.setAttribute("title",q);i.textContent=q;
T.appendChild(i);var H=P.D(),Z=1/H,d=gH.uF*Z,O=gH.dg*Z;if(1<H&&H<1.5)w="width:"+d+"px; height:"+O+"px;";
var W=P.z("span","thumb gsicon");if(n.a3_){w+="background: url("+n.a3_+");";if(1<H&&H<1.5)w+="background-size: "+d+"px "+O+"px;"}else{var C=Math.ceil(FNTS.list.length/gH.cols),a=Math.floor(n.ap/C),B=n.ap%C,$=a*gH.uF,I=B*gH.dg;
if(1<H&&H<1.5){w+="background-size: "+gH.cols*d+"px "+C*O+"px;";$*=Z;I*=Z}w+="background-position:-"+$+"px -"+I+"px;"}W.setAttribute("style",w);
T.appendChild(W);return T};function es(n){g9.call(this);this.g=P.z("button","fitem bbtn");this.g.addEventListener("click",this.afC.bind(this),!1);
this.o4=new g9;this.o4.g=P.z("div","floatcont");this.o4.parent=this;this.zr=P.z("div","flexrow");this.o4.g.appendChild(this.zr);
this.Kz=[];this.b_=[];var q=this.zr,p=P.z("div",""),E=P.z("div","");q.appendChild(p);q.appendChild(E);
this.DJ=[];for(var R=0;R<FNTS.cats.length;R++)this.DJ.push({name:FNTS.cats[R],index:R,Qd:0});this.xd=new dq([7,0]);
this.xd.R(P.E.b,this.amk,this);p.appendChild(this.xd.g);this.lO=P.z("div","vlist marged scrollable");
this.lO.setAttribute("style","width:10.3em; height:"+n+"em; ");p.appendChild(this.lO);this.Xv=[];for(var R=0;
R<this.DJ.length;R++){var T=this.DJ[R],i=new dq(T.name);this.Xv.push(i);i.R(P.E.b,this.al8,this);i.j(!0);
this.lO.appendChild(i.g);this.Kz.push(1)}this.apK=new dq([7,0]);this.apK.R(P.E.b,this.asa,this);this.VH=P.z("div","vlist marged scrollable");
this.VH.setAttribute("style","width:8.6em; height:"+(n+1.5)+"em; ");E.appendChild(this.VH);this.ie=[];
for(var R=0;R<FNTS.subsetNames.length;R++){var i=new dq(FNTS.subsetNames[R]);this.ie.push(i);i.R(P.E.b,this.a0Y,this);
i.j(!1);this.VH.appendChild(i.g);this.b_.push(0)}}es.prototype=new g9;es.prototype.a3P=function(n){var q=this.ie;
for(var R=0;R<q.length;R++){var p=(n>>>R&1)==1;this.b_[R]=p;q[R].j(p)}};es.prototype.a0h=function(){return this.zr};
es.prototype.N=function(){this.g.textContent=fE.get([25,1,0])+" \u25BC";this.xd.N();this.apK.N()};es.prototype.afC=function(n){var q=this.g.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.o4,x:q.left,y:q.top+q.height,ZV:!1};this.K(p)};es.prototype.y0=function(n){if(this.Kz[n[4]]==0)return!1;
else for(var q=0;q<this.b_.length;q++)if(this.b_[q]==1&&(n[3]>>>q&1)==0)return!1;return!0};es.prototype.amk=function(n){var q=n.target.I(),p=this.Xv,E=this.Kz;
for(var R=0;R<p.length;R++){p[R].j(q);E[R]=q?1:0}this.K(new ea(P.E.b,!1))};es.prototype.asa=function(n){var q=n.target.I(),p=this.ie,E=this.b_;
for(var R=0;R<p.length;R++){p[R].j(q);E[R]=q?1:0}this.K(new ea(P.E.b,!1))};es.prototype.al8=function(n){var R=this.Xv.indexOf(n.target),q=this.DJ[R].index;
this.Kz[q]=1-this.Kz[q];this.K(new ea(P.E.b,!1))};es.prototype.a0Y=function(n){var R=this.ie.indexOf(n.target);
this.b_[R]=1-this.b_[R];this.K(new ea(P.E.b,!1))};function c3(n,q,p){j8.call(this,q,!0,"gradientbutton",18,10,cF.x2);
this.ny=-1;this.iu=-1;this.a1m=null;this.arS=n;this.fl=p}c3.prototype=new j8;c3.prototype.Yp=function(n){var q=this.qa;
this.j(q[this.Wc.I()]);this.K(new ea(P.E.b))};c3.prototype.mP=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.Lr,ov:"gradienteditor",f:this.Ba,uV:this.ajL.bind(this),Rq:this.fl};
this.K(q)};c3.prototype.ajL=function(n){this.j(n);this.K(new ea(P.E.b))};c3.prototype.t0=function(){if(!this.Or)return;
var n=Math.floor(36*P.D()),q=Math.floor(36*P.D()),p=[],E=[],T=this.qa;for(var R=0;R<T.length;R++){var i=T[R];
E.push(i.Nm?i.Nm.v.split("=").pop():"");var H=A.je.Xm(i,n,q,Math.PI/4,this.ny,this.iu);p.push(H)}this.Wc.v3(p,E,n,q);
this.Or=!1};c3.prototype.jw=function(n,q){this.a1F(this.Ba,n,q)};c3.prototype.j=function(n){this.a1F(n,this.ny,this.iu)};
c3.prototype.a1F=function(n,q,p){this.ny=q;this.iu=p;if(n==null)return;var E=JSON.stringify(n),T=E+q+","+p;
if(T==this.a1m)return;this.a1m=T;this.Ba=JSON.parse(E);var i=Math.floor(80*P.D()),H=Math.floor(16*P.D()),Z=A.je.Xm(this.Ba,i,H,0,this.ny,this.iu);
this.xp.setAttribute("src",Z);P.X_(this.xp,i,H)};c3.prototype.I=function(){var n;if(this.arS)n=A.je.afp(this.Ba,this.ny,this.iu);
else n=JSON.parse(JSON.stringify(this.Ba));return n};function bV(n){j8.call(this,n,!1,"swatchbutton",16,8.75,cF.ZG)}bV.prototype=new j8;
bV.prototype.Yp=function(n){this.j(this.qa[n.target.I()]);this.K(new ea(P.E.b))};bV.prototype.t0=function(){if(!this.Or)return;
var n=Date.now(),q=Math.floor(10*P.D()),p=Math.floor(10*P.D()),E=[],T=[],i=this.qa;for(var R=0;R<i.length;
R++){T.push(i[R].u5?i[R].u5.split("=").pop():"");E.push(bV.Xm(i[R],q,p))}this.Wc.v3(E,T,q,p);this.Or=!1};
bV.prototype.j=function(n){this.Ba=JSON.parse(JSON.stringify(n));this.fe()};bV.prototype.fe=function(){var n=Math.floor(24*P.D()),q=Math.floor(20*P.D()),p=bV.Xm(this.Ba,n,q);
this.xp.setAttribute("src",p);P.X_(this.xp,n,q)};bV.prototype.I=function(){return JSON.parse(JSON.stringify(this.Ba))};
bV.KG={};bV.Xm=function(n,q,p){var E=bV.Jm,T=bV.KG,i=j.E2(n._<<16|n.q<<8|n.X);if(T[i])return T[i];if(E==null){var H=P.z("canvas");
E=bV.Jm=H.getContext("2d")}var H=E.canvas;H.width=q;H.height=p;E.fillStyle="#"+i;E.fillRect(0,0,q,p);
var Z=T[i]=H.toDataURL();return Z};function dq(n,q,p){g9.call(this);this.g=P.z("span","fitem cbox");
if(q==null)q=!0;if(p==null)p="flabel";var E="cb"+P.UC();this.HX=P.z("input","");this.HX.setAttribute("type","checkbox");
this.HX.setAttribute("id",E);this.g.appendChild(this.HX);this.xe=n;this.eO=P.z("label",p);if(q)this.eO.setAttribute("for",E);
this.g.appendChild(this.eO);this.N();this.HX.addEventListener("change",this.Dx.bind(this),!1)}dq.prototype=new g9;
dq.prototype.a7n=function(){return this.xe};dq.prototype.l$=function(n){this.eO.textContent=n};dq.prototype.N=function(){var n=this.xe;
if(typeof n=="string"&&n.startsWith("<"))this.eO.innerHTML=n;else this.eO.textContent=fE.get(n)};dq.prototype.P9=function(){this.HX.checked=!0};
dq.prototype.zw=function(){this.HX.checked=!1};dq.prototype.Jc=function(){return this.HX.checked};dq.prototype.j=function(n){this.HX.checked=n};
dq.prototype.I=dq.prototype.Jc;dq.prototype.Dx=function(n){this.K(new ea(P.E.b,!1))};function i_(n,q,p,E,T){g9.call(this);
this.g=P.z("span","fitem mbox");this.ad9=p;this.ajy=T;if(n){this.xe=n;this.eO=P.z("label","flabel");
this.g.appendChild(this.eO)}this.fV=q;this.Z0=[];for(var R=0;R<q.length;R++){var i=p?new bG(q[R],!1,E?E[R]:null):new dq(q[R],!0,"");
i.R(p?"click":P.E.b,this.Dx,this);this.Z0.push(i);this.g.appendChild(i.g)}this.N()}i_.prototype=new g9;
i_.prototype.j=function(n){for(var q=0;q<this.fV.length;q++)this.Z0[q].j(n[q])};i_.prototype.I=function(){var n=[];
for(var q=0;q<this.fV.length;q++)n[q]=this.Z0[q].I();return n};i_.prototype.N=function(){if(this.xe)this.eO.innerHTML=fE.get(this.xe)+": ";
for(var n=0;n<this.Z0.length;n++)this.Z0[n].N()};i_.prototype.Dx=function(n){var R=this.Z0.indexOf(n.currentTarget),q=this.Z0[R];
if(this.ad9)q.j(!q.I());if(this.ajy){var p=q.I();for(var R=0;R<this.Z0.length;R++)this.Z0[R].j(!1);q.j(p)}this.K(new ea(P.E.b,!1))};
function bu(n,q,p,E,T,i){g5.call(this,n,q,p,E,T,!1,i);this.g.appendChild(this.eO);var H=P.z("span","rangecont");
this.g.appendChild(H);H.appendChild(this.Dv);this.g.appendChild(this.HX);this.HX.setAttribute("style","width:3.3em");
if(this.rL)this.g.appendChild(this.gO)}bu.prototype=new g5;function e4(n,q,p,E){if(n==null)n=!1;if(q==null)q=!1;
if(p==null)p=!1;g9.call(this);this._c=new fc;this.km=new fc;this.ln=72;this.YN=72;this.TZ=!0;this.g=P.z("span","");
this.Yu=new iA([12,41],0,0,null,0,!1,!0);this.g.appendChild(this.Yu.g);this.Yu.R(P.E.b,this.RB,this);
var T=["px","%"];if(n)T=T.concat(["mm","in"]);this.lt=new gJ(null,T);this.g.appendChild(this.lt.g);P.OK(this.g);
this.lt.R(P.E.b,this.RB,this);this.s1=new iA([12,42],0,0,null,0,!1,!0);this.g.appendChild(this.s1.g);
this.s1.R(P.E.b,this.RB,this);var i=new bG("\u21F5",!1,null,!0);i.R("click",this.a5A,this);this.bz=new bG("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.bz.R("click",this.RB,this);this.asE=new jh("");if(q){this.g.appendChild(this.bz.g);this.g.appendChild(this.asE.g);
this.bz.P9()}else this.g.appendChild(i.g);this.cc=new iA("DPI",0,0,null,3,!1,!0,4);if(n&&E==null){P.OK(this.g);
this.g.appendChild(this.cc.g)}this.cc.R(P.E.b,this.RB,this);this.ED=new dq([12,23,1]);this.ED.R(P.E.b,this.RB,this);
if(p){P.OK(this.g);this.g.appendChild(this.ED.g)}P.OK(this.g)}e4.prototype=new g9;e4.prototype.a9L=function(){this.TZ=!1;
if(this.lt.I()==0){this.lt.j(3);this.MH()}};e4.prototype.a5m=function(){this.TZ=!0};e4.prototype.a4$=function(n){this.bz.j(n)};
e4.prototype.N=function(){this.Yu.N();this.s1.N();this.cc.N();this.bz.N();this.ED.N()};e4.prototype.a5A=function(n){var q=this.km.x;
this.km.x=this.km.y;this.km.y=q;this.MH();this.K(new ea(P.E.b,!1))};e4.prototype.RB=function(n){if(n.target==this.lt&&!this.TZ&&this.lt.I()==0)this.lt.j(3);
if(n.target==this.lt||n.target==this.ED){this.MH();return}if(n.target==this.bz)n.target.j(!n.target.I());
var q=this._c,p=parseFloat(this.Yu.I());if(isNaN(p))p=1;var E=parseFloat(this.s1.I());if(isNaN(E))E=1;
var T=this.lt.I();if(this.TZ){var i=this.YN;if(T==1){p=this._c.x*(p/100);E=this._c.y*(E/100)}var H=[1,1,25.4/i,1/i][T];
p/=H;E/=H;if(this.ED.I()){p+=this._c.x;E+=this._c.y}if(n.target==this.cc){var Z=this.cc.I();if(!0){var w=Z/i;
p*=w;E*=w}i=Z}if(this.bz.I()){if(n.target==this.Yu)E=p*(q.y/q.x);else p=E*(q.x/q.y)}p=Math.max(Math.abs(p),1);
E=Math.max(Math.abs(E),1)}else{var i=this.ln;if(n.target==this.cc)i=this.cc.I();else{if(this.bz.I()){if(n.target==this.Yu)E=p*(q.y/q.x);
else p=E*(q.x/q.y)}var H=[1,1,25.4/i,1/i][T],d=p/(T==1?100:q.x*H);i=i/d}p=q.x;E=q.y}this.km=new fc(Math.round(p),Math.round(E));
this.YN=i;this.MH();this.K(new ea(P.E.b,!1))};e4.prototype.acy=function(R){this.lt.j(R);this.MH()};e4.prototype.j=function(n,q,p){if(p!=!0)this._c=n.clone();
this.km=n.clone();if(q!=null){this.ln=q;this.YN=q}this.MH()};e4.prototype.MH=function(){var n=this.km.x,q=this.km.y,p=this.YN,E=(n/q).toFixed(3);
while(E.charAt(E.length-1)=="0")E=E.substring(0,E.length-1);if(E.charAt(E.length-1)==".")E=E.substring(0,E.length-1);
var T="  "+E+" : 1",i=function(O,W){while(W!=0){var C=W;W=O%W;O=C}return O},H=i(n,q);if(Math.min(n,q)/H<10)T="  "+Math.round(n/H)+" : "+Math.round(q/H);
this.asE.j(T);if(this.ED.I()){n-=this._c.x;q-=this._c.y}var Z=this.lt.I();if(Z==1){if(this.TZ){n=100*n/this._c.x;
q=100*q/this._c.y}else{n=q=100*this.ln/this.YN}}else{n=Math.round(n);q=Math.round(q)}var w=[1,1,25.4/p,1/p][Z];
n*=w;q*=w;var d=Z==1||Z==3?2:0;this.Yu.t$(d);this.s1.t$(d);this.Yu.j(n);this.s1.j(q);this.cc.j(p)};e4.prototype.I=function(){return this.km.clone()};
e4.prototype.Ww=function(){return this.YN};function hn(n,q){g9.call(this);var p=n==0?["W","H","X","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.Sv=n;this.asl=q;this.SS=1;this.LM=[1,1,0];var E=this.g=P.z("div","numlist"),T=this.f0=[];for(var R=0;
R<4;R++){var i=new iA(p[R],0,0,null,2,!1,!0,4);i.R(P.E.b,this.RB,this);E.appendChild(i.g);T[R]=i;if(R==1||R==3)P.OK(E)}T[4]=new dq(n==0?[12,51]:[12,91,2]);
T[4].j(!0);E.appendChild(T[4].g)}hn.prototype=new g9;hn.prototype.N=function(){var n=this.f0;for(var R=0;
R<5;R++)n[R].N();if(this.Sv==0)P.Zd(n[0],n[1])};hn.prototype.j=function(n,q){if(q)this.LM=q;q=this.LM;
this.SS=n[0]/n[1];for(var R=0;R<4;R++){var p=this.f0[R];p.t$(q[2]==0&&this.asl?0:2);p.j(j.L6.a1n(n[R],q[0],q[1],q[2]))}};
hn.prototype.I=function(){var n=[],q=this.LM;for(var R=0;R<4;R++){var p=j.L6.xU(this.f0[R].I(),q[0],q[1],q[2]);
n[R]=this.asl?Math.round(p):p}return n};hn.prototype.RB=function(n){var q=this.Sv,p=this.f0.indexOf(n.currentTarget),E=this.I(),T=this.f0[4].I();
if(q==0){E[0]=Math.max(1,E[0]);E[1]=Math.max(1,E[1]);if(T&&p==0)E[1]=E[0]/this.SS;if(T&&p==1)E[0]=E[1]*this.SS}if(q==1){E[p]=Math.max(0,E[p]);
if(T)for(var R=0;R<4;R++)E[R]=E[p]}this.j(E);this.K(new ea(P.E.b,!1))};function j0(){g9.call(this);this.XP=0;
this.RH=[0,0,1,1,100,100];this.g=P.z("span","fitem");this.Nx=new gJ(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.g.appendChild(this.Nx.g);this.Nx.R(P.E.b,this.RB,this);this.Yu=new iA("W",0,0,null,0,!1,!0);this.g.appendChild(this.Yu.g);
this.Yu.R(P.E.b,this.RB,this);this.s1=new iA("H",0,0,null,0,!1,!0);this.g.appendChild(this.s1.g);this.s1.R(P.E.b,this.RB,this);
this.j({UG:0,x:0,y:0})}j0.prototype=new g9;j0.prototype.N=function(){P.Zd(this.Yu,this.s1);this.Nx.N()};
j0.prototype.RB=function(n){if(n.target==this.Nx){var q=this.I(),p=this.RH;p[this.XP*2]=q.x;p[this.XP*2+1]=q.y;
this.XP=q.UG;this.j({UG:q.UG,x:p[q.UG*2],y:p[q.UG*2+1]})}if(this.Yu.I()<1)this.Yu.j(1);if(this.s1.I()<1)this.s1.j(1);
this.K(new ea(P.E.b,!1))};j0.prototype.j=function(n){this.Nx.j(n.UG);this.Yu.j(n.x);this.s1.j(n.y);if(n.UG==0){this.Yu.OW();
this.s1.OW()}else{this.Yu.hy();this.s1.hy()}};j0.prototype.I=function(){return{UG:this.Nx.I(),x:this.Yu.I(),y:this.s1.I()}};
function jh(n,q){g9.call(this);this.xe=n;this.g=P.z("span","labelitem fitem"+(q?" spread":""));this.N()}jh.prototype=new g9;
jh.prototype.j=function(n){this.g.textContent=n};jh.prototype.I=function(){return this.g.textContent};
jh.prototype.hy=function(){this.g.removeAttribute("disabled")};jh.prototype.OW=function(){this.g.setAttribute("disabled","")};
jh.prototype.l$=function(n){this.g.textContent=n};jh.prototype.N=function(){this.g.textContent=fE.get(this.xe)};
jh.prototype.a7n=function(){return this.xe};function cJ(n){g9.call(this);this.g=P.z("span","");this.an0=n;
this.K4=new bu("Off X",-100,100,n?"%":"px",0,!1);this.YB=new bu("Off Y",-100,100,n?"%":"px",0,!1);this.K4.R(P.E.b,this.RB,this);
this.YB.R(P.E.b,this.RB,this);this.g.appendChild(this.K4.g);this.g.appendChild(this.YB.g)}cJ.prototype=new g9;
cJ.prototype.N=function(){this.K4.N();this.YB.N()};cJ.prototype.RB=function(n){this.K(new ea(P.E.b,!1))};
cJ.prototype.aoN=function(n){this.K4.j(n.x);this.YB.j(n.y)};cJ.prototype.aje=function(){return new fc(this.K4.I(),this.YB.I())};
cJ.prototype.j=function(n,q){var p=n.Hrzn.v,E=n.Vrtc.v;if(this.an0){p=p.val;E=E.val}this.K4.j(p);this.YB.j(E);
if(q==!0)this.RB()};cJ.prototype.I=function(){var n=this.K4.I(),q=this.YB.I();if(this.an0)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:n}},Vrtc:{t:"UntF",v:{type:"#Prc",val:q}}};
else return{classID:"Pnt",Hrzn:{v:n,t:"doub"},Vrtc:{v:q,t:"doub"}}};function iA(n,q,p,E,T,i,H,Z,w){g5.call(this,n,q,p,E,T,!0,i,w);
P.oI(this.g,"rangedropinput");this.g.appendChild(this.eO);this.HX.setAttribute("style","width:"+(Z?Z:3.3)+"em");
this.g.appendChild(this.HX);this.akW=P.z("span","rangecont");this.akW.appendChild(this.Dv);this.Ul=P.z("button");
this.Ul.innerHTML="\u25BC";P.v$(this.Ul,this.aa8.bind(this));if(H!=!0)this.g.appendChild(this.Ul);this.pm=new g9;
this.pm.g=this.akW}iA.prototype=new g5;iA.prototype.aa8=function(n){if(P.pM(this.pm.g))return;n.stopPropagation();
var q=this.g.getBoundingClientRect();this.Dv.setAttribute("style","width:"+q.width+"px;");var p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.pm,x:q.left,y:q.top+q.height};this.K(p)};function gg(){g9.call(this);this.g=P.z("span","fitem strokebutton");
this.Tu=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.ks=JSON.parse(JSON.stringify(iq.DL.default));
this.KQ=P.z("button");this.g.appendChild(this.KQ);this.KQ.addEventListener("click",this._z.bind(this),!1);
var n=P.z("canvas","gsicon");this.Jm=n.getContext("2d");this.KQ.appendChild(n);var q=P.z("span");q.textContent=" \u25BC";
this.KQ.appendChild(q);this.o4=new g9;this.o4.parent=this;this.o4.g=P.z("div","floatcont form");var p=this.o4.g;
p.setAttribute("style","width: 14em;");this.I3=[new gJ([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new c2([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new c2([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new gT([19,9,2])];
for(var R=0;R<this.I3.length;R++){var E=this.I3[R];p.appendChild(E.g);var T=R<4?P.E.b:"click";E.R(T,this.RB,this)}P.OK(p);
this.Tn=[];var i=this.amU.bind(this);for(var R=0;R<this.Tu.length;R++){var H=P.z("button","fitem");this.Tn.push(H);
p.appendChild(H);H.addEventListener("click",i,!1);var n=P.z("canvas","gsicon"),Z=n.getContext("2d");
H.appendChild(n);this.a1X(Z,40,20,this.Tu[R])}}gg.prototype=new g9;gg.prototype._z=function(n){var q=this.KQ.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.o4,x:q.left,y:q.top+q.height+4};this.K(p)};gg.prototype.RB=function(n){var q=this.I3,p=q.indexOf(n.target),E=[];
for(var R=0;R<4;R++)E.push(q[R].I());this.ks=this.anf(E);this.K(new ea(P.E.b,!1))};gg.prototype.amU=function(n){var q=this.Tn.indexOf(n.currentTarget);
this.j(this.anf(this.Tu[q]));this.K(new ea(P.E.b,!1))};gg.prototype.anf=function(n){var q=JSON.parse(JSON.stringify(this.ks)),p=n[0],E=n[1],T=n[2],i=n[3];
if(p!=null)q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.DL.uO[p];if(E!=null)q.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.DL.jY[E];
if(T!=null)q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.DL.join[T];var H=q.strokeStyleLineDashSet.v=[];
i=i.split(" ");while((i.length&1)!=0)i.pop();for(var R=0;R<i.length;R++)H.push({t:"UntF",v:{type:"#Nne",val:parseInt(i[R])}});
return q};gg.prototype.N=function(){for(var R=0;R<this.I3.length;R++)this.I3[R].N()};gg.prototype.j=function(n){this.ks=JSON.parse(JSON.stringify(n));
var q=iq.DL.uO.indexOf(n.strokeStyleLineAlignment.v.strokeStyleLineAlignment),p=iq.DL.jY.indexOf(n.strokeStyleLineCapType.v.strokeStyleLineCapType),E=iq.DL.join.indexOf(n.strokeStyleLineJoinType.v.strokeStyleLineJoinType),T=[],i=n.strokeStyleLineDashSet.v;
for(var H=0;H<i.length;H++)T.push(i[H].v.val);var Z=this.I3;Z[0].j(q);Z[1].j(p);Z[2].j(E);Z[3].j(T.join(" "));
var w=[];for(var R=0;R<4;R++)w.push(Z[R].I());this.a1X(this.Jm,40,16,w)};gg.prototype.I=function(){return JSON.parse(JSON.stringify(this.ks))};
gg.prototype.a1X=function(n,q,p,E){var T=E[0],i=E[1],H=E[2],Z=E[3].split(" ").map(parseFloat);P.jy(n.canvas,q,p);
var w=Math.min(5,this.ks.strokeStyleLineWidth.v.val);for(var R=0;R<Z.length;R++)Z[R]*=w;n.clearRect(0,0,q,p);
n.setLineDash(Z);n.lineCap=["butt","round","square"][i];n.lineJoin=["miter","round","bevel"][H];n.lineWidth=w;
n.beginPath();n.moveTo(0,p/2);n.lineTo(q*2,p/2);n.stroke()};function f1(n){j8.call(this,n,!1,"contourbutton",34,16,cF.DN);
this.rR=new gT([12,86],null,16);this.rR.R("input",this.uc,this);this.o4.g.appendChild(this.rR.g);this.tr=null;
this.fg="";this.bW=null;this.j(j2.yQ())}f1.prototype=new j8;f1.prototype.N=function(){j8.prototype.N.call(this);
this.rR.N()};f1.prototype.Yp=function(n){this.j(this.tr[n.target.I()]);this.K(new ea(P.E.b))};f1.prototype.uc=function(n){this.fg=this.rR.I().toLowerCase();
this.aca()};f1.zk=!1;f1.prototype.t0=function(){if(!this.Or)return;var n=this.qa;if(n==null||!f1.zk){var q=new ea(P.E.T,!0);
q.data={e:P.C.Av,sQ:{url:"rsrc/basic/fa_basic.csh"}};this.K(q);f1.zk=!0}else{var p=Math.floor(38*P.D()),E=Math.floor(38*P.D());
this.bW=[];for(var R=0;R<n.length;R++)this.bW.push(f1.api(n[R],p,E));this.aca();this.Or=!1}};f1.prototype.aca=function(){var n=Math.floor(38*P.D()),q=Math.floor(38*P.D());
this.tr=[];var p=[],E=[],T=this.qa;for(var R=0;R<T.length;R++){if(T[R].KS.toLowerCase().indexOf(this.fg)==-1)continue;
this.tr.push(T[R]);p.push(this.bW[R]);E.push(T[R].KS)}this.Wc.v3(p,E,n,q)};f1.prototype.j=function(n){this.Ba=f1.clone(n);
this.fe()};f1.prototype.fe=function(){var n=Math.floor(23*P.D()),q=Math.floor(23*P.D()),p=f1.api(this.Ba,n,q);
this.xp.setAttribute("src",p);P.X_(this.xp,n,q)};f1.prototype.I=function(){return f1.clone(this.Ba)};
f1.clone=function(n){return{KS:n.KS,Ax:n.Ax,Q:g.Xg.A$(n.Q),C8:n.C8.clone()}};f1.S=null;f1.b1=null;f1.api=function(n,q,p){var E=g.Xg.A$(n.Q),T=n.C8,i=Math.min(q/T.v,p/T.o)*.9,H=new b$;
H.translate(-.5,-.5);H.scale(.95,.95);H.translate(.5,.5);H.scale(i*T.v,i*T.o);j.G.ra(E,H);var Z=new g.Xg;
Z.Q=E;var w=Z.u1();w.rect.x=Math.floor((q-w.rect.v)/2);w.rect.y=Math.floor((p-w.rect.o)/2);var d=j.U(w.rect.P()*4);
j.nz(d,4278190080);j.z3(w.channel);j.yI(w.channel,d,0);j.yI(w.channel,d,1);j.yI(w.channel,d,2);var O=f1;
if(O.S==null)O.S=P.z("canvas");var W=O.S,C=W.getContext("2d");if(W.width!=q||W.height!=p||O.b1==null){W.width=q;
W.height=p;O.b1=C.createImageData(q,p)}var a=O.b1;j.nz(a.data,4294967295);j.hk(d,w.rect,a.data,new eL(0,0,q,p));
C.putImageData(a,0,0);return W.toDataURL()};function bD(n){j8.call(this,n,!1,"ICCButton",16,12,cF.bw,!0);
this.Wc.k3(1)}bD.prototype=new j8;bD.prototype.MW=function(){var n="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var R=0;R<n.length;R++)n[R]="luts/"+n[R]+".CUBE";return n};bD.prototype.Yp=function(n){this.j(this.qa[n.target.I()]);
this.K(new ea(P.E.b))};bD.prototype.t0=function(){if(!this.Or)return;var n=Math.floor(1*P.D()),q=Math.floor(1*P.D()),p=[],E=[],T=this.qa;
for(var R=0;R<T.length;R++){var i=T[R].Nm.v.split("\\").pop().split("/").pop();E.push(i);p.push(bD.Xm(T[R],n,q))}this.Wc.v3(p,E,n,q);
this.Or=!1};bD.prototype.j=function(n){this.Ba=JSON.parse(JSON.stringify(n));this.fe()};bD.Xm=function(n,q,p){var E=P.z("canvas"),H="ICC / 3DL / look / cube";
E.width=q;E.height=p;var T=E.getContext("2d"),i=Math.floor(14*P.D());T.font=i+"px sans-serif";if(n.Nm)H=n.Nm.v.split("\\").pop().split("/").pop();
T.fillText(H,10,i);return E.toDataURL()};bD.prototype.fe=function(){var n=Math.floor(120*P.D()),q=Math.floor(20*P.D());
this.xp.setAttribute("src",bD.Xm(this.Ba,n,q));P.X_(this.xp,n,q)};bD.prototype.I=function(){return JSON.parse(JSON.stringify(this.Ba))};
function gB(){g9.call(this);this.dW=null;this.g=P.z("span","fitem");this.XS=new gI([14,9]);this.Zi=new iA(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.MU=new gg;this.xK=[this.XS,this.Zi,this.MU];for(var R=0;R<this.xK.length;R++){var n=this.xK[R];
this.g.appendChild(n.g);n.parent=this;n.R(P.E.b,this.RB,this)}}gB.prototype=new g9;gB.prototype.N=function(){for(var R=0;
R<this.xK.length;R++)this.xK[R].N()};gB.prototype.ts=function(n,q){this.XS.ts(n,q)};gB.prototype.RB=function(n){var q=this.dW,p=this.XS.I(),E=p.a5;
q.strokeEnabled.v=E!=0;if(E!=0){q.strokeStyleContent.v=p.IH;p.IH.classID=iq.DL.LK[E-1]}q.strokeStyleLineWidth.v.val=this.Zi.I();
if(n.target==this.MU)q=this.MU.I();this.dW=q;this.K(new ea(P.E.b,!1))};gB.prototype.j=function(n,q,p){this.dW=JSON.parse(JSON.stringify(q));
var E=q.strokeEnabled.v,T=q.strokeStyleContent.v,i=E?{a5:1+iq.DL.LK.indexOf(T.classID),IH:T}:{a5:0};
this.XS.j(n,i,p);this.Zi.j(q.strokeStyleLineWidth.v.val);this.MU.j(q)};gB.prototype.I=function(){return JSON.parse(JSON.stringify(this.dW))};
function aI(n){g9.call(this);this.g=P.z("span","fitem");this.D8=null;if(n){this.D8=new jh("");this.g.appendChild(this.D8.g)}var q=["front","union","difference","intersection"],p=[[18,0],[18,1],[18,2],[18,3]];
this.u6=[];this.WG=0;for(var R=0;R<q.length;R++){var E=new bG("<img src=\""+PIMG["set/"+q[R]]+"\" class=\"autoscale gsicon\" />",!1,p[R]);
E.R("click",this.aoZ,this);this.g.appendChild(E.g);this.u6.push(E)}this.u6[0].P9()}aI.prototype=new g9;
aI.prototype.acK=function(){return this.WG};aI.prototype.I=function(){return this.WG};aI.prototype.j=function(n){this.WG=n;
for(var R=0;R<this.u6.length;R++)this.u6[R].zw();this.u6[this.WG].P9()};aI.prototype.aoZ=function(n){this.j(this.u6.indexOf(n.currentTarget));
this.K(new ea(P.E.b,!1))};aI.prototype.N=function(){if(this.D8)this.D8.j(fE.get([12,36])+":");for(var R=0;
R<this.u6.length;R++)this.u6[R].N()};function gT(n,q,p,E){g9.call(this);var T=P.UC(),i="";this.g=P.z("span","fitem tinput");
if(n){this.xe=n;this.eO=P.z("label","flabel");this.g.appendChild(this.eO);this.eO.setAttribute("for",T);
this.N()}if(E==null){this.HX=P.z("input","");this.HX.setAttribute("type","text")}else this.HX=P.z("textarea","scrollable");
this.HX.setAttribute("id",T);if(p)i+="width:"+p+"em;";if(E){this.HX.setAttribute("rows",E)}if(i!="")this.HX.setAttribute("style",i);
this.g.appendChild(this.HX);if(q){this.gO=P.z("span","");this.gO.textContent=q;this.g.appendChild(this.gO)}this.HX.addEventListener("change",this.Dx.bind(this),!1);
this.HX.addEventListener("input",this.al5.bind(this),!1)}gT.prototype=new g9;gT.prototype.N=function(){if(this.xe)this.eO.textContent=fE.get(this.xe)+":"};
gT.prototype.l$=function(n){this.eO.textContent=n};gT.prototype.j=function(n){this.HX.value=n==null?"":n};
gT.prototype.I=function(){return this.HX.value};gT.prototype.xY=function(){this.HX.select();this.HX.focus()};
gT.prototype.Dx=function(n){this.K(new ea(P.E.b,!1))};gT.prototype.al5=function(n){this.K(new ea("input",!1))};
function ej(n,q,p,E,T,i,H){g5.call(this,n,q,p,E,T,!0,i,null,H);P.oI(this.g,"trangeinput");this.g.appendChild(this.eO);
this.g.appendChild(this.HX);var Z=P.z("span","rangecont");this.g.appendChild(Z);Z.appendChild(this.Dv);
this.Dv.setAttribute("style","width:97%;")}ej.prototype=new g5;function gp(){g9.call(this);this.uD=[16,!0,!0];
this.g=P.z("span","");this.WK=[new iA([12,24],0,255),new dq("Anti-alias"),new dq([12,25])];for(var R=0;
R<3;R++){var n=this.WK[R];n.parent=this;n.j(this.uD[R]);this.g.appendChild(n.g);n.R(P.E.b,this.RB,this)}}gp.prototype=new g9;
gp.prototype.RB=function(){for(var R=0;R<3;R++)this.uD[R]=this.WK[R].I();this.K(new ea(P.E.b,!1))};gp.prototype.j=function(n){this.uD=n.slice(0);
for(var R=0;R<3;R++)this.WK[R].j(n[R])};gp.prototype.I=function(){return this.uD.slice(0)};gp.prototype.N=function(){for(var R=0;
R<3;R++)this.WK[R].N()};function hQ(n,q){g9.call(this);if(q==null)q=!1;this.bW=[];this.ajl=0;this.aiY=0;
this.Pt=0;this.s_=[];this.qn=[];for(var p in j.bF.type){if(p=="warpCustom"&&!q)continue;this.s_.push(p);
this.qn.push(j.bF.type[p])}this.g=P.z("span","fitem warpbutton");this.o4=new g9;this.o4.g=P.z("div","floatcont");
if(n){this.D8=n;this.eO=P.z("label","flabel");this.g.appendChild(this.eO)}this.e=P.z("button");this.g.appendChild(this.e);
this.e.addEventListener("click",this._z.bind(this),!1);this.oA=new ds(!0);this.o4.g.appendChild(this.oA.g);
this.oA.R(P.E.b,this.aru,this);this.N()}hQ.prototype=new g9;hQ.prototype.l$=function(n){this.eO.textContent=n};
hQ.prototype.N=function(){if(this.D8)this.eO.innerHTML=fE.get(this.D8)+":";this.bW=[];var n=P.z("canvas",""),q=n.getContext("2d"),p=0;
q.font=Math.floor(13*P.D())+"px sans-serif";for(var R=0;R<this.s_.length;R++){p=Math.max(p,q.measureText(fE.get(j.bF.type[this.s_[R]])).width)}var E=this.ajl=Math.floor(50*P.D()+p),T=this.aiY=Math.floor(23*P.D());
n.width=E;n.height=T;this.o4.g.setAttribute("style","width:"+Math.floor(8+E/P.D())+"px;");q.font=Math.floor(13*P.D())+"px sans-serif";
q.lineWidth=1;q.strokeStyle="#000000";var i=Math.floor(16*P.D()),H=new eL(0,0,i,i);for(var R=0;R<this.s_.length;
R++){var Z=this.s_[R];q.clearRect(0,0,n.width,n.height);var w=j.bF.bF(H,Z,!0,.3,0,0),d=j.O.aS(H);d.F.push("M","L","M","L");
d.W.push(0,i/2,i,i/2);d.W.push(i/2,0,i/2,i);d=j.O.TR(d);d=j.O.hF(d,i/5);j.c0.B(w,d.W,H);j.O.B(d.W,new b$(1,0,0,1,Math.floor(8*P.D())+.5,Math.floor(3*P.D())+.5),d.W);
q.beginPath();Typr.U.pathToContext({cmds:d.F,crds:d.W},q);q.stroke();q.fillText(fE.get(j.bF.type[Z]),Math.floor(40*P.D()),Math.floor(16*P.D()));
this.bW.push(n.toDataURL())}this.oA.v3(this.bW,null,E,T);this.fe()};hQ.prototype._z=function(n){var q=this.e.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:this.o4,x:q.left,y:q.top+q.height+4};this.K(p)};hQ.prototype.aru=function(n){var q=new ea(P.E.T,!0);
q.data={e:P.C.dz,yx:this.o4};this.K(q);this.Pt=n.target.I();this.fe();this.K(new ea(P.E.b))};hQ.prototype.fe=function(){this.oA.Zn(this.Pt);
this.e.innerHTML="<img src=\""+this.bW[this.Pt]+"\" class=\"gsicon\" />";var n=this.ajl,q=this.aiY;P.X_(this.e.firstChild,n,q)};
hQ.prototype.I=function(){return this.s_[this.Pt]};hQ.prototype.j=function(n){this.Pt=this.s_.indexOf(n);
this.fe()};function iN(n,q,p){g9.call(this);if(n==null)n=!1;if(q==null)q=!1;if(p==null)p=!1;this.apm=q;
this.bF=null;this.f5=new hQ([12,22],p);this.f5.parent=this;this.f5.R(P.E.b,this.Ld,this);this.MM=new gJ([22,0],[[22,4,0],[22,4,1]]);
this.MM.R(P.E.b,this.Ld,this);var E=n?iA:ej;this.T1=new E([22,1],-100,100,"%");this.Zj=new E("Horizontal Distortion:",-100,100,"%");
this.wE=new E("Vertical Distortion:",-100,100,"%");this.T1.parent=this.Zj.parent=this.wE.parent=this;
this.T1.R(P.E.b,this.Ld,this);this.Zj.R(P.E.b,this.Ld,this);this.wE.R(P.E.b,this.Ld,this)}iN.prototype=new g9;
iN.prototype.N=function(){this.f5.N();this.MM.N();this.T1.N();var n=this.apm?1:100;this.Zj.l$(fE.get([22,2]).substring(0,n)+":");
this.wE.l$(fE.get([22,3]).substring(0,n)+":")};iN.prototype.Ld=function(){var n=this.bF,q=this.f5.I(),p=n.warpStyle.v.warpStyle;
if(q=="warpCustom")j.bF.XZ(j.bF.Bh(n),n);else delete n.customEnvelopeWarp;n.warpStyle.v.warpStyle=this.f5.I();
n.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.MM.I()];n.warpValue.v=this.T1.I();n.warpPerspective.v=this.Zj.I();
n.warpPerspectiveOther.v=this.wE.I();if(q=="warpNone"||q=="warpCustom"){n.warpValue.v=0;n.warpPerspective.v=0;
n.warpPerspectiveOther.v=0}else if(p=="warpNone"||p=="warpCustom")n.warpValue.v=50;this.K(new ea(P.E.b,!1));
this.j(n)};iN.prototype.I=function(n){return JSON.parse(JSON.stringify(this.bF))};iN.prototype.j=function(n){this.bF=JSON.parse(JSON.stringify(n));
this.f5.j(n.warpStyle.v.warpStyle);this.MM.j(n.warpRotate.v.Ornt=="Hrzn"?0:1);this.T1.j(n.warpValue.v);
this.Zj.j(n.warpPerspective.v);this.wE.j(n.warpPerspectiveOther.v);var q=n.warpStyle.v.warpStyle,p=q=="warpNone"||q=="warpCustom",E=[this.MM,this.T1,this.Zj,this.wE];
for(var R=0;R<E.length;R++)if(p)E[R].OW();else E[R].hy()};function eB(n,q){g9.call(this);this.g=P.z("div");
this.KZ=n;this.nb=null;this.zO=new fc(0,0);this.UX="position:relative;overflow:hidden;";this.Ht=null;
this.D7=new P.oY(this.g);this.ahP=q;this.t5("grab");this.S=P.z("canvas","canv");this.g.appendChild(this.S);
this.Jm=this.S.getContext("2d");this.a0d=null;this.kM=null;this.Go=null;this.Yh=0;this.bs=0;this.gY=0;
this.aew=this.a10.bind(this);this.aoI=null;this.c=new gQ({v:1,o:1});this.Cl=null;this.Vk=null;this.aj=[];
this.a4w=0;this.$C=0;this.a99=this.IO.bind(this);this.apA=this.a_.bind(this);this.anU=this.Ml.bind(this);
this.agr=this.mZ.bind(this);this.an1=0;this.LL=null;this.alp(this.S);this.jV(this)}eB.prototype=new g9;
eB.a4b=function(n){var q=new aj;if(n>=0)q.DO("Space");if(n>=1){q.DO("ControlLeft");if(n==2)q.DO("AltLeft")}return q};
eB.prototype.IY=function(n){var q=this.Ht,p=null;if(n.r(aj.gW)){p="grab";if(n.r(aj.Fj)){p="zoom-in";
if(n.r(aj.sL))p="zoom-out"}}this.nb=p;if(p)q=p;this.D7.o5(q,this.UX);if(n.r(aj.Fj)){var E=0;if(n.r(aj.ri))E=1;
if(n.r(aj.VZ))E=-1;if(E!=0){this.h8(new fc(this.S.width/2,this.S.height/2),E==1)}}};eB.prototype.t5=function(n){this.Ht=n;
if(this.nb)return;this.D7.o5(n,this.UX)};eB.prototype.alp=function(n){P.v$(n,this.a99);P.l7(n);n.addEventListener("wheel",this.agr,!1)};
eB.prototype.jV=function(n){n.R("viewchange",this.ara,this)};eB.prototype.ara=function(n){var q=this.c.n,p=n.currentTarget.hV();
this.c.n=p.n;this.c.t=p.t.clone();if(q!=p.n)this._o();this.E6()};eB.prototype.hV=function(){return{n:this.c.n,t:this.c.t}};
eB.prototype.j=function(n,q){var p=n[0].Yd;if(this.kM!=null&&this.kM[0].Yd.rv(p)){}else{this.c.eL={v:p.v,o:p.o};
this.c.t=new fc(0,0);this.c.n=1}this.kM=n;this._o();this.Ks();this.Yh=0;this.bs=0;this.gY=q==null?0:q;
this.a10()};eB.prototype.mZ=function(n){n.preventDefault();if(n.deltaY==0||Date.now()-this.an1<100)return;
var q=P.gD(n);q.x=P.D()*q.x;q.y=P.D()*q.y;this.an1=Date.now();this.h8(q,n.deltaY<0)};eB.prototype.h8=function(n,q){A.Cn.MB(this.c,n,q);
this.aiz()};eB.prototype.a5C=function(){var n=this.c,q=n.eL;this.c.n=A.Cn.D4(q.v,q.o,n.fM.v,n.fM.o);
this.aiz()};eB.prototype.aiz=function(){this._o();this.K(new ea("viewchange"));this.K(new ea("zoom"))};
eB.prototype._o=function(){this.Go=[];var n=this.c.n;if(this.kM==null)return;for(var R=0;R<this.kM.length;
R++){var q=this.kM[R],p=new Uint8Array(q.data),E;if(n>=1)E={OT:p,rect:q.Yd};else E=j.a5H(p,q.Yd,n);this.Go.push(E)}};
eB.prototype.Ks=function(){clearTimeout(this.aoI)};eB.prototype.E6=function(){if(this.kM==null||!P.pM(this.S))return;
var n=this.a0d,q=this.S.width,p=this.S.height,B,$;if(n==null||n.width!=q||n.height!=p){n=this.a0d=this.Jm.createImageData(q,p);
console.log("creating image data")}var E=this.kM[this.Yh],T=this.Go[this.Yh],i=this.c,H=i.eL,Z=i.fM,w=Z.v,d=Z.o,O=H.v*i.n,W=H.o*i.n,C=Math.round((w-O)/2+i.t.x),a=Math.round((d-W)/2+i.t.y);
if(i.n<=1){$=T.rect.clone();$.x=C;$.y=a;O=$.v;W=$.o;B=T.OT}else{var I=1/i.n,x=new eL(Math.floor((Z.x-C)*I),Math.floor((Z.y-a)*I),Math.ceil(Z.v*I)+1,Math.ceil(Z.o*I)+1),U=new eL(0,0,x.v*i.n,x.o*i.n);
U.x=x.x*i.n+C;U.y=x.y*i.n+a;if(i.rW==null||i.rW.length!=x.P()*4){i.rW=j.U(x.P()*4)}if(i.pq==null||i.pq.length!=U.P()*4){i.pq=j.U(U.P()*4)}j.nz(i.rW,0);
j.hk(T.OT,T.rect,i.rW,x);j.scale.z_(i.rW,x.v,x.o,i.pq,U.v,U.o,i.n);B=i.pq;$=U}var N=new Uint8Array(n.data.buffer);
j.nh(N,w,d,8,-C,-a);j.a.Ef("norm",B,$,N,Z,Z,1);var m=this.Jm;m.setTransform(1,0,0,1,0,0);m.putImageData(n,0,0);
m.clearRect(C-1e3,a,1e3,W);m.clearRect(C+O,a,1e3,W);m.clearRect(C-1e3,a-1e3,O+2e3,1e3);m.clearRect(C-1e3,a+W,O+2e3,1e3);
var f=eB.a3q(i.n,"#ffffff",this.ahP);m.putImageData(f,0,i.fM.o-f.height)};eB.akB={};eB.a3q=function(n,q,p){if(p==null)p=!1;
var E="z"+n+","+q+","+p,T=eB.akB[E];if(T)return T;var i=Math.round(50*P.D()),H=Math.round(18*P.D()),Z=p?2*H:0,w=P.z("canvas"),d=w.getContext("2d");
w.width=i+Z;w.height=H;d.fillStyle="rgba(1,1,1,1)";d.fillRect(0,0,i+Z,H);d.font=Math.round(11*P.D())+"px monospace";
d.fillStyle=q;var O=n*100;if(O<100)O=O.toFixed(2);else O=Math.round(O);O=O+"%";var W=d.measureText(O).width;
d.fillText(O,Z+(i-W)/2,Math.round(H*.7));T=eB.akB[E]=d.getImageData(0,0,i+Z,H);return T};eB.prototype.a10=function(){var n=this.kM,q=n.length,p=this.Yh,E=this.kM[p],T=(p+1)%q;
this.E6();if(q!=1&&n[T].Yd.rv(E.Yd)){var i=E.UE?parseInt(E.UE.split(",").pop()):30;if(i==0)i=16;if(T==0)this.bs++;
if(this.gY==0||this.bs<this.gY)this.aoI=setTimeout(this.aew,i)}this.Yh=T};eB.prototype.rb=function(n,q){if(n<=0||q<=0)return;
var p=Math.floor(n*P.D()),E=Math.floor(q*P.D());this.c.fM=new eL(0,0,p,E);this.S.width=p;this.S.height=E;
this.S.setAttribute("style","width:"+p/P.D()+"px; height:"+E/P.D()+"px; display:block;");this.E6()};
eB.prototype.Di=function(n){var q=-1,p=this.aj;for(var R=0;R<p.length;R++)if(p[R].pointerId==n.pointerId)q=R;
return q};eB.prototype.IO=function(n){var q=this.Di(n),p=this.aj;if(q!=-1)p[q]=n;else p.push(n);if(p.length==1){this.LL=n.target;
P.KN(window,this.apA);P.iI(window,this.anU);this.Cl=P.gD(n,this.S);this.Cl.x*=P.D();this.Cl.y*=P.D();
this.zO=this.Cl;this.Vk=this.c.t.clone();if(this.KZ&&this.LL==this.S&&!this.nb)this.K(new ea("mousedown"))}else this.a4w=this.$C=fc.vu(P.gD(p[0],this.S),P.gD(p[1],this.S))};
eB.prototype.a_=function(n){var q=this.Di(n),p=this.aj;if(q!=-1)p[q]=n;var E=this.c,T=this.nb,i=this.kM[this.Yh].Yd.clone();
i.v*=E.n;i.o*=E.n;var H=P.gD(n,this.S);H.x*=P.D();H.y*=P.D();this.zO=H;if(this.KZ&&this.LL==this.S&&!T)this.K(new ea("mousemove"));
else if((T=="grab"||T==null)&&(p.length>1||!E.fM.Gf(i))){if(p.length>1){var Z=P.gD(p[0],this.S),w=P.gD(p[1],this.S),d=new fc(P.D()*(Z.x+w.x)/2,P.D()*(Z.y+w.y)/2),O=fc.vu(Z,w),W=null;
if(O>this.$C+50){this.$C+=50;W=!0}if(O<this.$C-50){this.$C-=50;W=!1}if(W!=null)this.h8(d,W);return}else{var C=H.x-this.Cl.x,a=H.y-this.Cl.y;
E.t.x=this.Vk.x+Math.round(C);E.t.y=this.Vk.y+Math.round(a)}this.K(new ea("viewchange"))}};eB.prototype.Ml=function(n){var q=this.Di(n),p=this.aj;
p.splice(q,1);if(p.length==0){P.dt(window,this.apA);P.sZ(window,this.anU);var E=this.nb;if(n.detail>1){this.c.n=1;
this.c.t.Gw(0,0);this.E6()}if(this.KZ&&this.LL==this.S&&!this.nb)this.K(new ea("mouseup"));else{if(E=="zoom-in"||E=="zoom-out")this.h8(this.zO,E=="zoom-in")}}else{var T=this.Cl=P.gD(p[0],this.S);
T.x*=P.D();T.y*=P.D()}};eB.prototype.FZ=function(){return this.c.hQ(this.zO.x,this.zO.y)};function fw(){g9.call(this);
this.Zh=null;this._J=null;this.H0=null;this.fJ=null;this.aot="";this.Ah=[];this.dH=0;this.o_=[];this.Oj=0;
this.BW=null;var n=this.g=P.z("div",""),q=this.apE=P.z("div","form");q.setAttribute("style","line-height:0; margin-bottom:0.5em;");
n.appendChild(q);var p=this.D8=P.z("span");q.appendChild(p);p.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var E=this.akO=new dq([25,2,0]);E.j(!0);q.appendChild(E.g);E.R(P.E.b,this.$z,this);var T=this.YR=new dq([25,2,1]);
T.j(!0);q.appendChild(T.g);T.R(P.E.b,this.$z,this);var i=new jh(" ");q.appendChild(i.g);var H=this.jO=new gT([25,1,1]);
q.appendChild(H.g);H.R(P.E.b,this.$z,this);this.aJ=new es(14);this.aJ.a3P(3);q.appendChild(this.aJ.g);
this.aJ.parent=this;this.aJ.R(P.E.b,this.aho,this);var Z=this.a65=new bG([25,1,2],null,null,!0);q.appendChild(Z.g);
Z.R("click",this.dV,this);this.a0m=this.a2Z.bind(this);this.Wd=P.z("div","svggallery scrollable");n.appendChild(this.Wd);
this.Wd.addEventListener("scroll",this.a8z.bind(this))}fw.prototype=new g9;fw.prototype.ts=function(n){this.a3b=n};
fw.prototype.N=function(){this.D8.textContent=fE.get([25,0]);this.aJ.N();this.akO.N();this.YR.N();this.jO.N();
this.a65.N()};fw.prototype.rb=function(n,q){q-=26;this.Zh=new fc(n,q);this.apE.setAttribute("style","width:"+n+"px");
this.Wd.setAttribute("style","width:"+n+"px; height:"+q+"px");if(P.pM(this.g))this.$z()};fw.prototype.j=function(n){this._J=n;
this.$z()};fw.prototype.a8z=function(n){var q=this.Wd;if(q.scrollTop+q.clientHeight+10>=q.scrollHeight){this.$z(!0)}};
fw.prototype.aho=function(n){this.H0=null;this.$z()};fw.prototype.a2Z=function(n){if(Date.now()-this.Oj<2e3)return;
this.Oj=Date.now();this.dH=this.o_.indexOf(n.currentTarget);var q=this.mO(this._J.x,this._J.y);if(q[1]){var p=q[1].largeImageURL,E=new XMLHttpRequest;
E.responseType="arraybuffer";E.open("GET",p,!0);E.onload=this.a3z.bind(this);E.send();return}this.a53(q)};
fw.prototype.a3z=function(n){var q=n.target.response,p=al.Y3(q),E=al.vE(p),T=E.es(q),i=this.mO(this._J.x,this._J.y,[q,T[0].Yd.v,T[0].Yd.o]);
this.a53(i)};fw.prototype.a53=function(n){var q=n[0],p=al.Y3(q),E=al.vE(p),T=new gd("template.psd");
E.es(q,T);var i=new ea("tempready",!0);i.data={eL:T};this.K(i)};fw.prototype.dV=function(n){var q=n.target;
this.Ah=[];this.$z()};fw.prototype.am3=function(n){var q=JSON.parse(n.target.response);this.fJ=q.hits;
this.$z()};fw.prototype.$z=function(n){if(this._J==null||this.Zh==null||this.a3b==null)return;if(this.Zh.x<=0)return;
var q=this._J.x,p=this._J.y;if(Math.min(q,p)<50)return;if(n!=!0){this.o_=[];P.Ls(this.Wd);this.Wd.scrollTop=0}if(this.o_.length>300)return;
var E=Math.min(1,300/Math.max(q,p)),T=this.Zh.clone();T.x-=20;var i=Math.max(1,Math.floor(T.x/(q*E))),H=Math.max(1,Math.ceil(T.y/(p*E)));
E=T.x/i/q;var Z=i*H;if(this.H0==null){var w=this.a3b.s4.EZ();this.H0=[];for(var d in w){var O=w[d],W=O[3];
if(!this.aJ.y0(O))continue;if(O[5]==null||O[5].slice(0,2)=="gf")continue;this.H0.push(O)}if(this.H0.length==0)this.H0.push(w.DejaVuSans)}var C=this.YR.I(),a=this.jO.I().trim();
this.jO.aR(C);if(C&&(this.fJ==null||a!=this.aot)){var B=new XMLHttpRequest,$="https://pixabay.com/api/?image_type=photo"+(a==""?"":"&q="+encodeURIComponent(a))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(a=="")$+="&safesearch=true";if(a=="")$="plugins/gallery.json";B.open("GET",$,!0);B.onload=this.am3.bind(this);
B.onerror=function(f){console.log(f.target.response)};B.send();this.aot=a;return}E*=(q*E-5)/(q*E);var I=this.o_.length;
for(var R=0;R<Z;R++){var x=this.dH=I+R;if(this.Ah[x]==null)this.Ah[x]=Math.floor(Math.random()*4294967295);
var U=this.mO(Math.round(q*E),Math.round(p*E)),N=U[0];N=u.L4(new Uint8Array(N));var m=P.z("span");m.innerHTML=N;
this.o_.push(m);this.Wd.appendChild(m);m.addEventListener("click",this.a0m,!1)}};fw.prototype.mO=function(n,q,p){var E=this.YR.I(),T=this.akO.I(),i=E&&this.fJ.length!=0?this.fJ:null;
if(T&&!E)i=null;if(T&&E&&(this.dH&1)==0)i=null;return ai.la(n,q,this.Ah[this.dH],this.H0,p?p:i)};function bL(){g9.call(this);
this.g=P.z("div");this.bJ=null;this.agK=null;this.ou=-1;this.Zt={JPG:[{tn:new ej([12,52,0],0,100,"%",null,null,!0),JX:70},{tn:new dq("attach metadata"),JX:!1}],TIFF:[{tn:new dq("attach metadata"),JX:!1}],WEBP:[{tn:new ej([12,52,0],0,100,"%",null,null,!0),JX:70}],GIF:[{tn:new ej([12,52,0],0,100,"%",null,null,!0),JX:100}],PNG:[{tn:new ej([12,52,0],0,100,"%",null,null,!0),JX:100},{tn:new dq("don't use palettes"),JX:!1}],PDF:[{tn:new gT([12,52,1]),JX:""},{tn:new ej([12,52,0],0,100,"%",null,null,!0),JX:100},{tn:new dq("rasterize all"),JX:!1},{tn:new dq("rasterize text"),JX:!1},{tn:new dq("vectorize text"),JX:!1},{tn:new ej("Add Margin",0,5,"in",2),JX:0}],EMF:[{tn:new gT([12,52,1]),JX:""},{tn:new dq("rasterize all"),JX:!1},{tn:new dq("rasterize text"),JX:!1},{tn:new dq("vectorize text"),JX:!1}],SVG:[{tn:new dq("add raster graphics"),JX:!0},{tn:new dq("add hidden layers"),JX:!1},{tn:new dq("vectorize text"),JX:!1},{tn:new dq("rasterize text"),JX:!1},{tn:new dq("add layer names"),JX:!0},{tn:new dq("pretty-print"),JX:!0}],RAW:[{tn:new c2([12,72],["1","3","4"]),JX:2},{tn:new c2([12,34],["8 Bits","16 Bits"]),JX:0},{tn:new c2("Byte Order",["12-34","34-12"]),JX:0}],DDS:[{tn:new dq("Add Mipmaps"),JX:!0},{tn:new dq("Compression"),JX:!0}],anim:[{tn:new ej("Speed",10,800,"%",null,!0,!0),JX:100},{tn:new iA("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),JX:0},{tn:new dq("reverse frames"),JX:!1},{tn:new dq("boomerang"),JX:!1}],slcs:[{tn:new dq("As Slices"),JX:!0}],artb:[{tn:new dq("As Artboards"),JX:!0}]};
for(var n in this.Zt){var q=this.Zt[n];for(var R=0;R<q.length;R++){q[R].tn.j(q[R].JX);q[R].tn.R(P.E.b,this.Wp,this)}}}bL.prototype=new g9;
bL.prototype.apa=function(){this.ou=-1};bL.prototype.N=function(){for(var n in this.Zt)for(var R=0;R<this.Zt[n].length;
R++)this.Zt[n][R].tn.N()};bL.prototype.Wp=function(){this.$z();this.K(new ea(P.E.b,!1))};bL.prototype.$z=function(){var n=this.bJ,q=n[0],p=n[1],E=n[2],T=n[3],i=this.Zt[q];
if(i==null)i=[];else i=i.slice(0);if(p)i=i.concat(this.Zt.anim);if(["GIF","PNG","JPG"].indexOf(q)!=-1&&E)i=i.concat(this.Zt.slcs);
else if(["GIF","PNG","JPG"].indexOf(q)!=-1&&T)i=i.concat(this.Zt.artb);if(q+" "+p+" "+T!=this.ou){this.ou=q+" "+p+" "+T;
P.Ls(this.g);for(var R=0;R<i.length;R++){if(q=="PDF"&&!T&&R==0)continue;this.g.appendChild(i[R].tn.g);
P.OK(this.g)}}var H=this.agK=[];for(var R=0;R<i.length;R++)H.push(i[R].tn.I())};bL.prototype.a33=function(n,q,p,E){this.bJ=[n,q,p,E];
this.$z()};bL.prototype.I=function(){return this.agK.slice(0)};function hD(){g9.call(this);this.g=P.z("span","fitem");
this.PT=!1;this.ip=new bG("No",!1,"Cancel");this.bD=new bG("Yes",!1,"Confirm");this.g.appendChild(this.ip.g);
this.g.appendChild(this.bD.g);this.ip.R("click",this.KE,this);this.bD.R("click",this.KE,this);this.N()}hD.prototype=new g9;
hD.prototype.N=function(){this.ip.l$(P.ic("cross",null,"autoscale"));this.bD.l$(P.ic("checkmark",null,"autoscale"))};
hD.prototype.KE=function(n){this.PT=n.target==this.bD;this.K(new UIEvent("click"))};hD.prototype.I=function(){return this.PT};
function r(n){g9.call(this);this.Xy=n;this.g=P.z("div","");this.DD=[];this.mo=null;this.ant=[]}r.prototype=new g9;
r.prototype.EO=function(n){};r.prototype.DY=function(){return!1};r.prototype.rb=function(n,q){};r.prototype.ts=function(n,q){};
r.prototype.Kr=function(n){};r.prototype.j=function(n,q,p,E,T,i){var H=[],Z=this.DD,w=0,d=fU.ti["s"+this.Xy];
d?d(n,H,i):this.Zq(n,H,i);for(var R=0;R<Z.length;R++)if(!(Z[R]instanceof jh))Z[R].j(H[w++]);if(n.RndS)this.mo=n.RndS.v};
r.prototype.I=function(){var n=fU.yQ(this.Xy),q=[],p=this.DD,E=0;for(var R=0;R<p.length;R++)if(!(p[R]instanceof jh))q[E++]=p[R].I();
var T=fU.ti["g"+this.Xy];T?T(n,q):this.TG(n,q);if(n.RndS)n.RndS.v=this.mo;return n};r.prototype.IY=function(n){};
r.prototype.Ld=function(n){if(n&&n.target instanceof bG){this.mo=Math.floor(Math.random()*4294967295)}var q=this.ant;
for(var R=0;R<q.length;R+=2){var p=this.DD[q[R]],E=this.DD[q[R+1]],T=p.I(),i=E.I();if(n.target==p)E.j(Math.max(T,i));
else p.j(Math.min(T,i))}this.K(new ea(P.E.b))};r.prototype.N=function(){for(var R=0;R<this.DD.length;
R++)this.DD[R].N()};r.prototype.xI=function(n){P.oI(this.g,"form");var q=this.DD;for(var R=0;R<q.length;
R++){var p=q[R];p.parent=this;p.R(P.E.b,this.Ld,this);this.g.appendChild(p.g);if(p instanceof dq&&q[R+1]instanceof ja)continue;
if(n&&n.indexOf(R)!=-1)P.xf(this.g);else P.OK(this.g)}var E=fU.yQ(this.Xy);if(E.RndS){var T=new bG("Randomize",null,null,!0);
this.g.appendChild(T.g);T.R("click",this.Ld,this)}};r.prototype.tc=function(){return!1};r.prototype.LA=function(n,q,p,E,T){};
r.prototype.Tw=function(n,q,p,E,T){};r.prototype.HO=function(n,q,p,E,T){};r.prototype.TG=function(n,q){};
r.prototype.Zq=function(n,q){};r.prototype.iH=function(n){var q=n.target.I().indexOf(!0)!=-1,p=new ea(P.E.T,!0);
p.JC=!0;p.data={e:q?P.C.Tk:P.C.hT,i:A.T5};this.K(p);p=new ea(P.E.u,!0);p.i=A.T5;p.JC=!0;p.data={e:"supertool",i:q?this:null};
this.K(p)};r.Bokh=function(){r.call(this,"Bokh");this.DD=[new gJ("Depth Map",["A","b"]),new ej("Focal Distance",0,255),new gJ([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new ej([12,56],0,100),new ej([12,15],0,360),new ej([12,2],0,100),new ej([4,13],0,255),new ej([24,6],0,100),new c2([12,58],[[12,59,0],[12,59,1]]),new dq([12,60])];
this.xI([4,6])};r.Bokh.prototype=new r;r.Bokh.prototype.Zq=function(n,q,p){var E=[[22,5,0],[6,5,3],[6,2]],T=n.BkDi.v.BtDi,i=n.BkDc,H=0;
if(T=="BeIn")H=0;else if(T=="BeIt"&&i.v.BtDc=="BeCt")H=1;else if(T=="BeIt"&&i.v.BtDc=="BeCm")H=2;else H=3+i.v;
for(var R=0;R<p[1].length;R++)E.push(p[1][R].name);this.DD[0].qj(E,[3]);q[0]=H;q[1]=n.BkDp.v;q[2]=parseInt(n.BkIs.v.BtIs.slice(3))-3;
q[3]=n.BkIb.v;q[4]=n.BkIr.v;q[5]=n.BkSb.v;q[6]=n.BkSt.v;q[7]=n.BkNa.v;q[8]=n.BkNt.v.BtNt=="BeNu"?0:1;
q[9]=n.BkNm.v};r.Bokh.prototype.TG=function(n,q){var p;if(q[0]==0){p="BeIn";delete n.BkDc}else if(q[0]<3){p="BeIt";
n.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][q[0]-1]}}}else{p="BeIa";n.BkDc={t:"long",v:q[0]-3}}n.BkDi.v.BtDi=p;
n.BkDp.v=q[1];n.BkIs.v.BtIs="BeS"+(3+q[2]);n.BkIb.v=q[3];n.BkIr.v=q[4];n.BkSb.v=q[5];n.BkSt.v=q[6];n.BkNa.v=q[7];
n.BkNt.v.BtNt=["BeNu","BeNg"][q[8]];n.BkNm.v=q[9]};r.oilPaint=function(){r.call(this,"oilPaint");this.DD=[new ej([12,56],.1,10,"px",!0),new ej("Cleanliness",0,10,"px",!0),new ej([12,38],.1,10,null,!0),new ej("Bristle Detail",0,10,null,!0),new dq("Lighting"),new ej("Shine",0,10,null,!0),new fz([12,15])];
this.xI()};r.oilPaint.prototype=new r;r.oilPaint.prototype.Zq=function(n,q){var p="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<p.length;R++)q[R]=n[p[R]].v;q[6]=[n.LghD.v]};r.oilPaint.prototype.TG=function(n,q){var p="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<p.length;R++)n[p[R]].v=q[R];n.LghD.v=q[6][0]};r.TrcC=function(){r.call(this,"TrcC");this.DD=[new ej("Level",0,255),new c2([12,69],[[19,4,1],[19,4,0]])];
this.xI()};r.TrcC.prototype=new r;r.TrcC.prototype.Zq=function(n,q){q[0]=n.Lvl.v;q[1]=["Lwr","Upr"].indexOf(n.Edg.v.CntE)};
r.TrcC.prototype.TG=function(n,q){n.Lvl.v=q[0];n.Edg.v.CntE=["Lwr","Upr"][q[1]]};r["Dfs "]=function(){r.call(this,"Dfs ");
this.DD=[new c2([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.xI()};r["Dfs "].prototype=new r;
r["Dfs "].prototype.Zq=function(n,q){q[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(n.Md.v.DfsM)};
r["Dfs "].prototype.TG=function(n,q){n.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][q[0]]};r.Embs=function(){r.call(this,"Embs");
this.DD=[new fz([12,15]),new ej([12,42],1,100,"px"),new ej([12,57],1,500,"%")];this.xI()};r.Embs.prototype=new r;
r.Embs.prototype.Zq=function(n,q){q[0]=[n.Angl.v];q[1]=n.Hght.v;q[2]=n.Amnt.v};r.Embs.prototype.TG=function(n,q){n.Angl.v=q[0][0];
n.Hght.v=q[1];n.Amnt.v=q[2]};r["Wnd "]=function(){r.call(this,"Wnd ");this.DD=[new c2([12,32],["Wind","Blast","Stagger"]),new c2([12,33],["From the Right","From the Left"])];
this.xI()};r["Wnd "].prototype=new r;r["Wnd "].prototype.Zq=function(n,q){q[0]=["Wnd","Blst","Stgr"].indexOf(n.WndM.v.WndM);
q[1]=["Left","Rght"].indexOf(n.Drct.v.Drct)};r["Wnd "].prototype.TG=function(n,q){n.WndM.v.WndM=["Wnd","Blst","Stgr"][q[0]];
n.Drct.v.Drct=["Left","Rght"][q[1]]};r.lightFilterGradient=function(){r.call(this,"lightFilterGradient");
this.DD=[new ej([24,3,1],0,100,"px",1,!0),new ej([12,38],0,200,"%"),new dq([4,11]),new ej("High",0,100,"%"),new ej("Medium",0,100,"%"),new ej("Low",0,100,"%")];
this.xI()};r.lightFilterGradient.prototype=new r;r.lightFilterGradient.prototype.Zq=function(n,q){q[0]=n.blur.v;
q[1]=n.textureScale.v*100;q[2]=n.Scl.v==-1;var p=n.Dtl.v;q[3]=p[0].v*100;q[4]=p[1].v*100;q[5]=p[2].v*100};
r.lightFilterGradient.prototype.TG=function(n,q){n.blur.v=q[0];n.textureScale.v=q[1]/100;n.Scl.v=q[2]?-1:1;
var p=n.Dtl.v;p[0].v=q[3]/100;p[1].v=q[4]/100;p[2].v=q[5]/100};r.Fbrs=function(){r.call(this,"Fbrs");
this.DD=[new ej("Variance",1,64),new ej("Strength",1,64)];this.xI()};r.Fbrs.prototype=new r;r.Fbrs.prototype.Zq=function(n,q){q[0]=n.Vrnc.v;
q[1]=n.Strg.v};r.Fbrs.prototype.TG=function(n,q){n.Vrnc.v=q[0];n.Strg.v=q[1]};r.LnsF=function(){r.call(this,"LnsF");
this.DD=[new ej([12,2],10,300,"%"),new c2([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new ej("Position X",0,100,"%"),new ej("Position Y",0,100,"%")];
this.xI()};r.LnsF.prototype=new r;r.LnsF.prototype.Zq=function(n,q){q[0]=n.Brgh.v;q[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(n.Lns.v.Lns);
var p=n.FlrC.v;q[2]=Math.round(p.Hrzn.v*100);q[3]=Math.round(p.Vrtc.v*100)};r.LnsF.prototype.TG=function(n,q){n.Brgh.v=q[0];
n.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][q[1]];var p=n.FlrC.v;p.Hrzn.v=q[2]/100;p.Vrtc.v=q[3]/100};r.LnsF.prototype.tc=function(){return!0};
r.LnsF.prototype.LA=function(n,q,p,E,T){this.B2=!0;this.aet(n,T)};r.LnsF.prototype.Tw=function(n,q,p,E,T){if(!this.B2)return;
this.aet(n,T)};r.LnsF.prototype.HO=function(n,q,p,E,T){this.B2=!1};r.LnsF.prototype.aet=function(n,q){var p=n.c.hQ(q.x,q.y);
function E(T,i){return Math.round(Math.max(0,Math.min(100,100*T/i)))}this.DD[2].j(E(p.x,n.v));this.DD[3].j(E(p.y,n.o));
this.Ld()};r.blendOptions=function(){r.call(this,"blendOptions");this.DD.push(new gJ([12,19,0],d3.qn,!1,d3.BJ));
this.DD.push(new ej([12,0],0,100,"%"));this.xI()};r.blendOptions.prototype=new r;r.blendOptions.prototype.Zq=function(n,q){q[0]=d3.Uc.indexOf(n.Md.v.BlnM);
q[1]=n.Opct.v.val};r.blendOptions.prototype.TG=function(n,q){n.Md.v.BlnM=d3.Uc[q[0]];n.Opct.v.val=q[1]};
r.LnCr=function(){r.call(this,"LnCr");this.DD=[new ej([12,57],-100,100),new ej([12,38],10,150,"%")];
this.xI()};r.LnCr.prototype=new r;r.LnCr.prototype.Zq=function(n,q){q[0]=n.LnIa.v;q[1]=n.LnSi.v};r.LnCr.prototype.TG=function(n,q){n.LnIa.v=q[0];
n.LnSi.v=q[1]};r.adaptCorrect=function(){r.call(this,"adaptCorrect");var n=bu;this.DD=[new jh([19,6,0]),new n([12,57],0,100,"%"),new n("Tone",0,100,"%"),new n([12,56],0,200,"px"),new jh([19,6,2]),new n([12,57],0,100,"%"),new n("Tone",0,100,"%"),new n([12,56],0,200,"px"),new jh([3]),new n([13,0],-100,100)];
this.xI([3,7])};r.adaptCorrect.prototype=new r;r.adaptCorrect.prototype.Zq=function(n,q){var p=n.sdwM.v;
q[0]=p.Amnt.v.val;q[1]=p.Wdth.v.val;q[2]=p.Rds.v;var p=n.hglM.v;q[3]=p.Amnt.v.val;q[4]=p.Wdth.v.val;
q[5]=p.Rds.v;q[6]=n.ClrC.v};r.adaptCorrect.prototype.TG=function(n,q){var p=n.sdwM.v;p.Amnt.v.val=q[0];
p.Wdth.v.val=q[1];p.Rds.v=q[2];var p=n.hglM.v;p.Amnt.v.val=q[3];p.Wdth.v.val=q[4];p.Rds.v=q[5];n.ClrC.v=q[6]};
r.Flam=function(){r.call(this,"Flam");var n=this.DD=[new gJ([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new ej([12,80,0],20,1e3,"px"),new dq("Randomize Length"),new ej([12,41],5,600,"px"),new ej([12,15],0,360,"\xB0"),new ej("Interval",10,200,"px"),new dq("Adapt Interval for Loops"),new ja(!1),new gJ([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new ej("Turbulent",0,100),new ej("Jag",0,100),new ej([12,0],0,100),new ej("Lines",2,30),new ej("Bottom",0,100),new gJ([12,22],["Normal","Violent","Flat"]),new gJ([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dq("Randomize Shape"),new ej("Random Seed",0,100)];
this.xI();var q=this.g;P.Ls(q);var p=new c2(null,["Basic","Advanced"]);p.R(P.E.b,this.am6,this);q.appendChild(p.g);
P.xf(q);var E=P.z("div"),T=P.z("div");this.abB=[E,T];q.appendChild(E);for(var R=0;R<n.length;R++){(R<9?E:T).appendChild(n[R].g);
if(R==6)P.OK(E)}n[0].R(P.E.b,this.a1s,this);this.a1s()};r.Flam.prototype=new r;r.Flam.prototype.a1s=function(n){var q=this.DD,R=q[0].I();
q[1].aR(R!=0&&R!=5);q[2].aR(R!=0&&R!=5);q[4].aR(R!=0&&R!=5&&R!=1);q[5].aR(R!=0&&R!=5);q[6].aR(R!=0&&R!=5)};
r.Flam.prototype.am6=function(n){var R=n.target.I(),q=this.abB,p=this.g;p.removeChild(q[1-R]);p.appendChild(q[R])};
r.boxblur=function(){r.call(this,"boxblur");this.DD=[new ej([12,56],1,200," px")];this.xI()};r.boxblur.prototype=new r;
r.boxblur.prototype.Zq=function(n,q){q[0]=n.Rds.v.val};r.boxblur.prototype.TG=function(n,q){n.Rds.v.val=q[0]};
r.GsnB=function(){r.call(this,"GsnB");this.DD=[new ej([12,56],.1,400,"px",1,!0)];this.xI()};r.GsnB.prototype=new r;
r.MtnB=function(){r.call(this,"MtnB");this.DD=[new fz([12,15]),new ej([12,28],1,100," px")];this.xI()};
r.MtnB.prototype=new r;r.RdlB=function(){r.call(this,"RdlB");this.DD=[new ej([12,57],1,100),new c2([12,36],["Spin","Zoom"]),new bu("Off X",0,1,null,2),new bu("Off Y",0,1,null,2)];
this.xI()};r.RdlB.prototype=new r;r.RdlB.prototype.Zq=function(n,q){q[0]=n.Amnt.v;q[1]=["Spn","Zm"].indexOf(n.BlrM.v.BlrM);
q[2]=n.Cntr.v.Hrzn.v;q[3]=n.Cntr.v.Vrtc.v};r.RdlB.prototype.TG=function(n,q){n.Amnt.v=q[0];n.BlrM.v.BlrM=["Spn","Zm"][q[1]];
n.Cntr.v.Hrzn.v=q[2];n.Cntr.v.Vrtc.v=q[3]};r.Dspl=function(){r.call(this,"Dspl");this.DD=[new gJ([6,36,3],["a","b"]),new ej([22,4,0],-100,100,"px"),new ej([22,4,1],-100,100,"px"),new gJ([24,18,0],[[24,18,3],[24,18,2]])];
this.xI()};r.Dspl.prototype=new r;r.Dspl.prototype.Zq=function(n,q,p){this.ah3=[];this.Vl=[];var E=-1,T=p?p[0]:null;
if(T==null)T=this.a7l;else this.a7l=T;if(T)for(var R=0;R<T.length;R++){var i=T[R];this.ah3.push(i.KF.trim());
this.Vl.push(i.l5);if(i.l5==n.DspF.v.pth)E=R}this.DD[0].qj(this.ah3);q[0]=E==-1?0:E;q[1]=n.HrzS.v;q[2]=n.VrtS.v;
q[3]=["WrpA","RptE"].indexOf(n.UndA.v.UndA)};r.Dspl.prototype.TG=function(n,q){if(this.Vl.length==0)return;
n.DspF.v.pth=this.Vl[q[0]];n.HrzS.v=q[1];n.VrtS.v=q[2];n.UndA.v.UndA=["WrpA","RptE"][q[3]]};r.Pnch=function(){r.call(this,"Pnch");
this.DD=[new ej([12,57],-100,100,"%")];this.xI()};r.Pnch.prototype=new r;r["Plr "]=function(){r.call(this,"Plr ");
this.DD=[new c2(null,["Rect to Polar","Polar to Rect"])];this.xI()};r["Plr "].prototype=new r;r.Rple=function(){r.call(this,"Rple");
this.DD=[new ej([12,57],-999,999),new gJ([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.xI()};r.Rple.prototype=new r;
r["Shr "]=function(){r.call(this,"Shr ");this.DD=[new hF(!0,!0),new gJ([24,18,0],[[24,18,3],[24,18,2]])];
this.xI()};r["Shr "].prototype=new r;r["Shr "].prototype.Zq=function(n,q){var p=new b$(0,255/127,255/127,0,-2,128),E=JSON.parse(JSON.stringify(n.ShrP.v));
j.A6.B(E,p);q[0]=E;q[1]=["WrpA","RptE"].indexOf(n.UndA.v.UndA)};r["Shr "].prototype.TG=function(n,q){var p=new b$(0,255/127,255/127,0,-2,128);
p.z3();j.A6.B(q[0],p);n.ShrP.v=q[0];n.ShrE.v=q[0].length-1;n.UndA.v.UndA=["WrpA","RptE"][q[1]]};r.Sphr=function(){r.call(this,"Sphr");
this.DD=[new ej([12,57],-100,100),new gJ([12,36],["Normal",[22,4,0],[22,4,1]])];this.xI()};r.Sphr.prototype=new r;
r.Sphr.prototype.Zq=function(n,q){q[0]=n.Amnt.v;q[1]=["Nrml","HrzO","VrtO"].indexOf(n.SphM.v.SphM)};
r.Sphr.prototype.TG=function(n,q){n.Amnt.v=q[0];n.SphM.v.SphM=["Nrml","HrzO","VrtO"][q[1]]};r.Twrl=function(){r.call(this,"Twrl");
this.DD=[new ej([12,15],-999,999)];this.xI()};r.Twrl.prototype=new r;r.Wave=function(){r.call(this,"Wave");
this.ant=[1,2,3,4];this.DD=[new ej("Number of Generators",1,100),new bu("Min Length",1,999),new bu("Max Length",1,999),new bu("Min Ampl.",1,999),new bu("Max Ampl.",1,999),new bu("Scale X",1,100,"%"),new bu("Scale Y",1,100,"%"),new c2([12,44],["Sine","Triangle",[12,93,3]]),new gJ([24,18,0],[[24,18,3],[24,18,2]]),new gT("Randomizer Seed")];
this.xI()};r.Wave.prototype=new r;r.Wave.prototype.Zq=function(n,q){q[0]=n.NmbG.v;q[1]=n.WLMn.v;q[2]=n.WLMx.v;
q[3]=n.AmMn.v;q[4]=n.AmMx.v;q[5]=n.SclH.v;q[6]=n.SclV.v;q[7]=["WvSn","WvTr","WvSq"].indexOf(n.Wvtp.v.Wvtp);
q[8]=["WrpA","RptE"].indexOf(n.UndA.v.UndA);q[9]=n.RndS.v};r.Wave.prototype.TG=function(n,q){n.NmbG.v=q[0];
n.WLMn.v=q[1];n.WLMx.v=q[2];n.AmMn.v=q[3];n.AmMx.v=q[4];n.SclH.v=q[5];n.SclV.v=q[6];n.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][q[7]];
n.UndA.v.UndA=["WrpA","RptE"][q[8]];var p=parseInt(q[9]);if(isNaN(p))p=248325464;p=Math.max(0,Math.min(268435455,p));
n.RndS.v=p;this.DD[9].j(p)};r.ZgZg=function(){r.call(this,"ZgZg");this.DD=[new ej([12,57],-100,100),new ej("Ridges",0,20),new gJ([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.xI()};r.ZgZg.prototype=new r;r.surfaceBlur=function(){r.call(this,"surfaceBlur");this.DD=[new ej([12,56],1,200," px"),new ej([4,13],1,255," px")];
this.xI()};r.surfaceBlur.prototype=new r;r.surfaceBlur.prototype.Zq=function(n,q){q[0]=n.Rds.v.val;q[1]=n.Thsh.v};
r.surfaceBlur.prototype.TG=function(n,q){n.Rds.v.val=q[0];n.Thsh.v=q[1]};r.AdNs=function(){r.call(this,"AdNs");
this.DD=[new ej([12,57],0,200," %"),new gJ([12,58],[[12,59,1],[12,59,0]]),new dq([12,60])];this.xI()};
r.AdNs.prototype=new r;r.DstS=function(){r.call(this,"DstS");this.DD=[new ej([12,56],1,200," px"),new ej([4,13],1,255," px")];
this.xI()};r.DstS.prototype=new r;r["Mdn "]=function(){r.call(this,"Mdn ");this.DD=[new ej([12,56],1,200," px")];
this.xI()};r["Mdn "].prototype=new r;r["Mdn "].prototype.Zq=function(n,q){q[0]=n.Rds.v.val};r["Mdn "].prototype.TG=function(n,q){n.Rds.v.val=q[0]};
r.ClrH=function(){r.call(this,"ClrH");this.DD=[new ej([12,56],4,100," px")];for(var R=1;R<4;R++)this.DD.push(new ej("Angle "+R,0,90," \xB0"));
this.xI()};r.ClrH.prototype=new r;r.ClrH.prototype.Zq=function(n,q){q[0]=n.Rds.v;for(var R=1;R<4;R++)q[R]=n["Ang"+R].v};
r.ClrH.prototype.TG=function(n,q){n.Rds.v=q[0];for(var R=1;R<4;R++)n["Ang"+R].v=q[R]};r.ClrH.prototype.N=function(){var n=this.DD;
n[0].N();for(var R=1;R<4;R++)n[R].l$(fE.get([12,15])+" "+R)};r.Crst=function(){r.call(this,"Crst");this.DD=[new ej([12,61],3,100," px")];
this.xI()};r.Crst.prototype=new r;r.Crst.prototype.Zq=function(n,q){q[0]=n.ClSz.v};r.Crst.prototype.TG=function(n,q){n.ClSz.v=q[0]};
r.Mztn=function(){r.call(this,"Mztn");this.DD.push(new gJ([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.Vl="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.xI()};r.Mztn.prototype=new r;
r.Mztn.prototype.Zq=function(n,q){q[0]=this.Vl.indexOf(n.MztT.v.MztT)};r.Mztn.prototype.TG=function(n,q){n.MztT.v.MztT=this.Vl[q[0]]};
r["Msc "]=function(){r.call(this,"Msc ");this.DD=[new ej([12,61],2,200," px")];this.xI()};r["Msc "].prototype=new r;
r["Msc "].prototype.Zq=function(n,q){q[0]=n.ClSz.v.val};r["Msc "].prototype.TG=function(n,q){n.ClSz.v.val=q[0]};
r.Pntl=function(){r.call(this,"Pntl");this.DD=[new ej([12,61],3,100," px")];this.xI()};r.Pntl.prototype=new r;
r.Pntl.prototype.Zq=function(n,q){q[0]=n.ClSz.v};r.Pntl.prototype.TG=function(n,q){n.ClSz.v=q[0]};r.smartSharpen=function(){r.call(this,"smartSharpen");
this.DD=[new ej([12,57],1,200,"%"),new ej([12,56],0,200,"px",1,!0)];this.xI()};r.smartSharpen.prototype=new r;
r.smartSharpen.prototype.Zq=function(n,q){q[0]=n.Amnt.v.val;q[1]=n.Rds.v.val};r.smartSharpen.prototype.TG=function(n,q){n.Amnt.v.val=q[0];
n.Rds.v.val=q[1]};r.UnsM=function(){r.call(this,"UnsM");this.DD=[new ej([12,57],1,200," %"),new ej([12,56],.1,400,"px",1,!0),new ej([4,13],0,255," ")];
this.xI()};r.UnsM.prototype=new r;r.HghP=function(){r.call(this,"HghP");this.DD=[new ej([12,56],.1,400,"px",1,!0)];
this.xI()};r.HghP.prototype=new r;r.HsbP=function(){r.call(this,"HsbP");this.DD=[new c2("Input",["RGB","HSB","HSL"]),new c2("Output",["RGB","HSB","HSL"])];
this.xI()};r.HsbP.prototype=new r;r["Mxm "]=function(){r.call(this,"Mxm ");this.DD=[new ej([12,56],.1,200," px",1,!0),new gJ([12,76,1],["Square","Circle"])];
this.xI()};r["Mxm "].prototype=new r;r["Mnm "]=function(){r.call(this,"Mnm ");this.DD=[new ej([12,56],.1,200," px",1,!0),new gJ([12,76,1],["Square","Circle"])];
this.xI()};r["Mnm "].prototype=new r;r.Ofst=function(){r.call(this,"Ofst");this.DD=[new ej([22,4,0],-1024,1024," px"),new ej([22,4,1],-1024,1024," px"),new gJ([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.xI()};r.Ofst.prototype=new r;r.Rept=function(){r.call(this,"Rept");this.DD=[new bu([12,38],1,300," %"),new bu("Row Shift",-50,50," %"),new bu("Space X",-99,200," %"),new bu("Space Y",-99,200," %"),new dq([4,16,2]),new fz([12,15])];
this.xI()};r.Rept.prototype=new r;r.Rept.prototype.Zq=function(n,q){q[0]=n.Scl.v.val;q[1]=n.Rsft.v.val;
q[2]=n.SpcX.v.val;q[3]=n.SpcY.v.val;q[4]=n.SpcC.v;q[5]=[n.Angl.v]};r.Rept.prototype.TG=function(n,q){n.Scl.v.val=q[0];
n.Rsft.v.val=q[1];n.SpcX.v.val=q[2];n.SpcY.v.val=q[3];n.SpcC.v=q[4];n.Angl.v=q[5][0];return n};r.Ctoa=function(){r.call(this,"Ctoa");
this.DD=[new jh([13,0]),new ja(!0),new ej(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new ej(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.xI()};r.Ctoa.prototype=new r;r.Ctoa.prototype.Zq=function(n,q){q[0]=n.Clr.v;q[1]=n.Trsp.v.val;q[2]=n.Opct.v.val};
r.Ctoa.prototype.TG=function(n,q){n.Clr.v=q[0];n.Trsp.v.val=q[1];n.Opct.v.val=q[2]};r.LqFy=function(){r.call(this,"LqFy");
this.IA=!1;this.SF=null;this.ar7=null;this.i=0;this.A={FB:[[{i:{id:0,name:[24,1,0,1,0],wK:"liq/smudge"}}],[{i:{id:1,name:[24,1,0,1,1],wK:"liq/reconstruct"}}],[{i:{id:2,name:[24,1,0,1,2],wK:"liq/smooth"}}],[{i:{id:3,name:[24,1,0,1,3],wK:"liq/twirl"}}],[{i:{id:4,name:[24,1,0,1,4],wK:"liq/shrink"}}],[{i:{id:5,name:[24,1,0,1,5],wK:"liq/blow"}}],[{i:{id:6,name:[24,1,0,1,6],wK:"liq/pleft"}}],[{i:{id:7,name:"Hand",wK:"tools/hand"}}],[{i:{id:8,name:"Zoom In",wK:"zoomIn"}}],[{i:{id:9,name:"Zoom Out",wK:"zoomOut"}}]],keys:[]};
this.zL=new hp(this.A,!1);this.zL.Bg(0);this.zL.R(P.E.T,this.a9A,this);this.jP=gV.y$();this.KG=null;
this.Y5=[];this.n$=-1;this.mV=null;this.a0C=null;this.Ds=null;this.yj=null;this.eZ=null;var n=P.z("div","flexrow");
this.UJ=n;this.g.appendChild(n);n.appendChild(this.zL.g);this.view=new eB(!0);this.view.rb(100,100);
this.view.R("mousedown",this.IO,this);this.view.R("mousemove",this.a_,this);this.view.R("mouseup",this.Ml,this);
this.view.R("zoom",this.Pl,this);n.appendChild(this.view.g);var q=P.z("div","form");n.appendChild(q);
this.Mr=q;q.style.width="230px";this.Z0=[new ej([12,14,0],0,1e3,null,!1,!0),new ej([12,74],0,100,null,!1,!1),new ej([12,84],0,100,null,!1,!1),new dq([12,46]),new ej([12,0],0,100,null,!1,!1)];
var p=this.jP.Brsh.v;p.Dmtr.v.val=100;var E=[100,50,100,!1,100];for(var R=0;R<this.Z0.length;R++){var T=this.Z0[R];
T.j(E[R]);T.R(P.E.b,this.al1,this);q.appendChild(T.g)}var i=new bG("Reset",!0,null,!0);i.R("click",this.dV,this);
q.appendChild(i.g);this.bH=new g9;this.bH.g=P.z("div","floatcont");this.Y7=new bG("Menu",!1,null,!0);
this.Y7.R("click",this.alI,this);var H=this.Y7.g;H.setAttribute("style","position:absolute; right:13px; top:47px")};
r.LqFy.prototype=new r;r.LqFy.prototype.DY=function(){return!0};r.LqFy.prototype.EO=function(n){this.Mr.appendChild(n)};
r.LqFy.prototype.alI=function(n){var q=this.Y7.g.getBoundingClientRect();this.bH.g.appendChild(this.Mr);
var p=new ea(P.E.T,!0);p.data={e:P.C.KU,yx:this.bH,x:q.right+q.width-290,y:q.top+q.height};this.K(p)};
r.LqFy.prototype.IY=function(n){this.IA=n.r(aj.sL);var q=A.o8.Oe(this.jP,n);if(q!=null){this.jP=q;this.Pl();
this.Z0[0].j(q.Brsh.v.Dmtr.v.val)}else if(n.r(aj.Fj)&&n.r(aj.pl)){var p=this.Y5;if(n.r(aj.$t)){if(this.n$+1<p.length)this.n$++}else if(this.n$>0)this.n$--;
this.KG.map=p[this.n$].slice(0);this.EA(null)}else this.view.IY(n)};r.LqFy.prototype.a9A=function(n){if(n.data.e==P.C.Tk){var q=this.i=n.data.i;
this.zL.Bg(this.i);this.view.IY(q>6?eB.a4b(q-7):new aj)}};r.LqFy.prototype.al1=function(n){var q=n.currentTarget,R=this.Z0.indexOf(q),p=this.jP.Brsh.v;
if(R==0){p.Dmtr.v.val=q.I();this.Pl()}if(R>2)this.EA(null)};r.LqFy.prototype.fT=function(){var n=this.Y5;
this.n$++;n[this.n$]=this.KG.map.slice(0);while(n.length>this.n$+1)n.pop();while(n.length>50){n=n.slice(1);
this.n$--}};r.LqFy.prototype.IO=function(n){this.bE();this.SF=this.view.FZ();this.ar7=new fc(0,0);this.R(P.E.q4,this.hB,this)};
r.LqFy.prototype.a_=function(n){var q=this.view.FZ(),p=new fc(q.x-this.SF.x,q.y-this.SF.y);if(this.i==0||this.i==6)this.a4j(p);
this.SF=q};r.LqFy.prototype.Ml=function(n){this.fT();this.bE()};r.LqFy.prototype.bE=function(){if(this.Fu(P.E.q4,this.hB))this.removeEventListener(P.E.q4,this.hB,this)};
r.LqFy.prototype.hB=function(n){if(this.i!=0&&this.i!=6)this.a4j(new fc(0,0))};r.LqFy.prototype.a4j=function(n){var q=this.KG,p=q.XF/this.mV.v,E=this.SF,T=this.jP.Brsh.v,i=T.Dmtr.v.val,H=Date.now(),Z=q.XF,w=q.rZ,d=Math.sqrt(n.x*n.x+n.y*n.y),O=Math.max(1,Math.ceil(d/2)),W=n.x/O,C=n.y/O,a=E.clone(),B=this.i,$=this.Z0[1].I()/100,I=this.Z0[2].I()/100,x=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],U=x[B*2],N=x[B*2+1],m=(1-$)*U+$*N,f=i*p/2;
for(var R=0;R<O;R++){var c=[];a.x+=W;a.y+=C;j.Vv.agY(q.map,Z,w,B,a.x*p,a.y*p,f,$,I,W*p,C*p,c,this.IA);
j.Vv.aoA(Z,w,q.map,c,2*m*I)}var D=new eL(0,0,Z,w),z=new eL(E.x*p,E.y*p,0,0);z.ZU(i*p*.5,i*p*.5);var _=z.clone();
_.offset(n.x*p,n.y*p);z=z.AL(_);var v=new eL(z.x/p,z.y/p,z.v/p,z.o/p);v=j.O.Xf(v).O1(this.mV);this.EA(v)};
r.LqFy.prototype.Pl=function(){var n=iX.qr(this.jP,null,this.view.hV().n);this.view.t5(n)};r.LqFy.prototype.j=function(n,q,p,E,T){p=p.clone();
if(q==null)return;if(!E.rv(p)){var i=p.AL(E),H=j.U(i.P()*4);j.hk(q,p,H,i);q=H;p=i;var Z=j.U(i.P()*4);
j.hk(T,E,Z,i);T=Z}p.x=p.y=0;this.Ds=q;this.a0C=T;this.eZ=q.slice(0);this.yj=q.slice(0);this.mV=p;this.KG=d_.U4(new Uint8Array(n.LqMe.v).buffer);
var w=p.v,d=p.o;if(this.KG.XF/w<.22){this.KG={XF:Math.floor(w/4),rZ:Math.floor(d/4)};this.KG.map=new Float32Array(this.KG.XF*this.KG.rZ*2)}this.Y5=[];
this.n$=-1;this.fT();this.EA(null);this.Pl()};r.LqFy.prototype.I=function(){this.bE();var n=fU.yQ("LqFy"),q=new Uint8Array(d_.SY(this.KG)),p=[];
for(var R=0;R<q.length;R++)p.push(q[R]);n.LqMe.v=p;return n};r.LqFy.prototype.rb=function(n,q){this.zL.rb(n,q);
var p=this.Y7.g,E=this.Mr;this.UJ.appendChild(E);this.UJ.appendChild(p);if(n>450&&n-q>200){E.style.marginLeft="1em";
this.UJ.removeChild(p);this.view.rb(n-238-45,q)}else{E.style.marginLeft="";this.UJ.removeChild(E);this.view.rb(n-40,q)}};
r.LqFy.prototype.N=function(){this.zL.N();for(var R=0;R<this.Z0.length;R++)this.Z0[R].N()};r.LqFy.prototype.dV=function(){this.bE();
this.KG.map.fill(0);this.fT();this.EA(null)};r.LqFy.prototype.EA=function(n){var q=this.mV,p=this.Ds,E=this.eZ,T=this.KG;
j.Vv.Cc(p,this.yj,q.v,q.o,n,T.map,T.XF,T.rZ,0);if(this.Z0[3].Jc()){j.hk(this.a0C,q,E,q,n?n:q);j.a.Ef("norm",this.yj,q,E,q,n?n:q,this.Z0[4].I()/100)}else j.Sa(this.yj,E);
this.view.j([{Yd:q,data:E.buffer}])};r.GEfc=function(){r.call(this,"GEfc");this.I5=0;this.eF=0;this.Ds=null;
this.eZ=null;this.mV=null;this.BW=null;this.km=null;this.Tq=0;var n=P.z("div","flexrow");this.UJ=n;this.g.appendChild(n);
this.view=new eB(null);this.view.rb(100,100);n.appendChild(this.view.g);this.tb="";this.R9=270;var q=this.ZO=P.z("div","form scrollable");
n.appendChild(q);q.setAttribute("style","width:"+this.R9+"px;  margin-left:10px");var p=this.gx=P.z("div","form");
n.appendChild(p);p.setAttribute("style","width:230px;  margin-left:1em");this.bg={};for(var E in bf.names){var T=new r.GEfc.kz(E);
T.parent=this;this.bg[E]=T;T.R(P.E.b,this.a50,this)}this.ma=!0;this.Y7=new bG("Menu",null,null,!0);this.Y7.R("click",this.ajs,this);
n.appendChild(this.Y7.g);this.u2=new bG(">>",null,null,!0);this.u2.R("click",this.acZ,this);p.appendChild(this.u2.g);
this.eQ=P.z("div");this.eQ.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
p.appendChild(this.eQ);this._9=P.z("div");this._9.style.minHeight="14em";this._9.style.marginBottom="1em";
p.appendChild(this._9);this.u3=P.z("div","lpbody scrollable");this._s=P.z("div","lpfoot");p.appendChild(this.u3);
p.appendChild(this._s);this.R("click",this.aea,this);this.CF=[];gb.TT([[5,3],[5,4]],this.CF,this._s,this.LQ.bind(this))};
r.GEfc.prototype=new r;r.GEfc.prototype.DY=function(){return!0};r.GEfc.prototype.EO=function(n){this.eQ.appendChild(n)};
r.GEfc.prototype.ts=function(n,q){this.BW=n};r.GEfc.prototype.acZ=function(n){var q=this.ZO.style.display!="none";
this.ZO.style.display=q?"none":"";this.u2.l$(q?"<<":">>");this.rb()};r.GEfc.prototype.ajs=function(n){this.ma=!this.ma;
this.rb()};r.GEfc.prototype.rb=function(n,q){var p=this.ZO.style.display!="none";if(n!=null){this.I5=n;
this.eF=q;if(n<1e3&&p||n>=1e3&&!p){this.acZ();p=!p}this.ma=n>600}else{n=this.I5;q=this.eF}var E=this.ma?240+(p?this.R9+10:0):0;
if(P.pM(this.gx)&&!this.ma){this.UJ.removeChild(this.ZO);this.UJ.removeChild(this.gx)}if(!P.pM(this.gx)&&this.ma){this.UJ.appendChild(this.ZO);
this.UJ.appendChild(this.gx)}this.ZO.style.height=q+"px";this.view.rb(n-E,q);this.u3.style.height=q-this._9.getBoundingClientRect().height-96+"px";
this.Y7.g.setAttribute("style","position:absolute; top:46px;  right:"+(E+16)+"px")};r.GEfc.prototype.a5k=function(){var n=al.bG.get("img/beach",!0)[0],q=n.Yd,p=this.ZO,E=Math.floor(P.D()*(this.R9-40)/3),T=~~(E*.7),i=new eL(0,0,E,T),H=j.U(E*T*4),Z=H.slice(0),w=Math.round(10*P.D()),d=new ImageData(new Uint8ClampedArray(Z.buffer),E,T);
j.hk(new Uint8Array(n.data),q,H,new eL(Math.round((q.v-E)/2),Math.round((q.o-T)/2),E,T));var O=P.z("canvas"),W=O.getContext("2d");
O.width=E;O.height=T+Math.round(w*1.5);W.font=w+"px sans-serif";this.QK={};var C=this.a1W.bind(this);
for(var R=0;R<bf.DJ.length;R++){var a=bf.DJ[R],B=P.z("div");p.appendChild(B);B.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
B.textContent=fE.get(a);for(var $ in bf.names){var I=bf.names[$];if(I[0]!=R)continue;bf._g($,{rect:i,buffer:H},bf.yQ($),{_:0,q:0,X:0},{_:255,q:255,X:255},{rect:i,buffer:Z},{});
W.fillStyle="black";W.fillRect(0,0,500,500);W.putImageData(d,0,0);var x=fE.get(I[1]);W.fillStyle="white";
W.fillText(x,(E-W.measureText(x).width)/2,T+Math.round(w*1.1));var U=P.z("div");p.appendChild(U);U.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
U.addEventListener("click",C,!1);var B=P.z("img");U.appendChild(B);B.setAttribute("src",O.toDataURL());
B.setAttribute("style","width:"+E/P.D()+"px; margin-bottom:0px;");this.QK[$]=U}}};r.GEfc.prototype.a1W=function(n){var q;
for(var p in this.QK)if(this.QK[p]==n.currentTarget)this.tb=p;this.a50()};r.GEfc.prototype.LQ=function(n){var q=gb.aW(this.CF,n),p=this.km.GEfs.v,E=p[this.Tq].v;
if(q==0){p.push(JSON.parse(JSON.stringify(p[this.Tq])));this.Tq=p.length-1}else if(p.length>1){p.splice(this.Tq,1);
if(this.Tq==p.length)this.Tq--}this.dR();this.EA()};r.GEfc.prototype.a50=function(n){var q=this.tb,p;
if(n==null)p=bf.yQ(q);else p=this.bg[q].I();this.km.GEfs.v[this.Tq].v=p;this.dR();this.EA()};r.GEfc.prototype.j=function(n,q,p,E,T){if(this.QK==null)this.a5k();
n=this.km=JSON.parse(JSON.stringify(n));if(n.GEfs==null)n=this.km={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:n}]}};
var i=n.GEfs.v;for(var R=0;R<i.length;R++)if(i[R].v.GELv==null)i[R].v.GELv={t:"bool",v:!0};this.Tq=i.length-1;
this.dR();p=p.clone();if(q==null)return;if(!E.rv(p)&&bf.Aw(n).x!=0){var H=p.AL(E),Z=j.U(H.P()*4);j.hk(q,p,Z,H);
q=Z;p=H}p.x=p.y=0;this.Ds=q;this.eZ=q.slice(0);this.mV=p;this.EA()};r.GEfc.prototype.aea=function(n){var q=n.data,R=q.ap,p=this.km.GEfs.v;
if(q.S8){p[R].v.GELv.v=!p[R].v.GELv.v;this.EA()}else this.Tq=R;this.dR()};r.GEfc.prototype.dR=function(){var n=this.km.GEfs.v,q=n[this.Tq].v,p=q.GEfk.v.GEft,E=this._9;
if(bf.names[p]==null){alert("Unsupported gallery filter");P.Ls(E)}else{this.tb=p;for(var T in this.QK)P.kO(this.QK[T],"selected");
P.oI(this.QK[p],"selected");var i=this.bg[p];i.j(q);if(E.firstChild!=i.g){P.Ls(E);E.appendChild(i.g)}}var H=[];
for(var R=0;R<n.length;R++){var Z=n[R].v,w=bf.names[Z.GEfk.v.GEft],d=new h3(R,!0,!0,null,w?w[1]:"Filter",R==this.Tq,Z.GELv.v);
d.parent=this;H.push(d.g)}P.Ls(this.u3);H.reverse();for(var R=0;R<H.length;R++)this.u3.appendChild(H[R]);
this.rb()};r.GEfc.prototype.I=function(){return JSON.parse(JSON.stringify(this.km))};r.GEfc.prototype.EA=function(n){var q=this.mV,p=this.Ds,E=this.eZ,T=this.tb,i=this.km,H=this.BW;
function Z(w){return{_:w>>>16,q:w>>>8&255,X:w&255}}fU._g("GEfc",{rect:this.mV,buffer:this.Ds},i,Z(H.ny),Z(H.iu),{rect:this.mV,buffer:this.eZ},null);
this.view.j([{Yd:q,data:E.buffer}])};r.GEfc.prototype.N=function(){for(var n in this.bg)this.bg[n].N();
gb.MA(this.CF,["lrs/newlayer","lrs/bin"])};r.GEfc.kz=function(n){g9.call(this);this.LK=n;this.g=P.z("div");
this._2={};var q=bf.yQ(n);for(var p in q){var E=null;if(p=="__name"||p=="classID"||p=="GEfk"||p=="GELv"||["FlRs"].indexOf(p)!=-1)continue;
else if(p=="EdgW")E=new ej("Edge Width",1,14);else if(p=="EdgB")E=new ej("Edge Brightness",0,n=="AccE"?50:20);
else if(p=="Smth")E=new ej([19,3,3],1,n=="Stmp"?50:15);else if(p=="ClSz")E=new ej([12,61],3,100);else if(p=="BrdT")E=new ej([7,9],1,20);
else if(p=="HghS")E=new ej([12,64],0,20);else if(p=="HlSz")E=new ej([12,14,0],1,15);else if(p=="Cntr")E=new ej([12,3,0],0,n=="WtrP"?100:50);
else if(p=="Shrp")E=new ej("Sharpness",0,40);else if(p=="SprR")E=new ej("Spray Radius",0,25);else if(p=="LgDr")E=new ej("Light/Dark Balance",0,n=="Stmp"?50:100);
else if(p=="Drkn")E=new ej("Darkness",1,50);else if(p=="Dstr")E=new ej("Distortion",0,20);else if(p=="Scln")E=new ej([12,38],50,200);
else if(p=="Rlf")E=new ej("Relief",0,n=="Ptch"||n=="NtPr"?25:50);else if(p=="ChAm")E=new ej("Thickness",1,7);
else if(p=="Pncl")E=new ej([19,2,5],1,30);else if(p=="StrP")E=new ej("Stroke Pressure",0,15);else if(p=="PprB")E=new ej("Paper Brightness",0,50);
else if(p=="BrsS")E=new ej("Brush Size",0,10);else if(p=="BrsD")E=new ej("Brush Detail",0,10);else if(p=="Txtr")E=new ej([12,67],1,3);
else if(p=="Grn")E=new ej("Grain",0,20);else if(p=="HghA")E=new ej("Highlight Area",0,20);else if(p=="Intn")E=new ej("Intensity",0,10);
else if(p=="Brgh")E=new ej("Glow Brightness",0,n=="WtrP"?100:50);else if(p=="StrS")E=new ej("Stroke Size",1,50);
else if(p=="StDt")E=new ej("Stroke Detail",1,3);else if(p=="Sftn")E=new ej("Softness",0,10);else if(p=="EdgT")E=new ej("Edge Thickness",0,10);
else if(p=="EdgI")E=new ej("Edge Intensity",0,10);else if(p=="Pstr")E=new ej("Posterization",0,6);else if(p=="Dfnt")E=new ej("Definition",0,25);
else if(p=="TxtC")E=new ej("Texture Coverage",0,50);else if(p=="ShdI")E=new ej("Shadow Intensity",0,10);
else if(p=="DrcB")E=new ej("Direction Balance",0,100);else if(p=="Strg")E=new ej([12,64],1,3);else if(p=="Blnc")E=new ej("Balance",0,10);
else if(p=="BlcI")E=new ej("Black Intensity",0,10);else if(p=="WhtI")E=new ej("White Intensity",0,10);
else if(p=="DrkI")E=new ej("Dark Intensity",0,50);else if(p=="LghI")E=new ej("Light Intensity",0,50);
else if(p=="StrW")E=new ej("Stroke Width",3,15);else if(p=="Grns")E=new ej("Graininess",0,n=="NtPr"?20:10);
else if(p=="GlwA")E=new ej("Glow Amount",0,20);else if(p=="ClrA")E=new ej("Clear Amount",0,20);else if(p=="ChrA")E=new ej("Charcoal Area",0,20);
else if(p=="ChlA")E=new ej("Chalk Area",0,20);else if(p=="FrgL")E=new ej("Foreground Level",1,15);else if(p=="BckL")E=new ej("Background Level",1,15);
else if(p=="WhtL")E=new ej("Background Level",0,50);else if(p=="BlcL")E=new ej("Foreground Level",0,50);
else if(p=="ImgB")E=new ej("Image Balance",0,50);else if(p=="Dnst")E=new ej([12,74],0,50);else if(p=="FbrL")E=new ej("Fiber Length",3,50);
else if(p=="CrcS")E=new ej("Crack Sapcing",2,100);else if(p=="CrcD")E=new ej("Crack Depth",0,10);else if(p=="CrcB")E=new ej("Crack Brightness",0,10);
else if(p=="TlSz")E=new ej("Tile Size",2,100);else if(p=="GrtW")E=new ej("Grout Width",1,15);else if(p=="LghG")E=new ej("Lighten Grout",0,10);
else if(p=="SqrS")E=new ej("Square Size",0,10);else if(p=="RplS")E=new ej("Ripple Size",1,15);else if(p=="RplM")E=new ej("Ripple Magnitude",0,20);
else if(p=="NmbL")E=new ej("Number of Levels",2,8);else if(p=="EdgS")E=new ej("Edge Simplicity",0,10);
else if(p=="EdgF")E=new ej("Edge Fidelity",1,3);else if(p=="Sz")E=n=="NGlw"?new ej("Glow Size",-24,24):new ej([12,14,0],1,50);
else if(p=="Dtl")E=n=="Chrc"?new ej("Detail",0,5):new ej("Detail",1,15);else if(p=="StrL")E=n=="InkO"?new ej("Stroke Length",1,50):new ej("Stroke Length",0,20);
else if(p=="TxtT")E=new gJ([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(p=="BrsT")E=new gJ("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(p=="Grnt")E=new gJ("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(p=="SDir")E=new gJ([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(p=="ScrT")E=new gJ([12,62],["Circle","Dot",[10,35]]);
else if(p=="LghD"||p=="LghP")E=new gJ("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(p=="Clr")E=new ja("Glow Color");else if(p=="InvT")E=new dq([4,11]);else console.log(p);E.R(P.E.b,this.RQ,this);
E.parent=this;this._2[p]=E;this.g.appendChild(E.g)}};r.GEfc.kz.prototype=new g9;r.GEfc.kz.prototype.RQ=function(n){this.K(new ea(P.E.b,!1))};
r.GEfc.aj3="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
r.GEfc.kz.prototype.j=function(n){for(var q in this._2){var p;if(r.GEfc.aj3.indexOf(q)!=-1)p=n[q].v;
else if(q=="TxtT")p=bf.JE.indexOf(n[q].v[q]);else if(q=="BrsT")p=bf.rs.indexOf(n[q].v[q]);else if(q=="LghD")p=bf.BF.indexOf(n[q].v[q]);
else if(q=="LghP")p=bf.lQ.indexOf(n[q].v[q]);else if(q=="Grnt")p=bf.uh.indexOf(n[q].v[q]);else if(q=="ScrT")p=bf.qQ.indexOf(n[q].v[q]);
else if(q=="SDir")p=bf.LU.indexOf(n[q].v.StrD);this._2[q].j(p)}};r.GEfc.kz.prototype.I=function(){var n=bf.yQ(this.LK);
for(var q in this._2){var p=this._2[q].I();if(r.GEfc.aj3.indexOf(q)!=-1)n[q].v=p;else if(q=="TxtT")n[q].v[q]=bf.JE[p];
else if(q=="BrsT")n[q].v[q]=bf.rs[p];else if(q=="LghD")n[q].v[q]=bf.BF[p];else if(q=="LghP")n[q].v[q]=bf.lQ[p];
else if(q=="Grnt")n[q].v[q]=bf.uh[p];else if(q=="ScrT")n[q].v[q]=bf.qQ[p];else if(q=="SDir")n[q].v.StrD=bf.LU[p]}return n};
r.GEfc.kz.prototype.N=function(){for(var n in this._2)this._2[n].N()};r.blnc=function(){r.call(this);
var n=this.g;this.PT=null;this.rr=new gJ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.rr.R(P.E.b,this.EA,this);
n.appendChild(this.rr.g);this.jb=[];for(var R=0;R<3;R++){var q=new ej(iJ.D_[R],-100,100);q.R(P.E.b,this.Ld,this);
this.jb.push(q);n.appendChild(q.g)}this.CO=new dq([13,4]);this.CO.R(P.E.b,this.Ld,this);n.appendChild(this.CO.g)};
r.blnc.prototype=new r;r.blnc.prototype.N=function(){this.rr.N();for(var R=0;R<3;R++)this.jb[R].N();
this.CO.N()};r.blnc.prototype.j=function(n){this.PT=JSON.parse(JSON.stringify(n));this.EA()};r.blnc.prototype.I=function(n){var q=["ShdL","MdtL","HghL"],p=this.PT[q[this.rr.I()]].v;
for(var R=0;R<3;R++)p[R].v=this.jb[R].I();this.PT.PrsL.v=this.CO.I();return JSON.parse(JSON.stringify(this.PT))};
r.blnc.prototype.EA=function(n){var q=["ShdL","MdtL","HghL"],p=this.PT[q[this.rr.I()]].v;for(var R=0;
R<3;R++)this.jb[R].j(p[R].v);this.CO.j(this.PT.PrsL.v)};r.brit=function(){r.call(this,"brit");this.DD.push(new ej([12,2],-150,150,""));
this.DD.push(new ej([12,3,0],-100,100,""));this.DD.push(new dq([12,3,1]));this.xI()};r.brit.prototype=new r;
r.brit.prototype.Zq=function(n,q){q[0]=n.Brgh?n.Brgh.v:0;q[1]=n.Cntr?n.Cntr.v:0;q[2]=n.useLegacy?n.useLegacy.v:!1};
r.brit.prototype.TG=function(n,q){n.Brgh.v=q[0];n.Cntr.v=q[1];n.useLegacy.v=q[2]};r.curv=function(){r.call(this);
this.value=null;this.PD=null;var n=this.g;this.x$=new gJ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.x$.R(P.E.b,this.E6,this);n.appendChild(this.x$.g);this.Nx=new gJ(null,["Spline","Sketch"]);this.Nx.R(P.E.b,this.a5G,this);
n.appendChild(this.Nx.g);this.TS=new hF;this.TS.R(P.E.b,this.NF,this);n.appendChild(this.TS.g);this.Gh=null;
this.arq=0;this.xa=0;this.LE=new i_("Sample from image",c2.dL(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.LE.R(P.E.b,this.iH,this);n.appendChild(this.LE.g)};r.curv.prototype=new r;r.curv.prototype.N=function(){this.x$.N()};
r.curv.prototype.a5G=function(n){var q=hY.YL(this.value,0),p=q.length==256?1:0,E=this.Nx.I();if(p==E)return;
var T=fU.yQ("curv");if(E==1){var i=[];for(var R=0;R<256;R++)i.push(R);hY.RR(T,0,i)}this.j(T);this.Ld()};
r.curv.prototype.NF=function(){hY.RR(this.value,this.x$.I(),this.TS.I());this.Ld()};r.curv.prototype.E6=function(){var n=this.x$.I(),q=hY.YL(this.value,n),p=q.length==256?1:0;
this.Nx.j(p);if(this.PD)this.TS.Kr(this.PD[n],this.PD[4]*[1,.33,.33,.33][n],["#ccc","#fcc","#cfc","#ccf"][n]);
this.TS.j(q)};r.curv.prototype.tc=function(){return!0};r.curv.prototype.LA=function(n,q,p,E,T){var i=this.value;
this.value=fU.yQ("curv");this.Ld();var H=A.vD.wt(n,T,1),Z=this.Gh=[H>>>16&255,H>>>8&255,H&255];this.arq=T.y;
var w=this.LE.I().indexOf(!0);if(w==0){var d=(Z[0]+Z[1]+Z[2])/3,O=this.x$.I(),W=hY.YL(i,O),C=O==0?d:Z[O-1],a=-1;
for(var R=0;R<W.length;R++)if(W[R].v.Hrzn.v==C)a=R;if(a==-1){var B=JSON.parse(JSON.stringify(W[0]));
B.v.Hrzn.v=C;B.v.Vrtc.v=C;W.push(B);W.sort(function($,I){return $.v.Hrzn.v-I.v.Hrzn.v});hY.RR(i,O,W);
this.xa=W.indexOf(B)}else this.xa=a}this.j(i);this.Ld()};r.curv.prototype.Tw=function(n,q,p,E,T){if(this.Gh==null)return;
if(this.LE.I().indexOf(!0)==0){var i=this.value,H=this.x$.I(),Z=hY.YL(i,H),w=Z[this.xa];w.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(w.v.Hrzn.v+(this.arq-T.y))));
hY.RR(i,H,Z);this.j(i);this.Ld()}};r.curv.prototype.HO=function(n,q,p,E,T){var i=this.value,H=this.Gh,Z=(H[0]+H[1]+H[2])/3,w=this.LE.I().indexOf(!0)-1;
if(w<=-1){}else for(var R=0;R<3;R++){var d=hY.YL(i,1+R);if(w==0)d[0].v.Hrzn.v=H[R];if(w==1){var O=Math.log(H[R]/255)/Math.log(Z/255),W=Math.min(999,Math.max(10,Math.round(100*O)));
if(d.length==2)d.splice(1,0,JSON.parse(JSON.stringify(d[0])));d[1].v.Hrzn.v=127-Math.log(W/100)*127;
d[1].v.Vrtc.v=127}if(w==2)d[d.length-1].v.Hrzn.v=H[R];hY.RR(i,1+R,d)}this.j(i);this.Ld();this.Gh=null};
r.curv.prototype.j=function(n){this.value=n;this.E6()};r.curv.prototype.Kr=function(n){this.PD=n;this.E6()};
r.curv.prototype.I=function(n){return JSON.parse(JSON.stringify(this.value))};r.expA=function(){r.call(this,"expA");
this.DD.push(new ej([12,5],-20,20,null,3));this.DD.push(new ej([12,6],-.5,.5,null,3));this.DD.push(new ej([12,7],.01,6.99,null,3));
this.xI()};r.expA.prototype=new r;r.expA.prototype.Zq=function(n,q){q[0]=n.Exps.v;q[1]=n.Ofst.v;q[2]=n.gammaCorrection.v};
r.expA.prototype.TG=function(n,q){n.Exps.v=q[0];n.Ofst.v=q[1];n.gammaCorrection.v=q[2]};r.grdm=function(){r.call(this,"grdm");
this.DD.push(new c3(!0,null,!0));this.DD.push(new dq([12,23,0]));this.xI()};r.grdm.prototype=new r;r.grdm.prototype.Zq=function(n,q){q[0]=n.Grad.v;
q[1]=n.Rvrs?n.Rvrs.v:!1};r.grdm.prototype.TG=function(n,q){n.Grad.v=q[0];n.Rvrs={t:"bool",v:q[1]}};r.grdm.prototype.ts=function(n,q){this.DD[0].jw(n.ny,n.iu);
if(q==cF.Bo||q==cF._H||q==cF.x2)this.DD[0].KC(n.XV)};r.selc=function(){r.call(this);var n=this.g;this.WP=[];
this.WN=null;this.rr=new gJ([12,82],iJ._5.concat([[13,1,8],[13,1,13],[13,1,10]]));this.rr.R(P.E.b,this.RQ,this);
n.appendChild(this.rr.g);for(var R=0;R<4;R++){var q=new ej(iJ.a7u[R],-100,100,"%");q.R(P.E.b,this.RQ,this);
this.WP.push(q);n.appendChild(q.g)}this.wd=new dq([13,3]);n.appendChild(this.wd.g);this.wd.R(P.E.b,this.RQ,this)};
r.selc.prototype=new r;r.selc.prototype.N=function(){this.rr.N();this.wd.N();for(var R=0;R<4;R++)this.WP[R].N()};
r.selc.prototype.j=function(n){this.WN=JSON.parse(JSON.stringify(n));this.EA()};r.selc.prototype.I=function(n){return JSON.parse(JSON.stringify(this.WN))};
r.selc.prototype.RQ=function(n){if(n.target!=this.rr){var q=this.WN,p=[];for(var R=0;R<4;R++)p[R]=this.WP[R].I();
hc.RR(q,this.rr.I(),p);q.Mthd={t:"enum",v:{CrcM:this.wd.I()?"Absl":"Rltv"}}}this.EA();this.Ld()};r.selc.prototype.EA=function(){var n=this.WN,q=hc.YL(n,this.rr.I());
for(var R=0;R<4;R++)this.WP[R].j(q[R]);this.wd.j(n.Mthd?n.Mthd.v.CrcM=="Absl":!1)};r.blwh=function(){r.call(this,"blwh");
this.DD.push(new dq([12,11]));this.DD.push(new ja(!0));for(var R=0;R<6;R++)this.DD.push(new ej(iJ._5[R],-200,300));
this.xI()};r.blwh.prototype=new r;r.blwh.prototype.Zq=function(n,q){q[0]=n.useTint.v;q[1]=n.tintColor.v;
var p="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)q[2+R]=n[p[R]].v};r.blwh.prototype.TG=function(n,q){n.useTint.v=q[0];
n.tintColor.v=q[1];var p="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)n[p[R]].v=q[2+R]};
r.hue2=function(){r.call(this);this.value=null;this.K4=null;this.ajq=null;this.W1=[[0,0,0],[0,50,0]];
var n=this.g;this.LE=new i_(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.LE.R(P.E.b,this.acS,this);this.LE.R(P.E.b,this.iH,this);n.appendChild(this.LE.g);this.rr=new gJ([12,12],["Master"].concat(iJ._5));
this.rr.R(P.E.b,this.E6,this);n.appendChild(this.rr.g);this.Le=new ej([12,8],-180,180);this.Le.R(P.E.b,this.xP,this);
n.appendChild(this.Le.g);this.hJ=new ej([12,9],-100,100);this.hJ.R(P.E.b,this.xP,this);n.appendChild(this.hJ.g);
this.CZ=new ej([12,10],-100,100);this.CZ.R(P.E.b,this.xP,this);n.appendChild(this.CZ.g);this.X0=new dq([12,11]);
this.X0.R(P.E.b,this.xP,this);n.appendChild(this.X0.g);this.Yw=new i_("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Yw.R(P.E.b,this.acS,this);this.Yw.R(P.E.b,this.iH,this);this.Yw.g.style.marginLeft="20px";n.appendChild(this.Yw.g);
this.Dj=P.z("div");n.appendChild(this.Dj);this.Zz=this.Ew.bind(this);this.S1=this.BM.bind(this);this.S=P.z("canvas");
this.Jm=this.S.getContext("2d");this.oL=null;P.l7(this.S);P.jy(this.S,282,18);n.appendChild(this.S);
P.v$(this.S,this.HY.bind(this))};r.hue2.prototype=new r;r.hue2.prototype.acS=function(n){var q=n.target.I().indexOf(!0);
if(q==-1)return;if(n.target==this.LE)this.Yw.j([!1,!1,!1]);else this.LE.j([!1,!1,!1])};r.hue2.prototype.HY=function(n){if(this.rr.I()==0||this.X0.I())return;
var q=P.gD(n,this.S).x/(this.S.width/P.D()),i=1e6;function p(W,C,a){return W<C&&C<a||a<W&&(W<C||C<a)}var E=this.qW(),T=-1;
for(var R=0;R<4;R++){var H=Math.abs(q-(E[R]+R*1e-5));if(H<i){i=H;T=R}}if(i>.025){T=-1;var Z=E[0],w=E[1],d=E[2],O=E[3];
if(p(Z,q,w))T=4;if(p(w,q,d))T=5;if(p(d,q,O))T=6}if(T==-1)return;this.oL=T;P.KN(document.body,this.Zz);
P.iI(document.body,this.S1)};r.hue2.prototype.Ew=function(n){var q=P.gD(n,this.S).x/(this.S.width/P.D()),p=this.qW(),E=this.oL;
for(var R=1;R<4;R++)if(p[R]<p[R-1]){p[R]+=1}if(E<4){var T=1e6,i=0;for(var R=-20;R<20;R++){var H=Math.abs(p[E]-(q+R));
if(H<T){T=H;i=R}}q+=i;p[E]=q;for(var R=E+1;R<4;R++)if(p[R]<p[R-1]){p[R]=p[R-1]}for(var R=E-1;R>=0;R--)if(p[R]>p[R+1]){p[R]=p[R+1]}}else{var Z=q-(p[E-4]+p[E-3])/2;
if(Z<-.5)Z+=1;if(E==4){p[0]+=Z;p[1]+=Z;p[2]=Math.max(p[1],p[2]);p[3]=Math.max(p[1],p[3])}if(E==5)for(var R=0;
R<4;R++)p[R]+=Z;if(E==6){p[2]+=Z;p[3]+=Z;p[0]=Math.min(p[0],p[2]);p[1]=Math.min(p[1],p[2])}}for(var R=1;
R<4;R++)if(p[R]<p[R-1])throw"e";this.ajE(p);this.E6();this.Ld()};r.hue2.prototype.BM=function(n){P.dt(document.body,this.Zz);
P.sZ(document.body,this.S1)};r.hue2.prototype.N=function(){this.Le.N();this.hJ.N();this.CZ.N();this.X0.N();
this.rr.N()};r.hue2.prototype.xP=function(n){var q=this.value.Clrz.v=this.X0.I();if(q)this.rr.j(0);if(n&&n.target==this.X0){var p=q?1:0;
this.W1[1-p]=je.YL(this.value,0);var E=this.W1[p];je.RR(this.value,0,E);if(this.rr.I()==0){this.Le.j(E[0]);
this.hJ.j(E[1]);this.CZ.j(E[2])}}var T=this.rr.I(),i=je.YL(this.value,T),E=T==0?i:i.jb;E[0]=this.Le.I();
var H=this.hJ.I();E[1]=q?Math.max(0,H):H;E[2]=this.CZ.I();je.RR(this.value,T,i);this.E6();this.Ld()};
r.hue2.prototype.E6=function(){var n=this.rr.I(),q=this.value.Clrz?this.value.Clrz.v:!1;this.X0.j(q);
this.rr.aR(!q);this.Yw.aR(!q&&n!=0);var p=je.YL(this.value,n),E=n==0?p:p.jb;this.Le.j(E[0]);this.hJ.j(E[1]);
this.CZ.j(E[2]);var T=this.S.width,i=this.S.height,H=this.Jm;H.clearRect(0,0,T,i);if(q||n==0){this.Dj.innerHTML="";
return}var Z=p.kQ;this.Dj.innerHTML=Z[0]+"\xB0 / "+Z[1]+"\xB0<span style=\"float:right\">"+Z[2]+"\xB0 \\ "+Z[3]+"\xB0</span>";
var w=j.U(T*4);hP.a9F(w,1,T,-1,.5);var d=new ImageData(new Uint8ClampedArray(w.buffer),T,1),O=Math.round(T/64);
for(var R=0;R<O;R++)H.putImageData(d,0,R);function W(x,U,N){H.fillStyle=N;var m=O*2;if(x<=U)H.fillRect(x*T,m,(U-x)*T,O);
else{H.fillRect(0,m,U*T,O);H.fillRect(x*T,m,(1-x)*T,O)}}var C=this.qW();W(C[0],C[1],"#888888");W(C[1],C[2],"#cccccc");
W(C[2],C[3],"#888888");H.fillStyle="#ffffff";H.lineWidth=1;H.beginPath();var a=O+.5,B=4*O+.5;for(var R=0;
R<4;R++){var $=Math.floor(T*C[R])+.5,I=(R<2?-1:1)*O*(R==1||R==2?1:2);H.moveTo($,a);H.lineTo($,B);H.lineTo($+I,B);
H.lineTo($+I,O+O+.5);H.closePath()}H.fill();H.stroke()};r.hue2.prototype.qW=function(){var n=this.rr.I(),q=je.YL(this.value,n).kQ;
for(var R=0;R<4;R++)q[R]=(1000.5+q[R]/360)%1;return q};r.hue2.prototype.ajE=function(n){var q=this.rr.I(),p=je.YL(this.value,q);
for(var R=0;R<4;R++)p.kQ[R]=Math.round(36e3+(n[R]-.5)*360)%360;je.RR(this.value,q,p)};r.hue2.prototype.tc=function(){return!0};
r.hue2.prototype.aow=function(){var n=this.LE.I().indexOf(!0),q=this.Yw.I().indexOf(!0);return n!=-1?n:q!=-1?q+1:-1};
r.hue2.prototype.LA=function(n,q,p,E,T){var i=this.aow();if(i==-1)return;var H=this.value;this.value=fU.yQ("hue2");
this.Ld();var Z=A.vD.wt(n,T,1);this.j(H);var w=[Z>>>16&255,Z>>>8&255,Z&255],d=j.PW(w[0]/255,w[1]/255,w[2]/255);
if(i==0){this.rr.j(1+Math.round(d.rZ*6)%6)}else{var O=this.qW(),W=.5+d.rZ,C=1/12,a=O[1],B=O[2];if(B<a){B++;
if(W<a&&W+1-B<a-W)W++}var $=a<=W&&W<=B;if(i==1){a=W-C/2;B=W+C/2}else if(i==2&&!$){a=Math.min(W,a);B=Math.max(W,B)}else if(i==3&&$){if(W-a<B-W)a=W;
else B=W}O=[a-C,a,B,B+C];this.ajE(O)}this.Ld();this.K4=T.x;this.ajq=this.hJ.I()};r.hue2.prototype.Tw=function(n,q,p,E,T){var i=this.aow();
if(i==-1)return;if(i==0){if(this.K4!=null){var H=T.x-this.K4;H=Math.max(-100,Math.min(100,this.ajq+.5*H));
this.hJ.j(H);this.xP()}}};r.hue2.prototype.HO=function(n,q,p,E,T){this.K4=null};r.hue2.prototype.j=function(n){this.value=JSON.parse(JSON.stringify(n));
var q=this.value.Clrz?this.value.Clrz.v:!1;this.W1[q?1:0]=je.YL(this.value,0);this.E6()};r.hue2.prototype.I=function(n){return JSON.parse(JSON.stringify(this.value))};
r.levl=function(){function n(){r.call(this);this.value=null;this.PD=null;this.gv=[new fc(0,0),new fc(0,0),new fc(0,0),new fc(0,0),new fc(0,0)];
this.MK=-1;this.Zz=this.Ew.bind(this);this.S1=this.BM.bind(this);var q=this.g;this.x$=new gJ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.x$.R(P.E.b,this.E6,this);q.appendChild(this.x$.g);var p=P.z("div","");q.appendChild(p);var E=P.z("div","");
q.appendChild(E);this.S=P.z("canvas");p.appendChild(this.S);this.Jm=this.S.getContext("2d");this.Qz=new fc(256,120);
this.S.setAttribute("style","display:block");P.jy(this.S,this.Qz.x,this.Qz.y,this.Jm);P.l7(this.S);P.v$(this.S,this.HY.bind(this));
this.NY=P.z("canvas","");E.appendChild(this.NY);this.i7=this.NY.getContext("2d");this.us=new fc(this.Qz.x,40);
this.NY.setAttribute("style","display:block");P.jy(this.NY,this.us.x,this.us.y,this.i7);P.l7(this.NY);
P.v$(this.NY,this.a2G.bind(this));var T=this.ajk=[];for(var R=0;R<5;R++){var i=new gT(null,null,3);T.push(i);
i.R(P.E.b,this.afT,this);(R<2||R==4?p:E).appendChild(i.g)}p.appendChild(T[1].g);T[4].g.setAttribute("style","margin: 0 4.7em");
T[3].g.setAttribute("style","margin:0 0 0 13em");this.LE=new i_("Sample from image",c2.dL(["#000000","#888888","#ffffff"]),!0,null,!0);
this.LE.R(P.E.b,this.iH,this);q.appendChild(this.LE.g)}n.prototype=new r;n.prototype.N=function(){this.x$.N()};
n.prototype.afT=function(q){var p=[];for(var R=0;R<5;R++){var E=255,T=1;if(R==4){E=999;T=100}var i=parseFloat(this.ajk[R].I());
p[R]=Math.max(0,Math.min(E,i*T))}fk.RR(this.value,this.x$.I(),p);this.E6();this.Ld()};n.prototype.E6=function(q){var p=this.Qz.x,E=this.Qz.y,T=this.x$.I(),i=this.Jm;
i.clearRect(0,0,p,E);i.fillStyle="#cccccc";i.fillRect(8,8,p-16,E-16-8);if(this.PD){if(T==0){this.PD[0].fill(0);
var H=JSON.parse(JSON.stringify(this.value));fk.RR(H,0,[0,255,0,255,100]);var Z=iJ.cI("levl",H),w=[Z.J_,Z.QP,Z.pz];
for(var d=0;d<3;d++){var O=this.PD[1+d],W=w[d];for(var R=0;R<256;R++)this.PD[0][W[R]]+=O[R]}}var C=this.PD[T],a=0;
for(var R=0;R<C.length;R++)a+=C[R];i.fillStyle="#333333";i.beginPath();i.moveTo(8,E-16);for(var R=0;
R<256;R++){var B=55*C[R]/a;i.lineTo(8+R/256*(p-16),Math.max(8,E-16-E*B))}i.lineTo(p-8,E-16);i.closePath();
i.fill()}var $=fk.YL(this.value,T);for(var R=0;R<5;R++)this.ajk[R].j($[R]/(R==4?100:1));this.gv[0].Gw(8+$[0]/255*(p-16),E-14);
this.gv[1].Gw(8+$[1]/255*(p-16),E-14);var I=Math.log($[4]/100)/Math.log(9.99);I=.5-I/2;this.gv[4].Gw(this.gv[0].x+I*(this.gv[1].x-this.gv[0].x),E-14);
this.AY(i,this.gv[0],"#000000");this.AY(i,this.gv[1],"#ffffff");this.AY(i,this.gv[4],"#777777");var p=this.us.x,E=this.us.y;
i=this.i7;i.clearRect(0,0,p,E);var x=i.createLinearGradient(0,0,p-16,0);x.addColorStop(0,"black");x.addColorStop(1,"white");
i.fillStyle=x;i.fillRect(8,8,p-16,16);this.gv[2].Gw(8+$[2]/255*(p-16),E-14);this.gv[3].Gw(8+$[3]/255*(p-16),E-14);
this.AY(i,this.gv[2],"#000000");this.AY(i,this.gv[3],"#ffffff")};n.prototype.AY=function(q,p,E){q.fillStyle=E;
q.fillRect(p.x-5,p.y,10,10)};n.prototype.HY=function(q){var p=P.gD(q,this.S),E=this.a2E([0,1,4],p);if(E!=-1)this.MK=E;
this.a7L()};n.prototype.a2G=function(q){var p=P.gD(q,this.NY),E=this.a2E([2,3],p);if(E!=-1)this.MK=E;
this.a7L()};n.prototype.a2E=function(q,p){var E=-1,T=1e9;for(var R=0;R<q.length;R++){var i=Math.abs(this.gv[q[R]].x-p.x);
if(i<T){T=i;E=q[R]}}return T<16?E:-1};n.prototype.a7L=function(q){if(this.MK==-1)return;P.KN(document.body,this.Zz);
P.iI(document.body,this.S1)};n.prototype.Ew=function(q){var p=fk.YL(this.value,this.x$.I()),E=P.gD(q,this.MK==2&&this.MK==3?this.NY:this.S),T=255*(E.x-8)/(this.Qz.x-16);
T=Math.max(0,Math.min(255,T));if(this.MK==0)T=Math.min(T,p[1]-2);if(this.MK==1)T=Math.max(T,p[0]+2);
if(this.MK!=4)p[this.MK]=Math.round(T);else{var i=(T-p[0])/(p[1]-p[0]);i=1-2*i;i=Math.pow(9.99,i);p[4]=Math.min(999,Math.max(10,Math.round(i*100)))}fk.RR(this.value,this.x$.I(),p);
this.E6();this.Ld()};n.prototype.BM=function(q){P.dt(document.body,this.Zz);P.sZ(document.body,this.S1);
this.MK=-1};n.prototype.tc=function(){return!0};n.prototype.HO=function(q,p,E,T,i){var H=this.value,Z=this.LE.I().indexOf(!0);
if(Z==-1)return;this.value=fU.yQ("levl");this.Ld();var w=A.vD.wt(q,i,1),d=[w>>>16&255,w>>>8&255,w&255];
for(var R=0;R<3;R++){var O=fk.YL(H,1+R);if(Z==0)O[0]=d[R];if(Z==1){var W=Math.log(d[R]/255)/Math.log((d[0]+d[1]+d[2])*.333/255);
O[4]=Math.min(999,Math.max(10,Math.round(100*W)))}if(Z==2)O[1]=d[R];fk.RR(H,1+R,O)}this.j(H);this.Ld()};
n.prototype.j=function(q){this.value=q;this.E6()};n.prototype.Kr=function(q){this.PD=q;this.E6()};n.prototype.I=function(q){return JSON.parse(JSON.stringify(this.value))};
return n}();r.phfl=function(){r.call(this,"phfl");this.DD.push(new ja);this.DD.push(new ej([12,74],0,100,"%"));
this.DD.push(new dq([13,4]));this.xI()};r.phfl.prototype=new r;r.phfl.prototype.Zq=function(n,q){q[0]=n.Clr.v;
q[1]=n.Dnst.v;q[2]=n.PrsL.v};r.phfl.prototype.TG=function(n,q){var p=j.f.aV(q[0]),E=n.Clr.v,T=j.IG(p._,p.q,p.X);
E.Lmnc.v=T.Q_;E.A.v=T.jS;E.B.v=T.X;n.Dnst.v=q[1];n.PrsL.v=q[2]};r.vibA=function(){r.call(this,"vibA");
this.DD.push(new ej([12,13],-100,100,null));this.DD.push(new ej([12,9],-100,100,null));this.xI()};r.vibA.prototype=new r;
r.vibA.prototype.Zq=function(n,q){q[0]=n.vibrance?n.vibrance.v:0;q[1]=n.Strt?n.Strt.v:0};r.vibA.prototype.TG=function(n,q){n.vibrance.v=q[0];
n.Strt.v=q[1]};r.thrs=function(){r.call(this,"thrs");this.DD.push(new ej([4,13],1,255,null));this.xI()};
r.thrs.prototype=new r;r.thrs.prototype.Zq=function(n,q){q[0]=n.Lvl.v};r.thrs.prototype.TG=function(n,q){n.Lvl.v=q[0]};
r.mixr=function(){r.call(this);var n=this.g;this.WP=[];this.WN=null;this.rr=new gJ([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.rr.R(P.E.b,this.RQ,this);n.appendChild(this.rr.g);P.OK(n);this.Mx=new dq([12,60]);n.appendChild(this.Mx.g);
this.Mx.R(P.E.b,this.RQ,this);for(var R=0;R<4;R++){var q=new ej([[13,1,1],[13,1,4],[13,1,5],[13,2]][R],-200,200,"%");
q.R(P.E.b,this.RQ,this);this.WP.push(q);n.appendChild(q.g)}};r.mixr.prototype=new r;r.mixr.prototype.N=function(){this.rr.N();
this.Mx.N();for(var R=0;R<4;R++)this.WP[R].N()};r.mixr.prototype.j=function(n){this.WN=JSON.parse(JSON.stringify(n));
this.EA()};r.mixr.prototype.I=function(n){return JSON.parse(JSON.stringify(this.WN))};r.mixr.prototype.RQ=function(n){if(n.target!=this.rr){var q=iJ.TW(this.WN);
if(n.target==this.Mx){q.Mx=this.Mx.I();if(q.Mx)q.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else q.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var p=(q.Mx?0:this.rr.I())*5,R=this.WP.indexOf(n.target);
q.k[p+(R<3?R:4)]=n.target.I()}this.WN=iJ.dJ(q)}this.EA();this.Ld()};r.mixr.prototype.EA=function(){var n=iJ.TW(this.WN);
this.Mx.j(n.Mx);var q=(n.Mx?0:this.rr.I())*5;for(var R=0;R<4;R++)this.WP[R].j(n.k[q+(R<3?R:4)])};r.post=function(){r.call(this,"post");
this.DD.push(new ej([4,1],2,255,null));this.xI()};r.post.prototype=new r;r.post.prototype.Zq=function(n,q){q[0]=n.Lvls.v};
r.post.prototype.TG=function(n,q){n.Lvls.v=q[0]};r.clrL=function(){r.call(this,"clrL");this.DD.push(new bD("LUTs"));
this.xI()};r.clrL.prototype=new r;r.clrL.prototype.Zq=function(n,q){q[0]=n};r.clrL.prototype.TG=function(n,q){var p=q[0];
for(var E in p)n[E]=p[E]};r.clrL.prototype.ts=function(n,q){if(q==cF.Bo||q==cF.bw)this.DD[0].KC(n.aqZ)};
r.rplc=function(){r.call(this,"rplc");this.DD.push(new ej([12,92],0,200));this.DD.push(new ja);this.DD.push(new ej([12,8],-180,180));
this.DD.push(new ej([12,9],-100,100));this.DD.push(new ej([12,10],-100,100));this.xI()};r.rplc.prototype=new r;
r.rplc.prototype.Zq=function(n,q){q[0]=n.Fzns.v;q[1]=n.Mxm.v;q[2]=n.H.v;q[3]=n.Strt.v;q[4]=n.Lght.v};
r.rplc.prototype.TG=function(n,q){function p(T,i){i.Lmnc.v=T.Q_;i.A.v=T.jS;i.B.v=T.X}n.Fzns.v=q[0];n.H.v=q[2];
n.Strt.v=q[3];n.Lght.v=q[4];var E=j.f.aV(q[1]),T=j.IG(E._,E.q,E.X);p(T,n.Mnm.v);p(T,n.Mxm.v)};r.fade=function(){r.call(this,"fade");
this.DD.push(new ej([12,0],0,100,"%"));this.DD.push(new gJ([12,19,0],d3.qn,!1,d3.BJ));this.xI()};r.fade.prototype=new r;
r.fade.prototype.Zq=function(n,q){q[0]=n.Opct.v.val;q[1]=d3.Uc.indexOf(n.Md.v.BlnM)};r.fade.prototype.TG=function(n,q){n.Opct.v.val=q[0];
n.Md.v.BlnM=d3.Uc[q[1]]};r.aply=function(){var n=d3.Uc.concat(["Add","Sbtr"]);n.splice(21,1);var q=d3.qn.concat(["Add",[15,10,21]]);
q.splice(21,1);var p=d3.BJ.slice(0);p[4]--;function E(){r.call(this,"aply");this.DD.push(new gJ([0,3],[]));
this.DD.push(new gJ([12,4],["RGB"].concat(iJ.D_).concat(["Transparency"])));this.DD.push(new dq([4,11]));
this.DD.push(new gJ([12,19,0],q,!1,p));this.DD.push(new ej([12,0],0,100,"%"));this.DD.push(new iA([12,38],1,2,null,2));
this.DD.push(new iA([12,6],-255,255));this.DD.push(new dq("Preserve Transparency"));this.xI([2]);this.Xd=null}E.prototype=new r;
E.prototype.Zq=function(T,i,H){if(H){var Z=H[2].h,w=this.Xd=[];for(var R=0;R<Z.length;R++)w.push(Z[R].getName());
w.reverse();this.DD[0].qj([[5,7]].concat(w),[1,w.length])}else var w=this.Xd;T=T.With.v;var d=T.T.v;
i[0]=d[1].t=="name"?1+w.indexOf(d[1].v.val):0;i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(d[0].v.enum);
i[2]=T.Invr.v;var O=T.Clcl.v.Clcn;i[3]=n.indexOf(O);i[4]=T.Opct.v.val;i[5]=T.Scl.v;i[6]=T.Ofst.v;i[7]=T.PrsT.v};
E.prototype.TG=function(T,i){T=T.With.v;var H=T.T.v;if(i[0]==0)H[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else H[1]={t:"name",v:{classID:"Lyr",val:this.Xd[this.Xd.length-i[0]]}};H[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];
T.Invr.v=i[2];var Z=T.Clcl.v.Clcn=n[i[3]];T.Opct.v.val=i[4];T.Scl.v=i[5];T.Ofst.v=i[6];T.PrsT.v=i[7];
var w=Z=="Add"||Z=="Sbtr";this.DD[5].aR(w);this.DD[6].aR(w)};return E}();function hg(n,q){g9.call(this);
if(n==null)return;this.id=q;this.h6=n;this.k7=null;this.g=P.z("div","window "+q);this.a6f=null;this.AX=P.z("div","whead");
this.anH=P.z("span","wname");this.AX.appendChild(this.anH);this.g.appendChild(this.AX);this.Zg=this.a7J.bind(this);
this.U5=this.abQ.bind(this);this.Ot=this.alL.bind(this);P.l7(this.AX);P.v$(this.AX,this.Zg);this.NO=P.z("span","cross");
this.AX.appendChild(this.NO);hg.prototype.N.call(this);P.iI(this.NO,this.anb.bind(this));this.body=P.z("div","body");
this.g.appendChild(this.body)}hg.prototype=new g9;hg.prototype.vo=function(){return!1};hg.prototype.tc=function(){return!1};
hg.prototype.N=function(){if(this.h6==null)return;this.anH.textContent=fE.get(this.h6);var n=PIMG.__cross==null?"filter:invert(1);":"";
this.NO.setAttribute("style","background-image:url("+PIMG.cross+");"+n)};hg.prototype.LA=function(n,q,p,E,T){};
hg.prototype.EP=function(n,q,p,E,T){};hg.prototype.Tw=function(n,q,p,E,T){};hg.prototype.HO=function(n,q,p,E,T){};
hg.prototype.J7=function(n,q,p,E,T){};hg.prototype.IY=function(n,q,p,E){if(E.r(aj.T4)&&this.VS)this.VS();
if(E.r(aj.Fj)){var T=new ea(P.E.u);T.JC=!0;A.Cn.VP(E,T);if(T.data)q.K(T)}};hg.prototype.Ou=function(n){return!1};
hg.prototype.DU=function(n,q){return!0};hg.prototype.o5=function(n,q,p,E){};hg.prototype.ts=function(n,q){};
hg.prototype.Gt=function(n,q){return null};hg.prototype.ahC=function(n){return this.a6f};hg.prototype.rb=function(){};
hg.prototype.close=function(){this.K(new ea(P.E.Ia))};hg.prototype.a7J=function(n){this.k7=P.gD(n,this.g);
P.KN(window,this.U5);P.iI(window,this.Ot)};hg.prototype.abQ=function(n){var q=this.g.parentNode,p=P.gD(n,q),E=Math.round(p.x-this.k7.x),T=q.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(p.y-this.k7.y)));
this.a6f=new fc(E,T);this.g.style.left=E+"px";this.g.style.top=T+"px"};hg.prototype.alL=function(n){P.dt(window,this.U5);
P.sZ(window,this.Ot)};hg.prototype.anb=function(n){this.K(new ea("closebtn"));this.close()};function jy(){hg.call(this,"About Photopea","aboutpp");
var n=P.z("div","flexrow");this.body.appendChild(n);var q=this.agQ=P.z("img");n.appendChild(q);this.body.setAttribute("style","margin:0; padding:0");
var p=this.aoW=P.z("div");p.innerHTML=jy.QB;n.appendChild(p);var E=this.Am=P.z("span");E.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(E)}jy.prototype=new hg;jy.prototype.Gt=function(n,q){return new fc(0,0)};jy.prototype.rb=function(n,q){var p=this.agQ,E=this.aoW,T=this.Am,i=(n+q-42-42)/110;
i=Math.sqrt((n-42)*(q-42))/50;p.setAttribute("style","width:"+n/2+"px; height:"+q+"px; display:block; object-fit:cover;");
E.setAttribute("style","width:"+(n/2-42)+"px; height:"+(q-42)+"px; padding:20px; font-size:"+i+"px;");
T.setAttribute("style","position:absolute;  bottom:10px; right:"+(n/2+10)+"px")};jy.prototype.N=function(){};
jy.prototype.o5=function(n,q,p,E){this.agQ.setAttribute("src","img/ivan_pp.webp")};jy.QB="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function bR(){hg.call(this,[0,13,0],"account");this.ss=P.z("div","form scrollable");this.body.appendChild(this.ss);
this.body.style.padding="0";this.n4=[new bR.cs,new bR.Lk(bR.as5),new bR.Lk(bR.a3T)];for(var R=0;R<this.n4.length;
R++)this.n4[R].parent=this;this.R("showpage",this.afn,this)}bR.prototype=new hg;bR.prototype.rb=function(n,q){this.ss.setAttribute("style","width:"+Math.min(n-40,600)+"px;  height:"+(q-38)+"px;  padding:1.5em;");
this.n4[0].rb(n,q)};bR.prototype.Gt=function(n,q){return new fc(Math.max(0,Math.min(150,(n-600)/2)),Math.max(0,Math.min(100,(q-500)/2)))};
bR.prototype.afn=function(n){P.Ls(this.ss);this.ss.scrollTop=0;this.ss.appendChild(this.n4[n.data.ap].g)};
bR.prototype.N=function(){hg.prototype.N.call(this);for(var R=0;R<this.n4.length;R++)this.n4[R].N()};
bR.prototype.o5=function(n,q,p){P.Ls(this.ss);var E=this.n4[0];this.ss.appendChild(E.g);E.o5();this.N()};
bR.prototype.ts=function(n,q){this.o5(null,null,null)};bR.cs=function(){g9.call(this);this.g=P.z("div");
var n=this.g,q,p,E="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.jU=P.z("div");n.appendChild(this.jU);this._u=new bG([0,11],!1,null,!0);this._u.g.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this._u.R("click",this.q5,this);n.appendChild(this._u.g);this.$a=new bG([0,13,1],!1,null,!0);this.$a.R("click",this.a57,this);
n.appendChild(this.$a.g);this.sG=new bG("Business Terms",!1,null,!0);this.sG.R("click",this.aia,this);
n.appendChild(this.sG.g);q=P.z("h2");q.innerHTML="Account types";n.appendChild(q);p=P.z("table");p.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">All Features</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
n.appendChild(p);var T=this.amq=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.bK=[];for(var R=0;R<T.length;R++)this.bK.push(new bG("Buy: $"+T[R][0],!1,null,!0));for(var R=0;
R<this.bK.length;R++){this.bK[R].g.setAttribute("style",E);this.bK[R].R("click",this.aiM,this)}q=P.z("h2");
q.innerHTML="Go Premium";n.appendChild(q);this.uC=new bG("...",!0);this.uC.g.setAttribute("style",E);
n.appendChild(this.uC.g);p=this.aeQ(3,["Single user",this.bK[0],this.bK[1],this.bK[2],"Team of 5",this.bK[3],this.bK[4],this.bK[5],"Team of 20",this.bK[6],this.bK[7],this.bK[8]]);
n.appendChild(p);this.a3V=new dq("I accept",!0,"");n.appendChild(this.a3V.g);this.rC=new bG([0,13,1],!1,null,!0);
this.rC.R("click",this.a57,this);n.appendChild(this.rC.g);this.x_=new bG("I have a key",!1,null,!0);
this.x_.g.setAttribute("style",E+" float:right;");this.x_.R("click",this.aiM,this);n.appendChild(this.x_.g);
q=P.z("h2");q.textContent="Team Settings";n.appendChild(q);this.pn=new dq("Join a team");n.appendChild(this.pn.g);
this.pn.R(P.E.b,this.asj,this);this.og=new gT("Email of a leader",null,14);n.appendChild(this.og.g);
P.OK(n);this.AQ=new dq("Start a team");n.appendChild(this.AQ.g);this.AQ.R(P.E.b,this.asj,this);var i=new jh("Emails of other members:");
n.appendChild(i.g);P.OK(n);this.$T=P.z("textarea");this.$T.setAttribute("rows",3);this.$T.setAttribute("style","display:block;tab-size:4; width:100%");
n.appendChild(this.$T);var H=new bG("Save Team Settings",!1,null,!0);n.appendChild(H.g);H.R("click",this.a8p,this);
var Z=this.ajA=new bG("More about Teams",!1,null,!0);n.appendChild(Z.g);Z.R("click",this.adH,this);q=P.z("h2");
q.innerHTML="Distributor Account";n.appendChild(q);this.hC=new bG("...",!0);this.hC.g.setAttribute("style",E);
n.appendChild(this.hC.g);p=this.aeQ(3,["1000 views/ month",this.bK[9],this.bK[10],this.bK[11],"5000 views/ month",this.bK[12],this.bK[13],this.bK[14],"20000 views/ month",this.bK[15],this.bK[16],this.bK[17]]);
n.appendChild(p);this.yl=new gT("Domain name (e.g. domain.com)",null,14);n.appendChild(this.yl.g);P.OK(n);
var H=new bG("Save Domain Settings",!1,null,!0);H.P9();n.appendChild(H.g);H.R("click",this.ab_,this);
var Z=new bG("More about Distributors",!1,null,!0);n.appendChild(Z.g);Z.R("click",this.adH,this)};bR.cs.prototype=new g9;
bR.cs.prototype.rb=function(n,q){var p=n<500?"$":"Buy: $",E=this.amq;for(var R=0;R<E.length;R++)this.bK[R].l$(p+E[R][0])};
bR.cs.prototype.a57=function(n){var q=new ea("showpage",!0);q.data={ap:1};this.K(q)};bR.cs.prototype.aia=function(n){var q=new ea("showpage",!0);
q.data={ap:2};this.K(q)};bR.cs.prototype.N=function(){this._u.l$(de.Ky()?fE.get([0,11]):fE.get([0,10]));
this.rC.N();this.$a.N();this.sG.N()};bR.cs.prototype.adH=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.bU,link:"https://www.photopea.com/api/accounts#"+(n.target==this.ajA?"teams":"distributors")};
this.K(q)};bR.cs.prototype.asj=function(n){var q=n.currentTarget==this.pn;this.pn.j(q);this.AQ.j(!q)};
bR.cs.prototype.a8p=function(n){var q=this.pn.I(),p=this.og.I().trim(),E=this.$T.value.trim();if(p.length>60){alert("Too long email address");
return}if(E.length>600){alert("Too many team members");return}E=E.split(",").join(" ").trim();E=E.replace(/\s+/g," ");
if(E=="")E=[];else E=E.split(" ");var T=de.Vh();if(T==null)T={};if(T.acc==null)T.acc={};T.acc.team={jin:q,ldr:p,mmb:E};
de.BD(T,this.C$.bind(this));alert("Saved!");this.o5()};bR.cs.prototype.ab_=function(n){var q=this.yl.I().trim();
if(!de.Ky()){alert("You have to log in first.");return}if(de.eT().distrib=="0"){alert("Order a distributor account first.");
return}var p=de.Vh();if(p==null)p={};if(p.acc==null)p.acc={};if(q=="")delete p.acc.dname;else p.acc.dname=q;
de.BD(p,this.C$.bind(this));alert("Saved!");this.o5()};bR.cs.prototype.o5=function(){if(de.Ky()){var n=de.eT();
if(n==null)return;this.jU.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+n.name+"</span> "+n.email+" <br/>"}else{}var q=de.Ky()&&de.f7();
this.uC.g.style.display=q?"block":"none";if(q){var p=parseInt(n[P.CL("_^NSLUJ")])-Date.now()*(1/1e3),E=parseInt(n.ptype),T;
if(E==-1)T="member of a team";else if(E==1)T="Single user";else T="Team of "+E;this.uC.l$("Premium active for "+Math.round(p/(60*60*24))+" more days! ("+T+")")}var i=de.Ky()&&n.distrib*1e3>Date.now();
this.hC.g.style.display=i?"block":"none";if(i){var p=parseInt(n.distrib)-Date.now()/1e3,E=parseInt(n.ptype);
this.hC.l$("Distributor active for "+Math.round(p/(60*60*24))+" more days! ("+E+" visitos)")}var H=de.Vh();
if(H&&H.acc&&H.acc.team){var Z=H.acc.team;this.pn.j(Z.jin);this.AQ.j(!Z.jin);this.og.j(Z.ldr);this.$T.value=Z.mmb.join(", ")}else{this.pn.j(!0);
this.AQ.j(!1);this.og.j("");this.$T.value=""}if(H&&H.acc&&H.acc.dname)this.yl.j(H.acc.dname);else this.yl.j("")};
bR.cs.prototype.aeQ=function(n,q){var p=P.z("table");p.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(n==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var R=0;R<q.length;R+=n+1){var E=P.z("tr"),T;p.appendChild(E);T=P.z("td","left");E.appendChild(T);
T.innerHTML="<b>"+q[R]+"</b>";for(var i=0;i<n;i++){T=P.z("td");E.appendChild(T);T.appendChild(q[R+1+i].g)}}return p};
bR.cs.prototype.aiM=function(n){var q=this.bK.indexOf(n.currentTarget),E=30,T=1;if(!de.Ky()){alert("You must log in before buying Premium");
return}if(this.a3V.I()==!1&&q<9){alert("You must accept Terms of Service");return}var p=de.Ky()&&de.f7();
if(q!=-1){var i=this.amq[q];E=i[1];T=i[2]}if(p&&T<1e3){alert("You already have premium.");return}if(q==-1){var H=prompt("Please enter your key");
if(H!=null){de.akq(H,this.C$.bind(this));this.qG()}return}if(E==30&&T==1){var Z=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!Z)return}de.order(E,T,this.C$.bind(this));this.qG()};bR.cs.prototype.C$=function(n){if(de.Ky()&&de.eT().msg)alert(de.eT().msg);
this.o5();this.qG()};bR.cs.prototype.q5=function(n){if(de.Ky()){de.a54();this.qG();this.o5(null,null,null)}else de.q5(this.aaD.bind(this))};
bR.cs.prototype.aaD=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.aai};this.K(n)};bR.cs.prototype.qG=function(){var n=new ea(P.E.T,!0);
n.data={e:P.C.aq2};this.K(n)};bR.Lk=function(n){g9.call(this);this.g=P.z("div");var q=this.g,p=this.a5E=new bG([0,13,2],!1,null,!0);
p.R("click",this.anx,this);q.appendChild(p.g);var E=P.z("div");E.innerHTML=n;q.appendChild(E)};bR.Lk.prototype=new g9;
bR.Lk.prototype.anx=function(n){var q=new ea("showpage",!0);q.data={ap:0};this.K(q)};bR.Lk.prototype.N=function(){this.a5E.N()};
bR.a3T="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
bR.as5="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function aP(){hg.call(this,[11,14],"addguides");this._f;this.BW={yM:{XN:0}};this.lS=null;var n=P.z("div","form");
this.body.appendChild(n);this.s1=new gT([22,4,0],null,16);this.s1.R(P.E.b,this.Lo,this);this.Gs=new gT([22,4,1],null,16);
this.Gs.R(P.E.b,this.Lo,this);this.kv=new gJ(null,j.L6.ed);this.kv.R(P.E.b,this.Lo,this);n.appendChild(this.s1.g);
n.appendChild(this.kv.g);P.OK(n);n.appendChild(this.Gs.g);this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);
n.appendChild(this.bD.g);this.R("closebtn",this.ael,this)}aP.prototype=new hg;aP.prototype.DU=function(n,q){return n!=null};
aP.prototype.vo=function(){return!0};aP.prototype.N=function(){hg.prototype.N.call(this);this.s1.N();
this.Gs.N();this.kv.N()};aP.prototype.ts=function(n,q){var p=n.yM.XN;this.BW.yM.XN=p;this.kv.j(p)};aP.prototype.o5=function(n,q){this._f=n;
this.lS=JSON.stringify(n.fN());this.$z()};aP.prototype.$z=function(){var n=this._f,q=n.lA,p=function(E,T,n,i,H){var Z=[];
for(var R=0;R<E.length;R++)if(E[R][0]==T)Z.push(j.L6.Kc(E[R][1],n.xm,i,H));return Z.join(", ")};this.s1.j(p(q,0,n,this.BW,n.v));
this.Gs.j(p(q,1,n,this.BW,n.o))};aP.prototype.Lo=function(n){if(n&&n.currentTarget==this.kv)this.BW.yM.XN=this.kv.I();
else{var q=this.a8W(),p=this._f;p.k2(q);p.IJ=!0}this.$z()};aP.prototype.a8W=function(){var n=[],q=[];
for(var p=0;p<2;p++){var E=p==0?this.s1:this.Gs,T=p==0?this._f.v:this._f.o,i=E.I().replace(/,/g," ").replace(/  +/g," ").trim(),H=i==""?[]:i.split(" ");
for(var R=0;R<H.length;R++){n.push([p,j.L6.a9U(H[R],this._f.xm,this.BW,T)]);q.push(-1)}}return[n,q]};
aP.prototype.ael=function(n){var q=this._f;q.k2(JSON.parse(this.lS));q.IJ=!0;this._f=null};aP.prototype.VS=function(n){this.Lo(n);
var q=new ea(P.E.u,!0);q.i=A.o$;q.data={e:"gids",Wj:JSON.parse(this.lS),mH:this._f.fN()};this._f=null;
this.close();this.K(q)};function bq(n){var q=fU.names[n];if(q==null)q=iJ.names[n];if(n=="aply")q="Apply Image";
if(n=="fade")q=[2,11];if(n=="blendOptions")q=[14,10];hg.call(this,q,"afw_"+n);this.nd=n;this.CC=null;
this.PS=null;this.TS=new r[n];this.TS.R(P.E.b,this.Ld,this);this.TS.parent=this;this.body.appendChild(this.TS.g);
this.Ru=new dq([24,18,5]);this.Ru.j(!0);this.Ru.R(P.E.b,this.Ld,this);this.WH=new bG("Reset",!0,null,!0);
this.WH.R("click",this.dV,this);this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);if(this.ac())this.TS.EO(this.bD.g);
else{P.oI(this.TS.g,"form");P.oI(this.body,"flexrow");this.TS.g.setAttribute("style","width:24em");var p=P.z("div");
this.body.appendChild(p);p.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");p.appendChild(this.bD.g);
p.appendChild(this.WH.g);p.appendChild(this.Ru.g)}this.R("closebtn",this.Kn,this)}bq.prototype=new hg;
bq.prototype.vo=function(){return!0};bq.prototype.ac=function(){return this.TS!=null&&this.TS.DY()};
bq.prototype.Gt=function(){return this.ac()?new fc(0,0):hg.prototype.Gt()};bq.prototype.tc=function(){return this.TS.tc()};
bq.prototype.LA=function(n,q,p,E,T){this.TS.LA(n,q,p,E,T)};bq.prototype.Tw=function(n,q,p,E,T){this.TS.Tw(n,q,p,E,T)};
bq.prototype.HO=function(n,q,p,E,T){this.TS.HO(n,q,p,E,T)};bq.prototype.DU=function(n,q){if(this.nd=="fade")return bq.a62(n);
return!0};bq.prototype.dV=function(n){this.TS.j(fU.yQ(this.nd));this.Ld()};bq.prototype.Ld=function(n){this.m7({e:"edit",Gm:this.TS.I(),Hb:!this.Ru.I()})};
bq.prototype.Kn=function(n){this.m7({e:"cancel"})};bq.prototype.VS=function(n){if(!this.Ru.I()){this.Ru.j(!0);
this.Ld()}this.PS=this.TS.I();if(this.ac())this.Ld();this.m7({e:"confirm"});this.close()};bq.prototype.N=function(){hg.prototype.N.call(this);
this.Ru.N();if(this.TS)this.TS.N()};bq.prototype.ts=function(n,q){if(this.TS)this.TS.ts(n,q)};bq.prototype.IY=function(n,q,p,E){if(this.ac())this.TS.IY(E);
else hg.prototype.IY.call(this,n,q,p,E)};bq.prototype.o5=function(n,q,p,E){this.CC=q.CC;var T=n.add.lnk2?n.add.lnk2:[],i,H,Z=new eL(0,0,n.v,n.o),w=n.h[n.p[0]],d=null;
i=w.buffer;H=w.rect;if(this.ac())d=n.Zk(n.p[0]-1);var O=fU.yQ(this.nd),W=[T,n.v4,n];if(q.CC==null){this.TS.j(O,i,H,Z,d,W);
if(iJ.names[this.nd]){if(E.r(aj.sL)&&this.PS)this.TS.j(this.PS);var C=i1.P4.getData(n),a=j.Lj(C[0].hc);
this.TS.Kr(a)}}else{var B=!1,w=n.h[this.CC.Y];if(w.Sr()){var $=w.vr(n);i=$.buffer;H=$.rect;var I=w.add.SoLd.filterFX.v.filterFXList.v;
if(I[this.CC.index]){var x=I[this.CC.index].v;this.TS.j(this.nd=="blendOptions"?x.blendOptions.v:x.Fltr.v,i,H,Z,d,W);
this.TS.Kr(j.Lj(i));B=!0}}if(!B){this.TS.j(O,i,H,Z,d,W);this.TS.Kr(j.Lj(i))}}if(!this.ac())this.Ld()};
bq.prototype.m7=function(n){var q=new ea(P.E.u,!0);n.nd=this.nd;n.CC=this.CC;q.data=n;q.i=fU.names[this.nd]||this.CC?A.Yo:A.C7;
q.JC=!0;this.K(q)};bq.prototype.rb=function(n,q){if(!this.TS.DY()){q=q-26;n=n-26}else this.body.style.padding="0";
this.TS.rb(n,q)};bq.a62=function(n){if(n==null)return!1;var q=n.ft();if(q==null||!(q.data instanceof Array)||q.data.length!=n.p.length)return!1;
for(var R=0;R<q.data.length;R++){var p=q.data[R];if(p.Y<0&&n.v4[-1-p.Y])return!0;if(p.Y==null||n.h[p.Y]==null||n.h[p.Y].TL!=p.kn)return!1;
if(n.p.indexOf(p.Y)==-1)return!1}return!0};function b6(){hg.call(this,[11,0],"camera");this.data=null;
this.cN=new fc(1,1);this.afr=[];var n=P.z("div","form hbar");this.body.appendChild(n);this.agJ=new gJ(null,[]);
this.tR=new gJ([21,0],[[21,2],[21,1]]);n.appendChild(this.tR.g);this.tq=new gJ(null,[]);this.tq.R(P.E.b,this.a2L,this);
n.appendChild(this.tq.g);this.Bj=new bG([11,0],!1,null,!0);this.Bj.R("click",this.a8k,this);n.appendChild(this.Bj.g);
this.Gl=new jh("");n.appendChild(this.Gl.g);this.stream=null;this.GK=P.z("video","");this.GK.setAttribute("autoplay","true");
this.body.appendChild(this.GK);this.ama=this.a3l.bind(this);this.a7M=this.a66.bind(this);this.ady=this.ab0.bind(this);
this.R("closebtn",this.afe,this)}b6.prototype=new hg;b6.prototype.N=function(){hg.prototype.N.call(this);
this.tR.N();this.Bj.N();this.rb(this.XF,this.rZ)};b6.prototype.Zk=function(){var n=this.GK.videoWidth,q=this.GK.videoHeight,p=P.z("canvas","");
p.width=n;p.height=q;var E=p.getContext("2d");E.drawImage(this.GK,0,0,n,q);var T=E.getImageData(0,0,n,q);
return{Yd:new eL(0,0,n,q),data:T.data.buffer}};b6.prototype.a8k=function(n){if(this.tR.I()==0)this.apb();
else this.alc()};b6.prototype.alc=function(){var n=this.Zk(),q={buffer:new Uint8Array(n.data),rect:n.Yd},p=new ea(P.E.u,!0);
p.JC=!0;p.i=A.iq;p.data={e:g.Po,GJ:q};this.K(p);alert(fE.get([21,4]))};b6.prototype.apb=function(){var n=this.Zk(),q=al.Db("camera",[n]),p=new ea(P.E.T,!0);
p.data={e:P.C.D9,eL:q};this.K(p);alert(fE.get([21,5]))};b6.prototype.o5=function(n,q,p){navigator.mediaDevices.enumerateDevices().then(this.a41.bind(this))};
b6.prototype.a41=function(n){var q=this.afr=[],p=[];for(var R=0;R<n.length;R++)if(n[R].kind=="videoinput"){q.push(n[R]);
p.push("Camera "+q.length)}this.tq.qj(p);this.tq.j(0);this.a2L()};b6.prototype.a2L=function(n){this.afe();
var q={video:{deviceId:this.afr[this.tq.I()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(q).then(this.ama).catch(this.a7M);
else navigator.webkitGetUserMedia(q,this.ama,this.a7M)};b6.prototype.a3l=function(n){this.stream=n;this.GK.srcObject=n;
this.GK.addEventListener("loadedmetadata",this.ady,!1)};b6.prototype.ab0=function(n){this.GK.play();
this.rb(this.XF,this.rZ)};b6.prototype.Gt=function(n,q){return new fc(0,0)};b6.prototype.rb=function(n,q){var p=this.GK.videoWidth,E=this.GK.videoHeight;
this.Gl.j(p+" x "+E+" px");this.Gl.g.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.cN.Gw(p,E);this.XF=n;this.rZ=q;var T=n-28,i=q-28-30,H=this.cN.x/this.cN.y;if(T/i>H)T=i*H;else i=T/H;
this.GK.setAttribute("style","display: block; width: "+Math.round(T)+"px; height:"+Math.round(i)+"px;")};
b6.prototype.a66=function(n){console.log("error",n);alert(fE.get([21,6]));this.close()};b6.prototype.afe=function(n){if(this.stream!=null){var q=this.stream.getTracks();
for(var R=0;R<q.length;R++)q[R].stop();this.stream=null}};function cI(){hg.call(this,[7,8],"crange");
this._f=null;this.sY={Q_:73,jS:4.45,X:4};this.ih={Q_:73,jS:4.45,X:4};this.body.style.width="20em";this.Sv=new gJ([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Sv.R(P.E.b,this.acB,this);this.body.appendChild(this.Sv.g);this.QB=P.z("div","form");this.body.appendChild(this.QB);
var n=this.a0Q=2,q=this.WK=[new ej([12,92],0,200),new c2([12,36],[[18,0],"\uFF0B","\u2014"]),new ej([12,92],0,100,"%"),new iA("Min",0,255),new iA("Max",0,255)];
q[0].j(40);q[n].j(40);for(var R=0;R<q.length;R++){q[R].R(P.E.b,this.EA,this);q[R].parent=this}this.S=P.z("canvas");
this.body.appendChild(this.S);this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}cI.prototype=new hg;
cI.prototype.DU=function(n,q){return n!=null};cI.prototype.tc=function(){return!0};cI.prototype.vo=function(){return!0};
cI.prototype.acB=function(n){var q=this.Sv.I(),p=this.WK,E=this.QB,T=0,i=p.length,H=this.a0Q;if(q==0)i=H;
else{T=H;p[T+1].j([0,100,190][q-1]);p[T+1].aR(q!=1);p[T+2].j([60,150,255][q-1]);p[T+2].aR(q!=3)}P.Ls(E);
for(var R=T;R<i;R++){E.appendChild(p[R].g)}this.EA()};cI.prototype.N=function(){hg.prototype.N.call(this);
this.Sv.N();for(var R=0;R<this.WK.length;R++)this.WK[R].N()};cI.prototype.LA=function(n,q,p,E,T){var i=n.c.hQ(T.x,T.y);
this.asN(i.x,i.y)};cI.prototype.asN=function(n,q){var p=Math.min,E=Math.max,T=this._f,i=E(0,p(T.v-1,Math.floor(n))),H=E(0,p(T.o-1,Math.floor(q))),Z=T.Zk(),w=(H*T.v+i)*4,d=Z[w],O=Z[w+1],W=Z[w+2],C=j.IG(d,O,W),a=this.WK[1].I(),B=this.sY,$=this.ih;
if(a==0){this.sY=JSON.parse(JSON.stringify(C));this.ih=C}else if(a==1){B.Q_=p(B.Q_,C.Q_);B.jS=p(B.jS,C.jS);
B.X=p(B.X,C.X);$.Q_=E($.Q_,C.Q_);$.jS=E($.jS,C.jS);$.X=E($.X,C.X)}else if(a==2){var I=(B.Q_+$.Q_)/2,x=(B.jS+$.jS)/2,U=(B.X+$.X)/2;
if(C.Q_<I)B.Q_=E(B.Q_,C.Q_+10);else $.Q_=p($.Q_,C.Q_-10);if(C.jS<x)B.jS=E(B.jS,C.jS+1);else $.jS=p($.jS,C.jS-1);
if(C.X<U)B.X=E(B.X,C.X+1);else $.X=p($.X,C.X-1)}this.EA()};cI.prototype.VS=function(n){var q=this.Sv.I(),p=this.WK,E={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(q==0){var T=this.sY,i=this.ih;E.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:T.Q_},A:{t:"doub",v:T.jS},B:{t:"doub",v:T.X}}};
E.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.Q_},A:{t:"doub",v:i.jS},B:{t:"doub",v:i.X}}};E.Fzns={t:"long",v:p[0].I()}}else{q--;
var H=["shadows","midtones","highlights"][q];E.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][q]}};if(0<q)E[H+"LowerLimit"]={t:"long",v:p[3].I()};
if(q<2)E[H+"UpperLimit"]={t:"long",v:p[4].I()};E[H+"Fuzziness"]={t:"long",v:p[2].I()}}this.close();var Z=new ea(P.E.Gi,!0);
Z.data={oK:"colorRange",ga:E};this.K(Z)};cI.prototype.o5=function(n,q){this._f=n;this.asN(0,0);this.acB()};
cI.prototype.EA=function(){var n=this._f,q=this.Sv.I(),p=this.sY,E=this.ih,T=this.WK,i=T[0].I()/200,H=!1;
if(q>0){p=T[3].I();E=T[4].I();if(p>=E)p=E-1;H=!0;i=T[2].I()/100}var Z=A.eY.YX(n,p,E,i,H),w=Z.rect,d=Z.channel,O=this.S,W=O.getContext("2d"),C=Math.floor(230*P.D()),a=Math.floor(C*(w.o/w.v));
O.width=C;O.height=a;P.X_(O,C,a);var B=j.U(d.length*4);j.nz(B,4294967295);for(var R=0;R<3;R++)j.yI(d,B,R);
var $=A.Z.i8([B,w],new b$(C/w.v,0,0,a/w.o,0,0)),I=$.rect,x=new ImageData(new Uint8ClampedArray($.buffer.buffer),I.v,I.o);
W.putImageData(x,0,0)};function dA(){hg.call(this,[12,76,1],"createshape");this.uD=null;var n=P.z("div","form");
n.setAttribute("style","width:20em");this.body.appendChild(n);this.Yu=new iA([12,41],0,0,null,0,!1,!0);
n.appendChild(this.Yu.g);P.OK(n);this.s1=new iA([12,42],0,0,null,0,!1,!0);n.appendChild(this.s1.g);P.OK(n);
this.hM=new dq([19,5,3]);n.appendChild(this.hM.g);this.Yu.j(100);this.s1.j(100);this.bD=new bG("OK",!0,null,!0);
this.bD.R("click",this.VS,this);n.appendChild(this.bD.g)}dA.prototype=new hg;dA.prototype.VS=function(n){this.uD.a4r(this.uD.aro,this.Yu.I(),this.s1.I(),this.hM.I());
this.close()};dA.prototype.N=function(){if(this.uD)this.h6=fE.get([5,3])+": "+fE.get(this.uD.adx);hg.prototype.N.call(this);
this.Yu.N();this.s1.N();this.hM.N()};dA.prototype.o5=function(n,q){this.uD=q;this.N()};function f$(){hg.call(this,[11,1],"colorpicker");
this.d6=null;this.dW=null;this.FV=null;this.eb=!1;this.fl=!1;var n=P.z("div","flexrow"),i,H;this.body.appendChild(n);
this.D2=new hP(256);this.D2.R(P.E.b,this.Lp,this);n.appendChild(this.D2.g);var q=P.z("div","form");q.setAttribute("style","width:14.5em; margin-left:1em;");
n.appendChild(q);this.a1I=P.z("div","full");q.appendChild(this.a1I);this.arj=P.z("div","full");q.appendChild(this.arj);
var p=P.z("div","flexrow");q.appendChild(p);var E=P.z("div"),T=P.z("div");p.appendChild(E);p.appendChild(T);
i=["R","G","B"];H=E;this.VE=[];for(var R=0;R<3;R++){var Z=new iA(i[R]+":",0,255,null,0,!1,!0);this.VE.push(Z);
Z.R(P.E.b,this.a8s,this);H.appendChild(Z.g)}i=["H","S","B"];H=T;this.Xu=[];for(var R=0;R<3;R++){var w=0,d=360,O="\xB0";
if(R!=0){d=100;O="%"}var Z=new iA(i[R]+":",w,d,O,0,!1,!0);this.Xu.push(Z);Z.R(P.E.b,this.a4H,this);H.appendChild(Z.g)}this.s1=new gT("Hex",null,6);
this.s1.R(P.E.b,this.zc,this);q.appendChild(this.s1.g);this.Ty=P.z("input","fitem");this.Ty.setAttribute("type","color");
this.Ty.setAttribute("style","width:50px");this.Ty.addEventListener("change",this.zc.bind(this),!1);
q.appendChild(this.Ty);this.za=new fP(9);this.za.R(P.E.b,this.zc,this);q.appendChild(this.za.g);this.bD=new bG("OK",!0,null,!0);
this.bD.R("click",this.VS,this);q.appendChild(this.bD.g);this.R("closebtn",this.Kn,this);this.Wb=!1}f$.prototype=new hg;
f$.prototype.tc=function(){return!0};f$.prototype.rb=function(n,q){this.D2.rb(Math.min(256,n-226),q)};
f$.prototype.Lp=function(n){this.dW=this.D2.I();this.update()};f$.prototype.LA=function(n,q,p,E,T){this.Wb=!0;
this.aeS(n,T)};f$.prototype.Tw=function(n,q,p,E,T){if(!this.Wb)return;this.aeS(n,T)};f$.prototype.HO=function(n,q,p,E,T){this.Wb=!1};
f$.prototype.aeS=function(n,q){var p=A.vD.wt(n,q,1),E=p&255,T=p>>8&255,i=p>>16&255;this.dW={_:i/255,q:T/255,X:E/255};
this.update()};f$.prototype.a8s=function(n){var q=this.VE,p=this.VT(parseInt(q[0].I())),E=this.VT(parseInt(q[1].I())),T=this.VT(parseInt(q[2].I()));
this.dW={_:p/255,q:E/255,X:T/255};this.update()};f$.prototype.a4H=function(n){var q=this.Xu,p=this.GD(parseInt(q[0].I())/360),E=this.GD(parseInt(q[1].I())/100),T=this.GD(parseInt(q[2].I())/100);
this.dW=j.RF(p,E,T);this.update()};f$.prototype.zc=function(n){var q;if(n.currentTarget==this.za)q=this.za.I();
else{q=n.currentTarget==this.s1?this.s1.I():this.Ty.value;if(q.charAt(0)=="#")q=q.slice(1);if(q.length==3)q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2];
q=j.Wk(q)}this.dW={_:(q>>16&255)/255,q:(q>>8&255)/255,X:(q&255)/255};this.update()};f$.prototype.KM=function(n){var q=n._,p=n.q,E=n.X;
return Math.round(q*255)<<16|Math.round(p*255)<<8|Math.round(E*255)};f$.prototype.VS=function(n){this.a4Q();
var q=this.KM(this.dW);this.FV(q);this.close();this.fl=!1;this.dW=null};f$.prototype.Kn=function(n){this.a4Q();
if(this.eb)this.FV(this.KM(this.d6));this.fl=!1;this.dW=null};f$.prototype.a4Q=function(n){var q=new ea(P.E.T,!0);
q.data={e:P.C.arX};this.K(q)};f$.prototype.ts=function(n,q){if(q!=cF._H)return;var p=n.ny;this.za.j(p);
if(this.dW!=null){this.dW={_:(p>>16&255)/255,q:(p>>8&255)/255,X:(p>>0&255)/255};this.update()}};f$.prototype.o5=function(n,q){var p=q.Q9,E={_:(p>>16&255)/255,q:(p>>8&255)/255,X:(p>>0&255)/255};
if(this.dW==null){var T=new ea(P.E.T,!0);T.data={e:P.C.ru,MN:"crosshair",push:!0};this.K(T);this.Wb=!1;
this.FV=q.uV;this.eb=!1;this.fl=q.Rq;this.d6=JSON.parse(JSON.stringify(E));this.arj.setAttribute("style","height:3em;background-color:#"+j.E2(p)+";")}this.dW=E;
this.update()};f$.prototype.update=function(){var n=this.dW,q=this.KM(n),p=this.VE;p[0].j(Math.round(n._*255));
p[1].j(Math.round(n.q*255));p[2].j(Math.round(n.X*255));this.s1.j(j.E2(q));this.Ty.value="#"+j.E2(q);
this.a1I.setAttribute("style","height:3em;background-color:#"+j.E2(q)+";");var E=j.PW(n._,n.q,n.X);p=this.Xu;
p[0].j(Math.round(E.rZ*360));p[1].j(Math.round(E.dd*100));p[2].j(Math.round(E.Gm*100));this.D2.j(n);
if(this.fl){this.FV(this.KM(this.dW));this.eb=!0}};f$.prototype.VT=function(n){return Math.max(0,Math.min(255,n))};
f$.prototype.GD=function(n){return Math.max(0,Math.min(1,n))};function cA(){hg.call(this,[11,2],"contoureditor");
this.aoL=null;this.rQ=null;this.response=null;this.wm=P.z("div","cell");this.body.appendChild(this.wm);
this.B5=P.z("div","cell padded");this.body.appendChild(this.B5);var n=P.z("div","bordered padded vmargin");
this.wm.appendChild(n);this.TS=new hF;this.TS.R(P.E.b,this.NF,this);n.appendChild(this.TS.g);this.bD=new bG("OK",!0,null,!0);
this.bD.R("click",this.close,this);this.B5.appendChild(this.bD.g);this.coords=P.z("div","");this.coords.setAttribute("style","width:250px");
this.wm.appendChild(this.coords);this.AC=new gT("X (in)","%",4);this.vG=new gT("Y (out)","%",4);this.sD=new dq([19,3,0]);
this.AC.R(P.E.b,this.V1,this);this.vG.R(P.E.b,this.V1,this);this.sD.R(P.E.b,this.V1,this);this.coords.appendChild(this.AC.g);
this.coords.appendChild(this.sD.g);this.coords.appendChild(this.vG.g);this.R("closebtn",this.dv,this)}cA.prototype=new hg;
cA.prototype.N=function(){hg.prototype.N.call(this);this.sD.N()};cA.prototype.NF=function(n){this.rQ.Crv.v=this.TS.I();
this.response(this.rQ);this.XB()};cA.prototype.dv=function(n){this.response(this.aoL)};cA.prototype.o5=function(n,q){this.aoL=JSON.parse(JSON.stringify(q.fM));
this.rQ=q.fM;this.response=q.response;this.TS.j(this.rQ.Crv.v);this.XB()};cA.prototype.XB=function(){var R=this.TS.afx();
this.coords.setAttribute("class",R==-1?"disabled":"");if(R==-1)return;var n=this.rQ.Crv.v[R].v;this.AC.j(Math.round(n.Hrzn.v*(100/255)));
this.vG.j(Math.round(n.Vrtc.v*(100/255)));this.sD.j(n.Cnty.v)};cA.prototype.V1=function(n){var R=this.TS.afx(),q=this.rQ.Crv.v[R];
q.v.Hrzn.v=parseFloat(this.AC.I())*(255/100);q.v.Vrtc.v=parseFloat(this.vG.I())*(255/100);q.v.Cnty.v=this.sD.I();
this.rQ.Crv.v.sort(function(p,E){return p.v.Hrzn.v-E.v.Hrzn.v});this.TS.j(this.rQ.Crv.v,this.rQ.Crv.v.indexOf(q));
this.XB();this.response(this.rQ)};function j5(){hg.call(this,[11,3],"csize");this.yS=0;this.ss=P.z("div","form");
this.ss.setAttribute("style","width:22em");this.body.appendChild(this.ss);this.Qa=new e4(!0,!0,!0,!0);
this.Qa.a4$(!1);this.ss.appendChild(this.Qa.g);this.Hd=new c2("Align with",[[8,7],[12,6]]);this.Hd.R(P.E.b,this.ahn,this);
this.k_=new dn([12,23,2],41);this.ss.appendChild(this.k_.g);this.k_.j(4);this.hU=new cJ(!1);this.hU.aoN(new fc(0,0));
this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}j5.prototype=new hg;
j5.prototype.DU=function(n,q){return n!=null};j5.prototype.vo=function(){return!0};j5.prototype.ahn=function(){var n=[this.k_.g,this.hU.g];
this.ss.removeChild(n[this.yS]);this.yS=this.Hd.I();this.ss.appendChild(n[this.yS])};j5.prototype.N=function(){hg.prototype.N.call(this);
this.Qa.N();this.Hd.N();this.k_.N();this.hU.N()};j5.prototype.VS=function(n){var q=this.Qa.I(),p=q.x,E=q.y,T=new ea(P.E.Gi,!0);
T.data=A.c8.e9(p,E,this.k_.I());this.close();this.K(T)};j5.prototype.o5=function(n,q){this.Qa.j(new fc(n.v,n.o),n.xm)};
function bC(){hg.call(this,[11,4],"duplinto");this.zH=null;this.EH=null;this.vi=null;var n=P.z("div","form");
n.setAttribute("style","max-width:26em");this.body.appendChild(n);this.cA=new gJ([12,43],["abc","def"]);
this.cA.R(P.E.b,this.RQ,this);n.appendChild(this.cA.g);P.OK(n);this.wT=new gJ("Artboard",["abc","def"]);
this.wT.R(P.E.b,this.RQ,this);n.appendChild(this.wT.g);P.OK(n);this.xN=new gT([12,48],null,14);n.appendChild(this.xN.g);
this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);n.appendChild(this.bD.g)}bC.prototype=new hg;
bC.prototype.vo=function(){return!0};bC.prototype.N=function(){hg.prototype.N.call(this);this.cA.N();
this.xN.N()};bC.prototype.RQ=function(n){if(n&&n.target==this.wT)return;var q=this.cA.I(),p=this.EH[q],E=this.zH,T=p!=null&&p.add.artd!=null;
for(var R=0;R<E.p.length;R++)if(E.h[E.p[R]].add.artb)T=!1;this.xN.aR(q==this.EH.length);this.wT.aR(T);
if(T){var i=p.root.children,H=[],Z=this.vi=[];for(var R=0;R<i.length;R++){var w=i[R].Y;if(w.add.artb)H.push(w.getName());
Z.push(i[R].index)}this.wT.qj(H);this.wT.j(0)}else this.vi=null};bC.prototype.o5=function(n,q,p){this.zH=n;
this.EH=p;this.xN.j(n.p.length==0?"Layer":n.h[n.p[0]].getName());var E=[];for(var R=0;R<p.length;R++)E.push(p[R].name);
E.push([11,7]);this.cA.qj(E);this.cA.j(p.indexOf(n));this.RQ(null)};bC.prototype.VS=function(n){var q=this.cA.I();
if(q==this.EH.length){var p=new gd(this.xN.I()+".psd"),E=this.zH.v,T=this.zH.o,i=this.zH.Cq();if(i!=-1){var H=this.zH.h[i].Kl();
E=H.v;T=H.o}p.v=E;p.o=T;p.buffer=j.U(p.v*p.o*4);var Z=p.Je();Z.WR("Background");p.Kq([Z]);var w=new ea(P.E.T,!0);
w.JC=!0;w.data={e:P.C.D9,eL:p};this.K(w)}var d=this.zH.JD(null,this.zH!=this.EH[q]),w=new ea(P.E.u,!0);
w.data={e:g.dj,h:d,B1:this.zH,z6:this.EH[q]};if(this.vi)w.data.O7=this.vi[this.wT.I()];w.i=A.iq;w.JC=!0;
this.K(w);this.close()};function dd(){hg.call(this,[1,9],"eassets");this.BW=null;this.zb=null;var n=P.z("div","form");
n.setAttribute("style","width:32em");this.body.appendChild(n);this.Ll=P.z("span");n.appendChild(this.Ll);
P.OK(n);this.Nm=[new dq("Only layers / folders, whose name starts with \"-e-\""),new dq("Remove parts outside the canvas"),new dq("Trim transparent parts")];
for(var R=0;R<3;R++){var q=this.Nm[R];q.j(!0);q.R(P.E.b,this.$z,this);n.appendChild(q.g);P.OK(n)}this.DP=new i_([12,14,0],["1x","2x","3x","4x"]);
this.DP.j([!0,!1,!1,!1]);n.appendChild(this.DP.g);P.xf(n);this.La=["PNG","JPG","SVG"];this.E$=new gJ([12,50],this.La);
this.E$.R(P.E.b,this.and,this);n.appendChild(this.E$.g);this.jM=new bL;n.appendChild(this.jM.g);this.BK=new bG([1,9],!0,null,!0);
this.BK.R("click",this.VS,this);n.appendChild(this.BK.g);this.R("closebtn",this.NS,this)}dd.prototype=new hg;
dd.prototype.and=function(n){this.jM.a33(this.La[this.E$.I()])};dd.prototype.NS=function(n){this.zb=null};
dd.prototype.N=function(){hg.prototype.N.call(this);this.E$.N();this.DP.N();this.BK.N();this.jM.N()};
dd.prototype.o5=function(n,q,p){this.zb=n;this.$z()};dd.prototype.$z=function(n){var q=this.aj_(),p="- - - "+q.length+" exportable layers";
this.Ll.textContent=p;this.and(null)};dd.prototype.aj_=function(){var n=this.Nm[0].I(),q=[],p=this.zb;
for(var R=0;R<p.h.length;R++){var E=p.h[R],T=E.getName();if(!n&&!E.z7()&&!E.rect.M6()||T.startsWith("-e"))q.push(R)}return q};
dd.prototype.ts=function(n,q){this.BW=n};dd.prototype.VS=function(n){var q=this.zb,p=[this.La[this.E$.I()]],E=[this.jM.I()],T=this.DP.I(),i={},H={},Z=this.aj_();
if(Z.length==0){alert("No layers to export.");return}var w=[this.Nm[1].I(),this.Nm[2].I()];for(var R=0;
R<Z.length;R++){var d=Z[R],O=q.h[d],W=O.getName();if(H[W]!=null){H[W]++;W+=" "+H[W]}else H[W]=1;var C=O.Fp();
O.c4(!0);for(var a=0;a<T.length;a++){if(!T[a])continue;var B=a+1,$=A.Wh.yY(q,p,B,this.BW,d,E,w);for(var I=0;
I<p.length;I++){var x=p[I],U=W.slice(W.startsWith("-e-")?3:0)+(B==1?"":"-"+B+"x")+"."+x.toLowerCase();
if($[I])i[U]=new Uint8Array($[I])}}O.c4(C)}var N=UZIP.encode(i),m=new ea(P.E.T,!0);m.data={e:P.C.q6,data:N,name:"assets.zip"};
this.K(m)};function gZ(){hg.call(this,"Export Color Lookup Tables","exlut");this.BW=null;this.zb=null;
var n=P.z("div","form");n.setAttribute("style","width:20em");this.body.appendChild(n);this.Nm=[new iA("Grid Points",1,256),new c2([12,50],[".CUBE"])];
var q=[16,0];for(var R=0;R<this.Nm.length;R++){var p=this.Nm[R];p.j(q[R]);p.parent=this;p.R(P.E.b,this.$z,this);
n.appendChild(p.g);P.OK(n)}this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);n.appendChild(this.BK.g);
this.R("closebtn",this.NS,this)}gZ.prototype=new hg;gZ.prototype.DU=function(n,q){if(Math.min(n.v,n.o)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(n.h.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};gZ.prototype.NS=function(n){this.zb=null};gZ.prototype.ts=function(n,q){this.BW=n};
gZ.prototype.o5=function(n,q,p){this.zb=n};gZ.prototype.VS=function(){var n=this.zb,q=this.Nm[0].I(),p=[],E=new eL(0,0,n.v,n.o),T=j.U(q*q*4),i=T.slice(0),H=new eL(n.v-q>>>1,n.o-q>>>1,q,q),Z=n.h[0],w=Z.buffer,d=Z.rect;
Z.rect=H;Z.buffer=T;for(var O=0;O<q;O++){this.a0j(q,O,T);Z.M(H);n.M(H);var W=n.Zk();j.hk(W,E,i,H);for(var C=0;
C<q;C++)for(var a=0;a<q;a++){var B=C*q+a<<2;p.push(i[B]/255,i[B+1]/255,i[B+2]/255)}}var $=iQ.agc(p,q,n.name);
a$.save($,n.name.split(".")[0]+".CUBE");Z.buffer=w;Z.rect=d;Z.M();n.M()};gZ.prototype.a0j=function(n,q,p){var E=255/(n-1),T=Math.round(q*E);
for(var i=0;i<n;i++)for(var H=0;H<n;H++){var Z=i*n+H<<2;p[Z]=Math.round(H*E);p[Z+1]=Math.round(i*E);
p[Z+2]=T;p[Z+3]=255}};gZ.prototype.N=function(){hg.prototype.N.call(this);for(var R=0;R<this.Nm.length;
R++)this.Nm[R].N()};function ca(){hg.call(this,[1,14],"finfo");this.uy=null;this.KG=null;this.yG=null;
this.ss=P.z("div","form scrollable label12");this.ss.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ss);var n=P.z("div","form");this.body.appendChild(n);this.Vc=new gJ(null,["Hello"]);
n.appendChild(this.Vc.g);this.a5l=new bG("Add Parameter",!1,null,!0);n.appendChild(this.a5l.g);this.a5l.R("click",this.wX,this);
this.du=new bG("=== S A V E ===",!1,null,!0);n.appendChild(this.du.g);this.du.R("click",this.Hi,this);
this.a0z=""}ca.prototype=new hg;ca.prototype.Gt=function(n,q){return n<450||q<450?new fc(0,0):new fc(150,100)};
ca.prototype.wX=function(n){if(this.yG.length==0)return;var q=this.yG[this.Vc.I()],p=this.N7();p[q]=cm.yN[q][0];
this.A4(p);this.KG[q].g.scrollIntoView();this.KG[q].xY()};ca.prototype.M9=function(n){var q=this.N7();
delete q[n.currentTarget.aa3];this.A4(q)};ca.prototype.Hi=function(n){var q=this.N7(),p=this.uy,E=!0;
for(var T in p)if(JSON.stringify(p[T])!=JSON.stringify(q[T]))E=!1;for(var T in q)if(JSON.stringify(p[T])!=JSON.stringify(q[T]))E=!1;
if(E)return;var i=new ea(P.E.u,!0);i.i=A.iq;i.data={e:g.Su,Id:q};this.K(i);this.uy=q;this.A4(q)};ca.asJ=function(n){function q(T){var i=T.toLowerCase();
return T==i}var p=n.split(":").pop();for(var E=1;E<p.length-1;E++){if(p[E]==p[E].toUpperCase()&&(q(p[E+1])||q(p[E-1]))){p=p.slice(0,E)+" "+p.slice(E);
E++}}return p};ca.prototype.o5=function(n,q){this.uy=n.Sm;this.A4(n.Sm)};ca.prototype.A4=function(n){var q=this.ss,T=0;
P.Ls(q);var p=this.KG={},E=["tiff","exif","exif:GPS"],i=this.yG=[],H=[];for(var Z in cm.yN){var w=ca.asJ(Z),d=0,O=15,W=null;
if(n[Z]==null){i.push(Z);H.push(w);continue}for(var R=0;R<E.length;R++)if(Z.startsWith(E[R]))d=R;if(d!=T){P.xf(q);
T=d}if(Z=="tiff:ImageDescription"||Z=="dc:Keywords"){O=18.5;W=3}var C=new gT(w,null,O,W);p[Z]=C;var a=n[Z];
if(a instanceof Array)a=a[1]==0?"---":a[0]+"/"+a[1];var B=new bG("\u2716",null,fE.get([5,4]));q.appendChild(B.g);
B.R("click",this.M9,this);B.aa3=Z;C.j(a);q.appendChild(C.g);P.OK(q);if(Z=="exif:GPSLongitude"&&n["exif:GPSLatitude"]){this.a0z=ca.aar(n["exif:GPSLatitude"])+","+ca.aar(n["exif:GPSLongitude"]);
var $=new bG("Show on map",!1,null,!0);q.appendChild($.g);P.OK(q);$.R("click",this.am4,this)}}this.Vc.qj(H);
this.Vc.j(0)};ca.prototype.N7=function(){var n=this.KG,q=cm.yN,p={};for(var E in q){var T=q[E][0],i=typeof T;
if(T==null||n[E]==null)continue;var H=n[E].I(),Z="The value of \""+ca.asJ(E)+"\" must ";if(i=="number"){H=parseFloat(H);
if(isNaN(H)){alert(Z+"be a number.");H=T}}else if(T instanceof Array&&T.length==2){if(H.indexOf("/")==-1){alert(Z+"be a fraction.");
H=T.slice(0)}else{H=H.split("/").map(parseFloat);if(isNaN(H[0])||isNaN(H[1])){H=T.slice(0)}}}p[E]=H}return p};
ca.aar=function(n){var q=n.length,p=n.slice(0,q-1).split(",").map(parseFloat),E=n.slice(q-1),T=p[0]+p[1]/60+p[2]/3600;
if(E!="N"&&E!="E")T=-T;return T};ca.prototype.am4=function(n){window.open("https://maps.google.com?q="+this.a0z,"Map")};
function iD(){hg.call(this,[11,5],"gradienteditor");this.d6=null;this.dW=null;this.W7=null;this.FV=null;
this.eb=!1;this.fl=!1;P.oI(this.body,"form");this.C1=null;this.Uy=null;this._Z=-1;this.cy=-1;this.VN=0;
this.Zz=this.Ew.bind(this);this.S1=this.BM.bind(this);this.S=P.z("canvas","");this.Jm=this.S.getContext("2d");
this.S.setAttribute("style","display:block");this.XQ=null;P.l7(this.S);P.v$(this.S,this.HY.bind(this));
this.iV=new iA([19,3,3],0,100,"%");this.iV.R(P.E.b,this.hD,this);this.iV.parent=this;this.body.appendChild(this.iV.g);
P.OK(this.body);this.Ex=new jh([12,0]);this.body.appendChild(this.Ex.g);this.gB=P.z("div","bordered padded noalign");
this.body.appendChild(this.gB);this.Ik=new iA([12,0],0,100,"%");this.Ik.parent=this;this.Ik.R(P.E.b,this.hD,this);
this.gB.appendChild(this.Ik.g);this.tz=new iA([12,40],0,100,"%");this.tz.parent=this;this.tz.R(P.E.b,this.hD,this);
this.gB.appendChild(this.tz.g);this.sx=new bG([5,4],!1,null,!0);this.sx.R("click",this.a9_,this);this.gB.appendChild(this.sx.g);
this.body.appendChild(this.S);P.OK(this.body);this.a9g=new jh([13,0]);this.body.appendChild(this.a9g.g);
this.$I=P.z("div","bordered padded noalign");this.body.appendChild(this.$I);this.ui=new gJ([12,44],[[12,45],[12,46],[12,47]]);
this.ui.R(P.E.b,this.hD,this);this.$I.appendChild(this.ui.g);this.yD=new ja(!0);this.yD.parent=this;
this.yD.R(P.E.b,this.hD,this);this.$I.appendChild(this.yD.g);this.fH=new iA([12,40],0,100,"%");this.fH.parent=this;
this.fH.R(P.E.b,this.hD,this);this.$I.appendChild(this.fH.g);this.TP=new bG([5,4],!1,null,!0);this.TP.R("click",this.a0r,this);
this.$I.appendChild(this.TP.g);this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);this.body.appendChild(this.bD.g);
this.R("closebtn",this.Kn,this)}iD.prototype=new hg;iD.prototype.Kn=function(n){if(this.eb)this.FV(this.d6)};
iD.prototype.N=function(){hg.prototype.N.call(this);this.iV.N();this.Ex.N();this.a9g.N();this.sx.N();
this.TP.N();this.Ik.N();this.tz.N();this.ui.N();this.fH.N()};iD.prototype.ts=function(n,q){this.W7=n};
iD.prototype.o5=function(n,q){this.dW=JSON.parse(JSON.stringify(q.f));this.d6=JSON.parse(JSON.stringify(q.f));
this.C1=this.Uy=null;this.FV=q.uV;this.eb=!1;this.fl=q.Rq;this.E6();this.h7()};iD.prototype.VS=function(n){var q=this.dW;
this.FV(q);this.close()};iD.prototype.Ou=function(n){return n==aj.Qt||n==aj.W_};iD.prototype.IY=function(n,q,p,E){if(E.r(aj.Qt)||E.r(aj.W_)){if(this.Uy)this.a9_();
if(this.C1)this.a0r()}};iD.prototype.a9_=function(n){var q=this.dW.Trns.v;if(this.Uy==null||q.length==1)return;
q.splice(q.indexOf(this.Uy),1);this.Uy=null;this.E6();this.h7()};iD.prototype.a0r=function(n){var q=this.dW.Clrs.v;
if(this.C1==null||q.length==1)return;q.splice(q.indexOf(this.C1),1);this.C1=null;this.E6();this.h7()};
iD.prototype.E6=function(){var n=this.S,q=this.Jm,p=P.D();n.width=Math.floor(410*p);n.height=Math.floor(90*p);
P.X_(n,n.width,n.height);this.XQ=new eL(0,0,Math.floor(380*p),Math.floor(32*p));this.XQ.x=Math.floor((n.width-this.XQ.v)/2);
this.XQ.y=Math.floor((n.height-this.XQ.o)/2);var E=this.XQ,T=E.v,i=E.o,H=E.x,Z=E.y,w=new eL(0,0,T,i),d=q.getImageData(0,0,T,i),O=new Uint8Array(d.data.buffer);
j.nh(O,T,i,8);var W=j.U(T*i*4);j.f.Ma(this.dW,W,w,[1/T,0,0,1/i],T/2,i/2,!1,0,this.W7.ny,this.W7.iu);
j.a.Ef("norm",W,E,O,E,E,1);q.clearRect(0,0,n.width,n.height);q.putImageData(d,H,Z);var C=this.dW.Trns.v,a=this.dW.Clrs.v,B=j.f.fZ(a,this.W7.ny,this.W7.iu),$=Math.round(6*P.D()),I=Math.round(14*P.D()),x=this.Uy?this.Uy.v:null,U=this.C1?this.C1.v:null;
for(var R=0;R<C.length;R++){var N=C[R].v,m=Math.round(255-255*N.Opct.v.val/100);if((N==x||C[R-1]&&C[R-1].v==x||R==this.cy)&&R!=0){q.fillStyle="#000000";
q.fillRect(H-3+T*(C[R-1].v.Lctn.v+(N.Lctn.v-C[R-1].v.Lctn.v)*N.Mdpn.v/100)/4096,Z-6-2,6,6)}if(N==x){q.fillStyle="#ffffff";
q.fillRect(H-$+T*(N.Lctn.v/4096)-2,Z-2-I-2,2*$+4,I+4)}q.fillStyle="rgb("+m+","+m+","+m+")";q.fillRect(H-$+T*(N.Lctn.v/4096),Z-2-I,2*$,I)}for(var R=0;
R<a.length;R++){var f=a[R].v,c=B[R];if((f==U||a[R-1]&&a[R-1].v==U||R==this._Z)&&R!=0){q.fillStyle="#000000";
q.fillRect(H-3+T*(a[R-1].v.Lctn.v+(f.Lctn.v-a[R-1].v.Lctn.v)*f.Mdpn.v/100)/4096,Z+i+2,6,6)}if(f==U){q.fillStyle="#ffffff";
q.fillRect(H-$+T*(f.Lctn.v/4096)-2,Z+i+2-2,2*$+4,I+4)}q.fillStyle="rgb("+Math.round(c._)+", "+Math.round(c.q)+","+Math.round(c.X)+")";
q.fillRect(H-$+T*(f.Lctn.v/4096),Z+i+2,2*$,I)}if(this.fl){this.FV(this.dW);this.eb=!0}};iD.prototype.h7=function(){this.iV.j(Math.round(100*this.dW.Intr.v/4096));
var n=this.dW.Trns.v,q=this.dW.Clrs.v,p=this.Uy!=null,E=this.cy!=-1;this.Ik.aR(p);this.tz.aR(p||E);this.sx.aR(p);
if(p){this.gB.setAttribute("style","");var T=this.Uy.v;this.tz.j(Math.round(100*T.Lctn.v/4096));this.Ik.j(T.Opct.v.val)}if(E)this.tz.j(n[this.cy].v.Mdpn.v);
var p=this.C1!=null,E=this._Z!=-1;this.ui.aR(p);this.yD.aR(p);this.fH.aR(p||E);this.TP.aR(p);if(p){this.$I.setAttribute("style","");
var i=this.C1.v;this.fH.j(Math.round(100*i.Lctn.v/4096));var H=i.Type.v.Clry;this.ui.j(["FrgC","BckC","UsrS"].indexOf(H));
if(H=="FrgC")this.yD.GQ(this.W7.ny);if(H=="BckC")this.yD.GQ(this.W7.iu);if(H=="UsrS")this.yD.j(i.Clr.v)}if(E)this.fH.j(q[this._Z].v.Mdpn.v)};
iD.prototype.hD=function(n){var q=Math.round(4096*this.iV.I()/100);this.dW.Intr.v=q;var p=this.dW.Trns.v,E=this.dW.Clrs.v;
if(this.Uy!=null){var T=this.Uy.v;T.Lctn.v=Math.round(4096*(this.tz.I()/100));T.Opct.v.val=this.Ik.I()}if(this.C1!=null){var i=this.C1.v;
i.Lctn.v=Math.round(4096*(this.fH.I()/100));if(n.target==this.yD)this.ui.j(2);var H=this.ui.I();i.Type.v.Clry=["FrgC","BckC","UsrS"][H];
if(H==2)i.Clr={t:"Objc",v:this.yD.I()};else if(i.Clr)delete i.Clr}if(this.cy!=-1)p[this.cy].v.Mdpn.v=this.tz.I();
if(this._Z!=-1)E[this._Z].v.Mdpn.v=this.fH.I();this.E6()};iD.prototype.HY=function(n){var q=P.gD(n,this.S),p=this.XQ,E=(q.x*P.D()-p.x)/p.v,T=(q.y*P.D()-p.y)/p.o,i=this.dW.Trns.v,H=this.dW.Clrs.v,Z=null,w=null,d=-1,O=-1;
if(T<1)for(var R=0;R<i.length;R++){var W=i[R].v;if(Math.abs(W.Lctn.v/4096-E)<.02)Z=i[R];if(R>0)if(Math.abs((i[R-1].v.Lctn.v+(W.Lctn.v-i[R-1].v.Lctn.v)*W.Mdpn.v/100)/4096-E)<.01)d=R}if(T>0)for(var R=0;
R<H.length;R++){var C=H[R].v;if(Math.abs(C.Lctn.v/4096-E)<.02)w=H[R];if(R>0)if(Math.abs((H[R-1].v.Lctn.v+(C.Lctn.v-H[R-1].v.Lctn.v)*C.Mdpn.v/100)/4096-E)<.01)O=R}if(w==null&&Z==null&&d==-1&&O==-1){if(T<0){var W={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
W.v.Lctn.v=Math.round(E*4096);i.push(W);i.sort(this.Gn);Z=W}if(T>1){var H=this.dW.Clrs.v,a=j.f.fZ(H,this.W7.ny,this.W7.iu),B=j.f.Jx(this.dW,a,E),C={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:j.f.iB({_:B&255,q:B>>8&255,X:B>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
C.v.Lctn.v=Math.round(E*4096);H.push(C);H.sort(this.Gn);w=C}}if(w!=null)O=-1;if(Z!=null)d=-1;if(w!=null||Z!=null||d>-1||O>-1){this.Uy=Z;
this.C1=w;this.cy=d;this._Z=O;this.h7();this.E6();P.KN(window,this.Zz);P.iI(window,this.S1)}};iD.prototype.Ew=function(n){var q=P.gD(n,this.S),p=this.XQ,E=(q.x*P.D()-p.x)/p.v,T=(q.y*P.D()-p.y)/p.o;
E=Math.max(0,Math.min(1,E));var i=this.dW.Trns.v,H=this.dW.Clrs.v;if(this.Uy!=null){var Z=this.Uy.v;
Z.Lctn.v=Math.round(4096*E);var w=i.indexOf(this.Uy);if(w!=-1&&T<-1&&i.length>1)i.splice(w,1);if(w==-1&&T>-1)i.push(this.Uy);
i.sort(this.Gn)}if(this.C1!=null){var d=this.C1.v;d.Lctn.v=Math.round(4096*E);var O=H.indexOf(this.C1);
if(O!=-1&&T>1.5&&H.length>1)H.splice(O,1);if(O==-1&&T<1.5)H.push(this.C1);H.sort(this.Gn)}if(this.cy>-1){var Z=i[this.cy].v;
Z.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(E*4096-i[this.cy-1].v.Lctn.v)/(Z.Lctn.v-i[this.cy-1].v.Lctn.v))))}if(this._Z>-1){var d=H[this._Z].v;
d.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(E*4096-H[this._Z-1].v.Lctn.v)/(d.Lctn.v-H[this._Z-1].v.Lctn.v))))}if(this.Uy!=null||this.C1!=null||this.cy>-1||this._Z>-1){this.h7();
this.E6()}};iD.prototype.BM=function(n){P.dt(window,this.Zz);P.sZ(window,this.S1);if(Date.now()-this.VN<300){if(this._Z!=-1||this.cy!=-1){var q=(this._Z!=-1?this.dW.Clrs.v[this._Z]:this.dW.Trns.v[this.cy]).v;
q.Mdpn.v=50;this.h7();this.E6()}else if(this.C1!=null)this.yD.abm()}this.VN=Date.now()};iD.prototype.Gn=function(n,q){return n.v.Lctn.v-q.v.Lctn.v};
function ij(){hg.call(this,[11,10],"isize");this.ss=P.z("div","form");this.ss.setAttribute("style","width:20em");
this.body.appendChild(this.ss);this.Qa=new e4(!0,!0);this.ss.appendChild(this.Qa.g);this.bO=new dq("Resample");
this.bO.j(!0);this.ss.appendChild(this.bO.g);this.bO.R(P.E.b,this.arC,this);this.Nx=new gJ([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.Nx.j(1);this.ss.appendChild(this.Nx.g);this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);
this.body.appendChild(this.BK.g)}ij.prototype=new hg;ij.prototype.DU=function(n,q){return n!=null};ij.prototype.vo=function(){return!0};
ij.prototype.arC=function(n){var q=this.bO.I(),p=this.Qa,E=this.Nx;if(q)E.hy();else E.OW();if(q)p.a5m();
else p.a9L()};ij.prototype.N=function(){hg.prototype.N.call(this);this.Nx.N();this.Qa.N()};ij.prototype.VS=function(n){this.close();
var q=this.Qa.I(),p=q.x,E=q.y,T=this.Nx.I();if(!this.bO.I())T=null;var i=new ea(P.E.Gi,!0);i.data=A.c8.BA(p,E,this.Qa.Ww(),T);
this.K(i)};ij.prototype.o5=function(n,q){this.Qa.j(new fc(n.v,n.o),n.xm)};function cN(){hg.call(this,"Import RAW","importraw");
var n=P.z("div","flexrow"),q=P.z("div");q.setAttribute("style","margin-bottom: 1em");this.body.appendChild(n);
this.body.appendChild(q);var p=P.z("div","form");p.setAttribute("style","width:18em");n.appendChild(p);
var E=P.z("div","form");E.setAttribute("style","width:15em");n.appendChild(E);this.uD=null;this.ajj=null;
this.xp=null;this.vb=null;this.a3W=[];var T=[];for(var R=0;R<cN.$W.length;R++)T.push(cN.$W[R]+" Bits");
var i=this.L1=[new e4(!0,null,null,!0),new iA([12,72],1,8),new dq("Last one is Transparency"),new c2([12,34],T),new c2("Byte Order",["12-34","34-12"]),new gJ("Guesses",[])];
for(var R=0;R<i.length;R++){var H=i[R];H.parent=this;H.R(P.E.b,R==5?this.agS:this.RQ,this);var Z=R==0?p:R==5?q:E;
Z.appendChild(H.g)}this.S=P.z("canvas");this.Jm=this.S.getContext("2d");this.body.appendChild(this.S);
this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}cN.prototype=new hg;
cN.prototype.N=function(){hg.prototype.N.call(this);var n=this.L1;for(var R=0;R<n.length;R++)n[R].N()};
cN.prototype.VS=function(n){this.close();var q=this.L1[0].I(),p=al.Db(this.ajj,[{data:this.xp,Yd:new eL(0,0,q.x,q.y)}]);
if(this.vb)p.v4=this.vb;var E=new ea(P.E.T,!0);E.data={e:!0?P.C.D9:P.C.NW,eL:p};this.K(E)};cN.$W=[8,16];
cN.prototype.o5=function(n,q){this.uD=new Uint8Array(q.QE);this.ajj=q.KF;var p=this.uD.length,E=[1,3,4],T=0,i=0,H=1,Z=1,w=this.a3W=[];
for(var d=0;d<3;d++){for(var O=0;O<2;O++){var W=cN.$W[O],C=E[d],a=C*W,B=Math.round(p*8/a);if(B!=p*8/a)continue;
for(var $=0;$<=4e3;$++)for(var I=0;I<=4e3;I++)if($*I==B){var x=0;if($==I)x+=64;if(Math.round($/100)==$/100&&Math.round(I/100)==I/100)x+=32;
if(Math.round($/10)==$/10&&Math.round(I/10)==I/10)x+=16;if(Math.round($/2)==$/2&&Math.round(I/2)==I/2)x+=8;
w.push([$,I,C,W,x])}}}var U=function(c,D){if(D[4]!=c[4])return D[4]-c[4];var z=Math.max(c[0],c[1])/Math.min(c[0],c[1]),_=Math.max(D[0],D[1])/Math.min(D[0],D[1]);
if(z!=_)return z-_;return D[0]-c[0]};w.sort(U);var N=this.L1,m=[];for(var R=0;R<w.length;R++){var f=w[R];
m.push(f[0]+" x "+f[1]+", "+f[2]+"ch, "+f[3]+"-bit")}N[5].qj(m);N[5].j(0);this.agS(null)};cN.prototype.agS=function(n){var q=this.L1,p=this.a3W[this.L1[5].I()];
q[0].j(new fc(p[0],p[1]),72);q[1].j(p[2]);q[3].j(cN.$W.indexOf(p[3]));this.RQ()};cN.prototype.RQ=function(n){var q=this.L1,p=q[0].I(),E=p.x,T=p.y,i=cN.$W[q[3].I()],H=this.uD;
if(i==16&&q[4].I()==1){H=H.slice(0);for(var R=0;R<H.length;R+=2){var Z=H[R];H[R]=H[R+1];H[R+1]=Z}}var w=this.xp=this.es(H,E,T,q[1].I(),i,q[2].I()),d=this.S,O=this.Jm,W=[w,new eL(0,0,E,T)];
j.bl(W);for(var R=0;R<W.length;R+=2)if(W[R+1].o<300){w=W[R];E=W[R+1].v;T=W[R+1].o;break}d.width=E;d.height=T;
P.X_(d,E,T);var C=new ImageData(new Uint8ClampedArray(w.buffer),E,T);O.putImageData(C,0,0)};cN.prototype.es=function(n,q,p,E,T,i){this.vb=null;
var H=[],Z=q*p;for(var w=0;w<E;w++){var d=j.U(Z);H.push(d);if(T==8)for(var R=0;R<Z;R++)d[R]=n[R*E+w];
else if(T==16)for(var R=0;R<Z;R++)d[R]=n[(R*E+w)*2]}var O=j.U(Z*4);new Uint32Array(O.buffer).fill(4278190080);
if(i){j.yI(H.pop(),O,3);E--}if(E==0){}else if(E==1)j.s0(H[0],O);else{j.yI(H[0],O,0);j.yI(H[1],O,1);if(E>2){j.yI(H[2],O,2);
if(E>3){this.vb=[];for(var R=3;R<E;R++){var W=new g.JI;W.name="Alpha "+(R-2);W.rect=new eL(0,0,q,p);
W.channel=H[R];this.vb.push(W)}}}}return O};function ie(n,q,p){g9.call(this);this.g=P.z("div","");this.Uc=n;
this.lZ=null;this.$d=q==null?!1:q;this.V5=null;this.uv=p;this.VF=[];this.wa=[];this.aZ=[];this.I3=[];
this.RX=0;this.lZ=this.aas(ie.I3[n]);this.xI();this.xG=null;this.agG;this.alE}ie.prototype=new g9;ie.prototype.LA=function(n,q,p,E,T){this.xG=T;
this.agG=JSON.parse(JSON.stringify(this.V5));if(this.lZ.lagl)this.alE=this.lZ.lagl.I()[0]};ie.prototype.Tw=function(n,q,p,E,T){var i=this.xG,H=this.Uc,Z=this.agG;
if(i==null)return;var w=(T.x-i.x)/n.c.n,d=(T.y-i.y)/n.c.n;if(H=="GrFl"){var O=JSON.parse(JSON.stringify(Z.Ofst.v));
O.Hrzn.v.val+=w*.5;O.Vrtc.v.val+=d*.5;this.lZ.Ofst.j(O,!0)}if(H=="patternFill"){var O=JSON.parse(JSON.stringify(Z.phase.v));
O.Hrzn.v+=w;O.Vrtc.v+=d;this.lZ.phase.j(O,!0)}if(H=="DrSh"||H=="IrSh"||H=="ChFX"){var W=Z.Dstn.v.val,C=this.alE.Yf*Math.PI/180,a=-Math.cos(C)*W+w,B=Math.sin(C)*W+d;
this.lZ.Dstn.j(Math.sqrt(a*a+B*B),!0);this.lZ.lagl.j([Math.atan2(B,-a)*180/Math.PI],!0)}};ie.prototype.HO=function(n,q,p,E,T){this.xG=null};
ie.prototype.aiv=function(){for(var R=0;R<this.I3.length;R++){P.kO(this.I3[R],"selected");if(this.aZ[R]instanceof dq)this.aZ[R].j(!1)}};
ie.prototype.a3X=function(n){var q=this.amy.bind(this);for(var R=0;R<this.aZ.length;R++){var p=P.z("div","listitem");
this.I3.push(p);if(R>0)p.textContent="\u2003";p.appendChild(this.aZ[R].g);if(iq.No.indexOf(this.Uc)!=-1){var E=new bG("+");
E.P9();E.g.style.float="right";p.appendChild(E.g);var T=new bG("\u2B0D");T.P9();T.g.style.float="right";
T.g.style["margin-right"]="2px";p.appendChild(T.g)}p.addEventListener("click",q,!1);n.appendChild(p)}};
ie.oZ=function(n,q){var p=q.getBoundingClientRect();return(n.clientY-p.top)/p.height};ie.prototype.amy=function(n){var q=n.target.tagName.toLowerCase();
if(q=="input"){return}if(q=="button"){var p=new ea(P.E.u,!0),E=n.target.textContent=="+",T=E?0:ie.oZ(n,n.target)<.5?-1:1;
if(E)p.data={e:"st_dupsingle",Y:this.parent.data.Y,Eb:this.uv};else p.data={e:"st_movsingle",Y:this.parent.data.Y,Eb:this.uv,amr:T};
p.i=A.FC;p.JC=!0;this.K(p);p=new ea("redrawall",!0);p.data={amr:T};this.K(p);return}P.dv(n);this.c3();
this.RX=this.I3.indexOf(n.currentTarget);this.K(new ea("showme"))};ie.prototype.c3=function(){if(this.lZ.enab&&this.lZ.enab.I()==!1)this.m7({fj:"enab",k:!0})};
ie.prototype.alT=function(){var n=this.I3[this.RX];if(n)P.oI(n,"selected");return this.wa[this.RX]};
ie.prototype.aas=function(n){var q={};for(var R=0;R<n.length;R++){var p=n[R],E=null;if(p=="----")E={g:P.z("hr")};
if(p=="\n")E={g:P.z("br")};if(p=="blOptions")E=new jh([14,10]);if(p=="brst")E=new i_([12,72],["R","G","B"]);
if(p=="knko")E=new gJ("Knockout",[[13,1,0],"Shallow","Deep"]);if(p=="enab")E=new dq(iq.names[iq.order.indexOf(this.Uc)]);
if(p=="lrMd"||p=="Md")E=new gJ([12,19,0],d3.qn,!1,d3.BJ);if(p=="Opct")E=new bu([12,0],0,100,"%");if(p=="iOpa")E=new bu([12,26],0,100,"%");
if(p=="blIf")E=new aJ;if(p=="ShdN")E=new bu([12,68],0,100,"%");if(p=="lagl"||p=="Angl")E=new fz([12,15],this.Uc=="ebbl");
if(p=="uglg")E=new dq([12,27]);if(p=="Dstn")E=new bu([12,28],0,200,"px");if(p=="Ckmt")E=new bu([12,29],0,100,"%");
if(p=="blur")E=new bu([12,14,0],0,200,"px");if(p=="TrnS"||p=="MpgS")E=new he([12,21]);if(p=="Nose")E=new bu([12,30],0,100,"%");
if(p=="layerConceals")E=new dq([12,31]);if(p=="AntA"||p=="antialiasGloss")E=new dq("Anti-alias");if(p=="GlwT")E=new gJ([12,32],iq.WS.names);
if(p=="glwS")E=new gJ([12,70],iq.WS.aeU);if(p=="Inpr")E=new bu([12,12],1,100,"%");if(p=="bvlS")E=new gJ([12,22],iq.ld.style);
if(p=="bvlT")E=new gJ([12,32],iq.ld.a8R);if(p=="bvlD")E=new gJ(null,iq.ld.dir);if(p=="srgR")E=new bu([12,34],0,1e3,"%");
if(p=="Sftn")E=new bu([12,35],0,20,"px");if(p=="Lald")E=q.lagl;if(p=="hglM"||p=="sdwM")E=new gJ([12,36],d3.qn,!1,d3.BJ);
if(p=="hglC"||p=="sdwC")E=new ja;if(p=="hglO"||p=="sdwO")E=new bu([12,0],0,100,"%");if(p=="Invr"||p=="InvT")E=new dq([4,11]);
if(p=="Sz")E=new bu([12,14,0],1,200,"px");if(p=="Styl")E=new gJ([12,40],iq.stroke.names);if(p=="PntT")E=new gJ([12,66],iq.stroke.a0s);
if(p=="Clr")E=new ja(!0);if(p=="Grad"){E=new c3(!0,[12,37],!0);E.j(JSON.parse(iq.Xc.Ig).v)}if(p=="Rvrs")E=new dq([12,23,0]);
if(p=="Dthr")E=new dq("Dither");if(p=="Type")E=new gJ([12,22],iq.f.names.slice(0,this.Uc=="FrFX"?6:5));
if(p=="Ptrn")E=new fA([12,62]);if(p=="Scl")E=new bu([12,38],10,500,"%",0,!0);if(p=="Algn")E=new dq([12,39]);
if(p=="Ofst")E=new cJ(!0);if(p=="phase")E=new cJ(!1);if(p=="useShape")E=new dq([12,21]);if(p=="useTexture")E=new dq([12,67]);
if(p=="textureDepth")E=new bu([12,34],-300,300,"%");var T=p=="----"||p=="\n"?p+R:p;if(E!=null)q[T]=E}return q};
ie.prototype.adq=function(n){var q=this.wa[this.RX];for(var R=0;R<n.length;R++){var p=this.lZ[n[R]];
if(p&&q.contains(p.g))q.removeChild(p.g)}};ie.prototype.a36=function(n){var q=this.wa[this.RX];for(var R=0;
R<n.length;R++){var p=this.lZ[n[R]];if(p&&!q.contains(p.g))q.appendChild(p.g)}};ie.prototype.ts=function(n,q){if(this.lZ==null)return;
var p=q==cF.Bo;if(this.lZ.Grad){this.lZ.Grad.jw(n.ny,n.iu);if(p||q==cF._H||q==cF.x2)this.lZ.Grad.KC(n.XV)}if(this.lZ.Ptrn){if(p||q==cF.KV)this.lZ.Ptrn.KC(n.bS)}if(this.lZ.TrnS){if(p||q==cF.mY)this.lZ.TrnS.KC(n.Kk)}if(this.lZ.MpgS){if(p||q==cF.mY)this.lZ.MpgS.KC(n.Kk)}};
ie.prototype.N=function(){for(var R=0;R<this.VF.length;R++)this.VF[R].N();for(var n in this.lZ)if(this.lZ[n]instanceof g9)this.lZ[n].N()};
ie.prototype.xI=function(){for(var n in this.lZ){var q=this.lZ[n];q.parent=this;if(q instanceof g9)q.R(P.E.b,this.ajU,this);
if(this.wa.length==0||n=="useShape"||n=="useTexture"){var p=new jh(q.a7n()),E=P.z("div","bordered padded");
if(this.$d==!1){E.appendChild(p.g);E.appendChild(P.z("hr",""))}this.VF.push(p);this.wa.push(E);this.aZ.push(q)}else this.wa[this.wa.length-1].appendChild(q.g)}};
ie.prototype.update=function(n,q){if(this.lZ==null)return;this.V5=JSON.parse(JSON.stringify(q));for(var p in q){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(p)!=-1)this.lZ[p].j(q[p].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(p)!=-1){this.lZ[p].j(q[p].v,n)}if(["Md","hglM","sdwM"].indexOf(p)!=-1)this.lZ[p].j(d3.Uc.indexOf(q[p].v.BlnM));
if(p=="lrMd"){var E=(q.z7?[[15,10,27]]:[]).concat(d3.qn),T=(q.z7?[1]:[]).concat(d3.BJ);this.lZ[p].qj(E,T);
this.lZ[p].j(q[p].v)}if(p=="Angl")this.lZ[p].j([q[p].v.val]);if(p=="lagl"){var i=q.uglg&&q.uglg.v?n.E5():q.lagl.v.val;
this.lZ[p].j([i])}if(p=="Lald"){var i=q.uglg&&q.uglg.v?n.j4():q.Lald.v.val;this.lZ[p].j([null,i])}if(p=="Type")this.lZ[p].j(iq.f.types.indexOf(q.Type.v.GrdT));
if(p=="Styl")this.lZ[p].j(iq.stroke.types.indexOf(q.Styl.v.FStl));if(p=="PntT"){var H=iq.stroke.VX.indexOf(q.PntT.v.FrFl);
this.lZ[p].j(H);if(!this.$d){this.adq(iq.zo.concat(iq.kb.concat(iq.fi)));this.a36([iq.zo,iq.kb,iq.fi][H])}}if(p=="GlwT")this.lZ[p].j(iq.WS.types.indexOf(q.GlwT.v.BETE));
if(p=="glwS")this.lZ[p].j(iq.WS.t6.indexOf(q.glwS.v.IGSr));if(p=="bvlS")this.lZ[p].j(iq.ld.types.indexOf(q.bvlS.v.BESl));
if(p=="bvlT")this.lZ[p].j(iq.ld.vZ.indexOf(q.bvlT.v.bvlT));if(p=="bvlD")this.lZ[p].j(["In","Out"].indexOf(q.bvlD.v.BESs))}};
ie.prototype.ajU=function(n){for(var q in this.lZ){if(this.lZ[q]!=n.target)continue;var p=null,E=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(q)!=-1)p={type:"#Prc",val:n.target.I()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(q)!=-1)p={type:"#Pxl",val:n.target.I()};if(["Angl","lagl"].indexOf(q)!=-1)p={type:"#Ang",val:n.target.I()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(q)!=-1)p=n.target.I();
if(["Md","hglM","sdwM"].indexOf(q)!=-1)p={BlnM:d3.Uc[n.target.I()]};if(q=="uglg"){p=n.target.I();E=!0}if(q=="PntT"){p={FrFl:iq.stroke.VX[n.target.I()]};
E=!0}if(q=="Lald")p={type:"#Ang",val:n.target.I()[1]};if(q=="Type")p={GrdT:iq.f.types[n.target.I()]};
if(q=="Styl")p={FStl:iq.stroke.types[n.target.I()]};if(q=="GlwT")p={BETE:iq.WS.types[n.target.I()]};
if(q=="glwS")p={IGSr:iq.WS.t6[n.target.I()]};if(q=="bvlS")p={BESl:iq.ld.types[n.target.I()]};if(q=="bvlT")p={bvlT:iq.ld.vZ[n.target.I()]};
if(q=="bvlD")p={BESs:["In","Out"][n.target.I()]};this.m7({fj:q,k:p});if(E){if(this.$d)this.update(null,this.V5);
else{var T=this.parent,i=T.eL,H=this.uv,Z=i.h[T.data.Y].add.lmfx[iq.Da[H[0]]].v[H[1]].v;this.update(i,Z)}}}};
ie.prototype.m7=function(n){if(this.V5&&this.V5[n.fj])this.V5[n.fj].v=n.k;if(this.$d){this.K(new ea(P.E.b))}else{n.e="changeprop";
n.Y=this.parent.data.Y;n.ap=this.uv;var q=new ea(P.E.u,!0);q.data=n;q.i=A.FC;q.JC=!0;this.K(q);this.K(new ea("afterchange",!0))}};
ie.prototype.I=function(){return JSON.parse(JSON.stringify(this.V5))};ie.I3={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(iq.zo),GrFl:["enab","Md","Opct"].concat(iq.kb),patternFill:["enab","Md","Opct"].concat(iq.fi),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(iq.zo.concat(iq.kb.concat(iq.fi)))};
function fK(){hg.call(this,[11,6],"layerstyle");this.apU=-1;this.data={};this.eL=null;this.BW=null;this.uI=[];
this._C=[];P.oI(this.body,"flexrow");this.wm=P.z("div","bordered");this.wm.setAttribute("style","min-width:13em;");
this.body.appendChild(this.wm);this.pa=P.z("div","");this.pa.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.pa);this.B5=P.z("div","form");this.B5.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.B5);this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);this.B5.appendChild(this.bD.g);
this.vQ=new bG([12,87],!0,null,!0);this.vQ.R("click",this.ahv,this);this.B5.appendChild(this.vQ.g);this.el=new eY;
this.el.parent=this;this.el.R(P.E.b,this.a4K,this);this.B5.appendChild(this.el.g);this.R("closebtn",this.Kn,this);
this.R("redrawall",this.agX,this)}fK.prototype=new hg;fK.prototype.vo=function(){return!0};fK.prototype.tc=function(){return!0};
fK.prototype.LA=function(n,q,p,E,T){var i=this.Ox();if(i)i.LA(n,q,p,E,T)};fK.prototype.Tw=function(n,q,p,E,T){var i=this.Ox();
if(i)i.Tw(n,q,p,E,T)};fK.prototype.HO=function(n,q,p,E,T){var i=this.Ox();if(i)i.HO(n,q,p,E,T)};fK.prototype.Ox=function(n){if(n==null)n=this.data.index;
return n==null?null:n==0?this.uI[0]:this._C[n[0]][n[1]]};fK.prototype.a4K=function(n){var q=this.el.I();
this.m7({e:"setstl",k:q.Tp});this.agX(null)};fK.prototype.ahv=function(n){var q=this.eL,p=this.data.Y;
if(p==null)p=q.p[0];var E=this.eL.h[p],T=cU.gi(E),i=new ea(P.E.T,!0);i.data={e:P.C.Th,wH:"add",sQ:cF.Iy,EQ:[JSON.parse(JSON.stringify(T))]};
this.K(i)};fK.prototype.a3F=function(n){this.data.index=n.currentTarget.uv;this.Wi(n.currentTarget.uv)};
fK.prototype.agX=function(n){this.o5(this.eL,this.data)};fK.prototype.Wi=function(n,q){P.Ls(this.pa);
for(var R=0;R<this.uI.length;R++)this.uI[R].aiv();var p=this.Ox(n);this.pa.appendChild(p.alT());if(q)p.c3();
var E=this.eL;if(E){var T=E.h[this.data.Y];this.uI[0].update(E,i1.Iv.Pd(E,T));var i=T.add.lmfx;if(i==null)return;
for(var R=0;R<iq.order.length;R++){var H=i[iq.Da[R]].v;for(var Z=0;Z<H.length;Z++)this._C[R][Z].update(E,H[Z].v)}}if(q)p.c3()};
fK.prototype.N=function(){hg.prototype.N.call(this);this.vQ.N();this.el.N();for(var R=0;R<this.uI.length;
R++)this.uI[R].N()};fK.prototype.o5=function(n,q){var p=q.Y==null;this.data.Y=q.Y;this.data.index=q.index;
q=this.data;this.eL=n;if(p)q.Y=n.p.length==0?n.h.length-1:n.p[0];P.Ls(this.wm);var E=n.h[q.Y].add.lmfx;
this.ND();this.uI=[new ie("bops",!1,0)];this._C=[];for(var R=0;R<iq.order.length;R++){this._C.push([]);
var T=E==null?[]:E[iq.Da[R]].v;for(var i=0;i<T.length;i++){var H=new ie(iq.order[R],!1,[R,i]);this.uI.push(H);
this._C[R].push(H)}if(T.length==0){var H=new ie(iq.order[R],!1,[R,0]);this.uI.push(H);this._C[R].push(H)}}this.N();
this.arR(this.BW,cF.Bo);for(var R=0;R<this.uI.length;R++){this.uI[R].parent=this;this.uI[R].a3X(this.wm);
this.uI[R].R("showme",this.a3F,this)}if(q.index==null||q.index==0||!p&&E[iq.Da[q.index[0]]].v.length==0){this.Wi(0)}else this.Wi(q.index,p);
this.R("afterchange",this.ND,this)};fK.prototype.ND=function(n){var q=this.eL,p=this.data.Y;if(p==null)p=q.p[0];
var E=this.eL.h[p],T=cU.gi(E);this.el.j(T,q.add.Patt?q.add.Patt:[],q.E5(),q.j4())};fK.prototype.ts=function(n,q){this.BW=n;
this.arR(n,q);if(q==cF.Iy||q==cF.Bo){this.el.KC([n.S9,n.bS])}if(q==cF.DN){}};fK.prototype.arR=function(n,q){for(var R=0;
R<this.uI.length;R++)this.uI[R].ts(n,q)};fK.prototype.Kn=function(n){this.m7({e:"cancel"})};fK.prototype.VS=function(n){this.m7({e:"confirm"});
this.close()};fK.prototype.m7=function(n){n.Y=this.data.Y;var q=new ea(P.E.u,!0);q.data=n;q.i=A.FC;q.JC=!0;
this.K(q);this.ND()};fK.cL=function(n){var q=[{name:[14,10],H8:!0}];for(var R=0;R<iq.names.length;R++)q.push({name:iq.names[R]});
if(n){q[q.length-1].H8=!0;q.push({name:"Scale Effects",J:function(p){return{J:p!=null&&p.p.length!=0&&p.h[p.p[0]].Lc()}}});
q.push({name:["VAR0 VAR1",[12,49],[9,1]],J:function(p){return{J:p!=null&&p.p.length!=0&&p.h[p.p[0]].add.lmfx!=null}}})}return q};
fK.WY=function(n){var q=[{l:P.E.T,m:{e:P.C.Lr,ov:"layerstyle"}}];for(var R=0;R<iq.names.length;R++)q.push({l:P.E.T,m:{e:P.C.Lr,ov:"layerstyle",index:[R,0]}});
if(n){q.push({l:P.E.T,m:{e:P.C.Lr,ov:"scaleeffects",Br:100,ls:{l:P.E.u,i:A.FC,m:{e:"scaleeffects"}}}});
var p={classID:"Mk",null:j4.hZ("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
q.push({l:P.E.Gi,m:{oK:"make",ga:p}})}return q};fK.a5L=function(n){var q=[];if(n)q.push({name:[6,48,0,0],Ak:!0},{name:[6,48,0,1],Ak:!0},{name:[6,48,0,2],Ak:!0,H8:!0});
for(var p in iJ.names)q.push({name:iJ.names[p],H8:iJ.T3.indexOf(p)!=-1,Ak:r[p]!=null});return q};fK.aaW=function(n){var q=[];
if(n){q.push({l:P.E.u,i:A.a9,m:{e:"newfill",hw:0}});for(var R=1;R<3;R++)q.push({l:P.E.Gi,m:A.am.zm(R)})}for(var p in iJ.names){var E=fU.yQ(p);
if(E==null)E={};for(var T in iJ.Sz)if(iJ.Sz[T]==p)E.classID=T;var i={oK:"make",ga:{classID:"Mk",null:j4.hZ("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:E}}}}};
q.push({l:P.E.Gi,m:i})}return q};function dN(){hg.call(this,"Merge Channels","mergechannels");this.NR=null;
var n=P.z("div","form");this.body.appendChild(n);this.L1=[];for(var R=0;R<3;R++){var q=new gJ(iJ.D_[R],[]);
this.L1.push(q);n.appendChild(q.g);P.OK(n)}this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);
n.appendChild(this.bD.g)}dN.prototype=new hg;dN.prototype.N=function(){hg.prototype.N.call(this);for(var R=0;
R<3;R++)this.L1[R].N()};dN.prototype.o5=function(n,q,p,E){this.NR=p;var T=[];for(var R=0;R<p.length;
R++)T.push(p[R].name);for(var R=0;R<3;R++){var i=this.L1[R];i.qj(T);i.j(Math.min(R,p.length-1))}};dN.prototype.VS=function(n){var q=this.NR,p=q[0],E=new ea(P.E.Gi,!0);
E.data=gd.lG(p.v,p.o,p.xm,"Merged Document","Wht",!1);this.K(E);var T=[];for(var R=0;R<3;R++)T.push(q[this.L1[R].I()].Zk());
var p=q[q.length-1],i=p.h[0],H=i.buffer;for(var R=0;R<H.length;R+=4){H[R]=T[0][R];H[R+1]=T[1][R];H[R+2]=T[2][R]}i.M();
p.M();this.close()};function at(){hg.call(this,[1,10],"script");var n=P.z("div","form");n.setAttribute("style","width:44em");
this.body.appendChild(n);this.BW=null;this.Tn=[];this.JP=[];this.adF;var q=this.du=new bG([1,2],!1,null,!0);
q.R("click",this.Hi,this);n.appendChild(q.g);var p=new bG("JS Reference",!1,null,!0);p.R("click",this.amH,this);
n.appendChild(p.g);n.appendChild(new jh("Demos:").g);this.ano=[];var E=at.yy;for(var R=0;R<E.length;
R++){var T=new bG(E[R].vf,!1,null,!0);this.ano.push(T);n.appendChild(T.g);T.R("click",this.ai0,this)}this.$T=P.z("textarea");
this.$T.setAttribute("rows",16);this.$T.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
n.appendChild(this.$T);var i=new bG("Run",!0,null,!0);i.R("click",this.VS,this);n.appendChild(i.g);this.aep=P.z("div");
n.appendChild(this.aep)}at.prototype=new hg;at.prototype.N=function(){this.du.N()};at.prototype.Hi=function(){var n=this.adF;
if(n==null)n="script.jsx";var q=new ea(P.E.T,!0);q.data={e:P.C.Lr,ov:"namewindow",Br:n.slice(0,n.length-4),Gu:this.a47.bind(this)};
this.K(q)};at.prototype.a47=function(n){var q=this.$T.value,p=u.Va(q),E=new ea(P.E.T,!0);E.data={e:P.C.g$,QE:p.buffer,y4:n+".jsx",abg:!0};
this.K(E)};at.prototype.aq1=function(n){var R=this.Tn.indexOf(n.target),q=this.adF=this.JP[R],p=this.BW.Em.cu[q],E=new Uint8Array(p),T=u.L4(E,0,E.length);
this.$T.value=T};at.prototype.o5=function(n,q,p){this.$T.value=at.yy[0].oW;this.a4n()};at.prototype.a4n=function(){var n=this.BW.Em,q=this.aep;
P.Ls(q);this.Tn=[];this.JP=[];q.textContent="Saved scripts: ";for(var p in n.cu){if(p.endsWith(".jsx")){var E=new bG(p,!1,null,!0);
this.Tn.push(E);this.JP.push(p);E.R("click",this.aq1,this);q.appendChild(E.g)}}};at.prototype.ts=function(n,q){this.BW=n;
if(q==cF.kq)this.a4n()};at.prototype.amH=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.bU,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.K(q)};at.prototype.VS=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.hX,dT:this.$T.value};this.K(q)};
at.prototype.ai0=function(n){var q=this.ano.indexOf(n.currentTarget);this.$T.value=at.yy[q].oW};at.yy=[{vf:"Hello",oW:"\nalert(\"Hello Photopea!\");\n"},{vf:"Process Layers",oW:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{vf:"Clone Layers",oW:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ih(){hg.call(this,[11,7],"newproject");this.data=null;this.NR=null;var n=P.z("div","flexrow");
this.QB=n;this.body.appendChild(n);var q=P.z("div","form");this.ss=q;n.appendChild(q);this.xN=new gT([12,48]);
q.appendChild(this.xN.g);P.OK(q);this.Qa=new e4(!0);this.Qa.j(new fc(1280,720),72);this.Qa.R(P.E.b,this.cb,this);
q.appendChild(this.Qa.g);this.dl=new gJ([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,46]]);q.appendChild(this.dl.g);
this.dM=new dq("Artboards");q.appendChild(this.dM.g);this.BK=new bG([12,49],!0,null,!0);this.BK.R("click",this.VS,this);
q.appendChild(this.BK.g);var p=ih.uD,E=[];for(var R=0;R<p.length;R++)E.push(p[R].name);this.ku=new c2(null,E);
this.ku.R(P.E.b,this.asT,this);q.appendChild(this.ku.g);this.ku.g.style["margin-top"]="1em";this.nH=new ds(!0);
this.nH.R(P.E.b,this.a9E,this);q.appendChild(this.nH.g);this.asT();this.n0=new fw;this.n0.parent=this;
this.n0.g.setAttribute("style","margin-left:1em");this.n0.R("tempready",this.amI,this)}ih.prototype=new hg;
ih.prototype.ts=function(n,q){this.n0.ts(n)};ih.prototype.Gt=function(n,q){return new fc(Math.max(0,Math.min(70,(n-690)/2)),n>q?Math.max(0,Math.min(50,(q-400)/2)):0)};
ih.prototype.rb=function(n,q){this.ss.setAttribute("style","width:"+Math.min(n,338)+"px");this.nH.g.style.height=q-260+"px";
var p=this.n0.g,E=p.parentNode;if(n<500){if(E!=null)this.QB.removeChild(p)}else{if(E==null)this.QB.appendChild(p)}this.n0.rb(n-360,q-35)};
ih.prototype.cb=function(){this.n0.j(this.Qa.I())};ih.prototype.a9E=function(n){var q=this.nH.I(),p=ih.uD[this.ku.I()].jb[q],E=p[4];
if(E==0)E=72;var T=p[1],i=p[2],H=["px","%","mm","in"].indexOf(p[3]),Z=[1,1,25.4/E,1/E][H];T/=Z;i/=Z;
this.Qa.j(new fc(Math.round(T),Math.round(i)),E);this.Qa.acy(H);this.nH.Zn(q);this.cb()};ih.prototype.asT=function(n){var q=ih.uD[this.ku.I()].jb,p=[],E=[],T=Math.round(106*P.D()),i=Math.round(106*P.D()),H=0;
for(var R=0;R<q.length;R++)H=Math.max(H,q[R][1],q[R][2]);for(var R=0;R<q.length;R++){var Z=q[R],w=Z[1]+" x "+Z[2]+" "+Z[3];
if(Z[3]=="in")w=(Z[1]*25.4).toFixed(0)+" x "+(Z[2]*25.4).toFixed(0)+" mm";if(Z[3]=="mm")w=(Z[1]/25.4).toFixed(1)+" x "+(Z[2]/25.4).toFixed(1)+" in";
if(Z[4])w=w+" @ "+Z[4]+" ppi";E.push(w);p.push(ih.Xm(Z,T,i,H))}this.nH.v3(p,E,T,i)};ih.Xm=function(n,q,p,E){var T=P.z("canvas",""),i=T.getContext("2d");
T.width=q;T.height=p;var H=Math.round(q/8),Z=Math.floor(11*P.D()),w=n[1],d=n[2];i.fillStyle="#000000";
i.font=Math.round(Z*.9)+"px \"Open Sans\", Sans-Serif";var O=w+" x "+d+" "+n[3],W=i.measureText(O);i.fillText(O,Math.round((q-W.width)/2),p-Math.round(H/2));
if(n[0]!=null){i.font="bold "+Z+"px \"Open Sans\", Sans-Serif";var O=n[0],W=i.measureText(O);i.fillText(O,Math.round((q-W.width)/2),p-Math.round(H/2)-Math.round(Z*1.3))}p-=Math.round(2.5*Z);
var C=Math.min((q-H)/w,(p-H)/d);C*=.5+.5*(Math.max(w,d)/E);var a=(q-w*C)/2,B=(p-d*C)/2;i.strokeRect(Math.round(a)+.5,Math.round(B)+.5,Math.round(w*C),Math.round(d*C));
return T.toDataURL()};ih.prototype.N=function(){hg.prototype.N.call(this);this.Qa.N();this.xN.N();this.dl.N();
this.BK.N();this.xN.j(fE.get([11,7]));this.ku.N();this.dM.N();this.n0.N()};ih.prototype.VS=function(n){var q=this.Qa.I(),p=q.x,E=q.y;
this.close();var T=new ea(P.E.Gi,!0);T.data=gd.lG(p,E,this.Qa.Ww(),this.xN.I(),["Wht","Blck","Trns","BckC"][this.dl.I()],this.dM.I());
this.K(T);this.ak$()};ih.prototype.amI=function(n){var q=n.data.eL;q.xm=this.Qa.Ww();var p=new ea(P.E.T,!0);
p.data={e:P.C.D9,eL:q};this.K(p);this.close();this.ak$()};ih.prototype.ak$=function(){var n=this.NR[this.NR.length-1],q=this.data.afh;
if(q)eD.$H(function(){var p=new XMLHttpRequest,E="https://www.googleapis.com/drive/v3/files?"+eD.aG();
p.open("POST",E,!0);p.setRequestHeader("Content-Type","application/json");p.addEventListener("load",function(T){var i=JSON.parse(T.target.response);
n.ps={file:i,AE:"psd"};alert(n.name+" created in Google Drive")});p.send(JSON.stringify({name:n.name,a6i:[q]}))})};
ih.prototype.o5=function(n,q,p,E){this.NR=p;if(n!=null&&n.$!=null){var T=new eL(0,0,n.v,n.o).O1(n.$.rect);
this.Qa.j(new fc(T.v,T.o))}this.data=q;this.cb();this.xN.xY();if(P.EN())a$.abp(this.a2q.bind(this))};
ih.prototype.a2q=function(n){if(n=="granted")a$.tx(this,this.ahE.bind(this))};ih.prototype.ahE=function(n,q){this.Qa.j(new fc(q.v,q.o))};
ih.uD=[{name:"Social",jb:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],jb:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],jb:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],jb:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],jb:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],jb:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",jb:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function i$(n,q,p){hg.call(this,q,"sel_"+n);this.e=n;var E=P.z("div","form");this.body.appendChild(E);
this.xN=new iA(q,0,255,null,0,!1,!0);E.appendChild(this.xN.g);this.xN.j(1);var T=P.z("span");T.textContent=p;
E.appendChild(T);P.OK(E);this.amF=new dq("Apply at canvas bounds");if(n!="border")E.appendChild(this.amF.g);
this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);E.appendChild(this.bD.g)}i$.prototype=new hg;
i$.prototype.DU=function(n,q){if(n==null)return;if(n.$==null)alert("No selection!");return n.$!=null};
i$.prototype.VS=function(n){var q=new ea(P.E.Gi,!0);q.data=A.eY.am7(this.e,this.xN.I(),this.amF.I());
q.JC=!0;this.K(q);this.close()};i$.prototype.N=function(){hg.prototype.N.call(this);if(this.xN)this.xN.N()};
i$.prototype.o5=function(n,q){};function cW(n,q,p,E,T,i){hg.call(this,p,q);this.afY=i;this.fl=T;this.uD=null;
this.ss=P.z("div","form");this.body.appendChild(this.ss);this.xN=n==0?new gT(p):new bu(p,0,500,E,1);
this.xN.R(P.E.b,this.Wp,this);this.ss.appendChild(this.xN.g);this.bD=new bG("OK",!0,null,!0);this.bD.R("click",this.VS,this);
this.ss.appendChild(this.bD.g);this.R("closebtn",this.Kn,this)}cW.prototype=new hg;cW.prototype.vo=function(){return this.afY};
cW.prototype.Wp=function(n){var q=this.xN.I();if(this.fl)this.tE(q)};cW.prototype.Kn=function(n){if(this.fl)this.tE("cancel")};
cW.prototype.VS=function(n){if(this.fl)this.tE("confirm");else this.tE(this.xN.I());this.close()};cW.prototype.tE=function(n){if(this.uD.Gu)this.uD.Gu(n);
else if(this.uD.ls){var q=this.uD.ls,p=new ea(q.l,!0);p.i=q.i;p.data=q.m;p.data.k=n;p.JC=!0;this.K(p)}};
cW.prototype.N=function(){hg.prototype.N.call(this);if(this.xN)this.xN.N()};cW.prototype.o5=function(n,q){this.uD=q;
this.xN.j(q.Br);this.xN.xY();this.Wp(null)};function ez(){hg.call(this,[1,5],"open_from_url");this.mM=null;
var n=P.z("div","form");this.body.appendChild(n);this.hN=new gT("URL",null,22);n.appendChild(this.hN.g);
P.OK(n);this.p_=new c2([21,0],[[21,2],[21,1]]);n.appendChild(this.p_.g);this.BK=new bG("OK",!0,null,!0);
this.BK.R("click",this.VS,this);n.appendChild(this.BK.g)}ez.prototype=new hg;ez.prototype.N=function(){hg.prototype.N.call(this);
this.p_.N()};ez.prototype.o5=function(n,q,p){this.hN.xY();this.mM=null;if(n&&p.indexOf(n)!=-1)this.mM=p.indexOf(n)};
ez.prototype.VS=function(n){var q=new ea(P.E.T,!0),p=this.hN.I();q.data={e:P.C.Av,sQ:{url:p,qs:!0,mM:this.p_.I()==1?this.mM:null}};
this.K(q);this.close()};function eN(){hg.call(this,[12,79],"preferences");this.BW=null;var n=P.z("div","form");
this.body.appendChild(n);this.I3=[new dq([8,2]),new dq([8,4]),new gJ([12,80,3],[[12,93,3],[12,80,4]]),new bu([12,80,5],1,100,null,2),new gJ(null,j.L6.ed),new gJ([12,80,6],j.L6.ed)];
for(var R=0;R<this.I3.length;R++){var q=this.I3[R];n.appendChild(q.g);if(R!=3)P.OK(n);q.R(P.E.b,this.Lo,this)}}eN.prototype=new hg;
eN.prototype.N=function(){hg.prototype.N.call(this);for(var R=0;R<this.I3.length;R++)this.I3[R].N()};
eN.prototype.o5=function(n,q,p){};eN.prototype.ts=function(n,q){this.BW=n;this.I3[0].j(n.yM.lA);this.I3[1].j(n.yM.x5);
this.I3[2].j(n.yM.g1);this.I3[3].j(n.yM.rH);this.I3[4].j(n.yM.VC);this.I3[5].j(n.yM.XN)};eN.prototype.Lo=function(n){var q=this.I3,p=JSON.parse(JSON.stringify(this.BW.yM));
p.lA=q[0].I();p.x5=q[1].I();p.g1=q[2].I();p.rH=q[3].I();p.VC=q[4].I();p.XN=q[5].I();if(p.VC!=4)p.rH=Math.round(p.rH);
var E=new ea(P.E.T,!0);E.data={e:P.C.Th,sQ:cF.tw,Il:p};this.K(E)};function fG(){hg.call(this,[11,8],"saveforweb");
this.afO="";this.R("closebtn",function(){this.Cu.Ks()},this);this.tH=new fc(512,512);this.eL=null;this.XL=null;
this.anO=null;this.BW=null;P.oI(this.body,"flexrow");var n=P.z("div"),q=P.z("div");this.body.appendChild(n);
this.body.appendChild(q);this.$I=P.z("div","imgcont");n.appendChild(this.$I);this.Cu=new eB;this.Cu.rb(this.tH.x,this.tH.y);
this.fh=P.z("span");n.appendChild(this.fh);this.ss=P.z("div","form cell");this.ss.setAttribute("style","width:15em; padding-left:1em;");
q.appendChild(this.ss);this.Lg=new gJ([12,50],al.dY());this.ss.appendChild(this.Lg.g);this.Lg.R(P.E.b,this.$z,this);
this.Qa=new e4(!0,!0,!1,!0);this.Qa.R(P.E.b,this.$z,this);this.ss.appendChild(this.Qa.g);this.jM=new bL;
this.jM.R(P.E.b,this.$z,this);this.ss.appendChild(this.jM.g);this.pU=new bG([1,2],!0,null,!0);this.pU.R("click",this.VS,this);
this.ss.appendChild(this.pU.g)}fG.prototype=new hg;fG.prototype.DU=function(n,q){return n!=null};fG.prototype.N=function(){hg.prototype.N.call(this);
this.Qa.N();this.Lg.N();this.jM.N();this.pU.N()};fG.prototype.VS=function(n){var q=this.eL.name,p=q.lastIndexOf("."),q=p==-1?q:q.slice(0,p),E=al.dY()[this.Lg.I()],T=E=="JPG"||E=="PNG"||E=="GIF",i=al.vE(E),H="."+E.toLowerCase(),Z=this.XL,w=q+H,d=this.eL,O=d.D0;
if(O.length!=0&&T&&this.jM.I().pop()){var W="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",C=[],a={},B=new eL(0,0,d.v,d.o),$=d.Zk();
for(var R=0;R<O.length;R++)C.push(A.QI.Ud(O,R));C.reverse();var I=j.rect.sK([0,0,d.v,d.o],C);for(var R=0;
R<I.length;R++){var x=I[R],U=new eL(x[0],x[1],x[2]-x[0],x[3]-x[1]),N=x.length==5?O[x[4]].v:null,m=j.U(U.P()*4);
j.hk($,B,m,U);var f="img/img"+(R+1)+H;a[f]=new Uint8Array(i.U7([[m.buffer,0]],U.v,U.o,this.jM.I()));
W+="<div style=\"background-image:url('"+f+"'); left:"+U.x+"px; top:"+U.y+"px; width:"+U.v+"px; height:"+U.o+"px\">";
if(N&&N.url.v!="")W+="\n\t<a href=\""+N.url.v+"\" target=\""+N.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
W+="</div>\n"}W+="</body>\n</html>\n";var c=j.U(Math.round(W.length*1.5)),D=u.qm(W,c,0);a["index.html"]=c.slice(0,D);
Z=UZIP.encode(a);w=q+".zip"}else if(d.add.artd&&d.add.artd.Cnt.v>1&&T&&this.jM.I().pop()){var a={},B=new eL(0,0,d.v,d.o),$=d.Zk(),z=d.root.children;
for(var R=0;R<z.length;R++){var _=z[R].Y;if(_.add.artb==null)continue;var v=_.Kl(),o=j.U(v.P()*4);j.hk($,B,o,v);
a[_.getName()+H]=new Uint8Array(i.U7([[o.buffer,0]],v.v,v.o,this.jM.I()))}Z=UZIP.encode(a);w=q+".zip"}if(d.mw){var y=new XMLHttpRequest;
y.open("GET","/papi/img/update.php?act=1&id="+d.mw+"&rnd="+Math.random());y.send()}var k=new ea(P.E.T,!0);
k.data={e:P.C.q6,data:Z,name:w};this.K(k);this.Cu.Ks();this.close()};fG.prototype.o5=function(n,q){if(q.db!=null)this.Lg.j(q.db);
this.eL=n;var p=n.v+","+n.o;if(p!=this.afO){this.afO=p;this.Qa.j(new fc(n.v,n.o),n.xm)}this.jM.apa();
if(q.asO){this.Qa.acy(3);this.jM.Zt.PDF[2].tn.j(!0)}this.$z(null,!0)};fG.prototype.Gt=function(n,q){return new fc(Math.max(0,Math.min(150,(n-770)/2)),Math.max(0,Math.min(150,(q-590)/2)))};
fG.prototype.rb=function(n,q){this.XF=n;this.rZ=q;this.tH.x=Math.min(512,n-26-214);this.tH.y=Math.min(512,q-45);
if(this.eL==null)return;var p=this.Qa.I(),n=p.x,q=p.y,E=al.dY()[this.Lg.I()],T=al.vE(E),W="<span style=\"width:",C="display:inline-block; text-align:right;\">";
if(T.ZX){var i=n,H=q,Z;if(E=="PDF"||T.Hb){i=this.tH.x;H=this.tH.y}else{i=Math.min(n+20,this.tH.x);H=Math.min(q+20,this.tH.y)}this.$I.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+H+"px;")}else{if(T.Hb){i=this.tH.x;
H=this.tH.y}else{var w=this.anO,d=w[0].Yd,i=d.v,H=d.o;this.Cu.rb(Math.max(50,Math.min(i/P.D(),this.tH.x)),Math.max(50,Math.min(H/P.D(),this.tH.y)))}}var O=this.XL.byteLength,a=E+":"+W+64+"px;"+C+fG.S6(O)+"</span>";
if(this.tH.x>200)a+=W+90+"px; opacity:"+.5+";"+C+O.toLocaleString()+" B</span>";this.fh.innerHTML=a};
fG.S6=function(n){var q=n.toString(2),p=0;while(p+10<q.length)p+=10;var E=(n/Math.pow(2,p)).toFixed(1),T="B KB MB GB TB PB".split(" ")[Math.floor(p/10)];
return E+" "+T};fG.prototype.ts=function(n,q){this.BW=n};fG.prototype.$z=function(n,q){var p=this.eL,E=this.Qa.I(),T=E.x,i=E.y,H=this.Lg.I(),Z=al.dY()[H],w=al.dn(p)[0].length,d=["GIF","PNG","WEBP"].indexOf(Z)!=-1&&w>1,$="";
if(d&&q&&(w>4&&T*i>1024*1024||T*i*w>800*800*50)){var O=1;while(Math.max(T>>>O,i>>>O)>800)O++;var W=window.confirm("Your animation is large ("+T+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>O)+"%. Press \"Cancel\" to keep the size.");
if(W){this.Qa.j(new fc(T>>>O,i>>>O),null,!0);T=T>>>O;i=i>>>O}}var C=p.add.artd,a=C!=null&&C.Cnt.v>1;
this.jM.a33(Z,d,p.D0.length!=0,a);var B=this.jM.I();this.XL=al.sp(p,Z,T,i,B,this.BW);if(this.XL==null){this.eL=null;
return}P.Ls(this.$I);this.Cu.Ks();var I=al.vE(Z);if(I.Hb){this.$I.innerHTML="<div></div>";$+="width:0px"}else if(I.ZX){var x=T,U=i,N;
if(Z=="PDF"){N=URL.createObjectURL(new Blob([this.XL],{type:"application/pdf"}))}else{N=URL.createObjectURL(new Blob([this.XL],{type:"image/svg+xml"}))}this.$I.innerHTML="<iframe src=\""+N+"\"></iframe>"}else{var m=this.anO=I.es(this.XL),f=m[0].Yd,x=f.v,U=f.o;
this.Cu.j(m,m.length>1?B[B.length-3]:0);this.$I.appendChild(this.Cu.g);$="background: rgba(0,0,0,0);"}this.$I.setAttribute("style","display:block; background-size:"+16/P.D()+"px;"+$);
this.rb(this.XF,this.rZ)};function f8(){hg.call(this,[11,13],"shortcuts");var n=this.QB=P.z("div","scrollable");
n.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(n);
this.as0()}f8.prototype=new hg;f8.prototype.N=function(){hg.prototype.N.call(this);this.as0()};f8.prototype.as0=function(){var n="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",q="",p=aj,E=p.Fj,T=p.$t,i=p.sL;
q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";q+=n;q+=this.Se([[0,0],"---",[1,0],[E,p.Fo],[1,2],[E,p.sq],[1,3],[T,E,p.sq],[1,8],[i,T,E,p.sq],[0,1],"---",[2,0],[T,E,p.pl],[2,1],[E,p.pl],[5,0],[E,p.GX],[5,1],[E,p.lI],[5,2],[E,p.U0],[2,2],"Delete",[2,3],[i,p.W_],[10,16],[i,E,p.wA],[12,79],[E,p.I6],[3],"---",[4,1],[E,p.Q_],[4,2],[E,p.zE],[4,5],[E,p.px],[4,11],[E,p.er],[0,3],"---",[6,0],[E,p.GT],[6,6,0],[i,E,p.TE],[6,9],[E,p.TE],[6,10],[E,p.E],[0,5],"---",[7,0],[E,p.C],[7,1],[E,p.qv],[7,2],[T,E,p.er],[0,7],"---",[8,0],[E,p.ri],[8,1],[E,p.VZ],[8,3],[E,p.ys],[8,2],[E,p.$f],[8,4],[E,p.r7],[11,13],"?"]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";q+=n;q+=this.Se(["Vertical scroll","Wheel","Horizontal scroll",[E,"Wheel"],"Zooming",[i,"Wheel"]]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
q+=n;q+=this.Se([[10,11],[E],[10,7],"Space",[10,17],[E,p.gW]]);q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
q+=n;var H=f8.A,Z=[];for(var R=0;R<H.length;R+=3)if(H[R+1])Z.push(H[R],H[R+1]);Z=Z.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
q+=this.Se(Z);q+="</div>";this.QB.innerHTML=q};f8.prototype.Se=function(n){var q="",p=!0;for(var R=0;
R<n.length;R+=2){var E=n[R],T=aj.iD(n[R+1]);if(T==null){p=!1;continue}var i=P.fE(fE.get(E));if(T=="---"){if(!p)q+="<br/>";
q+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else q+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+T+"</span> </div>";
p=!1}return q};f8.A=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function be(){hg.call(this,[8,11,1],"soptions");this.km=null;var n=P.z("div","form");n.style.width="20em";
this.body.appendChild(n);this.FX={Nm:[12,48],url:"URL",null:[12,71]};this.I3={};for(var q in this.FX){var p=new gT(this.FX[q],null,15);
this.I3[q]=p;n.appendChild(p.g)}var E=new bG("OK",!0,null,!0);E.R("click",this.VS,this);n.appendChild(E.g)}be.prototype=new hg;
be.prototype.o5=function(n,q,p){var E=q.k;this.km=JSON.stringify(E);for(var T in this.FX){if(E[T])this.I3[T].j(E[T].v)}};
be.prototype.VS=function(n){var q=JSON.parse(this.km);for(var p in this.FX){var E=this.I3[p].I();q[p]={t:"TEXT",v:E}}var T=new ea(P.E.u,!0);
T.i=A.x7;T.data=q;T.JC=!0;this.K(T);this.close()};function gw(){hg.call(this,[2,3],"fill");this.BW=null;
this._f=null;var n=P.z("div","form padded");n.style.width="22em";this.body.appendChild(n);this.yB="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");
this.j6=new gJ([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.j6.R(P.E.b,this.a1M,this);n.appendChild(this.j6.g);this.$I=P.z("span");n.appendChild(this.$I);this.zX=new ja;
this.zX.parent=this;this.zX.GQ(0);this.yi=new fA;this.yi.parent=this;this.NV=new gJ([12,19,0],d3.qn,!1,d3.BJ);
n.appendChild(this.NV.g);this.f9=new bu([12,0],0,100,"%",0,!1);this.f9.j(100);n.appendChild(this.f9.g);
this.kh=new dq("Preserve Transparency");this.kh.j(!1);n.appendChild(this.kh.g);this.BK=new bG("OK",!0,null,!0);
this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}gw.prototype=new hg;gw.prototype.DU=function(n,q){return n!=null};
gw.prototype.vo=function(){return!0};gw.prototype.a1M=function(){var n=this.j6.I(),q=this.zX.g,p=this.yi.g,E=this.$I;
if(n==2)E.appendChild(q);else if(E.contains(q))E.removeChild(q);if(n==7)E.appendChild(p);else if(E.contains(p))E.removeChild(p)};
gw.prototype.N=function(){hg.prototype.N.call(this);this.j6.N();this.NV.N();this.f9.N()};gw.prototype.VS=function(n){if(!this._f.zP())return;
var q=new ea(P.E.Gi,!0),p=this.j6.I();q.data=A.o8.zm(this.yB[p],d3.hd[this.NV.I()],this.f9.I()/100,this.zX.I(),this.kh.I(),this.yi.I());
this.close();this.K(q)};gw.prototype.o5=function(n,q){this._f=n};gw.prototype.ts=function(n,q){this.BW=n;
if(q==cF.Bo||q==cF.KV){this.yi.KC(n.bS);this.yi.j({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function ac(){hg.call(this,[14,9],"stroke");this.BW=null;this.ss=P.z("div","form");this.ss.setAttribute("style","width:24em");
this.body.appendChild(this.ss);this.MU=new ie("FrFX",!0);this.MU.parent=this;var n=["Sz","Styl","Md","Opct"].concat(iq.zo);
for(var R=0;R<n.length;R++){var q=this.MU.lZ[n[R]].g;this.ss.appendChild(q)}this.Tt=!1;this.BK=new bG("OK",!0,null,!0);
this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}ac.prototype=new hg;ac.prototype.DU=function(n,q){return n!=null};
ac.prototype.vo=function(){return!0};ac.prototype.N=function(){hg.prototype.N.call(this);this.MU.N()};
ac.prototype.VS=function(n){var q=new ea(P.E.u,!0);q.i=A.pu;q.data={e:"stroke",abK:this.MU.I()};this.close();
this.K(q)};ac.prototype.o5=function(n,q){if(!this.Tt){var p=iq.FT[iq.order.indexOf("FrFX")];p=JSON.parse(p);
this.MU.update(n,p);this.Tt=!0}var p=this.MU.I(),E=this.BW.ny;p.Clr.v=j.f.iB({_:E>>16&255,q:E>>8&255,X:E&255});
this.MU.update(n,p)};ac.prototype.ts=function(n,q){this.BW=n};function d6(){hg.call(this,[11,9],"textwarp");
this.I3=new iN;this.I3.R(P.E.b,this.Ld,this);this.I3.parent=this;this.ss=P.z("div","form");this.ss.setAttribute("style","width:20em");
this.body.appendChild(this.ss);this.ss.appendChild(this.I3.f5.g);this.ss.appendChild(this.I3.MM.g);this.ss.appendChild(this.I3.T1.g);
this.ss.appendChild(this.I3.Zj.g);this.ss.appendChild(this.I3.wE.g);this.BK=new bG("OK",!0,null,!0);
this.BK.R("click",this.VS,this);this.ss.appendChild(this.BK.g);this.R("closebtn",this.Kn,this)}d6.prototype=new hg;
d6.prototype.vo=function(){return!0};d6.prototype.N=function(){hg.prototype.N.call(this);this.I3.N()};
d6.prototype.Ld=function(n){var q=this.I3.I();this.tE({e:"warp",bF:q})};d6.prototype.tE=function(n){var q=new ea(P.E.u,!0);
q.i=A.cY;q.data=n;q.JC=!0;this.K(q)};d6.prototype.Kn=function(n){this.tE({e:"warpCancel"})};d6.prototype.VS=function(n){this.tE({e:"warpConfirm"});
this.close()};d6.prototype.o5=function(n,q){var p=n.h[n.p[0]];this.I3.j(p.add.TySh.vX)};function iL(){hg.call(this,"Raw Photopea","rawpea");
this.xp=null;this.ZY=null;this.yJ=null;this.HR=0;this.Jd=null;this.Jh=null;this.ary=500;this.a6G=500;
this.asI=0;this.R("closebtn",this.Y0,this);P.oI(this.body,"flexrow");var n=P.z("div"),q=P.z("div"),E="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
q.setAttribute("style","padding-left: 1em");this.body.appendChild(n);this.body.appendChild(q);this.S=P.z("canvas");
n.appendChild(this.S);this.HK=new ct(225);this.HK.k3(4);q.appendChild(this.HK.g);this.ss=P.z("div");
this.ss.setAttribute("style","width:18em;");q.appendChild(this.ss);this.aix=new jh("Hi",!0);this.ss.appendChild(this.aix.g);
this._2=[new ej("Temperature",2e3,13e3),new ej("Tint",-150,150),new ej([4,3],-4,4,null,!0),new ej([12,3,0],-100,100)];
for(var R=0;R<this._2.length;R++){var p=this._2[R];p.j(0);p.R(P.E.b,this.EA,this);this.ss.appendChild(p.g);
if(R==1)this.ss.appendChild(P.z("hr"))}this.BK=new bG([1,0],!0,null,!0);this.BK.R("click",this.VS,this);
this.ss.appendChild(this.BK.g);this.Mh=new bG(E+" JPG",!0,null,!0);this.Mh.R("click",this.alY,this);
this.ss.appendChild(this.Mh.g);this.Mh.g.style.marginTop="6px"}iL.prototype=new hg;iL.prototype.Gt=function(){return new fc(0,0)};
iL.prototype.rb=function(n,q){this.ary=n-274;this.a6G=q-32;if(this.xp)this.a9u()};iL.prototype.N=function(){hg.prototype.N.call(this);
this.BK.N();for(var R=0;R<this._2.length;R++)this._2[R].N()};iL.prototype.alY=function(n){var q=this.xp,p=this.ZY,E=j.U(q.width*q.height*4);
j.nz(E,4294967295);j.raw.sS(p,E,q,this.EY());var T=al.vE("JPG").U7([[E.buffer]],p.Sd,p.vk,[85]),i=new ea(P.E.T,!0);
i.data={e:P.C.q6,data:T,name:"photo.jpg"};this.K(i)};iL.prototype.VS=function(n){var q=this.xp,p=this.ZY,E=j.U(q.width*q.height*4);
j.nz(E,4294967295);j.raw.sS(p,E,q,this.EY());var T=cm.tQ(q),q={Yd:new eL(0,0,p.Sd,p.vk),data:E.buffer,Sm:T},i=al.Db("Raw Photo",[q]),H=new ea(P.E.T,!0);
H.data={e:P.C.D9,eL:i};this.K(H);this.Y0();this.close()};iL.prototype.Y0=function(){this.xp=null;this.ZY=null;
this.Jd=null;this.Jh=null};iL.prototype.o5=function(n,q,p,E){this.xp=q.Xt;this.ZY=j.raw.a7H(this.xp);
var T=this.ZY;this.aix.j(T.Sd+" x "+T.vk+", "+(T.Sd*T.vk/1e6).toFixed(1)+" MPx");var i=j.raw.afX(q.Xt);
this.yJ=bU.OX(i);this._2[0].j(this.yJ.xO);this._2[1].j(this.yJ.Hm);for(var R=2;R<this._2.length;R++)this._2[R].j(0);
this.a9u()};iL.prototype.ts=function(n,q){this.HK.GQ(h0.Zu[n.Au]["--text-color"])};iL.prototype.a9u=function(){var n=this.ZY,q=n.Sd,p=n.vk,E=1;
while(q/E>this.ary*P.D()||p/E>this.a6G*P.D())E++;if(this.asI==E&&this.Jd)return;this.asI=E;var T=Math.floor(q/E),i=Math.floor(p/E);
this.Jd={OT:new Float32Array(T*i*3),Sd:T,vk:i};var H=this.S.getContext("2d");this.Jh=H.createImageData(T,i);
j.nz(this.Jh.data,4294967295);var Z=1/(E*E);for(var w=0;w<i;w++)for(var d=0;d<T;d++){var O=0,W=0,C=0,a=(d+1)*E,B=(w+1)*E;
for(var $=w*E;$<B;$++)for(var I=d*E;I<a;I++){var x=($*q+I)*3;O+=this.ZY.OT[x];W+=this.ZY.OT[x+1];C+=this.ZY.OT[x+2]}var U=(w*T+d)*3;
this.Jd.OT[U]=O*Z;this.Jd.OT[U+1]=W*Z;this.Jd.OT[U+2]=C*Z}this.EA()};iL.prototype.EA=function(){var n=this.xp,q=this.Jd.Sd,p=this.Jd.vk,E=q*p,T=this.S,i=T.getContext("2d");
T.width=q;T.height=p;P.X_(T,q,p);j.raw.sS(this.Jd,new Uint8Array(this.Jh.data.buffer),n,this.EY());i.putImageData(this.Jh,0,0);
var H=j.Lj(this.Jh.data);for(var R=0;R<4;R++)for(var Z=1;Z<256;Z++)if(H[R][Z]==0)H[R][Z]=H[R][Z-1];for(var R=0;
R<4;R++)for(var Z=1;Z<256;Z++)if(H[R][Z]==0)H[R][Z]=H[R][Z-1];this.HK.j(H)};iL.prototype.EY=function(){var n=[];
for(var R=0;R<this._2.length;R++)n.push(this._2[R].I());return n};function ae(n){hg.call(this,n?[11,11]:"Reduce Colors",n?"vbitmap":"rcolors");
this.uD=null;this.L8=null;this.xi=null;this.vU=null;this.oE=null;this.a1K=null;this.zb=null;this.L1="";
this.HN=n;this.Xi=this.E6.bind(this);this.ss=P.z("div","form hbar");this.body.appendChild(this.ss);var q=this.U1={cnum:new iA([12,82],2,50,null),nois:new dq([12,81]),mode:new gJ(null,["Cartoon","Photo"]),segm:new dq("Segmentize"),poly:new dq("Polygon"),polE:new iA("Roughness",2,30,null),ok:new bG("OK",!1,null,!0)},i=16;
for(var p in q){var E=q[p];E.parent=this;if(p=="ok")E.R("click",this.VS,this);else E.R(P.E.b,this.E6,this)}var T=P.z("div","flexrow");
this.body.appendChild(T);this.OH=new eB;this.OH.R("viewchange",this.tk,this);this.sr=new eB;this.S=P.z("canvas");
this.S.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.Jm=this.S.getContext("2d");
var H=j.U(16*16*4);j.nh(H,i,i,8);this.qR=j.scale.qb(H,i,i);this.OH.alp(this.S);this.OH.jV(this.sr);this.sr.jV(this.OH);
T.appendChild(this.OH.g);if(n)T.appendChild(this.S);else T.appendChild(this.sr.g)}ae.prototype=new hg;
ae.prototype.Gt=function(){return new fc(0,0)};ae.prototype.vo=function(){return!0};ae.prototype.rb=function(n,q){q=q-27-30;
n=Math.floor((n-28)/2);P.jy(this.S,n,q);this.OH.rb(n,q);if(this.HN)this.tk();else this.sr.rb(n,q)};ae.prototype.IY=function(n,q,p,E){this.OH.IY(E)};
ae.prototype.N=function(){hg.prototype.N.call(this);for(var n in this.U1)this.U1[n].N()};ae.prototype.o5=function(n,q){this.zb=n;
this.oE=null;var p=n.h[n.p[0]],E=j.fD._4(p.buffer.buffer,p.rect.v,p.rect.o).a6p,T=E/((p.rect.v-2)*(p.rect.o-2)),i=this.U1;
i.cnum.j(20);i.nois.j(T<.75);i.mode.j(T<.75?1:0);i.segm.j(!1);i.poly.j(!1);i.polE.j(1);var H=p.rect.clone();
H.x=H.y=0;this.uD={Yd:H,data:p.buffer.buffer.slice(0)};this.L8=null;this.OH.j([this.uD]);setTimeout(this.Xi,20)};
ae.prototype.E6=function(){var n=!0,q=Date.now(),p=this.uD,E=this.U1,T=E.cnum.I(),i=E.nois.I(),H=E.mode.I(),Z=E.segm.I(),w=E.poly.I(),d=E.polE.I(),D=null;
if(H==0)Z=w=!1;var O=["cnum","nois","mode"];if(H==1){O.push("segm");if(this.HN){O.push("poly");if(w)O.push("polE")}}O.push("ok");
P.Ls(this.ss);for(var R=0;R<O.length;R++)this.ss.appendChild(E[O[R]].g);if(n)console.log("---------------------------------------");
var W=i||Z,C=i+","+Z;if(W&&(this.L8==null||this.L1!=C)){this.L1=C;var a=new Uint8Array(p.data),B=p.Yd.v,$=p.Yd.o;
if(i){if(this.oE==null){this.oE=a.slice(0);j.gb.oB(this.oE,this.oE,B,$,15,j.gb.oX,[35]);if(n){console.log("denoise",Date.now()-q);
q=Date.now()}}a=this.oE.slice(0)}else a=a.slice(0);if(Z){var I=j.fD.RY(a,B,$,40,10),x=I.I6,U=new Uint8Array(x*4);
for(var R=0;R<x;R++){var N=R*4,m=R*6,f=1/I.B_[m+5];U[N]=I.B_[m]*f;U[N+1]=I.B_[m+1]*f;U[N+2]=I.B_[m+2]*f}for(var R=0;
R<a.length;R+=4){var c=I.dm[R>>>2]*4;a[R]=U[c];a[R+1]=U[c+1];a[R+2]=U[c+2]}if(n){console.log("segm",Date.now()-q);
q=Date.now()}}this.L8={Yd:p.Yd.clone(),data:a.buffer}}if(W)p=this.L8;var a=new Uint8Array(p.data),B=p.Yd.v,$=p.Yd.o;
for(var R=0;R<a.length;R+=4){if(a[R+3]<10)a[R]=a[R+1]=a[R+2]=a[R+3]=0}if(H==0){D=j.fD.aam(a,B,$,T,W?.1:2e-4);
if(n){console.log("quantize",Date.now()-q);q=Date.now()}}else{D=UPNG.quantize(a.buffer,T);D={dm:D.inds,LW:D.plte};
if(n){console.log("quantize",Date.now()-q);q=Date.now()}var z=Math.floor((B+$)*.015);if(z!=0)j.fD.Pk(D.dm,B,$,z);
if(n){console.log("remove tiny bits",Date.now()-q);q=Date.now()}}if(this.HN){var _=D.dm.slice(0);for(var R=0;
R<_.length;R++)_[R]++;var v=new Uint8Array((B+2)*($+2));j.cg(_,new eL(1,1,B,$),v,new eL(0,0,B+2,$+2));
if(!w){var o=Math.round((B+2)*($+2)/1e4),y=gO.Wo(v.slice(0),B+2,$+2,Math.min(12,o)),k=gO.Jy(y);if(n){console.log("trace smooth",Date.now()-q);
q=Date.now()}}else{var k=j.O.B$(v,B+2,$+2,d,n)}var S=k.length,L=new b$(1,0,0,1,-1,-1);for(var R=0;R<S;
R++)j.O.B(k[R].path.W,L,k[R].path.W);this.vU=k;this.xi=D;for(var R=0;R<S;R++){var X=k[R];for(var s=R+1;
s<S;s++){var M=k[s];if(M.parent==R&&D.LW[M.color-1].est.q[3]<.05){var V=M.path.F.slice(1);V.reverse();
V=["M"].concat(V);var l=[],y=M.path.W.length;for(var e=0;e<y;e+=2){l[e]=M.path.W[y-2-e];l[e+1]=M.path.W[y-2-e+1]}j.O.concat(X.path,{W:l,F:V})}}}if(n){console.log("finding holes",Date.now()-q);
q=Date.now()}for(var R=0;R<k.length;R++){var X=k[R],Y=D.LW[X.color-1].est.q;if(Y[3]<=.05){k.splice(R,1);
R--;continue}}for(var R=1;R<k.length;R++){var J=k[R-1],X=k[R];if(J.color==X.color){j.O.concat(J.path,X.path);
k.splice(R,1);R--;continue}}this.tk()}else{var G=new Uint32Array(B*$),F=B*$;for(var R=0;R<F;R++){var b=D.LW[D.dm[R]];
G[R]=b.est.rgba}this.a1K=new Uint8Array(G.buffer);this.sr.j([{Yd:p.Yd,data:G.buffer}])}};ae.prototype.tk=function(n){if(this.vU==null)return;
var q=this.uD.Yd.v,p=this.uD.Yd.o,E=this.vU,T=this.xi.LW,i=this.S,H=this.Jm,Z=this.OH.hV();H.setTransform(1,0,0,1,0,0);
H.clearRect(0,0,i.width,i.height);H.translate(i.width/2,i.height/2);H.scale(Z.n,Z.n);H.translate(Z.t.x/Z.n-q/2,Z.t.y/Z.n-p/2);
H.scale(1/Z.n,1/Z.n);H.fillStyle=this.qR;H.fillRect(0,0,q*Z.n,p*Z.n);H.scale(Z.n,Z.n);var w=[];for(var R=0;
R<T.length;R++){var d=T[R].est.q;w.push({_:Math.round(255*d[0]),q:Math.round(255*d[1]),X:Math.round(255*d[2]),jS:Math.round(255*d[3])})}for(var R=0;
R<E.length;R++){var O=E[R],d=w[O.color-1];if(d.jS==0)continue;H.fillStyle="rgba("+d._+","+d.q+","+d.X+","+d.jS/255+")";
H.beginPath();Typr.U.pathToContext({crds:O.path.W,cmds:O.path.F},H);H.fill()}};ae.prototype.VS=function(n){var q=this.zb,p=q.p[0],E=q.h[p],T=new ea(P.E.u,!0);
T.JC=!0;T.i=A.iq;if(this.HN){var i=this.vU,H=i.length==1,Z=q.h.slice(0,p);if(!H)Z.push(q.Ch());for(var R=0;
R<i.length;R++){var w=i[R],d=this.xi.LW[w.color-1].est.q;j.O.B(w.path.W,new b$(1,0,0,1,E.rect.x,E.rect.y),w.path.W);
var O=q.Je();O.WR("Path "+R);Z.push(O);O.opacity=Math.round(d[3]*255);O.GZ|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.f.iB({_:255*d[0],q:255*d[1],X:255*d[2]})}};
O.add.vmsk=new g.Xg;O.add.vstk=JSON.parse(JSON.stringify(iq.DL.default));O.add.vmsk.Q=j.O.zt(w.path,!1);
O.add.vogk=[];O.J0();O.VA(q)}var W=Z[Z.length-1];if(!H){var O=q.Je();O.WR(E.getName());O.add.lsct=fX.eV;
O.Nl="pass";O.GZ=24;Z.push(O);W=O}var C=E.add.lmfx;if(C)W.add.lmfx=JSON.parse(JSON.stringify(C));for(var R=p+1;
R<q.h.length;R++)Z.push(q.h[R]);T.data={e:g.V$,Ro:Z,ii:[p+i.length+(H?-1:1)],as:[11,11]}}else{var Z=q.h.slice(0),O=q.Je();
O.WR(E.getName());Z.splice(q.p[0]+1,0,O);O.rect=E.rect.clone();O.buffer=this.a1K;O.M();T.data={e:g.V$,Ro:Z,ii:[q.p[0]+1],as:"Reduce Colors"}}this.K(T);
this.close()};function gG(n){hg.call(this,[[7,11],[7,13]][n],["redge","magiccut"][n]);this.Sv=n;this.uD={};
this.$s=null;this.eP=null;this.zb=null;this.EG=null;this.mt=null;this.body.style.padding="0";this.Y5=[];
this.n$=-1;this.ss=P.z("div","form hbar padded");this.body.appendChild(this.ss);this.rn=new ad;this.rn.parent=this;
this.rn.R(P.E.b,this.Pl,this);this.ss.appendChild(this.rn.g);var q=n==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
q=q.concat(PIMG["tools/hand"],PIMG.zoomIn,PIMG.zoomOut);var p=n==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.jf=new ag(null,q,p,28);this.jf.R(P.E.b,this.IY,this);this.ss.appendChild(this.jf.g);this.R8=new iA([7,9],0,50,null);
this.R8.parent=this;this.R8.R(P.E.b,[this.a1C,this.E6][n],this);this.ss.appendChild(this.R8.g);var E=this.abT=new bG([2,2],!1,null,!0);
E.R("click",this.Y0,this);this.ss.appendChild(E.g);var T=this.anF=P.z("span","form");this.ss.appendChild(T);
var i=this.aeK=new bG([12,90],!1,null,!0);i.R("click",function(w){alert(n==0?fE.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
T.appendChild(i.g);var H=new bG("Tutorial",!1,null,!0);H.R("click",this.amY,this);T.appendChild(H.g);
this.WQ=new ag([12,46],["checker","#ffffff","#000000"]);this.WQ.R(P.E.b,this.aoK,this);T.appendChild(this.WQ.g);
this.l6=new gJ(null,[[6,13],[6,2],[17,2]]);T.appendChild(this.l6.g);this.BK=new bG("OK",!1,null,!0);
this.BK.R("click",this.VS,this);T.appendChild(this.BK.g);var Z=P.z("div","flexrow");this.body.appendChild(Z);
this.AH=new eB(!0);this.bR=new eB;this.AH.jV(this.bR);this.bR.jV(this.AH);this.AH.R("mousedown",this.IO,this);
this.AH.R("mousemove",this.a_,this);this.AH.R("mouseup",this.Ml,this);this.AH.R("zoom",this.Pl,this);
this.bR.R("zoom",this.Pl,this);Z.appendChild(this.AH.g);Z.appendChild(this.bR.g)}gG.prototype=new hg;
gG.prototype.DU=function(n,q){var p=n!=null&&!n.h[n.p[0]].rect.M6();if(!p)alert("The layer is empty.");
return p};gG.prototype.Gt=function(){return new fc(0,0)};gG.prototype.vo=function(){return!0};gG.prototype.rb=function(n,q){q=q-12-33;
n=Math.floor(n/2);if(n<450){this.anF.setAttribute("style","display:block;  text-align:right;");q-=29}else{this.anF.setAttribute("style","position:absolute;  right:0px")}this.AH.rb(n,q);
this.bR.rb(n,q)};gG.prototype.N=function(){hg.prototype.N.call(this);this.rn.N();this.R8.N();this.BK.N();
this.WQ.N();this.l6.N();this.abT.N();this.aeK.N()};gG.prototype.amY=function(n){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Sv],"_blank")};
gG.prototype.ts=function(n,q){this.eP=n;if(q==cF.yR||q==cF.Bo){this.rn.KC(n.UR);this.rn.j(gV.y$(),n.UR.Hh,n.UR.yi)}};
gG.prototype.IY=function(n,q,p,E){var T=this.jf.I();if(E==null){this.AH.IY(eB.a4b(T-3));return}this.EG=E;
var i=A.o8.Oe(this.rn.I(),E);if(i!=null){this.rn.j(i);this.Pl()}else if(E.r(aj.Fj)&&E.r(aj.pl)){var H=this.Y5,Z=0;
if(E.r(aj.$t)){if(this.n$+1<H.length)Z=1}else if(this.n$>0)Z=-1;if(Z!=0){this.n$+=Z;var w=this.n$,d=this.uD;
if(Z==1)j.hk(H[w][2],H[w][0],d.Os,d.rect);else j.hk(H[w+1][1],H[w+1][0],d.Os,d.rect);d.en=d.rect;this.E6()}}else if(T<3)this.AH.IY(E)};
gG.prototype.fT=function(n){var q=this.uD,p=this.Y5,E=j.U(n.P()*4);j.hk(q.rO,q.rect,E,n);q.rO=null;var T=j.U(n.P()*4);
j.hk(q.Os,q.rect,T,n);this.n$++;p[this.n$]=[n.clone(),E,T];while(p.length>this.n$+1)p.pop();while(p.length>50){p=p.slice(1);
this.n$--}};gG.prototype.Pl=function(){var n=this.eP,q=iX.qr(this.rn.I(),n.UR.Hh,this.AH.hV().n);this.AH.t5(q)};
gG.prototype.IO=function(n){var q=this.eP,p=this.uD,E=this.EG,T=this.rn.I(),i=this.AH.FZ(),H=[16777215,8421504,0][this.jf.I()];
this.$s=new iX(T,q.UR.list[0].Hh,q.UR.list[0].yi,{Ik:1,_0:!0},H,q.iu,p.rect);p.rO=p.Os.slice(0);if(E!=null&&E.r(aj.$t)&&this.mt){this.$s.moveTo(this.mt.x,this.mt.y);
this.$s.lineTo(i.x,i.y)}else this.$s.moveTo(i.x,i.y);this.a4E()};gG.prototype.a_=function(n){var q=this.uD,p=this.AH.FZ();
this.$s.lineTo(p.x,p.y);this.a4E()};gG.prototype.Ml=function(n){this.mt=this.AH.FZ();this.fT(this.$s.o2());
this.E6()};gG.prototype.a4E=function(){var n=this.uD,q=this.$s,p=q.U3();if(p.M6())return;n.en=p;j.a.Ef("norm",q.V_(),q.UB(),n.Os,n.rect,p,1);
this.a4N()};gG.prototype.Y0=function(n){var q=this.uD;q.rO=q.Os.slice(0);q.en=q.rect;j.nz(q.Os,[4278190080,4292730333][this.Sv]);
this.fT(q.rect);this.E6()};gG.prototype.o5=function(n,q){this.zb=n;var p=n.h[n.p[0]],E=p.rect.clone(),T=E.v,i=E.o;
this.R8.j(this.Sv==0?3:T*i<3e6?3:0);this.jf.j(n.$==null?0:1);this.R8.OW();if(this.Sv==0&&n.$!=null||this.Sv==1)this.R8.hy();
var H=this.Sv,Z=j.U(E.P()),w=new Float32Array(E.P());if(H==0&&n.$){j.cg(n.$.channel,n.$.rect,Z,E);var d=j.U(E.P());
for(var O=0;O<i;O++)for(var W=0;W<T;W++){var R=O*T+W,C=Z[R];if(W>0&&Z[R-1]!=C||W<T-1&&Z[R+1]!=C||O>0&&Z[R-T]!=C||O<i-1&&Z[R+T]!=C)d[R]=255}j.style.mJ(d,w,T,i)}else w.fill(1e9);
E.x=E.y=0;this.uD={rect:E,OT:p.buffer,Nu:Z,ur:w,ZQ:j.U(E.P()*4),bj:j.U(E.P()*4),Os:j.U(E.P()*4),rO:null,_O:null,en:E,anE:{}};
if(H==0)this.a1C();else{this.uD.anE=A.xQ.Wa(n);var a=this.uD.Os;j.nz(a,4287137928);var B=j.Dh.getSelection(p.buffer,T,i),$=Math.round(T/60),I=Math.round(.7*i);
for(var O=0;O<i;O++)for(var W=0;W<T;W++){var x=(O*T+W)*4,U=B[x>>>2];U=U>128?255:128;if(O<$||O<I&&(W<$||W>T-1-$))U=0;
a[x]=a[x+1]=a[x+2]=U}this.E6()}this.Y5=[1];this.n$=0;this.AH.a5C();var N=this.rn.I();N.Brsh.v.Dmtr.v.val=Math.round(E.v/(H==0?10:20));
this.rn.j(N);this.Pl()};gG.prototype.a1C=function(){var n=this.uD,q=n.rect.P(),p=this.R8.I(),E=n.Nu.slice(0);
for(var R=0;R<q;R++)if(n.ur[R]<p)E[R]=128;j.nz(n.Os,4294967295);j.yI(E,n.Os,0);j.yI(E,n.Os,1);j.yI(E,n.Os,2);
n.en=n.rect;this.E6()};gG.prototype.E6=function(){var n=this.uD,T,Z,w=0,d=0,O=0;this.a4N();var q=n.rect,p=q.v,E=q.o,i=j.U(q.P()),H=n.OT;
j.J2(n.Os,i,0);for(var R=0;R<i.length;R++){if(H[(R<<2)+3]!=255)continue;var W=i[R];if(W==0)w++;else if(W==255)d++;
else O++}if(w*d*O!=0){if(this.Sv==0)Z=j.at.at(q,H,i);else{var C=this.jf.I();for(var a=1;a<E;a++)for(var B=1;
B<p;B++){var R=a*p+B,$=i[R],I=i[R-1];if($==0&&I==255||$==255&&I==0){T="The Red and Green should never touch! Erase it with Grey.";
break}}var x=Date.now(),U=this.uD.anE;j.Sa(i,U.t3);A.xQ.sb(U,!0);var N=Math.ceil(this.R8.I()/2);if(N==0){Z=H.slice(0);
j.yI(U.$,Z,3)}else{var m=U.$.slice(0),f=U.$.slice(0);for(var c=0;c<N;c++){for(var a=1;a<E-1;a++)for(var B=1;
B<p-1;B++){var R=a*q.v+B,D=m[R];if(m[R-p]!=D||m[R-1]!=D||m[R+1]!=D||m[R+p]!=D)f[R]=128;else f[R]=D}var z=m;
m=f;f=z}Z=j.at.at(q,H,m,20,!1)}}}else{Z=H.slice(0);j.yI(i,Z,3)}for(var R=3;R<Z.length;R+=4)if(Z[R]>H[R])Z[R]=H[R];
if(q.rv(n.rect))n._O=Z;else j.hk(Z,q,n._O,n.rect);this.aoK();if(T)alert(T,4e3)};gG.prototype.a4N=function(n){var q=this.uD,p=q.en;
j.hk(q.OT,q.rect,q.ZQ,q.rect,p,!0);var E=q.Os;if(this.Sv==1){var T=new Uint32Array(256);T[0]=4278190335;
T[255]=4278255360;var i=q.rect.P();E=E.slice(0);var H=new Uint32Array(E.buffer);for(var R=0;R<i;R+=2){H[R]=T[H[R]&255];
H[R+1]=T[H[R+1]&255]}}j.a.Ef("norm",E,q.rect,q.ZQ,q.rect,p,.3);this.AH.j([{Yd:q.rect,data:q.ZQ.buffer}])};
gG.prototype.aoK=function(n){var q=this.uD;j.nz(q.bj,[0,4294967295,4278190080][this.WQ.I()]);j.a.Ef("norm",q._O,q.rect,q.bj,q.rect,q.rect,1);
this.bR.j([{Yd:q.rect,data:q.bj.buffer}])};gG.prototype.VS=function(n){var q=this.zb,p=this.uD,E=this.l6.I(),T=q.h[q.p[0]],i=new ea(P.E.u,!0);
i.JC=!0;var H=T.rect.clone();if(E==0&&T.Fp()||E!=0&&!T.Fp()){i.i=A.iq;i.data={e:g.il,Y:q.p[0]};this.K(i)}if(q.$!=null){i.i=A.L7;
i.data={e:"fromAction",YD:A.eY.b0()};this.K(i)}if(E==0){var Z=q.h.slice(0),w=q.Je();w.WR(T.getName());
Z.splice(q.p[0]+1,0,w);w.rect=H;w.buffer=p._O;w.M();i.i=A.iq;i.data={e:g.V$,Ro:Z,ii:[q.p[0]+1],as:[7,11]};
this.K(i)}if(E==1){var d=T.u1();i.i=A.iq;i.data={e:g.iy,aau:!0};this.K(i);var O=T.u1();O.channel=j.U(H.P());
O.rect=H;O.color=0;O.zK=!0;j.J2(p._O,O.channel,3);if(d){var W=O.LT(d);O.rect=W.rect;O.channel=W.channel;
O.color=W.color}O.aA();T.VA()}if(E==2){var C={rect:H,channel:j.U(H.P())};j.J2(p._O,C.channel,3);i.i=A.L7;
i.data={e:"setsel",$:C,as:this.h6};this.K(i)}this.close()};function fF(){hg.call(this,[1,13],"locstor");
this.BW=null;this.s_=[];var n=this.body,q=P.z("p");q.textContent="These files are loaded every time you start Photopea.";
n.appendChild(q);this.alH=0;this.lp=P.z("span");n.appendChild(this.lp);this.lp.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var p=P.z("span","form");n.appendChild(p);this.M9=new bG([5,4],!1,null,!0);this.M9.R("click",this.a6S,this);
p.appendChild(this.M9.g);this.aiU=new bG("Get all as ZIP",!1,null,!0);this.aiU.R("click",this.Hi,this);
p.appendChild(this.aiU.g);this.rq=new ds(!0);this.rq.parent=this;this.rq.k3(1);this.rq.R(P.E.b,this.arB,this);
n.appendChild(this.rq.g);this.rq.g.setAttribute("style","width: 40em; height: 25em")}fF.prototype=new hg;
fF.prototype.N=function(){hg.prototype.N.call(this);this.lp.textContent=fE.get([13,2])+": "+fG.S6(this.alH);
this.M9.N()};fF.prototype.ts=function(n,q){this.BW=n;if(q==cF.kq)this.o5()};fF.prototype.o5=function(n,q){var p=this.BW.Em.cu,w=0;
this.s_=[];for(var E in p)this.s_.push(E);this.s_.sort(function(O,W){O=O.split(".");W=W.split(".");return O[1]==W[1]?O[0]<W[0]?-1:1:O[1]<W[1]?-1:1});
var T=Math.floor(100*P.D()),i=Math.floor(16*P.D()),H=[],Z=[];for(var R=0;R<this.s_.length;R++){var E=this.s_[R],d=fF.Xm(E,p[E],T,i);
H.push(d);Z.push(E);w+=p[E].byteLength}this.rq.v3(H,Z,T,i);this.alH=w;this.N()};fF.prototype.arB=function(n){this.rq.Zn(this.rq.I())};
fF.prototype.a6S=function(n){var R=this.rq.I();if(R==-1){alert("Select a file first.");return}this.rq.j(-1);
var q=this.BW.Em.cu;delete q[this.s_[R]];var p=new ea(P.E.T,!0);p.data={e:P.C.Th,sQ:cF.kq};this.K(p)};
fF.prototype.Hi=function(n){var q=this.BW.Em.cu,p={};for(var E in q)p[E]=new Uint8Array(q[E]);var T=UZIP.encode(p);
a$.save(T,"resources.zip")};fF.Xm=function(n,q,p,E){var T=P.z("canvas"),Z=0;T.width=p;T.height=E;var i=T.getContext("2d"),H=n.split(".").pop().toLowerCase();
for(var R=0;R<H.length;R++)Z+=H.charCodeAt(R)*613<<8*R;i.fillStyle="#"+j.E2(Z&16777215);i.fillRect(0,0,20,E);
var w=Math.floor(14*P.D());i.fillStyle="#000000";i.font="bold "+w+"px sans-serif";var d=(E-w)/2,O=fG.S6(q.byteLength),W=i.measureText(O);
i.fillText(O,p-12-W.width,E-d);return T.toDataURL()};function bM(n,q,p){hg.call(this,q,"cwindow");this.a43=new fc(p[0],p[1]-33);
this.ss=P.z("div","form");this.ss.setAttribute("style","width:"+(p[2]-p[0])+"px; height:"+(p[3]-p[1])+"px");
this.body.appendChild(this.ss)}bM.prototype=new hg;bM.prototype.Gt=function(n,q){return this.a43.clone()};
function eg(){hg.call(this,["PSD VAR0",[25,0]],"templates");this.Wd=null;this.p$=0;this.dD=null;this.body.setAttribute("style","padding:0");
this.g2=new bG("Add Templates",null,null,!0);this.body.appendChild(this.g2.g);this.g2.R("click",this.akP,this);
this.g2.g.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");this.a2Q=new bG("New Template",null,null,!0);
this.a2Q.R("click",this.a8B,this);this.xt=P.z("iframe","scrollable");this.xt.setAttribute("style","border:none; margin:0; padding:0;");
this.IV=P.z("div","form scrollable padded");this.TS=P.z("div","form scrollable padded label12");var n=[],q=eg.DJ;
this.oV=[];for(var p in q){var E=parseInt(p.slice(1)),T=E%10==0?"":"\u2800\u2800- ";n.push(T+q[p]);this.oV.push(E)}this.r5=[new gT("Name",null,30),new gT("Description",null,30,4),new gT("File"," www.Photopea.com#i...",17),new gT("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17),new gJ("Category",n),new bG("<< Back",null,null,!0),new bG("Save",null,null,!0),new jh("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new jh("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var R=0;R<this.r5.length;R++){var i=this.r5[R];this.TS.appendChild(i.g);i.parent=this;if(R!=5)P.OK(this.TS);
if(i instanceof bG)i.R("click",this.ack,this)}this.body.appendChild(this.xt)}eg.prototype=new hg;eg.prototype.Gt=function(n,q){return new fc(0,0)};
eg.prototype.rb=function(n,q){q=q-4;n=n;var p=this.IV;p.style.width=n-12+"px";p.style.height=q-12+"px";
var p=this.TS;p.style.width=n-12+"px";p.style.height=q-12+"px";var p=this.xt;p.style.width=n+"px";p.style.height=q+"px"};
eg.prototype.N=function(){hg.prototype.N.call(this)};eg.prototype.o5=function(n,q,p,E){this.akP(null,!1)};
eg.prototype.akP=function(n,q){var p=q!=null?q:P.pM(this.xt);if(p){if(!de.Ky()){alert("You need to log in first!");
return}var E=de.Vh();this.Wd=E.tpl?E.tpl.list:[];this.HL()}else{this.xt.setAttribute("src","");this.xt.setAttribute("src","plugins/tpls")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(p?this.IV:this.xt);this.g2.l$(p?"All Templates":"Add Templates")};eg.prototype.HL=function(){var n=this.Wd,q=this.IV;
P.Ls(q);var p=P.z("h1");p.textContent="Share your PSD templates with the world!";var E=P.z("h3");E.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
q.appendChild(p);q.appendChild(E);q.appendChild(this.a2Q.g);for(var R=0;R<n.length;R++){var T=n[R],i=P.z("div");
q.appendChild(i);i.setAttribute("style","clear:both;");var H=P.z("img");i.appendChild(H);H.setAttribute("src",T.thmb);
H.setAttribute("style","height:10em; float:left; margin-right: 1em; margin-bottom:1em;");var Z=P.z("h3");
i.appendChild(Z);Z.textContent=T.name;var w=P.z("p");i.appendChild(w);w.textContent=T.desc;for(var d=0;
d<2;d++){var O=new bG(d==0?"Edit":"Delete",null,null,!0);O.ahy=R;O.zV=d==0;O.R("click",this.ams,this);
i.appendChild(O.g)}}};eg.prototype.a8B=function(n){this.dD={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};
this.zV()};eg.prototype.ams=function(n){this.p$=n.target.ahy;if(!n.target.zV){this.Wd.splice(this.p$,1);
this.Hi();this.HL();return}this.zV()};eg.prototype.zV=function(){this.body.removeChild(this.IV);this.body.appendChild(this.TS);
var n=["name","desc","file","thmb"],q=this.dD?this.dD:this.Wd[this.p$];for(var R=0;R<4;R++){var p=q[n[R]];
if(p!=""&&R==2)p="https://photopea.com#i"+p;this.r5[R].j(p)}this.r5[4].j(this.oV.indexOf(q.catg))};eg.prototype.ack=function(n){if(this.r5.indexOf(n.target)==6){var q=this.r5[3].I().trim(),p=q.startsWith("http")&&(q.endsWith(".jpeg")||q.endsWith(".jpg")||q.endsWith(".png"));
if(!p){alert("Thumbnail URL is incorrect.");return}var E=new XMLHttpRequest,T="mirror.php?url="+encodeURIComponent(q);
E.open("GET",T);E.responseType="arraybuffer";E.onload=this.adS.bind(this);E.send()}else this.Y0()};eg.prototype.adS=function(n){var q=n.target.response,p=q.byteLength;
if(p>2e5){alert("Thumbnail is too large ("+fG.S6(p)+"). Make it under 200 kB.");return}var E=["name","desc","file","thmb"],T=this.dD?this.dD:this.Wd[this.p$];
for(var R=0;R<4;R++){var i=this.r5[R].I().trim();if(i.length==0){alert("One of values is empty.");return}if(R==2){var H=i.split("#i");
if(H.length!=2||H[1].length!=8){alert("File ID is incorrect.");return}i=H.pop()}T[E[R]]=i}T.catg=this.oV[this.r5[4].I()];
if(T.utme.length==0)T.utme=""+Math.round(Date.now()/1e3);if(this.dD)this.Wd.push(this.dD);this.Hi();
this.Y0()};eg.prototype.Y0=function(){this.dD=null;this.body.removeChild(this.TS);this.body.appendChild(this.IV);
this.HL()};eg.prototype.Hi=function(){var n=de.Vh();if(this.Wd.length==0)delete n.tpl;else n.tpl={list:JSON.parse(JSON.stringify(this.Wd))};
de.BD(n,function(){alert("Saved.")})};eg.DJ={c0:"Mockups",c1:"Mobile & Web",c2:"Print",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function ak(){hg.call(this,"Make Selection","makesel");this.BW=null;var n=P.z("div","form");this.body.appendChild(n);
this.vq=new dq("Anti-Alias");this.vq.j(!0);n.appendChild(this.vq.g);P.OK(n);this.KK=new aI(!0);n.appendChild(this.KK.g);
this.BK=new bG("OK",!0,null,!0);this.BK.R("click",this.VS,this);this.body.appendChild(this.BK.g)}ak.prototype=new hg;
ak.prototype.N=function(){hg.prototype.N.call(this);this.KK.N()};ak.prototype.VS=function(n){var q=new ea(P.E.u,!0);
q.i=A.L7;q.data={e:"frompath",zF:[null,0,this.KK.acK(),!this.vq.I()]};this.close();this.K(q)};function au(){hg.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this._f=null;this.Xc=null;this.N5=null;var n=this.a19=P.z("div","form");n.setAttribute("style","width:20em");
this.body.appendChild(n);this.GP=new c2([12,50],["PSD","PSB"]);this.GP.R(P.E.b,this.$z,this);n.appendChild(this.GP.g);
P.xf(n);var q=new jh("Minify the file");n.appendChild(q.g);P.OK(n);var p=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.e6=[];for(var R=0;R<p.length;R++){var E=new dq(p[R]);this.e6.push(E);n.appendChild(E.g);E.R(P.E.b,this.$z,this)}P.xf(n);
this.IB=new jh("aa.psd");this.CR=new jh("10 kB");n.appendChild(this.CR.g);this.a7x=new jh("1000 B");
n.appendChild(this.a7x.g);this.bD=new bG([1,2],!0,null,!0);this.bD.R("click",this.VS,this);n.appendChild(this.bD.g);
this.ww=new bG(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.ww.R("click",this.VS,this);n.appendChild(this.ww.g);
this.R("closebtn",this.Kn,this)}au.prototype=new hg;au.prototype.o5=function(n,q,p,E){var T=P.pM(this.ww.g),i=n.ps!=null&&n.ps.AE=="psd";
if(i&&!T)this.a19.appendChild(this.ww.g);if(!i&&T)this.a19.removeChild(this.ww.g);for(var R=0;R<this.e6.length;
R++)this.e6[R].j(!1);this._f=n;this.$z()};au.prototype.VS=function(n){if(n.target==this.bD)a$.save(this.Xc,this.N5);
else{if(this.e6[3].I()){alert("You should not save a ZIP as a PSD to Google Drive.");return}bJ.adA(this._f,this.Xc)}};
au.prototype.Kn=function(){this._f=null;this.Xc=null};au.prototype.$z=function(){var n=this._f,q=[!1,!1,!1,!1];
for(var R=0;R<3;R++)q[R]=this.e6[R].I();var p=this.e6[3].I(),E=q[3]=this.GP.I()==1,T=n.name.slice(0,n.name.length-3),i=this.Xc=al.vE("PSD").U7(n,0,0,q),eR=this.N5=T+"ps"+(E?"b":"d");
if(p){var H={};H[eR]=new Uint8Array(i);i=this.Xc=UZIP.encode(H);eR=this.N5=T+"zip"}this.IB.j(eR);this.CR.j(fG.S6(i.byteLength));
this.CR.g.style["font-size"]="2em";this.a7x.j(" \u2001 "+i.byteLength+" B");this.bD.l$(fE.get([1,2])+" \""+eR+"\"")};
au.prototype.N=function(){hg.prototype.N.call(this);this.bD.N();this.ww.N()};function ap(n,q,p,E){g9.call(this);
this.name=n;this.aoe=p;this.u0=E;this.ht=P.z("div","");this.ht.setAttribute("draggable","true");this.R0=P.z("div","pbody");
this.YF=new bG("",!1,"");this.YF.parent=this;this.amQ=P.z("span","cross");this._8=P.z("span","label");
var T=this.amR.bind(this);this.ht.addEventListener("mousedown",this.asd.bind(this),!1);this.ht.addEventListener("contextmenu",T,!1);
this.YF.g.addEventListener("contextmenu",T,!1);this.amQ.addEventListener("mousedown",this.NS.bind(this),!1);
this.ht.appendChild(this._8);if(q)this.ht.appendChild(this.amQ);this.c5=!1;this.VV=new a1([{name:[1,12]}]);
this.VV.R("select",this.NS,this);this._8.textContent=n}ap.prototype=new g9;ap.prototype.Jr=function(){return null};
ap.prototype.N=function(){var n=fE.get(this.name),q=this.XF==0?22:Math.round(2+this.XF/50),p=n.length>q;
this._8.textContent=p?n.slice(0,q-2):n;if(p)for(var E=0;E<2;E++){var T=P.z("span");T.textContent=n.charAt(q-2+E);
T.setAttribute("style","opacity:"+(.6-E*.4));this._8.appendChild(T)}var i=n.split(" "),H=i.length==2?i[0].substring(0,2)+i[1][0]:n.substring(0,3);
if(H.charCodeAt(0)>=11776)H=H.substring(0,1);var Z=this.aoe;if(Z==null)this.YF.l$(H,n);else{if(Z.indexOf("\"")==-1)this.YF.l$("<img src=\""+Z+"\" alt=\""+n+"\" height=\"20\" width=\"20\" loading=\"lazy\" />",n)}};
ap.prototype.enable=function(){this.R0.setAttribute("class","pbody")};ap.prototype.disable=function(){this.R0.setAttribute("class","pbody disabled")};
ap.prototype.ts=function(n,q){};ap.prototype.o5=function(n,q,p){};ap.prototype.nX=function(n){};ap.prototype.rb=function(n,q){};
ap.prototype.eM=function(n){this.name=n;this.N()};ap.prototype.f2=function(){};ap.prototype.asd=function(n){if(n.button==0)this.K(new ea("select",!1))};
ap.prototype.amR=function(n){P.dv(n);if(this.u0!=null&&isNaN(this.u0))return;var q=P.gD(n,document.body),p=this.VV;
p.update(null);p.N();p.parent=this;var E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:p,x:q.x+1,y:q.y+1};this.K(E)};
ap.prototype.QC=function(){this.NS({})};ap.prototype.NS=function(n){if(n.stopPropagation)n.stopPropagation();
if(this.u0!=null&&!isNaN(this.u0)){var q=new ea(P.E.T,!0);q.data={e:P.C.dz,yx:this.VV};this.K(q);q.data={e:P.C.Th,sQ:cF.co,k:parseFloat(this.u0),wH:"del"};
this.K(q)}else if(this.a2Y())this.K(new ea(P.E.Ia,!1))};ap.prototype.a2Y=function(n){return!0};ap.prototype.LA=function(n,q,p,E,T){};
ap.prototype.Tw=function(n,q,p,E,T){};ap.prototype.HO=function(n,q,p,E,T){};ap.xL=function(n,q){if(n.childElementCount!=0)return;
var p=n.textContent;this.mf=this.afa.bind(this);this.ajN=this.apS.bind(this);this.s2=q;this.lC=n;this.a7F=p;
var E=P.z("input","");E.setAttribute("type","text");E.setAttribute("size","10");E.setAttribute("value",p);
P.Ls(n);n.appendChild(E);E.select();E.focus();n.addEventListener("keyup",this.mf,!1);document.body.addEventListener("mousedown",this.ajN,!1)};
ap.xL.prototype.afa=function(n){var q=aj.ju,p=q(n.code,aj.T4);if(q(n.code,aj.eN)||p)this.ajI(p)};ap.xL.prototype.apS=function(n){var q=n.target;
if(q.tagName&&q.tagName.toLowerCase()=="input")return;this.ajI(!0)};ap.xL.prototype.ajI=function(n){var q=this.lC,p=q.firstChild.value;
q.removeEventListener("keyup",this.mf);document.body.removeEventListener("mousedown",this.ajN);if(n&&p!=""){this.s2(p)}else{P.Ls(q);
q.textContent=this.a7F}};ap.ys={e$:"0",ar0:"1",iq:"2",al6:"3",a9o:"4",h2:"5",CSS:"6",yR:"7",acn:"8",a0w:"9",amg:"10",acx:"11",a9r:"12",_H:"13",lM:"14",a3U:"15",abR:"16",n_:"17",ase:"19",a5v:"20"};
function gf(){ap.call(this,[9,9],!1,null,ap.ys.acx);this.BW=null;this.ia=[0,0];this.bJ=P.z("div","padded scrollable");
this.bJ.setAttribute("style","width:260px;  height:260px");this.R0.appendChild(this.bJ);this.R(P.E.b,this.Wp,this);
this._s=P.z("div","lpfoot");this.R0.appendChild(this._s);this.Tn=[];var n="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",q="</svg>",p=n+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+q,E=n+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+q;
this.a3e=n+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+q;this.aed=n+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+q;
var T=[this.a3e,E,"lrs/folder","lrs/newlayer","lrs/bin",p],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var R=0;R<T.length;R++){var H=T[R];if(1<R&&R!=T.length-1)H="<img src=\""+PIMG[T[R]]+"\" class=\"gsicon\" />";
var Z=new bG(H,!1,i[R]);Z.R("click",this.a6w,this);this._s.appendChild(Z.g);this.Tn.push(Z)}}gf.prototype=new ap("");
gf.prototype.N=function(){ap.prototype.N.call(this);for(var R=0;R<this.Tn.length;R++)this.Tn[R].N()};
gf.prototype.a6w=function(n){var R=this.Tn.indexOf(n.currentTarget),q=this.ia,p=this.BW,E=p.SA;if(R==0){var T,i=p.aT;
if(E.length==0){alert("Create an Action Set first.");return}if(q.length<2){alert("Select a target action first.");
return}if(i==null){T=this.aed;i=this.ia}else{T=this.a3e;i=null}this.Tn[0].l$(T);p.aT=i}else if(R==1)this.a5X();
else if(R==2||R==3){var H={as:"Action Set "+E.length,fM:[],exp:!0};if(R==2||E.length==0){q=[E.length];
E.push(H)}if(R==3){var Z=E[q[0]].fM;q=[q[0],Z.length];Z.push({as:"Action "+Z.length,color:0,fM:[],ad3:!1,shift:!1,exp:!0,ap:Z.length})}this.ia=q;
this.EA()}else if(R==4){var w;if(q.length==1)w=E;else if(q.length==2)w=E[q[0]].fM;else w=E[q[0]].fM[q[1]].fM;
var d=q.length-1;w.splice(q[d],1);if(w.length==0)q.pop();else while(q[d]>=w.length)q[d]--;if(q.length==0)q.push(0);
this.EA()}else if(R==5){if(E.length==0){alert("No Actions Present.");return}var O=new ea(P.E.T,!0);O.data={e:P.C.hP,a06:cF.u,Eb:q[0]};
this.K(O)}};gf.prototype.Wp=function(n){var q=this.BW.SA,p=n.data.e,E=n.data.s$;if(p=="sel")this.ia=E;
if(p=="fold"){if(E.length==1)q[E[0]].exp=!q[E[0]].exp;else q[E[0]].fM[E[1]].exp=!q[E[0]].fM[E[1]].exp}if(p=="enab"){var T=q[E[0]].fM[E[1]].fM[E[2]];
T.J=!T.J}if(p=="nchange"){if(E.length==1)q[E[0]].as=n.data.E7;else q[E[0]].fM[E[1]].as=n.data.E7}this.EA()};
gf.prototype.ts=function(n,q){this.BW=n;if(q==cF.u||q==cF.Bo)this.EA()};gf.prototype.EA=function(){if(this.BW==null)return;
P.Ls(this.bJ);var n=this.BW.SA;if(n.length==0)return;var q=JSON.stringify(this.ia);for(var R=0;R<n.length;
R++){var p=n[R],E=new gf.Fy([R],q,p.exp,p.as.split("=").pop());E.parent=this;this.bJ.appendChild(E.g);
if(!p.exp)continue;for(var T=0;T<p.fM.length;T++){var i=p.fM[T],E=new gf.Fy([R,T],q,i.exp,i.as.split("=").pop());
E.parent=this;this.bJ.appendChild(E.g);if(!i.exp)continue;for(var H=0;H<i.fM.length;H++){var Z=i.fM[H],E=new gf.Fy([R,T,H],q,null,fE.get(j4.ac_(Z)),Z.J);
E.parent=this;this.bJ.appendChild(E.g)}}}};gf.prototype.a5X=function(){var n=this.BW.SA,q=this.ia;if(n.length==0){alert("No Actions Present");
return}if(q.length==1){alert("Select an Action first");return}if(this.BW.aT!=null){alert("You can not apply actions while recording actions");
return}if(q.length==1)q.push(0);var p=n[q[0]],E=p.fM[q[1]],T=new ea(P.E.T,!0);T.data={e:P.C.aI,zF:[E.as,p.as]};
this.K(T)};gf.Fy=function(n,q,p,E,T){g9.call(this);this.s$=n;var i=this.s$.length-1;this.g=P.z("div","layeritem"+(JSON.stringify(n)==q?" selected":""));
this.AX=P.z("div","head");this.g.appendChild(this.AX);this.AX.setAttribute("style","height:24px");this.s9=P.z("div","headL");
this.AX.appendChild(this.s9);if(i!=0){var H=P.z("div");H.style.width=i*20+"px";this.s9.appendChild(H)}if(p!=null){var Z=this.aa1=P.z("div",p?"open":"closed");
this.s9.appendChild(Z)}else{var w=this.a77=P.z("div","cmark");w.setAttribute("style","background-size:12px 12px; opacity:"+(T?1:.3));
this.s9.appendChild(w)}if(i==0){var d=P.z("div","folder");this.s9.appendChild(d)}var O=this._8=P.z("div","label");
O.textContent=E;this.s9.appendChild(O);this.g.addEventListener("mouseup",this.GN.bind(this),!1)};gf.Fy.prototype=new g9;
gf.Fy.prototype.GN=function(n){if(n.detail==1&&n.target.tagName.toLowerCase()!="input"){var q="sel";
if(n.target==this.aa1)q="fold";if(n.target==this.a77)q="enab";var p=new ea(P.E.b,!0);p.data={e:q,s$:this.s$};
this.K(p)}else if(this.s$.length<3)var E=new ap.xL(this._8,this.s2.bind(this))};gf.Fy.prototype.s2=function(n){var q=new ea(P.E.b,!0);
q.data={e:"nchange",E7:n,s$:this.s$};this.K(q)};var bn=function(){function n(){ap.call(this,[9,3],!1,null,ap.ys.yR);
this.qa=null;this.Hv=null;this.BW=null}n.prototype=new ap("");n.prototype.rX=function(){var H=P.z("div","");
this.R0.appendChild(H);this.wm=P.z("div","bordered cell");this.wm.setAttribute("style","width:10em; height:28.5em;");
H.appendChild(this.wm);this.I3=[];this.w4=null;this.Mq=[];var Z=this.amz.bind(this);this.uI=[new p,new E,new T,new i];
for(var R=0;R<this.uI.length;R++){var w=P.z("div","listitem"),d=this.uI[R].zq,O=null;if(R==0){this.w4=new jh(d);
w.appendChild(this.w4.g)}else{O=new dq(d,!1);O.R(P.E.b,this.aiK,this);w.appendChild(O.g)}this.Mq.push(O);
this.wm.appendChild(w);this.I3.push(w);w.addEventListener("click",Z,!1)}this.pa=P.z("div","cell padded");
H.appendChild(this.pa);for(var R=0;R<this.uI.length;R++)this.uI[R].R("brushchange",this.a1q,this);this.setItem(0);
this.S=P.z("canvas");this.S.height=10;H.appendChild(this.S);this.Jm=this.S.getContext("2d");this.E6()};
n.prototype.rb=function(H,Z){if(this.XF==H)return;this.XF=H;this.rZ=Z;this.E6()};n.prototype.f2=function(){if(!P.pM(this.R0))return;
if(this.wm){this.E6();return}this.rX();this.N();this.ts(this.BW,cF.Bo)};n.prototype.N=function(){ap.prototype.N.call(this);
if(this.wm==null)return;this.w4.N();for(var R=1;R<this.Mq.length;R++)this.Mq[R].N();for(var R=0;R<this.uI.length;
R++)this.uI[R].N()};n.prototype.a1q=function(H){var Z=this.uI.indexOf(H.currentTarget),w=JSON.parse(JSON.stringify(this.uI[Z].Hv)),d=new ea(P.E.T,!0);
d.data={e:P.C.Th,sQ:cF.Ez,Hv:w};this.K(d)};n.prototype.aiK=function(H){this.adI(this.Mq.indexOf(H.currentTarget),H.currentTarget.Jc())};
n.prototype.amz=function(H){var R=this.I3.indexOf(H.currentTarget);if(H.target.tagName.toLowerCase()=="input")return;
if(this.Mq[R]&&!this.Mq[R].Jc()){this.Mq[R].P9();this.adI(R,!0)}this.setItem(R)};n.prototype.adI=function(H,Z){this.uI[H].G3(Z)};
n.prototype.setItem=function(H){for(var R=0;R<this.uI.length;R++)this.I3[R].setAttribute("class","listitem");
if(this.pa.firstChild)this.pa.removeChild(this.pa.firstChild);this.I3[H].setAttribute("class","listitem selected");
this.pa.appendChild(this.uI[H].g)};n.prototype.ts=function(H,Z){this.BW=H;if(this.wm==null)return;if(Z==cF.yR||Z==cF.Bo){this.qa=H.UR;
for(var R=0;R<this.uI.length;R++)this.uI[R].KC(this.qa)}if(Z==cF.Ez||Z==cF.Bo){this.Hv=H.UR.$P;this.E6()}if(Z==cF._H)this.E6()};
n.prototype.E6=function(){if(this.Hv)this.enable();else{this.disable();return}if(!P.pM(this.R0))return;
var H=this.BW;for(var R=0;R<this.uI.length;R++){this.uI[R].j(this.Hv);if(this.Mq[R])this.Mq[R].j(this.uI[R].Jc())}var Z=JSON.parse(JSON.stringify(this.Hv));
Z.Brsh.v.Dmtr.v.val=Math.min(Z.Brsh.v.Dmtr.v.val,50);P.jy(this.S,this.XF,80);var w=new eL(0,0,this.S.width,this.S.height),d=new iX(Z,this.qa?this.qa.Hh:null,this.qa?this.qa.yi:null,{Ik:1},H.ny,H.iu,w),O=w.o/2,W=w.v-O*2;
d.moveTo(O,O);for(var R=0;R<=W;R+=10)d.lineTo(O+R,O+20*Math.sin(2*Math.PI*R/W));d.finish();var C=this.Jm.createImageData(w.v,w.o);
j.hk(d.V_(),d.UB(),C.data,w);this.Jm.putImageData(C,0,0)};function q(H){g9.call(this);this.zq=H;this.g=P.z("div","");
this.Hv=null}q.prototype=new g9;q.prototype.KC=function(H){};q.prototype.j=function(H){this.Hv=JSON.parse(JSON.stringify(H));
this.g.setAttribute("class",this.Jc()?"":"disabled");this.E6()};q.prototype.G3=function(H){};q.prototype.Jc=function(){return!1};
q.prototype.N=function(){};q.prototype.E6=function(){};q.prototype.Sg=function(){this.K(new ea("brushchange"))};
function p(){q.call(this,[15,0]);this.qa=null;this.a8u=null;this.Px=new ds(!0);this.g.appendChild(this.Px.g);
this.Px.R(P.E.b,this.aaH,this);this.Px.g.style.height="10.7em";this.wC=new ej([12,14,0],1,1e3," px",0,!0);
this.wC.R(P.E.b,this.ahf,this);this.Ce=new ej([12,15],0,359," \xB0");this.Ce.R(P.E.b,this.a4c,this);
this.dc=new ej([12,16],0,100," %");this.dc.R(P.E.b,this.aiG,this);this.uT=new ej([12,17],0,100," %");
this.uT.R(P.E.b,this.ao6,this);this.zh=new ej([12,18],1,300," %");this.zh.R(P.E.b,this.a74,this);this.I3=[this.wC,this.Ce,this.dc,this.uT,this.zh]}p.prototype=new q;
p.prototype.N=function(){this.wC.N();this.Ce.N();this.dc.N();this.uT.N();this.zh.N()};p.prototype.Jc=function(){return!0};
p.prototype.KC=function(H){this.qa=H;var Z=[],w=Math.floor(30*P.D()),d=Math.floor(40*P.D());for(var R=0;
R<H.list.length;R++){var O=H.list[R].v,W=iX.Xm(O,H.Hh,H.yi,w,d);Z.push(W)}this.Px.v3(Z,null,w,d)};p.prototype.E6=function(){var H=this.Hv.Brsh.v,Z=H.classID!=this.a8u;
this.a8u=H.classID;if(Z)for(var R=0;R<this.I3.length;R++)if(this.g.contains(this.I3[R].g))this.g.removeChild(this.I3[R].g);
this.wC.j(H.Dmtr.v.val);if(Z)this.g.appendChild(this.wC.g);this.Ce.j(H.Angl.v.val);if(Z)this.g.appendChild(this.Ce.g);
if(H.classID=="computedBrush"||H.classID=="sampledBrush"){this.dc.j(H.Rndn.v.val);if(Z)this.g.appendChild(this.dc.g)}if(H.classID=="computedBrush"){this.uT.j(H.Hrdn.v.val);
if(Z)this.g.appendChild(this.uT.g)}this.zh.j(H.Spcn.v.val);if(Z)this.g.appendChild(this.zh.g)};p.prototype.aaH=function(H){this.Hv=this.qa.list[this.Px.I()].v;
this.Sg()};p.prototype.ahf=function(H){this.Hv.Brsh.v.Dmtr.v.val=H.target.I();this.Sg()};p.prototype.a4c=function(H){this.Hv.Brsh.v.Angl.v.val=H.target.I();
this.Sg()};p.prototype.aiG=function(H){this.Hv.Brsh.v.Rndn.v.val=H.target.I();this.Sg()};p.prototype.ao6=function(H){this.Hv.Brsh.v.Hrdn.v.val=H.target.I();
this.Sg()};p.prototype.a74=function(H){this.Hv.Brsh.v.Spcn.v.val=H.target.I();this.Sg()};function E(){q.call(this,[15,1]);
this.Tl=new ej([15,4,0],0,100,"%");this.Tl.R(P.E.b,this.as6,this);this.g.appendChild(this.Tl.g);this.Z_=new ej([15,4,1],0,100,"%");
this.Z_.R(P.E.b,this.aqb,this);this.g.appendChild(this.Z_.g);this.eq=new ej([15,4,2],0,100,"%");this.eq.R(P.E.b,this.a7g,this);
this.g.appendChild(this.eq.g);this.v7=new ej([15,4,3],0,100,"%");this.v7.R(P.E.b,this.aeN,this);this.g.appendChild(this.v7.g);
this.RG=new ej([15,4,4],1,100,"%");this.RG.R(P.E.b,this.a2I,this);this.g.appendChild(this.RG.g)}E.prototype=new q;
E.prototype.N=function(){this.Tl.N();this.Z_.N();this.eq.N();this.v7.N();this.RG.N()};E.prototype.Jc=function(){return this.Hv.useTipDynamics.v};
E.prototype.G3=function(H){this.Hv.useTipDynamics.v=H;gV.VT.xH(this.Hv);this.Sg()};E.prototype.E6=function(){var H=this.Hv;
if(H.useTipDynamics.v==!1)return;this.Tl.j(H.szVr.v.jitter.v.val);this.Z_.j(H.minimumDiameter.v.val);
this.eq.j(H.angleDynamics.v.jitter.v.val);this.v7.j(H.roundnessDynamics.v.jitter.v.val);this.RG.j(H.minimumRoundness.v.val)};
E.prototype.as6=function(H){this.Hv.szVr.v.jitter.v.val=H.target.I();this.Sg()};E.prototype.aqb=function(H){this.Hv.minimumDiameter.v.val=H.target.I();
this.Sg()};E.prototype.a7g=function(H){this.Hv.angleDynamics.v.jitter.v.val=H.target.I();this.Sg()};
E.prototype.aeN=function(H){this.Hv.roundnessDynamics.v.jitter.v.val=H.target.I();this.Sg()};E.prototype.a2I=function(H){this.Hv.minimumRoundness.v.val=H.target.I();
this.Sg()};function T(){q.call(this,[15,2]);this.jd=new ej([15,5,0],0,1e3," %");this.jd.R(P.E.b,this.aif,this);
this.g.appendChild(this.jd.g);this.mU=new ej([15,5,1],1,20);this.mU.R(P.E.b,this.a1k,this);this.g.appendChild(this.mU.g);
this.Zc=new ej([15,5,2],0,100," %");this.Zc.R(P.E.b,this.abq,this);this.g.appendChild(this.Zc.g)}T.prototype=new q;
T.prototype.N=function(){this.jd.N();this.mU.N();this.Zc.N()};T.prototype.Jc=function(){return this.Hv.useScatter.v};
T.prototype.G3=function(H){this.Hv.useScatter.v=H;gV.VT.xH(this.Hv);this.Sg()};T.prototype.E6=function(){var H=this.Hv;
if(H.useScatter.v==!1)return;this.jd.j(H.scatterDynamics.v.jitter.v.val);this.mU.j(H.Cnt.v);this.Zc.j(H.countDynamics.v.jitter.v.val)};
T.prototype.aif=function(H){this.Hv.scatterDynamics.v.jitter.v.val=H.target.I();this.Sg()};T.prototype.a1k=function(H){this.Hv.Cnt.v=H.target.I();
this.Sg()};T.prototype.abq=function(H){this.Hv.countDynamics.v.jitter.v.val=H.target.I();this.Sg()};
function i(){q.call(this,[15,3]);this.rm=new ej([15,6,0],0,100," %");this.rm.R(P.E.b,this.a45,this);
this.g.appendChild(this.rm.g);this.Le=new ej([15,6,1],0,100," %");this.Le.R(P.E.b,this.a3$,this);this.g.appendChild(this.Le.g);
this.Jw=new ej([15,6,2],0,100," %");this.Jw.R(P.E.b,this.a2a,this);this.g.appendChild(this.Jw.g);this.Ep=new ej([15,6,3],0,100," %");
this.Ep.R(P.E.b,this.akN,this);this.g.appendChild(this.Ep.g)}i.prototype=new q;i.prototype.N=function(){this.rm.N();
this.Le.N();this.Jw.N();this.Ep.N()};i.prototype.Jc=function(){return this.Hv.useColorDynamics.v};i.prototype.G3=function(H){this.Hv.useColorDynamics.v=H;
gV.VT.xH(this.Hv);this.Sg()};i.prototype.E6=function(){var H=this.Hv;if(H.useColorDynamics.v==!1)return;
this.rm.j(H.clVr.v.jitter.v.val);this.Le.j(H.H.v.val);this.Jw.j(H.Strt.v.val);this.Ep.j(H.Brgh.v.val)};
i.prototype.a45=function(H){this.Hv.clVr.v.jitter.v.val=H.target.I();this.Sg()};i.prototype.a3$=function(H){this.Hv.H.v.val=H.target.I();
this.Sg()};i.prototype.a2a=function(H){this.Hv.Strt.v.val=H.target.I();this.Sg()};i.prototype.akN=function(H){this.Hv.Brgh.v.val=H.target.I();
this.Sg()};return n}();function bA(){ap.call(this,[9,0],!1,null,ap.ys.e$);this.R0.setAttribute("style","min-width:200px;");
this.UJ=P.z("div","hpbody scrollable");this.UJ.style.height="160px";this.R0.appendChild(this.UJ);this.ah8=-1;
this.ug=[];this.I8=""}bA.prototype=new ap("");bA.prototype.o5=function(n){if(n==null){P.Ls(this.UJ);
this.I8="";return}P.Ls(this.UJ);var q=0;for(var R=0;R<n.history.length;R++)if(R<=n.yv&&!n.history[R].no)q=R;
for(var R=0;R<n.history.length;R++){var p=n.history[R];if(p.no)continue;var E=new bg(p,R,q);E.parent=this;
this.UJ.appendChild(E.g);this.ug.push(E)}if(n.yv==n.history.length-1)this.f2()};bA.prototype.f2=function(){this.UJ.scrollTop=this.UJ.scrollHeight};
bA.prototype.N=function(){ap.prototype.N.call(this);for(var R=0;R<this.ug.length;R++)this.ug[R].N()};
function bg(n,R,q){g9.call(this);this.index=R;this.g=P.z("div",R==q?"listitem selected":"listitem");
this.xe=n.name;this.N();if(R>q)this.g.style.opacity=.4;this.g.addEventListener("click",this.LA.bind(this),!1)}bg.prototype=new g9;
bg.prototype.N=function(){this.g.textContent=fE.get(this.xe)};bg.prototype.LA=function(n){if(this.index==this.parent.ah8)return;
this.m7({e:"h_itemchange",index:this.index})};bg.prototype.m7=function(n){var q=new ea(P.E.u,!0);q.data=n;
q.i=A.e$;this.K(q)};function el(){ap.call(this,[9,10],!1,null,ap.ys.a9o);var n=P.z("div","padded");this.R0.appendChild(n);
this.HK=new ct(256,!0);n.appendChild(this.HK.g);this._f=null}el.prototype=new ap("");el.prototype.o5=function(n){this._f=n;
this.EA()};el.prototype.EA=function(){var n=this._f;if(!P.pM(this.R0))return;if(n==null||n.p.length==0){this.HK.j(j.Lj(j.U(4)));
return}var q=n.Zk(),p=new eL(0,0,n.v,n.o),E=p.P();if(n.$){var T=n.$.rect,i=j.U(T.P()*4);j.hk(q,p,i,T);
j.AK(n.$.channel,i);q=i;p=T;var H=n.$.channel;E=0;for(var R=0;R<H.length;R++)E+=H[R];E=Math.round(E/255)}var Z=j.Lj(q);
Z[0][255]+=3*(E-Z[5]);for(var R=1;R<4;R++)Z[R][255]+=E-Z[5];this.HK.j(Z,E)};el.prototype.ts=function(n,q){this.HK.GQ(h0.Zu[n.Au]["--text-color"])};
el.prototype.N=function(){ap.prototype.N.call(this);this.HK.N()};el.prototype.f2=function(){this.EA()};
function cp(){ap.call(this,[9,8],!1,null,ap.ys.ar0);this.bJ=P.z("div","padded");this.R0.appendChild(this.bJ);
this.t9=new fP(10);this.bJ.appendChild(this.t9.g);this.bJ.appendChild(P.z("hr"));this.eg=new bV;this.eg.parent=this;
this.bJ.appendChild(this.eg.gH);this.t9.R(P.E.b,this.agi,this);this.eg.R(P.E.b,this.agi,this)}cp.prototype=new ap("");
cp.prototype.agi=function(n){var q;if(n.target==this.t9)q=this.t9.I();else{var p=this.eg.I();q=Math.round(p._)<<16|Math.round(p.q)<<8|Math.round(p.X)}var E=new ea(P.E.T,!0);
E.data={e:P.C.Th,sQ:cF._H,df:0,k:q};this.K(E)};cp.prototype.ts=function(n,q){var p=n.ny,E=q==cF.Bo;if(q==cF._H||E){this.t9.j(p);
this.eg.j({_:p>>>16&255,q:p>>>8&255,X:p>>>0&255,u5:"Color #"+j.E2(p)})}if(q==cF.ZG||E){var T=n.adM;this.eg.KC(T)}};
function gb(){ap.call(this,[12,72],!1,null,ap.ys.abR);this.E0=null;this.FS=null;this.UJ=P.z("div","lpbody scrollable");
this._s=P.z("div","lpfoot");this.R0.appendChild(this.UJ);this.R0.appendChild(this._s);this.eS=[];this.R("click",this.o9,this);
this.CF=[];gb.TT([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.CF,this._s,this.LQ.bind(this),this.S2.bind(this));
this.aM=new a1([{name:"Merge Channels",Ak:!0}]);this.aM.R("select",this.ax,this)}gb.prototype=new ap("");
gb.prototype.ax=function(n){if(this.FS==null)return;var q=new ea(P.E.T,!0);q.data={e:P.C.Lr,ov:"mergechannels"};
this.K(q)};gb.prototype.Jr=function(){return this.aM};gb.TT=function(n,q,p,E,T){for(var R=0;R<n.length;
R++){var i=new bG("W",!1,n[R]);q.push(i);P.v$(i.g,E);p.appendChild(i.g);var H=i.g;H.addEventListener("drop",T,!1);
H.addEventListener("dragover",function(Z){Z.preventDefault()},!1);H.addEventListener("dragenter",P.dv,!1)}};
gb.aW=function(n,q){for(var R=0;R<n.length;R++)if(n[R].g==q.currentTarget)return R};gb.prototype.LQ=function(n){var q=gb.aW(this.CF,n);
if(q==0)this.K(h3.GW(!0,null,n));else{q--;var p=new ea(P.E.Gi,!0),E={classID:"null"};if(q==0)E.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(q==1)E.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else E.null=j4.hZ("Chnl",!0);p.data={oK:["duplicate","make","delete"][q],ga:E};this.K(p)}};gb.prototype.S2=function(n){var q=gb.aW(this.CF,n);
if(q==2){var p=new ea(P.E.Gi,!0),E={classID:"null"};E.null=j4.hZ("Chnl",!0);p.data={oK:"duplicate",ga:E};
this.K(p)}else this.LQ(n)};gb.prototype._e=function(R){var n=this.eS,q=n[R];if(q==null){var p=P.z("canvas");
q=p.getContext("2d");n.push(q)}return q};gb.prototype.o9=function(n){var q=this.E0.slice(0),p=n.data.ap,E=q[0]+q[1]+q[2],T=this.FS;
if(-5<p&&p<0){var i=-p-1;if(n.data.S8){if(i==0)q=E==3?[0,0,0]:[1,1,1];else{if(q[i-1]==0)q[i-1]=1;else if(!0)q[i-1]=0}}else{if(i==0)q=[1,1,1];
else{q=[0,0,0];q[i-1]=1}T.z1=[]}var H=new ea(P.E.u,!0);H.i=A.NZ;H.data={e:"setcls",mc:q};this.K(H);return}if(-1<p){var Z=T.h[p],w=Z.TL==1?Z.u1():Z.vr(T).w;
if(n.data.S8)w.Fk=!w.Fk;else{for(var R=0;R<T.v4.length;R++)T.v4[R].Fk=!1;T.z1=[]}}else{var d=-p-5,w=T.v4[d];
if(n.data.S8)w.Fk=!w.Fk;else{for(var R=0;R<T.v4.length;R++)T.v4[R].Fk=!1;w.Fk=!0;T.z1=[d]}}T.IJ=T.Ln=!0};
gb.prototype.f2=function(){this.$z()};gb.prototype.o5=function(n){this.FS=n;this.$z()};gb.prototype.$z=function(){var n=this.FS,q=this.UJ,Z=34,w=34,a=4;
P.Ls(q);if(n==null||!P.pM(q))return;var p=n.v,E=n.o,T=new eL(0,0,p,E),i=this.E0=n.c.mc.slice(0),H=i[0]+i[1]+i[2];
if(p>E)w=Math.round(w*E/p);else Z=Math.round(Z*p/E);var d=["RGB"].concat(iJ.D_);for(var R=0;R<4;R++){var O=this._e(R);
j.wj.Uw(O,Z,w,T,n.Zk(),T,!1,R==0?null:R-1);var W=R==0?H==3:i[R-1]==1,C=new h3(-1-R,!0,!0,O,d[R],W,W);
C.parent=this;q.appendChild(C.g)}for(var R=0;R<n.p.length;R++){var B=n.h[n.p[R]],$=B.TL;if($!=1&&$!=3)continue;
var I=$==1?B.u1():B.vr(n).w,O=this._e(a+R);a++;j.wj.xZ(O,Z,w,T,I);var C=new h3(n.p[R],!0,!0,O,B.getName()+($==1?"":" Filter")+" Mask",!0,I.Fk);
C.parent=this;q.appendChild(C.g)}for(var R=0;R<n.v4.length;R++){var I=n.v4[R],O=this._e(a+R);j.wj.xZ(O,Z,w,T,I);
var C=new h3(-5-R,!0,I.name=="Quick Mask",O,I.name,n.z1.indexOf(R)!=-1,I.Fk,A.iq,{e:g.QH,df:"rnm",ap:R});
C.parent=this;q.appendChild(C.g)}};gb.prototype.rb=function(n,q){this.UJ.style.height=q-9-26+"px";this.UJ.style.width=n+"px"};
gb.prototype.N=function(){ap.prototype.N.call(this);this.$z();gb.MA(this.CF,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gb.MA=function(n,q){for(var R=0;R<n.length;R++){var p=n[R];p.l$(P.ic(q[R]))}};function h3(n,q,p,E,T,i,H,Z,w){g9.call(this);
this.g=P.z("div","layeritem");this.ag_=n;this.agu=q;this.Jm=E;this.a1x=Z;this.ag8=w;this.AX=P.z("div",i?"head selected":"head");
this.AX.setAttribute("style","height: "+40+"px");var d=P.z("div","headL"),O=P.z("div","headR"),W=15;
this.g.appendChild(this.AX);this.AX.appendChild(d);this.AX.appendChild(O);this.uR=P.z("div","eye");if(1<P.D()&&P.D()<1.5)W=W/P.D();
this.uR.setAttribute("style","background-size: "+W+"px "+W+"px;");this.uR.style.opacity=H?1:.2;if(q)d.appendChild(this.uR);
this.mW=P.z("div","thumb");if(E)this.mW.appendChild(E.canvas);d.appendChild(this.mW);this.HI=P.z("div","label");
if(p)this.HI.style.fontStyle="italic";this.HI.textContent=fE.get(T);d.appendChild(this.HI);var C=this.AX;
C.setAttribute("draggable","true");this.AX.addEventListener("mousedown",this.a6Z.bind(this),!1);if(!p)this.AX.addEventListener("mouseup",this.alW.bind(this),!1)}h3.prototype=new g9;
h3.prototype.s2=function(n){var q=new ea(P.E.u,!0);q.i=this.a1x;q.data=this.ag8;q.data.name=n;this.K(q)};
h3.prototype.a6Z=function(n){var q=n.ctrlKey||n.metaKey,p=this.ag_;if(q&&n.target==this.Jm.canvas){this.K(h3.GW(this.agu,p,n))}else{var E=new ea("click",!0);
E.data={ap:p,S8:n.target==this.uR,Cw:q};this.K(E)}};h3.prototype.alW=function(n){if(n.detail==2&&n.target==this.HI){var q=new ap.xL(this.HI,this.s2.bind(this))}};
h3.GW=function(n,q,p){var E=0;if(p.shiftKey)E++;if(p.altKey)E+=2;var T=new ea(P.E.u,!0);T.i=A.L7;if(n){if(-5<q&&q<0){T=new ea(P.E.Gi,!0);
T.data=A.eY.Of(E,["RGB","Rd","Grn","Bl"][-1-q])}else T.data={e:"fromchannel",zF:[q,0,E]}}else T.data={e:"frompath",zF:[q,0,E]};
return T};function ci(){ap.call(this,[8,9],!1,null,ap.ys.n_);this.E0=null;this.FS=null;this.UJ=P.z("div","lpbody scrollable");
this._s=P.z("div","lpfoot");this.R0.appendChild(this.UJ);this.R0.appendChild(this._s);this.R0.addEventListener("click",this.afg.bind(this),!1);
this.eS=[];this.R("click",this.o9,this);this.CF=[];gb.TT([[17,2],"Selection to Path",[5,3],[5,4]],this.CF,this._s,this.LQ.bind(this),this.S2.bind(this))}ci.prototype=new ap("");
ci.prototype.LQ=function(n,q){var p=gb.aW(this.CF,n),E;if(p==0)E=h3.GW(!1,null,n);else if(p==1){E=new ea(P.E.Gi,!0);
E.data={oK:"make",ga:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var E=new ea(P.E.u,!0);
E.i=A.nk;E.data={e:"pathedit",df:["new","del"][p-2],a04:q}}this.K(E)};ci.prototype.S2=function(n){this.LQ(n,!0)};
ci.prototype._e=function(R){var n=this.eS,q=n[R];if(q==null){var p=P.z("canvas");q=p.getContext("2d");
n.push(q)}return q};ci.prototype.afg=function(n){if(n.target==this.UJ){var q=this.FS;q.Dm=[];q.LS=[];
q.Ln=!0;q.IJ=!0}};ci.prototype.o9=function(n){var q=n.data.ap,p=this.FS,E=n.data.Cw,T=0,i,H;if(q<0){T=-1-q;
i=p.Dm;H=p.LS}else{var Z=p.Jy()[0];for(var R=0;R<Z.length;R++){var w=Z[R].ap;if(w==q)break;if(w>=0)T++}i=p.LS;
H=p.Dm}if(E){var d=i.indexOf(T);if(d==-1)i.push(T);else i.splice(d,1)}else{while(i.length!=0)i.pop();
while(H.length!=0)H.pop();i.push(T)}p.Ln=!0;p.IJ=!0};ci.prototype.f2=function(){this.$z()};ci.prototype.o5=function(n){this.FS=n;
this.$z()};ci.prototype.$z=function(){var n=this.FS,q=this.UJ,Z=34,w=34;P.Ls(q);if(n==null||!P.pM(q))return;
var p=n.v,E=n.o,T=new eL(0,0,p,E),i=this.E0=n.c.mc.slice(0),H=i[0]+i[1]+i[2];if(p>E)w=Math.round(w*E/p);
else Z=Math.round(Z*p/E);var d=n.Jy(),O=d[0];for(var R=0;R<O.length;R++){var W=O[R],C=this._e(R);j.wj.a89(C,Z,w,T,W.add.vmsk);
var a=new h3(W.ap,!1,W.ap>=0,C,W.name,d[1].indexOf(R)!=-1,!1,A.nk,{e:"pathedit",df:"rnm",ap:W.ap});a.parent=this;
q.appendChild(a.g)}};ci.prototype.rb=function(n,q){this.UJ.style.height=q-9-26+"px";this.UJ.style.width=n+"px"};
ci.prototype.N=function(){ap.prototype.N.call(this);this.$z();gb.MA(this.CF,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};
function ip(n){ap.call(this,[9,n?4:5],!1,null,n?ap.ys.a0w:ap.ys.amg);this.R0.setAttribute("style","min-width:240px;");
this.a2z=n;this.mD=null;this.BW=null}ip.prototype=new ap("");ip.prototype.rX=function(){this.mD=new iY;
var n=this.mD,q=this.R0;n.parent=this;if(this.a2z){var p=P.z("div","marged");q.appendChild(p);p.appendChild(n.v1.g);
q.appendChild(P.z("hr"));var E=P.z("div","marged");q.appendChild(E);E.appendChild(n.fm.g);E.appendChild(n.tm.g);
var T=P.z("div","marged");q.appendChild(T);T.appendChild(n.dx.g);T.appendChild(n.ox.g);q.appendChild(P.z("hr"));
var i=P.z("div","marged");q.appendChild(i);i.appendChild(n.g9.g);i.appendChild(n.R3.g);var H=P.z("div","marged");
q.appendChild(H);H.appendChild(n.cS.g);H.appendChild(n.sE.g);q.appendChild(P.z("hr"));var Z=P.z("div","marged");
q.appendChild(Z);Z.appendChild(n.x9.g);Z.appendChild(n.YK.g);Z.appendChild(n.r6.g);Z.appendChild(n.Li.g);
Z.appendChild(n.z9.g);Z.appendChild(n.Ri.g);Z.appendChild(n.WL.g);Z.appendChild(n.Js.g)}else{var p=P.z("div","marged");
q.appendChild(p);p.appendChild(n.VQ.g);p.appendChild(n.an.g);p.appendChild(n.C2.g);p.appendChild(n.a6o.g);
p.appendChild(n.anq.g);p.appendChild(n.a3I.g);p.appendChild(n.a5e.g);q.appendChild(P.z("hr"));var E=P.z("div","marged");
q.appendChild(E);E.appendChild(n.pN.g);E.appendChild(n.v2.g);E.appendChild(n.qp.g);q.appendChild(P.z("hr"));
var T=P.z("div","marged");q.appendChild(T);T.appendChild(n.Hp.g);T.appendChild(n.Jp.g);T.appendChild(n.Nc.g)}};
ip.prototype.f2=function(){if(!P.pM(this.R0))return;if(this.mD==null){this.rX();var n=this.BW;if(n)this.mD.j(n.Bb,n.s4,n.rk);
this.mD.N()}};ip.prototype.N=function(){ap.prototype.N.call(this);if(this.mD)this.mD.N()};ip.prototype.ts=function(n,q){this.BW=n;
if(q!=cF.Bo&&q!=cF.Bc&&q!=cF.Jv&&q!=cF._j)return;if(this.mD)this.mD.j(n.Bb,n.s4,n.rk)};function en(){ap.call(this,[9,13],!1,null,ap.ys.ase);
this.mD=new iY;this.mD.parent=this;this.BW=null;this.agk=null;this.a5q=null;this.dS=null;this.aqH=null;
this.CH=Math.round(290*P.D());this.JU=45;this.akJ=4;this.ajB=this.EA.bind(this);this.ahS=0;this.KJ=new gJ(null,["Hi","Hello"]);
this.KJ.R(P.E.b,this.EA,this);var n=this.DC=new bG("-",null,null,!0);n.R("click",this.aoO,this);var q=this.aqi=new bG("+",null,null,!0);
q.R("click",this.aoO,this);this.Wc=new ds(!1);this.Wc.R(P.E.b,this.v9,this);this.Wc.g.style.height=250+"px";
var p=this.aP=P.z("div","form padded");this.R0.appendChild(p);p.appendChild(this.mD.v1.g);P.OK(p);p.appendChild(this.KJ.g);
p.appendChild(n.g);p.appendChild(q.g);this.R0.appendChild(this.Wc.g)}en.prototype=new ap("");en.prototype.rb=function(n,q){if(this.XF==n)return;
this.XF=n;this.CH=Math.floor((n-13)*P.D());this.aP.setAttribute("style","width:"+this.CH/P.D()+"px;");
this.Wc.g.style.height=q-73+"px";this.EA()};en.prototype.v9=function(n){var q=this.ai3(),p=Math.round(this.CH/q);
q/=P.D();var E=this.Wc.I()*p*this.akJ,T=this.Wc.asU();E+=Math.floor(T.y/q)*p;E+=Math.floor(T.x/q);var i=this.dS[this.KJ.I()];
if(E>=i.length)return;var H=i[E],Z=this.aqH[H];if(Z.qB.length==0){alert("No known character for this glyph");
return}var w=String.fromCodePoint(Z.qB[0]),d=new ea(P.E.u,!0);d.i=A.cY;d.data={e:"insertText",k:w};this.K(d)};
en.prototype.aoO=function(n){var q=1.2;if(n.target==this.DC){if(this.JU>20)this.JU/=q}else{if(this.JU<100)this.JU*=q}this.EA()};
en.prototype.f2=function(){this.ts(this.BW)};en.prototype.ts=function(n,q){this.BW=n;if(!P.pM(this.R0))return;
this.mD.j(n.Bb,n.s4,n.rk);var p=n.Bb,E=p.h9.Font,w=0;if(E==null)return;var T=p.GF[E].Name;if(this.agk==T)return;
var E=n.s4.oD(T);if(E==null)return;var i=E.maxp.numGlyphs,H=this.aqH=new Array(i);for(var R=0;R<i;R++)H[R]={qB:[]};
var Z=Date.now(),d=new Uint8Array(1048575);for(var R=0;R<1048575;R++){var O=Typr.U.codeToGlyph(E,R);
if(O!=0&&O<i){d[R]=1;if(H[O].qB.length==0)w++;H[O].qB.push(R)}}var W=en.DJ,C=[];for(var R=0;R<W.length;
R++)C.push([]);for(var O=1;O<i;O++){C[0].push(O);var a=H[O].qB[0];if(a==null){continue}for(var B=1;B<W.length;
B++){var $=W[B].x6;for(var R=0;R<$.length;R+=2)if($[R]<=a&&a<=$[R+1]){C[B].push(O);break}}}this.dS=C;
var I=[];for(var R=0;R<W.length;R++)I.push(W[R].vf+" ("+C[R].length+")");var x=this.KJ.I();this.KJ.qj(I);
this.KJ.j(x);this.agk=T;this.a5q=E;this.EA()};en.prototype.ai3=function(n){var q=Math.floor(this.CH/this.JU);
return Math.floor(this.CH/q)};en.prototype.EA=function(n){if(!P.pM(this.R0)||this.dS==null)return;var q=this.dS[this.KJ.I()],p=q.length,E=this.a5q,T=Typr.U,i=this.ai3(),H=i,Z=H*.8,w=H*.8/E.head.unitsPerEm,d=[],O=Math.floor(this.CH/i),W=Math.ceil(p/O),C=this.akJ,a=Date.now();
for(var B=0;B<W;B+=C){var $=P.z("canvas"),I=$.getContext("2d");$.width=i*O;$.height=H*C;I.strokeStyle="rgba(0,0,0,0.3)";
I.fillStyle="white";I.fillRect(0,0,O*i,H*C);for(var x=0;x<C;x++){for(var U=0;U<O;U++){var R=q[(B+x)*O+U];
if(R==null)break;var N=T.glyphToPath(E,R),m=j.O.Uh(N.crds);if(!m.M6()){I.fillStyle="#252525";I.beginPath();
var f=U*i+(i-m.v*w)*.5-m.x*w,c=x*H+Z;I.translate(f,c);I.scale(w,-w);T.pathToContext(N,I);I.scale(1/w,-1/w);
I.translate(-f,-c);I.fill()}}}I.beginPath();for(var U=0;U<O;U++){var D=U*i+i+.5;I.moveTo(D,0);I.lineTo(D,H*C)}for(var x=0;
x<C;x++){var z=x*H+H+.5;I.moveTo(0,z);I.lineTo(O*i,z)}I.stroke();d.push($)}this.Wc.v3(d,null,i*O,H*C)};
en.DJ=[{vf:"All Glyphs"},{vf:"Basic Latin, Latin 1",x6:[0,127,128,143]},{vf:"Latin Extended-A",x6:[256,383]},{vf:"Latin Extended-B",x6:[384,591]},{vf:"Punctuations",x6:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{vf:"Greek",x6:[880,1023]},{vf:"Cyrillic",x6:[1024,1279]},{vf:"Hebrew",x6:[1424,1535]},{vf:"Arabic",x6:[1536,1791]},{vf:"Emoji",x6:[9728,10095,127744,129535]}];
function eu(){ap.call(this,[13,0],!1,null,ap.ys._H);this.zl=0;this.a2l=0;this.BW=null;var n=P.z("div","flexrow padded");
this.R0.appendChild(n);var q=P.z("div");n.appendChild(q);this.M7=[];for(var R=0;R<2;R++){var p=new ja;
this.M7.push(p);p.R("click",this.abr,this);q.appendChild(p.g)}this.D2=new hP(192);this.D2.R(P.E.b,this.Lp,this);
n.appendChild(this.D2.g)}eu.prototype=new ap("");eu.prototype.abr=function(n){this.zl=this.M7.indexOf(n.currentTarget);
this.EA()};eu.prototype.Lp=function(n){var q=this.D2.I();this.D2.j(q);var p=Math.round(q._*255)<<16|Math.round(q.q*255)<<8|Math.round(q.X*255),E=new ea(P.E.T,!0);
E.data={e:P.C.Th,sQ:cF._H,df:this.zl,k:p};this.K(E);this.a2l=Date.now()};eu.prototype.EA=function(){var n=this.BW,q=this.zl,p=[n.ny,n.iu];
for(var R=0;R<2;R++){var E=this.M7[R],T=E.g.style;E.GQ(p[R]);if(R==q)T.filter="drop-shadow(0 0 1px #000000)"}var i=p[q];
if(Date.now()-this.a2l>100)this.D2.j({_:(i>>>16)/255,q:(i>>>8&255)/255,X:(i&255)/255})};eu.prototype.ts=function(n,q){this.BW=n;
if(q==cF.Bo||q==cF._H)this.EA()};eu.prototype.f2=function(){this.EA()};function cn(){ap.call(this,"CSS",!1,null,ap.ys.CSS);
this._f=null;var n=P.z("div","padded");this.R0.appendChild(n);this.$T=P.z("textarea");n.appendChild(this.$T)}cn.prototype=new ap("");
cn.prototype.rb=function(n,q){if(this.XF==n)return;this.XF=n;this.$T.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(n-10)+"px; height:"+(q-10)+"px")};
cn.prototype.o5=function(n){this._f=n;this.EA()};cn.prototype.ts=function(n,q){if(q==cF.Jv)this.EA()};
cn.prototype.EA=function(){var n=this._f;if(n==null||n.p.length==0)return;if(!P.pM(this.R0))return;var q=n.h[n.p[0]],p=CSS.a0l(q,n);
if(p.length!=0)this.$T.value=p.join(";\n")+";";else this.$T.value=""};cn.prototype.f2=function(){this.EA()};
function iu(){ap.call(this,[9,6],!1,null,ap.ys.al6);this.R0.setAttribute("style","min-width:240px;");
this._f=null;this.BW=null;var n=P.z("div","marged row");this.R0.appendChild(n);var q=P.z("div","cell");
q.setAttribute("style","width:10em");n.appendChild(q);var p=P.z("div","cell");p.setAttribute("style","width:10em");
n.appendChild(p);this.adO=[];for(var R=0;R<4;R++){var E=new jh("");this.adO.push(E);q.appendChild(E.g);
P.OK(q)}this.R0.appendChild(P.z("hr",""));var T=P.z("div","marged row");this.R0.appendChild(T);var q=P.z("div","cell");
q.setAttribute("style","width:10em");var p=P.z("div","cell");p.setAttribute("style","width:10em");T.appendChild(q);
T.appendChild(p);this.AC=new jh("");q.appendChild(this.AC.g);P.OK(q);this.vG=new jh("");q.appendChild(this.vG.g);
this.Yu=new jh("");p.appendChild(this.Yu.g);P.OK(p);this.s1=new jh("");p.appendChild(this.s1.g);this.AC.j("X: 100 px");
this.vG.j("Y: 100 px");this.Yu.j("W: 0");this.s1.j("H: 0")}iu.prototype=new ap("");iu.prototype.Tw=function(n,q,p,E,T){if(!P.pM(this.R0)||n==null)return;
var i=n.c.hQ(T.x,T.y),H=new fc(Math.floor(i.x),Math.floor(i.y));if(!T.fk){var Z=0,w=0,d=0,O=0,W=this.adO;
if(!T.fk&&!n.apt()&&new eL(0,0,n.v-1,n.o-1).Z4(H)){var C=n.Zk(),R=n.v*H.y+H.x<<2;Z=C[R+0];w=C[R+1];d=C[R+2];
O=C[R+3]}W[0].j("R: "+Z);W[1].j("G: "+w);W[2].j("B: "+d);W[3].j("A: "+O)}this.AC.j("X: "+j.L6.Kc(H.x,n.xm,p,n.v));
this.vG.j("Y: "+j.L6.Kc(H.y,n.xm,p,n.o));this.lk()};iu.prototype.lk=function(){var n=this._f,q=this.BW,p=0,E=0;
if(n&&q){if(n.c.gL){p=n.c.gL.v;E=n.c.gL.o}else if(n.$){p=n.$.rect.v;E=n.$.rect.o}p=j.L6.Kc(Math.abs(p),n.xm,q,n.v);
E=j.L6.Kc(Math.abs(E),n.xm,q,n.o)}this.Yu.j(fE.get([12,41]).charAt(0)+": "+p);this.s1.j(fE.get([12,42]).charAt(0)+": "+E)};
iu.prototype.N=function(){ap.prototype.N.call(this);this.lk()};iu.prototype.o5=function(n,q,p){this._f=n;
this.BW=p;this.lk()};function fV(){ap.call(this,[9,1],!1,null,ap.ys.iq);this.J9=null;this.eL=null;this.EH=null;
this.AX=P.z("div","lphead");this.UJ=P.z("div","lpbody scrollable");this._s=P.z("div","lpfoot");this.aU=new gJ(null,d3.qn,!1,d3.BJ);
this.aU.R(P.E.b,this.a8P,this);this.AX.appendChild(this.aU.g);this.uY=new iA([12,0],0,100,"%",0);this.uY.R(P.E.b,this.a7f,this);
this.uY.parent=this;this.AX.appendChild(this.uY.g);this.EJ=new i_([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.EJ.R(P.E.b,this.a4R,this);this.AX.appendChild(this.EJ.g);this.FI=new iA([12,26],0,100,"%",0);this.FI.R(P.E.b,this.akn,this);
this.FI.parent=this;this.AX.appendChild(this.FI.g);this.CF=[];this.TT();this.R0.appendChild(this.AX);
this.R0.appendChild(this.UJ);this.UJ.addEventListener("dragover",function(p){p.preventDefault()},!1);
this.UJ.addEventListener("dragenter",P.dv,!1);this.UJ.addEventListener("drop",this.acb.bind(this),!1);
this.R0.appendChild(this._s);this.R0.addEventListener("contextmenu",P.dv,!1);var n=fK.cL(!0),q=fK.WY(!0);
this.a4s=new a1(n,q);var n=[{name:[14,10]},{name:[14,11],H8:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],H8:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",J:function(p){return{J:p.h[p.p[0]].add.SoLd!=null}},H8:!0},{name:[6,8],J:function(p){var E=p.h[p.p[0]];
if(E.add.TySh||E.add.SoLd||E.add.SoCo||E.add.GdFl||E.add.PtFl)return{J:!0};return{J:!1}}},{name:[6,34],J:function(p){var E=p.h[p.p[0]];
return{J:E.add.lmfx!=null&&!E.z7()}}},{name:[6,40],H8:!0,J:function(p){var E=p.h[p.p[0]];return{J:E.add.TySh!=null}}},{name:"",H8:!0,J:function(p){var E=p.h[p.p[0]],T=E.add.TySh,i=T?T.Bd:null;
return{J:T!=null&&i.Curve==null,XW:fE.get(T&&hx.d_(i)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],H8:!0,J:function(p){return{J:p.Mo(p.p[0]),LV:p.h[p.p[0]].PJ}}},{name:[11,6],H8:!0,sub:[{name:[5,1],J:function(p){var E=p.h[p.p[0]];
return{J:E.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],J:function(p){var E=p.h[p.p[0]];return{J:E.add.lmfx!=null}}}]},{name:[6,10],J:function(p){return{J:p.p.length==1&&p.p[0]!=0&&!p.h[p.p[0]].z7()}}},{name:[6,12,0],J:function(p){return{J:p.p.length>1||p.h[p.p[0]].z7()}}},{name:[6,12,1],H8:!0},{name:[13,0],sub:function(){var p=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],E=[];
for(var R=0;R<p.length;R++)E.push({name:p[R]});return E}()}],q=[{l:P.E.T,m:{e:P.C.Lr,ov:"layerstyle"}},{l:P.E.u,i:A.L7,m:{e:"fromlayer",zF:[null,0,0]}},{l:P.E.u,i:A.iq,m:{e:g.se}},{l:P.E.T,m:{e:P.C.Lr,ov:"duplinto"}},{l:P.E.u,i:A.iq,m:{e:g.va}},{l:P.E.Gi,m:{oK:"newPlacedLayer"}},{l:P.E.u,i:A.iq,m:{e:g.Ng}},{l:P.E.Gi,m:{oK:"rasterizeLayer",ga:{classID:"rasterizeLayer",null:j4.hZ("Lyr",!0)}}},{l:P.E.u,i:A.iq,m:{e:g.bB}},{l:P.E.u,i:A.iq,m:{e:g.iG}},{l:P.E.u,i:A.cY,m:{e:"switchPntPrgr"}},{l:P.E.u,i:A.iq,m:{e:g.P2}},{sub:[{l:P.E.u,i:A.FC,m:{e:"st_copy"}},{l:P.E.u,i:A.FC,m:{e:"st_paste"}},{l:P.E.u,i:A.FC,m:{e:"st_clear"}}]},{l:P.E.u,i:A.iq,m:{e:g.eB}},{l:P.E.u,i:A.iq,m:{e:g.LJ}},{l:P.E.u,i:A.iq,m:{e:g.OV}},{sub:function(){var p=[];
for(var R=0;R<8;R++)p.push({l:P.E.u,i:A.iq,m:{e:g.Bt,ahV:R}});return p}()}];this.pa=new a1(n,q);var n=[{name:[6,45],J:function(p){var E=p.h[p.p[0]];
return{J:E.vr(p).w==null}}},{name:[6,47]}],q=[{l:P.E.u,i:A.iq,m:{e:g.Ha}},{l:P.E.u,i:A.iq,m:{e:g.ds}}];
this.a9B=new a1(n,q);var n=[{name:"enab/disab",J:function(p){return{XW:fE.get(p.h[p.p[0]].u1().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],J:function(p){return{J:p.zP(!1,!0)}}}],q=[{l:P.E.u,i:A.iq,m:{e:g._M}},{l:P.E.u,i:A.iq,m:{e:g.SM}},{l:P.E.u,i:A.iq,m:{e:g.aw}}];
this.asQ=new a1(n,q);var n=[{name:"enab/disab",J:function(p){return{XW:fE.get(p.h[p.p[0]].vr(p).w.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],q=[{l:P.E.u,i:A.iq,m:{e:g.zG}},{l:P.E.u,i:A.iq,m:{e:g._3}}];
this.a5J=new a1(n,q);var n=[{name:"enab/disab",J:function(p){return{XW:fE.get(p.h[p.p[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],q=[{l:P.E.u,i:A.iq,m:{e:g.WM}},{l:P.E.u,i:A.iq,m:{e:g.tO}},{l:P.E.u,i:A.iq,m:{e:g.m2}}];
this.a9W=new a1(n,q);this.acr=new a1(fK.a5L(!0),fK.aaW(!0));this.aj$=new a1(fK.cL(),fK.WY());this.R("rclick",this.acQ,this)}fV.prototype=new ap("");
fV.prototype.acb=function(n){P.dv(n);var q=n.dataTransfer.getData("Text"),p=1,E=0;if(q==""){P.AZ(n,this,this.EH.indexOf(this.eL),E+(p>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),T=q.hw;
if(T=="l")this.m7({e:g.Qi,source:q.Eb,target:E,Kg:p})}};fV.prototype.acQ=function(n){var q=this.eL,p=n.data,T;
if(q.p.indexOf(p.Y)==-1){var E={e:g.ZR,Y:n.target.lC.index,wM:p.TL};this.m7(E)}if(q.p.indexOf(p.Y)==-1)return;
if(p.TL==1){T=this.asQ}else if(p.TL==2){T=this.a9W}else if(p.TL==3){T=this.a5J}else if(p.TL==4){T=this.a9B}else if(p.TL==5){T=this.a4s}else{T=this.pa}T.N();
T.update(q);T.parent=this;var i=new ea(P.E.T,!0);i.data={e:P.C.KU,yx:T,x:p.Nh.x+1,y:p.Nh.y+1};this.K(i)};
fV.prototype.N=function(){ap.prototype.N.call(this);this.aU.N();this.uY.N();this.EJ.N();this.FI.N();
if(this.eL)this.o5(this.eL);var n="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var R=0;R<this.CF.length;R++){var q=this.CF[R];q.l$(P.ic(n[R]))}};fV.prototype.o5=function(n,q){if(n&&!n.l0)return;
if(n==null)P.oI(this.R0,"disabled");else P.kO(this.R0,"disabled");this.eL=n;this.EH=q;if(this.J9!=null){this.UJ.removeChild(this.J9.UJ);
this.J9=null}if(n==null)return;this.J9=new gt(n.root,this,n,{Q9:0});this.UJ.appendChild(this.J9.UJ);
if(n.p.length==0||n.h[n.p[0]]==null)P.oI(this.AX,"disabled");else{P.kO(this.AX,"disabled");if(n.p.length==1&&n.rw)this.J9.ade(n.p);
var p=n.h[n.p[0]];if(p.z7()){this.aU.qj([[15,10,27]].concat(d3.qn),[1].concat(d3.BJ));var E=d3.hd.indexOf(p.Nl);
this.aU.j(E+1)}else{this.aU.qj(d3.qn,d3.BJ);var E=d3.hd.indexOf(p.Nl);this.aU.j(E)}this.uY.j(Math.round(100*p.opacity/255));
this.EJ.j([p.d9(0),p.d9(1),p.d9(2),p.d9(31)]);this.FI.j(Math.round(100*(p.add.iOpa!=null?p.add.iOpa/255:1)))}};
fV.prototype.rb=function(n,q){var p=this.AX.getBoundingClientRect().height,E=59;if(p>70)E=84;if(p>100)E=108;
var T=q-(E+37);this.UJ.style.height=T+"px";this.UJ.style.width=n+"px"};fV.prototype.a8P=function(n){this.m7({e:g.M2,Il:this.aU.I()})};
fV.prototype.a7f=function(n){this.m7({e:g.hH,Il:Math.round(255*this.uY.I()/100)})};fV.prototype.a4R=function(n){this.m7({e:g.dQ,Il:[this.EJ.I(),[0,1,2,31]]})};
fV.prototype.akn=function(n){this.m7({e:g.C9,Il:Math.round(255*this.FI.I()/100)})};fV.prototype.alw=function(n){this.a4d(n,this.acr)};
fV.prototype.a4z=function(n){this.a4d(n,this.aj$)};fV.prototype.a4d=function(n,q){var p=n.currentTarget;
if(P.pM(q.g))return;n.stopPropagation();var E=p.getBoundingClientRect();q.N();q.update(this.eL);q.parent=this;
var T=new ea(P.E.T,!0);T.data={e:P.C.KU,yx:q,x:E.left,y:E.top,arT:!0};this.K(T)};fV.prototype.a81=function(n){this.m7({e:g.Hc})};
fV.prototype.a0_=function(n){this.m7({e:this.eL.p.length>1?g.qJ:g.D3})};fV.prototype.aoD=function(n){this.m7({e:g.mp})};
fV.prototype.adt=function(n){var q=this.eL;if(q.p.length==0)return;var p=q.h[q.p[0]],E=p.TL;this.m7({e:E<=0?p._i?g.tO:g.va:E==3?g._3:g.SM})};
fV.prototype.abv=function(n){this.m7({e:g.E8})};fV.prototype.m7=function(n){var q=new ea(P.E.u,!0);q.data=n;
q.i=A.iq;this.K(q)};fV.prototype.TT=function(){var n=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],q=[this.abv,this.a4z,this.alw,this.a81,this.a0_,this.aoD,this.adt],p=this.a8l.bind(this);
for(var R=0;R<n.length;R++){var E=new bG("W",!1,n[R]);this.CF.push(E);P.v$(E.g,q[R].bind(this));this._s.appendChild(E.g);
if(R>=n.length-3){var T=E.g;T.addEventListener("drop",p,!1);T.addEventListener("dragover",function(i){i.preventDefault()},!1);
T.addEventListener("dragenter",P.dv,!1)}}};fV.prototype.a8l=function(n){P.dv(n);var q=0,p=this.CF;while(p[q].g!=n.currentTarget)q++;
p[q].zw();var E=n.dataTransfer.getData("Text");if(E=="")return;var E=JSON.parse(E);if(E.hw=="l"){var T={e:[g.qJ,g.se,g.va][q-4]};
if(this.eL.p.indexOf(E.Eb)==-1)T.Y=E.Eb;this.m7(T)}if(q!=6)return;if(E.hw=="sm"||E.hw=="s"){var i=new ea(P.E.u,!0);
i.i=A.FC;i.data={e:E.hw=="sm"?"st_clear":"st_delsingle",Y:E.Eb,Eb:E.SN};this.K(i)}if(E.hw=="fm"||E.hw=="f"){this.m7({e:E.hw=="fm"?g.ds:g.Gc,src:E.Eb,SN:E.SN})}if(E.hw=="m"||E.hw=="vm"){this.m7({e:E.hw=="m"?g.SM:g.tO,Y:E.Eb})}};
function gt(n,q,p,E){g9.call(this);this.parent=q;this.lC=n;this.j0=[];this.g=P.z("div","layeritem");
var T=n.Y,U=15,J=!1;this.AX=P.z("div",p.p.indexOf(n.index)!=-1?"head selected":"head");if(n.Y.add.artb!=null)P.oI(this.AX,"artb");
this.AX.setAttribute("style","height: "+(T.a7a+10)+"px");var i=P.z("div","headL"),H=P.z("div","headR"),Z=P.z("div","lpineck");
this.UJ=P.z("div","lpibody");this.g.appendChild(this.AX);this.AX.appendChild(i);this.AX.appendChild(H);
if(T.Lc()||T.Sr())if(T.kR())this.g.appendChild(Z);var w=this.AX;w.setAttribute("draggable","true");w.addEventListener("dragstart",this.uu.bind(this),!1);
w.addEventListener("drop",this.pm.bind(this),!1);w.addEventListener("dragover",this.cR.bind(this),!1);
w.addEventListener("dragenter",P.dv,!1);w.addEventListener("dragleave",this.BY.bind(this),!1);var d=[],O=[null,null,null,null],W=P.z("div");
this.uR=P.z("div","eye");W.appendChild(this.uR);var C=P.z("div","space");this.HI=P.z("div","label");
this.HI.setAttribute("style","max-width:calc(100% - "+(96+n.depth*20)+"px)");this.HI.textContent=T.getName();
this.kX=P.z("div","lock");this.ar5=P.z("div","lrfx");this.MO=P.z("div","arfx");var a=this.a6Y.bind(this),B=this.aeA.bind(this);
this.AX.addEventListener("click",B,!1);this.AX.addEventListener("contextmenu",a,!1);var $=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],I=T.add.lclr==null?0:$[T.add.lclr];
if(I==0)I=E.Q9;var x=[I>>16,I>>8&255,I&255];for(var R=0;R<3;R++){x[R]=Math.round(.5*x[R]+.5*220)}if(1<P.D()&&P.D()<1.5)U=U/P.D();
W.setAttribute("style","background-color:rgba("+x.join(",")+","+(I==0?0:1)+");");this.uR.setAttribute("style","background-size: "+U+"px "+U+"px;");
var N=this.a31.bind(this);W.addEventListener("mousedown",N,!1);W.addEventListener("mouseover",N,!1);
this.HI.addEventListener("pointerup",this.art.bind(this),!1);this.MO.addEventListener("click",this.a7q.bind(this),!1);
d[0]=W;d[1]=C;d[10]=this.HI;function m(h,bj,w){var i4=bj.canvas;if(w)h.setAttribute("draggable","true");
h.appendChild(i4);i4.setAttribute("style",i4.getAttribute("style")+"; pointer-events:none")}if(T.z7()){var f=P.z("div","arrow"),c=P.z("div","folder");
f.addEventListener("click",this.ak1.bind(this),!1);d[2]=f;d[3]=c;if(T.add.lsct==fX.eV){for(var R=n.children.length-1;
R>=0;R--){var D=new gt(n.children[R],q,p,{Q9:I});this.j0.push(D);this.UJ.appendChild(D.g)}this.g.appendChild(this.UJ)}f.setAttribute("class",T.add.lsct==fX.eV?"open":"closed")}else{this.mW=P.z("div","thumb");
d[5]=this.mW;m(this.mW,T.SZ)}var z=T.u1();if(z){this.bC=P.z("div","chain");this.gu=P.z("div","thumb");
m(this.gu,n.Y.asv,!0);this.bC.style.opacity=z.$g?1:0;this.bC.addEventListener("click",this.ain.bind(this),!1)}var _=T._m()&&T.add.vmsk;
if(T.add.vmsk&&!_){this.Op=P.z("div","chain");this._Q=P.z("div","thumb");m(this._Q,n.Y.a02,!0);this.Op.style.opacity=T.add.vmsk.$g?1:0;
this.Op.addEventListener("click",this.a3Q.bind(this),!1)}if(T.Sr()&&T.vr(p).w){this.FK=P.z("div","thumb");
m(this.FK,n.Y.aa_,!1);this.FK.addEventListener("click",B,!1);this.FK.addEventListener("contextmenu",a,!1)}if(T.Lc()){this.an_=Z;
Z.addEventListener("contextmenu",a,!1);var v=new fV.ta(fE.get([12,1]),"sm","layerstyle",n.depth,0,null);
v.parent=this;Z.appendChild(v.g);var o=T.add.lmfx,y=o.masterFXSwitch.v;v.c4(y);for(var R=0;R<iq.order.length;
R++){var k=o[iq.Da[R]].v;if(k.length==0)continue;for(var S=0;S<k.length;S++){var v=new fV.ta(fE.get(iq.names[R]),"s","layerstyle",n.depth,1,[R,S]);
v.c4(y&&k[S].v.enab.v);v.parent=this;Z.appendChild(v.g)}}}if(T.Sr()){var v=new fV.ta(fE.get([12,55]),"fm",null,n.depth,0,-1,T.vr(p).w?this.FK:null);
v.parent=this;Z.appendChild(v.g);this.a8N=v.g;this.a8N.addEventListener("contextmenu",a,!1);var o=T.add.SoLd.filterFX.v,L=o.filterFXList.v,y=o.enab.v;
v.c4(y);for(var R=L.length-1;R>=0;R--){var X=L[R].v,s=fU.UC(X);if(iJ.Fi[s])s=iJ.Fi[s];var M=X.Nm.v;if(fU.names[s])M=fE.get(fU.names[s]);
if(iJ.names[s])M=fE.get(iJ.names[s]);var V="afw_"+s,v=new fV.ta(M,"f",V,n.depth,1,R);v.c4(y&&X.enab.v);
v.parent=this;Z.appendChild(v.g)}}if(p.h.indexOf(T)==p.p[0]){var l=T.TL,e;if(l<=0)e=this.mW;else if(l==1)e=this.gu;
else if(l==3)e=this.FK;if(e)e.setAttribute("class","thumb active");if(T._i&&this._Q)this._Q.setAttribute("class","thumb active")}W.style.opacity=T.Fp()?1:.25;
C.setAttribute("style","width:"+Math.max(0,n.depth-1)*18+"px");var Y=T.add.lspf!=null&&T.add.lspf!=0;
this.kX.style.opacity=T.d9(31)?1:.5;d[4]=T.PJ?P.z("div","clipp"):null;d[6]=z?this.bC:null;d[7]=z?this.gu:null;
d[8]=T.add.vmsk&&!_?this.Op:null;d[9]=T.add.vmsk&&!_?this._Q:null;var G=T.tS,F=p.p;if(G!=0)for(var R=0;
R<F.length;R++)if(p.h[F[R]].tS==G){J=!0;break}if(J){O[0]=P.z("div",T.fK?"link":"linkX");O[0].addEventListener("click",this.aen.bind(this),!1)}O[1]=Y?this.kX:null;
O[2]=T.Lc()?this.ar5:null;O[3]=T.Lc()||T.Sr()?this.MO:null;this.MO.setAttribute("class",T.kR()?"arfx open  gsicon":"arfx closed  gsicon");
var b=d;for(var R=0;R<b.length;R++)if(b[R])i.appendChild(b[R]);b=O;for(var R=0;R<b.length;R++)if(b[R])H.appendChild(b[R])}gt.prototype=new g9;
gt.prototype.ade=function(n){var q=this.lC.index;if(n.indexOf(q)!=-1){if(this.g.scrollIntoView)this.g.scrollIntoView({block:"nearest"})}for(var R=0;
R<this.j0.length;R++)this.j0[R].ade(n)};gt.oZ=function(n,q){var p=q.getBoundingClientRect();return(n.clientY-p.top)/p.height};
gt.prototype.uu=function(n){n.stopPropagation();var q=n.target==this.gu?"m":n.target==this._Q?"vm":"l";
n.dataTransfer.setData("Text",JSON.stringify({hw:q,Eb:this.lC.index}))};gt.prototype.BY=function(n){P.dv(n);
this.lb()};gt.prototype.pm=function(n){P.dv(n);this.lb();var q=n.dataTransfer.getData("Text"),p=this.parent.eL,E=gt.oZ(n,this.AX),T=this.lC.index;
if(E>.8){var i=!0,H=p.root.io(T);while(H.parent!=null){var Z=H.parent,w=Z.children;if(w.indexOf(H)!=0)i=!1;
H=H.parent}if(i){T=0;E=1}}if(q==""){P.AZ(n,this,this.parent.EH.indexOf(p),T+(E>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),d=q.hw;
if(d=="l")this.m7({e:g.Qi,source:q.Eb,target:T,Kg:E});else if(d=="m"||d=="vm")this.m7({e:d=="m"?g.dw:g.kd,src:q.Eb,Ow:T});
else gt.ad0(n,q,this)}};gt.ad0=function(n,q,p,E){var T=q.hw,i=p.lC.index,H=q.Eb;if(T=="s"||T=="sm")p.m7({e:g.AF,src:H,Ow:i,SN:q.SN});
if(T=="f"||T=="fm")p.m7({e:g.Pv,src:H,Ow:i,SN:q.SN,gg:E==null?0:E})};gt.prototype.cR=function(n){P.dv(n);
var q=gt.oZ(n,this.AX),p=this.lC.Y.z7()&&.5<q&&q<.8;this.lb();var E="inset 0 "+(p?0:q>.5?-3:3)+"px "+(p?"5px black":"0 rgba(0,0,0,0.5)");
this.AX.style.boxShadow=E};gt.prototype.lb=function(n){this.AX.style.boxShadow=""};gt.agM=-1;gt.XJ=!1;
gt.afR=function(n){gt.XJ=!1;document.body.removeEventListener("mouseup",gt.afR)};gt.prototype.a31=function(n){if(n.button!=0)return;
if(n.type=="mousedown"){gt.XJ=!0;document.body.addEventListener("mouseup",gt.afR,!1)}if(n.type=="mouseover"&&(!gt.XJ||gt.agM==this.lC.index))return;
P.dv(n);this.m7({e:g.il,Y:this.lC.index});gt.agM=this.lC.index};gt.prototype.ak1=function(n){P.dv(n);
this.m7({e:g.t1,Y:this.lC.index})};gt.prototype.ain=function(n){this.m7({e:g.Tv,Y:this.lC.index})};gt.prototype.a3Q=function(n){this.m7({e:g.re,Y:this.lC.index})};
gt.Oj=0;gt.prototype.art=function(n){var q=gt.Oj;gt.Oj=Date.now();if(Date.now()-q>300)return;n.preventDefault();
n.stopPropagation();this.AX.setAttribute("draggable","false");var p=new ap.xL(this.HI,this.s2.bind(this))};
gt.prototype.s2=function(n){this.m7({e:g.OI,Y:this.lC.index,name:n})};gt.prototype.a7q=function(n){this.m7({e:g.cF,Y:this.lC.index})};
gt.prototype.aen=function(n){this.m7({e:g.jZ,Y:this.lC.index})};gt.prototype.a6Y=function(n){var q=n.sourceCapabilities;
if(q)q=q.firesTouchEvents;if(n.button!=2&&q!=!0)return;var p=this.TL(n);if(p!=3&&n.currentTarget==this.a8N)p=4;
if(n.target==this.ar5||n.currentTarget==this.an_)p=5;var E=new ea("rclick",!0);E.data={Y:this.lC.index,TL:p,Nh:P.gD(n,document.body)};
this.K(E)};gt.prototype.TL=function(n){var q=n.target,p=q;return p==this._Q?2:p==this.gu?1:p==this.mW?0:p==this.FK?3:-1};
gt.prototype.aeA=function(n){var q=n.target,O;if(q==this.uR||q==this.MO||q==this.bC||q==this.Op||q.tagName&&q.tagName.toLowerCase()=="input")return;
var p=this.TL(n),E=this.parent.eL,T=this.lC.index,i=E.h[T];if(q==this.kX){this.m7({e:g.dQ,Y:T,Il:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(n.button==0&&n.detail==2){if(q==this.HI)return;var H=new ea(P.E.u,!0),Z=new ea(P.E.T,!0),w=new ea(P.E.Gi,!0);
if(p==0&&i.add.SoCo){var d=j.f.aV(i.add.SoCo.Clr.v);Z.data={e:P.C.Lr,ov:"colorpicker",Q9:d._<<16|d.q<<8|d.X,uV:function(a){var B=j.f.iB({X:a&255,q:a>>>8&255,_:a>>16&255});
B={classID:"null",Clr:{t:"Objc",v:B}};var $=new ea(P.E.u,!0);$.i=A.iq;$.data={e:g.QM,N$:[T],B7:!0,k:{a5:1,IH:B}};
this.K($)}.bind(this),Rq:!0}}else if(p==0&&(iJ.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))Z.data={e:P.C.Ye,ov:ap.ys.h2};
else if(p!=0&&p!=-1)Z.data={e:P.C.Ye,ov:ap.ys.h2};else if(p==0&&i.add.SoLd)w.data={oK:"placedLayerEditContents",ga:{classID:"placedLayerEditContents"}};
else if(p==0&&i.add.TySh){H.i=A.cY;H.data={e:"editCurr",oT:T}}else Z.data={e:P.C.Lr,ov:"layerstyle",Y:T};
this.K(w.data?w:Z.data?Z:H);return}if(n.button!=0)return;if(p==1||p==3){var W=p==3?i.vr(E).w:i.u1();
O=W.Fk?E.c.mc.join("")=="111"?1:2:0}var C={e:g.ZR,Y:T,wM:p,a2V:O,adL:!0};this.m7(C)};gt.prototype.m7=function(n){var q=new ea(P.E.u,!0);
q.data=n;q.i=A.iq;this.K(q)};fV.ta=function(n,q,p,E,T,i,H){g9.call(this);this.abH=q;this.py=p;this.index=i;
this.g=P.z("div","styleitem");this.AX=P.z("div","head");this.apP=null;if(q=="f"){var Z=this.apP=P.z("div","headR");
Z.textContent="\u2699";this.AX.appendChild(Z)}this.cV=P.z("div","eye gsicon");this.HI=P.z("div","label");
this.g.appendChild(this.AX);this.AX.appendChild(this.cV);if(H){this.gu=H;this.AX.appendChild(this.gu);
this.AX.setAttribute("style","height: "+(H.firstChild.height/P.D()+10)+"px")}this.HI.innerHTML=n;this.g.setAttribute("style","margin-left: "+(24+E*16+T*22)+"px");
this.AX.appendChild(this.HI);this.cV.addEventListener("click",this.adh.bind(this),!1);var w=this.g;w.setAttribute("draggable","true");
w.addEventListener("dragstart",this.uu.bind(this),!1);if(!0){w.addEventListener("drop",this.pm.bind(this),!1);
w.addEventListener("dragover",this.cR.bind(this),!1);w.addEventListener("dragenter",P.dv,!1);w.addEventListener("dragleave",this.BY.bind(this),!1)}this.g.addEventListener("click",this.HO.bind(this),!1)};
fV.ta.prototype=new g9;fV.ta.prototype.uu=function(n){n.stopPropagation();n.dataTransfer.setData("Text",JSON.stringify({hw:this.abH,Eb:this.parent.lC.index,SN:this.index}))};
fV.ta.prototype.BY=function(n){P.dv(n);this.lb()};fV.ta.prototype.pm=function(n){P.dv(n);this.lb();var q=n.dataTransfer.getData("Text");
if(q=="")return;var q=JSON.parse(q);gt.ad0(n,q,this.parent,this.index+(gt.oZ(n,this.AX)>.5?0:1))};fV.ta.prototype.cR=function(n){P.dv(n);
var q=gt.oZ(n,this.AX)>.5;this.lb();var p="border-"+(q?"bottom":"top");this.AX.style[p]="0.2em solid rgba(0,0,0,0.5)"};
fV.ta.prototype.lb=function(n){this.AX.style.border="none"};fV.ta.prototype.c4=function(n){var q=15;
if(1<P.D()&&P.D()<1.5)q=q/P.D();this.cV.setAttribute("style","background-size: "+q+"px "+q+"px;");this.cV.style.opacity=n?1:.2};
fV.ta.prototype.HO=function(n){if(n.target==this.cV)return;var q=this.parent.lC.index;if(n.detail!=1&&this.py!=null){var q=this.parent.lC.index,p=new ea(P.E.T,!0);
if(this.py.indexOf("afw_")==0){var E=this.py.slice(4),T=r[E]||fU.A[E],i=n.target==this.apP;if(!i&&!T)return;
p.data=i1.Ib.gM(i?"blendOptions":E,{Y:q,index:this.index})}else p.data={e:P.C.Lr,ov:this.py,Y:q,index:this.index};
this.K(p)}else{if(n.target.getAttribute("class")!="thumb")this.parent.m7({e:g.ZR,Y:q,wM:0})}};fV.ta.prototype.adh=function(n){var q={fm:g.SB,f:g.sn,sm:g.Nr,s:g.ke}[this.abH];
this.parent.m7({e:q,Y:this.parent.lC.index,index:this.index})};function dY(){ap.call(this,"Guide Guy",!1,null,ap.ys.a3U);
this._f=null;this.Z0=[];var n=P.z("div","form padded");this.R0.appendChild(n);n.setAttribute("style","width:200px");
this.R0.appendChild(n);var q=P.z("canvas"),p=q.getContext("2d");q.width=q.height=160;var E=[32,0,16,160,0,32,160,16,0,112,160,16],T="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
for(var R=0;R<10;R++){p.clearRect(0,0,160,160);p.setTransform(1,0,0,1,80,80);p.rotate((R&3)*Math.PI/2);
p.translate(-80,-80);p.fillStyle="rgba(0,0,0,0.3)";if(R<4){for(var H=0;H<12;H+=4){p.fillStyle=H==0?"#000000":"rgba(0,0,0,0.3)";
p.fillRect(E[H],E[H+1],E[H+2],E[H+3])}}else if(R<6){var Z=8*6;p.fillRect(0,0,Z,160);p.fillRect(8*7,0,Z,160);
p.fillStyle="#000000";p.fillRect(8*14,0,Z,160)}else if(R<8){p.fillRect(0,0,16,160);p.fillRect(160-16,0,16,160);
p.fillRect(32,0,160-64,160);p.fillStyle="#000000";p.fillRect(32,80-8,160-64,8*1)}else{p.fillRect(0,0,8*7,160);
p.fillRect(8*13,0,160,160);p.fillStyle="#000000";p.fillRect(8*7,80-8,8*6,8*1)}var w="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",d=new iA(w,0,200,R==4||R==5?null:"px",null,null,null,4,T[R]);
d.parent=this;d.R(P.E.b,this.a0A,this);d.j(i[R]);d.N();this.Z0.push(d);n.appendChild(d.g)}var O=["Add Guides","Clear Guides"];
this.Tn=[];for(var R=0;R<O.length;R++){var W=new bG(O[R],!0,null,!0);this.Tn.push(W);W.R("click",this.Cs,this);
n.appendChild(W.g)}for(var R=0;R<6;R++){p.setTransform(1,0,0,1,80,80);p.rotate(Math.floor(R/3)*Math.PI/2);
p.translate(-80,-80);p.clearRect(0,0,160,160);p.fillStyle="rgba(0,0,0,0.3)";p.fillRect(0,0,160,160);
p.clearRect(16,16,128,128);p.fillStyle="#000000";var C=R%3;p.fillRect([0,9,18][C]*8,0,16,160);var w="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",W=new bG(w,!1,null,!1);
this.Tn.push(W);W.R("click",this.Cs,this);n.appendChild(W.g)}}dY.prototype=new ap("");dY.prototype.a0A=function(n){var q=this.Z0,p=q.indexOf(n.target),E=Math.floor(p/2),T=p&1,i=[];
for(var R=0;R<4;R++)i.push(q[2*R+T].I());var H=-1;if(E==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)H=4;if(E==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)H=4;
if(E==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)H=3;if(H!=-1)q[2*H+T].j(0)};dY.prototype.Cs=function(n){var q=this._f,p=this.Tn.indexOf(n.target),E=[[],[]];
if(q==null)return;var T=q.$?q.$.rect:new eL(0,0,q.v,q.o),i=T.v,H=T.o;if(p==0){var Z=[[],[]];for(var R=0;
R<this.Z0.length;R++)Z[R&1].push(this.Z0[R].I());var w=[dY.ajJ(Z[0],T.x,T.x+i),dY.ajJ(Z[1],T.y,T.y+H)];
E=dY.a3d(w);A.Wh.ZT(E,q.fN())}else if(p==1){}else{p-=2;var d=Math.floor(p/3),w=[[],[]];w[d].push([T.x,T.x+i/2,T.x+i,T.y,T.y+H/2,T.y+H][p]);
E=dY.a3d(w);A.Wh.ZT(E,q.fN())}this.a86(E)};dY.a3d=function(n){var q=[],p=[];for(var E=0;E<2;E++)for(var R=0;
R<n[E].length;R++){q.push([E,n[E][R]]);p.push(-1)}return[q,p]};dY.prototype.a3v=function(n){var q=this.aby.indexOf(n.target)};
dY.prototype.a86=function(n){var q=new ea(P.E.u,!0);q.i=A.o$;q.data={e:"gids",mH:n};this.K(q)};dY.ajJ=function(n,q,p){var E=[],T=n[2],i=n[3],H=n[4],Z=0;
if(T==0)Z++;if(i==0)Z++;if(H==0)Z++;if(Z>1&&T==0&&i==0){if(n[0]!=0)E.push(q+n[0]);if(n[1]!=0)E.push(p-n[1]);
return E}var w=p-q-n[0]-n[1];if(T==0){if(H==0){T=Math.floor(w/i);H=(w-T*i)/(T-1)}else{T=1;while(i*T+H*(T-1)+i+H<=w)T++}}else if(T!=0&&i!=0){if(T*i>w)T=Math.floor(w/i);
H=(w-T*i)/(T-1)}E.push(q+n[0],p-n[1]);var i=(w-H*(T-1))/T;for(var R=1;R<T;R++){if(H==0)E.push(q+n[0]+R*i);
else E.push(q+n[0]+R*i+(R-1)*H,q+n[0]+R*i+R*H)}return E};dY.prototype.o5=function(n){this._f=n};function ht(){ap.call(this,[9,2],!1,null,ap.ys.h2);
this.ajW=null;this.zb=null;this.BW=null;this.ake=-1}ht.prototype=new ap("");ht.prototype.rX=function(){this.bJ=P.z("div","padded");
this.bJ.style.width="22em";this.R0.appendChild(this.bJ);var n=P.z("span","fitem");this.bJ.appendChild(n);
this.$l=[new bG([0,3]),new bG([12,73]),new bG([12,91,0])];for(var R=0;R<this.$l.length;R++){var q=this.$l[R];
q.R("click",this.aiW,this);n.appendChild(q.g)}this.bJ.appendChild(P.z("hr"));this.Ar=new ht.As;this.Ar.parent=this;
this.Bl=new ht.Lx;this.Bl.parent=this;this.wg=new ht.XG;this.wg.parent=this;this.aaA=[this.Ar,this.Bl,this.wg];
this.bJ.appendChild(this.Ar.g)};ht.prototype.aiW=function(n){var R=this.$l.indexOf(n.currentTarget);
this.cG(R);this.al_(R==1?this.Bl.Qg:-1)};ht.prototype.cG=function(n){for(var R=0;R<3;R++){this.$l[R].zw();
var q=this.aaA[R].g;if(q.parentNode==this.bJ&&R!=n)this.bJ.removeChild(q);if(q.parentNode!=this.bJ&&R==n)this.bJ.appendChild(q)}this.$l[n].P9()};
ht.prototype.al_=function(n){var q=this.zb.p[0],p=this.zb.h[q],E=n+1;if(n==1&&p._i)return;var T=new ea(P.E.u,!0);
T.i=A.iq;if(n!=1&&p._i){T.data={e:g.ZR,Y:q,wM:2};this.K(T)}T.data={e:g.ZR,Y:q,wM:E};this.K(T)};ht.prototype.N=function(){ap.prototype.N.call(this);
if(this.bJ==null)return;this.o5(this.zb);for(var R=0;R<3;R++){this.$l[R].N();this.aaA[R].N()}};ht.prototype.f2=function(){if(!P.pM(this.R0))return;
if(this.bJ==null){this.rX();this.ts(this.BW,cF.Bo);this.o5(this.ajW);this.N()}};ht.prototype.o5=function(n){this.ajW=n;
if(this.bJ==null)return;this.Ar.o5(n);this.Bl.o5(n);this.wg.o5(n);if(n==null||n.p.length==0||n.h[n.p[0]]==null){P.oI(this.R0,"disabled");
this.zb=null;return}else P.kO(this.R0,"disabled");var q=n.p[0],p=n.h[q],E=n.Jy(),T=E[0],i=E[1];if(i.length!=0){var H=T[i[0]],Z=H.add.vogk,w=!1;
if(Z)for(var R=0;R<Z.length;R++){var d=Z[R].v,O=d.keyShapeInvalidated;if(O&&O.v||d.keyOriginType==null)continue;
w=!0;q=H.ap}}if(n!=this.zb||this.ake!=q){this.zb=n;this.ake=q;if(w)this.cG(2);else if(p.TL<1&&!p._i)this.cG(0);
else this.cG(1)}this.$l[1].aR(this.Bl.Qg!=-1);this.$l[2].aR(w)};ht.prototype.ts=function(n,q){this.BW=n;
if(this.Ar)this.Ar.ts(n,q);if(this.wg)this.wg.ts(n,q)};ht.As=function(){g9.call(this);this.g=P.z("div","form");
this.acv=new jh("Hello");this.WH=new bG("Reset",null,null,!0);this.WH.g.style.abt="right";this.WH.R("click",this.dV,this);
this.g.appendChild(this.acv.g);this.g.appendChild(this.WH.g);this.Aa=null;this.DA=null;this.zb=null;
this.BW=null;this.asA=-1;this.aom=null;this.Uq=new ja(!0);this.Uq.parent=this;this.Uq.R(P.E.b,this.agl,this);
this.Cz=P.z("div","marged hiline");this.Cz.appendChild(this.Uq.g);this.kE=new ie("GrFl",!0);this.kE.parent=this;
this.kE.R(P.E.b,this.anD,this);this.Mu=P.z("div","marged hiline");var n="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var R=0;R<n.length;R++){var q=this.kE.lZ[n[R]].g;this.Mu.appendChild(q)}this.Ts=new ie("patternFill",!0);
this.Ts.parent=this;this.Ts.R(P.E.b,this.a4J,this);this.yK=P.z("div","marged hiline");var n=["Ptrn","Scl","Algn","phase"];
for(var R=0;R<n.length;R++){var q=this.Ts.lZ[n[R]].g;this.yK.appendChild(q)}this.bh={};for(var p in iJ.names){if(r[p]==null)continue;
this.bh[p]=new r[p];this.bh[p].R(P.E.b,this.a18,this);this.bh[p].parent=this}var E=this.acU=P.z("div","marged hiline");
this.N8=new hn(0,!0);E.appendChild(this.N8.g);this.N8.R(P.E.b,this.cJ,this);this.wX=new gJ([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);
this.wX.R(P.E.b,this.cJ,this);E.appendChild(this.wX.g);this.lc=new ja(!1);this.lc.parent=this;this.lc.R(P.E.b,this.cJ,this);
E.appendChild(this.lc.g)};ht.As.prototype=new g9;ht.As.prototype.dV=function(n){var q=this.zb,p=q.h[q.p[0]],E=iJ.get(p.add);
this.DA.j(fU.yQ(E));this.a18()};ht.As.prototype.N=function(){for(var n in this.bh)this.bh[n].N();this.kE.N();
this.Ts.N();this.wX.N();this.N8.N()};ht.As.prototype.cJ=function(n){var q=this.N8.I(),p=g.$U(new eL(q[2],q[3],q[0],q[1])),E=this.wX.I(),T={classID:"artboard",artboardRect:{t:"Objc",v:p},Clr:{t:"Objc",v:this.lc.I()},artboardBackgroundType:{t:"long",v:E+1}},i=new ea(P.E.u,!0);
i.i=A.iq;i.data={e:g.b4,qT:T};this.K(i)};ht.As.prototype.agl=function(n){var q=this.zb,p=q.p[0];if(q.h[p].add.SoCo==null)return;
var E=JSON.parse(JSON.stringify(q.h[p].add.SoCo));E.Clr.v=this.Uq.I();this.f6({a5:1,IH:E})};ht.As.prototype.anD=function(n){var q=this.zb,p=q.p[0];
if(q.h[p].add.GdFl==null)return;this.f6({a5:2,IH:this.kE.I()})};ht.As.prototype.a4J=function(n){this.f6({a5:3,IH:this.Ts.I()})};
ht.As.prototype.f6=function(n){this.a5n(A.iq,{e:g.QM,N$:[this.zb.p[0]],B7:!0,k:n})};ht.As.prototype.a18=function(n){this.a5n(A.C7,{e:"edit_layer",k:this.DA.I()})};
ht.As.prototype.a5n=function(n,q){var p=new ea(P.E.u,!0);p.i=n;p.data=q;this.K(p)};ht.As.prototype.o5=function(n,q){var p=fE.get([0,3]),E=!1,T=null;
this.zb=n;if(n&&n.h.length>0&&n.p.length!=0&&n.h[n.p[0]]){var i=n.h[n.p[0]],H=iJ.get(i.add);if(H!=null&&this.bh[H]!=null){T=this.bh[H].g;
this.DA=this.bh[H];this.bh[H].j(JSON.parse(JSON.stringify(i.add[H])));if(n.p[0]!=this.asA){var Z=n.Zk(n.p[0]-1);
this.aom=j.Lj(Z)}this.bh[H].Kr(this.aom);p=fE.get(iJ.names[H]);E=!0}if(i.add.SoCo){T=this.Cz;this.Uq.j(i.add.SoCo.Clr.v);
p=fE.get([6,48,0,0])}if(i.add.GdFl){T=this.Mu;this.kE.update(n,i.add.GdFl);p=fE.get([6,48,0,1])}if(i.add.PtFl){T=this.yK;
this.Ts.update(n,i.add.PtFl);p=fE.get([6,48,0,2])}if(i.add.artb){var w=i.add.artb,d=i.Kl();T=this.acU;
this.wX.j(w.artboardBackgroundType.v-1);if(w.Clr)this.lc.j(w.Clr.v);this.N8.j([d.v,d.o,d.x,d.y],[n.xm,n.v,this.BW.yM.XN]);
p="Artboard"}this.asA=n.p[0]}if(T!=this.Aa){if(this.Aa)this.g.removeChild(this.Aa);if(T!=null)this.g.appendChild(T);
this.Aa=T}this.acv.j(p);this.WH.g.style.display=E?"":"none"};ht.As.prototype.ts=function(n,q){this.BW=n;
this.kE.ts(n,q);this.Ts.ts(n,q);if(q==cF.tw)this.o5(this.zb,n);for(var p in this.bh)this.bh[p].ts(n,q)};
ht.Lx=function(){g9.call(this);this.g=P.z("div","form");this.zb=null;this.Qg=0;var n=P.z("span","fitem");
this.g.appendChild(n);this.$l=[new bG([6,2]),new bG([6,3]),new bG([6,50])];for(var R=0;R<this.$l.length;
R++){var q=this.$l[R];q.R("click",this.amx,this);n.appendChild(q.g)}this.$N=new ej([12,74],0,255);this.$N.R(P.E.b,this.RQ,this);
this.g.appendChild(this.$N.g);this.mq=new ej([7,6],0,500,"px",2,!0);this.mq.R(P.E.b,this.RQ,this);this.g.appendChild(this.mq.g);
this.tg=new bG([4,11],null,null,!0);this.tg.R("click",this.a76,this)};ht.Lx.prototype=new g9;ht.Lx.prototype.a76=function(){var n=new ea(P.E.u,!0);
n.i=A.C7;n.data={e:"start",WX:"nvrt"};this.K(n)};ht.Lx.prototype.RQ=function(n){var q=this.$N.I(),p=this.mq.I(),E=new ea(P.E.u,!0);
E.i=A.iq;E.data={e:g.Ql,jl:this.zb.p[0],km:{TA:this.Qg,$N:q,mq:p}};this.K(E)};ht.Lx.prototype.N=function(){for(var R=0;
R<this.$l.length;R++)this.$l[R].N();this.$N.N();this.mq.N();this.tg.N()};ht.Lx.prototype.o5=function(n){this.zb=n;
this.$z()};ht.Lx.prototype.amx=function(n){this.$z(this.$l.indexOf(n.currentTarget));this.parent.al_(this.Qg)};
ht.Lx.prototype.$z=function(n){var q=this.zb,p=this.$l;for(var R=0;R<3;R++){var E=p[R];E.zw();E.OW()}if(q==null||q.h.length==0||q.p.length==0||q.h[q.p[0]]==null)return;
var T=-1,i=q.h[q.p[0]];if(i.Sr()&&i.vr(q).w!=null){p[2].hy();T=2}if(i.add.vmsk){p[1].hy();T=1}if(i.u1()){p[0].hy();
T=0}if(n!=null)T=n;else if(i._i)T=1;else if(i.TL==3)T=2;else if(i.TL==1)T=0;this.Qg=T;if(T==-1){this.$N.OW();
this.mq.OW();return}var H=i.dU(T);this.$N.hy();this.mq.hy();this.$N.j(H.$N);this.mq.j(H.mq);p[T].P9();
var Z=this.tg.g;if(T==0)this.g.appendChild(Z);else if(Z.parentNode==this.g)this.g.removeChild(Z)};ht.XG=function(){g9.call(this);
this.g=P.z("div","form");this._f=null;this.BW=null;this.rn=new hn(0,!1);this.rn.R(P.E.b,this.a5T,this);
this.ai=new hn(1,!0);this.ai.R(P.E.b,this.a5T,this)};ht.XG.prototype=new g9;ht.XG.prototype.N=function(){this.rn.N();
this.ai.N()};ht.XG.prototype.a5T=function(n){var q=[null,null,null,null],p=[null,null,null,null],E=n.target.I();
if(n.target==this.rn){q[0]=E[2];q[1]=E[3];q[2]=q[0]+E[0];q[3]=q[1]+E[1]}else{p=E;var T=p[3];p[3]=p[2];
p[2]=T}var i=new ea(P.E.u,!0);i.i=A.iq;i.data={e:g.te,C8:q,aac:p};this.K(i)};ht.XG.prototype.o5=function(n){this._f=n;
if(n==null)return;var q=this.BW,p=j.k4.EY(n),E=p[0],T=p[1],i=this.rn.g,H=this.ai.g,Z=i.parentNode!=null,w=H.parentNode!=null,d=[n.xm,n.v,q.yM.XN];
if(E){if(!Z)this.g.appendChild(i);this.rn.j([E[2]-E[0],E[3]-E[1],E[0],E[1]],d)}else if(Z)this.g.removeChild(i);
if(T){if(!w)this.g.appendChild(H);var O=T[2];T[2]=T[3];T[3]=O;this.ai.j(T,d)}else if(w)this.g.removeChild(H)};
ht.XG.prototype.ts=function(n,q){this.BW=n;this.o5(this._f)};function e0(n){ap.call(this,n.name,!0);
this.eL=n;this.eP=null;this.p7=document.createElement("canvas");this.N1=this.p7.getContext("2d");this.rd=document.createElement("canvas");
this.fM=this.rd.getContext("2d");var q=16,p=j.U(16*16*4);j.nh(p,q,q,8);this.qR=j.scale.qb(p,q,q);this.$M=new gm(this.R0);
this.$M.parent=this;this.WD=0;this.ab7="";this.B6=4}e0.prototype=new ap;e0.prototype.a2Y=function(){if(this.eL.ci())return window.confirm(fE.get([22,6,3])+" "+this.eL.name+". "+fE.get([22,6,4]));
return!0};e0.prototype.ts=function(n,q){this.eP=n};e0.prototype.o5=function(n){this.f2();this.EA()};
e0.prototype.rb=function(n,q){if(n<=0||q<=0)return;this.XF=n;this.rZ=q;var p=this.eL,E=P.D();p.c.fM.v=Math.floor(n*E);
p.c.fM.o=Math.floor(q*E);P.jy(this.rd,n,q);P.jy(this.p7,n,q);P.jy(K.vl(),n,q);if(p.c.n==0)p.c.n=A.Cn.D4(p.v,p.o,n*E,q*E);
this.EA()};e0.prototype.f2=function(){var n=this.R0.firstChild;if(!K.pb&&n==K.vl()||K.pb&&n==this.rd)this.R0.removeChild(n);
var q=K.pb?K.vl():this.rd;if(!P.pM(q))this.R0.appendChild(q)};e0.prototype.EA=function(){if(K.pb!=this.B6){this.WD=0;
this.ab7=""}this.B6=K.pb;if(this.eP==null)return;if(K.pb)this.ai7();else this.Xi();var n=this.eL;this.WD=n.c.n;
this.ab7=JSON.stringify(n.c.mc)};e0.prototype.ai7=function(){if(K.pb&&e0.a0Z==null)e0.a0Z=new e0.ak(!1);
if(K.pb&&e0.a0n==null)e0.a0n=[new e0.ak(!0,2),new e0.ak(!0,8),new e0.ak(!0,32),new e0.ak(!0,128)];var n=this.eL,d,C=0;
if(n.Ec==null)return;var q=n.c,p=q.fM.v,E=q.fM.o,T=K.Jm;this.fM.clearRect(0,0,p,E);var i=this.ah7(n);
if(q.sa==null)q.sa=new K.U$(p,E);if(i)q.sa.set(this.rd);else{K.zJ(q.sa);K.OJ(1)}var H=q.eh(0,0),Z=new b$;
Z.scale(p,E);Z.concat(q.w5(!0));Z.scale(1/n.v,1/n.o);var w=[Z.jS,Z.X,0,Z.kr,Z.FF,0,Z.R_,Z.so,1];if(e0.a5B==null)e0.a5B=new Float32Array(4*1024);
var O=[0,0,0,0],W=e0.a5B;if(n.add.artd){W.fill(0);O=e0.Pe(n);var a=n.v,B=n.o,U=0;for(var R=0;R<n.h.length;
R++){var $=n.h[R],I=$.add.artb;if(I==null||!$.Fp())continue;var x=$.Kl();W[C]=x.x/a;W[C+1]=x.y/B;W[C+2]=x.v/a;
W[C+3]=x.o/B;C+=4;if(C==W.length)break}if(C>2*4)U++;if(C>8*4)U++;if(C>32*4)U++;d=e0.a0n[U];W=new Float32Array(W.buffer,0,[2,8,32,128][U]*4)}else d=e0.a0Z;
K.G$(p,E);K.OJ(0);K.G$(p,E);d.nv();d.eX(q.sa.Mw,n.Ec.Mw,new Float32Array(w),new Float32Array([p/8,E/8,H.x/p,H.y/E]),n.v,n.o,1/n.c.n,p,E,new Float32Array(O),W,new Float32Array(j.JV.O5(j.JV.Si(q.mc))));
T.drawArrays(T.TRIANGLES,0,6)};e0.Pe=function(n){return[0,0,0,0]};e0.a97=function(n){var q=j.f.aV(n.v),p=[q._/255,q.q/255,q.X/255,1];
for(var R=0;R<4;R++)p[R]=Math.min(1,p[R]);return p};e0.xX=function(n,q){var p=n[2]*255;if(K.pb)p=q?0:Math.max(1,p);
return"rgba("+n[0]*255+","+n[1]*255+","+p+","+n[3]+")"};e0.EX=function(n){if(K.pb)for(var R=0;R<n.length;
R+=4){if(n[R+2]==0)n[R+2]=3}};e0.prototype.Xi=function(){var n=this.eL;if(n.buffer==null)return;var q=n.c,p=q.fM,E=p.v,T=p.o,i=new eL(0,0,n.v,n.o);
this.N1.clearRect(0,0,E,T);this.fM.clearRect(0,0,E,T);var H=q.w5(!0),Z=H.clone();Z.z3();if(n.add.artd==null){this.fM.save();
var w=Z.i1(new fc(0,0));Z.translate(-w.x,-w.y);this.fM.translate(Math.round(w.x),Math.round(w.y));this.fM.fillStyle=this.qR;
this.nr(j.O.aS(i),Z,this.fM);this.fM.fill();this.fM.restore()}else{this.fM.fillStyle=e0.xX(e0.Pe(n));
this.fM.fillRect(0,0,E,T);this.fM.save();this.fM.setTransform(Z.jS,Z.X,Z.kr,Z.FF,Z.R_,Z.so);var d=n.root.children;
for(var R=0;R<d.length;R++){var O=d[R].Y;if(O.add.artb==null||!O.Fp())continue;var W=O.Kl(),C=O.AU();
if(C!=0)continue;this.fM.fillStyle="white";this.fM.fillRect(W.x,W.y,W.v,W.o)}this.fM.restore()}if(q.zf.length!=p.P()){q.zf=j.U(p.P());
q.g7=j.U(p.P()*4)}q.g7.fill(0);j.scale.PX(n.buffer,i,H,q.g7,p);if(q.mc[0]+q.mc[1]+q.mc[2]!=3)j.JV._K(q.g7,q.g7,j.JV.Si(q.mc));
this.N1.putImageData(new ImageData(new Uint8ClampedArray(q.g7.buffer),p.v,p.o),0,0);this.fM.drawImage(this.p7,0,0);
this.fM.getImageData(0,0,1,1);this.ah7(n)};e0.prototype.ah7=function(n){var q=n.c,p=q.mc[0]+q.mc[1]+q.mc[2],E=!1,T=[];
for(var R=0;R<n.p.length;R++){var i=n.h[n.p[R]];if(i==null)continue;var H=i.TL;if(H!=1&&H!=3)continue;
var Z=H==1?i.u1():i.vr(n).w;if(Z.Fk)T.push(Z)}for(var R=0;R<n.v4.length;R++)if(n.v4[R].Fk)T.push(n.v4[R]);
for(var R=0;R<T.length;R++){var Z=T[R];this.abO(Z,q,T.length==1&&p==0?2:1,Z.color,Z.Q9);E=!0}var w=this.eP;
E=this.a2F(n,this.fM,q)||E;if(n.$&&w.Ui&&w.yM.rV){this.abO(n.$,q,0,0,null);E=!0}return E};e0.prototype.abO=function(n,q,p,E,T){var i=0,C,a;
if(T)i=Math.round(T.X)<<16|Math.round(T.q)<<8|Math.round(T._);var H=q.w5(!0),Z=q.fM,w=new eL(0,0,q.eL.v,q.eL.o);
if(q.zf.length!=Z.P()){q.zf=j.U(Z.P());q.g7=j.U(Z.P()*4)}q.zf.fill(E);q.g7.fill(0);var d=n.channel,O=n.rect;
j.scale.B(d,O,H,q.zf,Z);if(p==0)j.$.aiO(q.zf,q.g7,Z,Z);else j.$.aoq(q.zf,q.g7,Z,Z,p,i);e0.EX(q.g7);var W=new ImageData(new Uint8ClampedArray(q.g7.buffer),Z.v,Z.o);
this.N1.putImageData(W,0,0);this.fM.save();if(p==0){C=Z.clone();C.ZU(-1,-1);a=new b$}else{C=new eL(0,0,w.v,w.o);
a=H.clone();a.z3()}this.nr(j.O.aS(C),a,this.fM);this.fM.clip();this.fM.drawImage(this.p7,0,0);this.fM.restore()};
e0.prototype.a2F=function(n,q,p){var E=n.H.TQ!=null||n.H.f4!=null||n.H.j_!=null||n.H.G1.length!=0||n.H.eW.length!=0,T=this.eP,i=T.yM,H=h0.Zu[T.Au],Z=Math.round(12*P.D()),w=Z/n.c.n,d=p.w5(!0);
d.z3();q.save();q.setTransform(d.jS,d.X,d.kr,d.FF,d.R_,d.so);if(n.add.artd){var O=e0.Pe(n)[0];O=O<.5?O+.5:O-.5;
O=""+Math.round(O*255).toString(16);while(O.length<2)O="0"+O;q.fillStyle="#"+O+O+O;q.font=w+"px sans-serif";
for(var R=0;R<n.h.length;R++){var W=n.h[R];if(W.add.artb==null||!W.Fp())continue;var C=W.Kl();q.fillText(W.getName(),C.x,C.y-6/p.n);
E=!0}}function a(jf){return jf==1||jf==2||jf==4||jf==5}var B=e0.xX([.1,.5,1,1]),$=e0.xX([1,1,1,1]);if(T.Ui&&i.kA){q.fillStyle=q.strokeStyle=B;
q.lineWidth=1.5/p.n;var I=n.Jy(),x=I[0],U=I[1];for(var N=0;N<U.length;N++){var W=x[U[N]],m=W.add.vmsk,f=m.Q,c=j.O.kp(f);
this.nr(c,null,q);q.stroke();E=!0;var D=3*P.D()/p.n,z=f.length-3;for(var R=0;R<m.yF.length;R++){var _=j.G.l_(f,m.yF[R]);
if(_==null)continue;var v=_.x,o=_.y;q.beginPath();var y=R==0;if(m.eJ)y=!y;if(y){q.moveTo(v-D,o-D);q.lineTo(v+D,o+D);
q.moveTo(v-D,o+D);q.lineTo(v+D,o-D);q.stroke()}else{q.arc(v,o,D*1,0,2*Math.PI);q.fill()}E=!0}if(n.p.length!=1)continue;
var k=-1;for(var R=0;R<f.length;R++){if(f[R].type>5)continue;if(f[R].type==0||f[R].type==3){if(f[R].HW!=-1)k++;
continue}if(m.p.indexOf(k)!=-1){var v=f[R].L.x,o=f[R].L.y;q.fillRect(v-D*.8,o-D*.8,2*D*.8,2*D*.8)}if(m.Eg.indexOf(R)!=-1){var S=f[R],L=[S.L];
q.beginPath();q.moveTo(S.m5.x,S.m5.y);q.lineTo(S.L.x,S.L.y);q.lineTo(S.OR.x,S.OR.y);var X=f[R-1],s=f[R+1];
if(X&&a(X.type)&&m.Eg.indexOf(R-1)==-1){q.moveTo(X.L.x,X.L.y);q.lineTo(X.OR.x,X.OR.y);L.push(X.OR)}if(s&&a(s.type)&&m.Eg.indexOf(R+1)==-1){q.moveTo(s.L.x,s.L.y);
q.lineTo(s.m5.x,s.m5.y);L.push(s.m5)}q.stroke();if(!S.L.rv(S.m5))L.push(S.m5);if(!S.L.rv(S.OR))L.push(S.OR);
for(var M=0;M<L.length;M++){var _=L[M],v=_.x,o=_.y;if(M==0&&(S.type==2||S.type==5))q.fillRect(v-1.2*D,o-1.2*D,2.4*D,2.4*D);
else{q.beginPath();q.arc(v,o,D*1.2,0,2*Math.PI);q.fill();if(M!=0)q.fillStyle=$;q.beginPath();q.arc(v,o,D*.8,0,2*Math.PI);
q.fill();q.fillStyle=B}}}E=!0}}}q.lineWidth=1/p.n;if(n.H.q7){q.fillStyle=q.strokeStyle=B;var s={W:[],F:[]},V=e0.ahl;
if(V==null){V=e0.ahl={W:[1,0],F:["M"]};for(var R=1;R<30;R++){var l=Math.PI*2*R/30;V.W.push(Math.cos(l),Math.sin(l));
V.F.push("L")}V.F.push("Z","M","L","M","L");V.W.push(-.5,0,.5,0,0,-.5,0,.5)}for(var R=0;R<n.H.q7.length;
R++){var X=A.zu.uk(n.H.q7[R],p),e=new b$(X[0],0,0,X[0],X[1],X[2]);j.O.concat(s,V,e)}this.nr(s,null,q);
q.stroke();E=!0}q.fillStyle=q.strokeStyle=e0.xX([0,0,0,1],!0);var Y=new b$(1,0,0,1,.5/p.n,.5/p.n);if(n.H.TQ){this.nr(n.H.TQ,null,q);
q.fill()}if(n.H.f4){this.nr(n.H.f4,Y,q);q.stroke()}for(var J in n.H.mX)if(n.H.mX[J].f4){this.nr(n.H.mX[J].f4,null,q);
q.stroke();E=!0}q.beginPath();var D=(4*P.D()+.5)/p.n,F=n.H.$O;for(var R=0;R<F.length;R+=2){E=!0;var v=F[R],o=F[R+1];
q.rect(v-D,o-D,2*D,2*D)}q.stroke();var F=n.H.a9X;q.beginPath();var D=4*P.D()/p.n;for(var R=0;R<F.length;
R+=2){E=!0;var v=F[R],o=F[R+1];q.moveTo(v+D,o);q.arc(v,o,D,0,2*Math.PI)}q.fill();var F=n.H.Rr;q.fillStyle=e0.xX([1,1,1,1]);
q.beginPath();var D=6*P.D()/p.n;for(var R=0;R<F.length;R+=2){E=!0;var v=F[R],o=F[R+1];q.moveTo(v+D,o);
q.arc(v,o,D,0,2*Math.PI)}q.fill();var D=4*P.D()/p.n;for(var R=0;R<F.length;R+=2){E=!0;var v=F[R],o=F[R+1];
q.fillStyle=e0.xX(n.H.n8.indexOf(R>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);q.beginPath();q.moveTo(v+D,o);q.arc(v,o,D,0,2*Math.PI);
q.fill()}if(n.H.G1.length!=0){for(var R=0;R<n.H.G1.length;R++){var b=n.H.G1[R],h=b[1];q.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),h.v,h.o),h.x,h.y)}}var bj=.5/p.n;
q.lineWidth=1/p.n;if(n.H.ur){E=!0;var i4=n.H.ur,t=i4.lm,c={F:[],W:[]};for(var R=0;R<i4._k.length;R++)j.O.concat(c,j.O.aS(i4._k[R]));
c.W=c.W.concat(t);for(var R=0;R<t.length;R+=4){c.F.push("M","L")}for(var R=0;R<c.W.length;R++){c.W[R]+=bj}q.strokeStyle=e0.xX([.9,.2,.2,1]);
this.nr(c,null,q);q.stroke();var aG=P.D(),Q=2/p.n;q.font=w*.9+"px sans-serif";for(var R=0;R<t.length;
R+=4){var v=t[R],o=t[R+1],jd=t[R+2],bP=t[R+3],gz=Math.sqrt((bP-o)*(bP-o)+(jd-v)*(jd-v));gz=j.L6.Kc(gz,n.xm,T,o==bP?n.v:n.o);
var fZ=new fc((v+jd)/2,(o+bP)/2);q.fillStyle=e0.xX([.9,.2,.2,1]);var dt=q.measureText(gz).width;q.fillRect(fZ.x-dt/2-Q*aG,fZ.y-3.5*Q*aG,dt+2*Q*aG,7*Q*aG);
q.fillStyle=e0.xX([1,1,1,1]);q.save();q.translate(fZ.x-dt/2,fZ.y+2*Q*aG);q.scale(.1,.1);q.font=w*9+"px sans-serif";
q.fillText(gz,0,0);q.restore()}}if(T.Ui){if(i.x5){var a9=j.L6.xU(i.rH,n.xm,n.v,i.VC),bi=a9;if(i.VC==4)bi*=n.o/n.v;
this.nh(n,q,a9,bi,1,i.g1);E=!0}if(i.Zw&&n.c.n>7){this.nh(n,q,1,1,.5,i.g1);E=!0}if(i.lA){var az=n.fN(),hd=n.Cq(),aB=Math.max(n.c.fM.v,n.c.fM.o)/n.c.n;
aB=Math.max(Math.max(n.v,n.o)*2,aB);q.beginPath();q.strokeStyle=e0.xX([0,1,1,1]);for(var R=0;R<az[0].length;
R++){var cv=az[0][R],c$=az[1][R];if(c$!=-1&&c$!=hd)continue;if(cv[0]==0){var cT=Math.round(cv[1])+bj;
q.moveTo(cT,-aB);q.lineTo(cT,aB)}else{var fp=Math.round(cv[1])+bj;q.moveTo(-aB,fp);q.lineTo(aB,fp)}E=!0}q.stroke()}var cD=n.D0;
if(i.D0&&cD.length!=0){q.font=w*.8+"px sans-serif";var f_=[],f9=[];for(var R=0;R<cD.length;R++){var dO=A.QI.Ud(cD,R);
f_.push(dO);if(n.yg.indexOf(R)!=-1)f9.push(dO)}f_.reverse();var a6=Date.now();f_=j.rect.sK([0,0,n.v,n.o],f_);
for(var M=0;M<2;M++)for(var R=0;R<f_.length;R++){var hb=f_[R],k=hb[4],jr=k!=null?cD[k]:null;if(jr&&M==0||jr==null&&M==1)continue;
var v=Math.round(hb[0]),o=Math.round(hb[1]),jd=Math.round(hb[2]),bP=Math.round(hb[3]);q.strokeStyle=q.fillStyle=e0.xX(jr?[0,.7,.7,1]:[.8,.8,.8,1]);
q.strokeRect(v+bj,o+bj,jd-v,bP-o);var dh=R+1,jq=q.measureText(dh),dt=jq.width;q.fillRect(v,o,dt+w/2,w);
q.fillStyle=e0.xX([1,1,1,1]);q.fillText(dh,v+w/4,o+w*.8)}var Q=2/n.c.n,g3=2*Q;for(var R=0;R<f9.length;
R++){var hb=f9[R],v=Math.round(hb[0]),o=Math.round(hb[1]),jd=Math.round(hb[2]),bP=Math.round(hb[3]);
q.strokeStyle=q.fillStyle=e0.xX([0,.7,.7,1]);q.strokeRect(v+bj,o+bj,jd-v,bP-o);var c6=[v,o,jd,o,jd,bP,v,bP];
for(var cd=0;cd<c6.length;cd+=2){var cT=c6[cd],fp=c6[cd+1],jn=c6[cd+2&7],cV=c6[cd+3&7];q.fillRect(cT-Q,fp-Q,g3,g3);
q.fillRect(Math.round((cT+jn)/2)-Q,Math.round((fp+cV)/2)-Q,g3,g3)}}E=!0}}q.strokeStyle=e0.xX([1,0,0,1]);
if(n.H.j_){this.nr(n.H.j_,Y,q);q.stroke()}q.restore();if(T.ng){if(n.c.u9==null||n.c.u9.width!=n.c.fM.v||n.c.pQ.height!=n.c.fM.o){n.c.u9=q.createImageData(n.c.fM.v,j.L6.Aq);
n.c.pQ=q.createImageData(j.L6.Aq,n.c.fM.o)}var H=h0.Zu[T.Au],fM=0,bE=0,gU=n.v,g6=n.o;if(n.Cq()!=-1){var C=n.h[n.Cq()].Kl();
fM=C.x;bE=C.y;gU=C.v;g6=C.o}fM*=p.n;bE*=p.n;var p=n.c,cu=[1,n.xm,n.xm/2.54,n.xm/25.4,gU/100][i.XN],f5=p.n*n.v/2,iP=p.n*n.o/2,id=[p.n*cu,new fc(p.t.x+(fM+f5*cu-f5),p.t.y+(bE+iP*cu-iP))];
if(i.XN==4)cu*=g6/gU;var aY=[p.n*cu,new fc(p.t.x+(fM+f5*cu-f5),p.t.y+(bE+iP*cu-iP))],fT=this.$M.SF;j.L6.ajz(p,H["--text-color"],H["--bg-input"],Math.floor(fT.x),Math.floor(fT.y),id,aY);
var h8=eB.a3q(p.n,e0.xX([1,1,1,1]));e0.EX(n.c.pQ.data);e0.EX(n.c.u9.data);q.putImageData(n.c.pQ,0,0);
q.putImageData(n.c.u9,0,0);q.putImageData(h8,0,n.c.fM.o-h8.height)}if(n.H.eW.length!=0){for(var R=0;
R<n.H.eW.length;R++){var b=n.H.eW[R],h=b[1];q.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),h.v,h.o),h.x,h.y)}}return E||T.ng};
e0.prototype.nh=function(n,q,p,E,T,i){while(p*n.c.n<4){p*=2;E*=2}var H=n.v,Z=n.o,w=.5/n.c.n;q.strokeStyle=e0.xX([.5,.5,.5,T],!0);
q.save();q.rect(0,0,H,Z);q.clip();q.beginPath();for(var d=0;d<=H;d+=p){q.moveTo(d+w,0);q.lineTo(d+w,Z)}if(i==0){for(var O=0;
O<=Z;O+=E){q.moveTo(0,O+w);q.lineTo(H,O+w)}}else{E*=Math.sqrt(4/3);var W=E*Math.floor(H/E),C=H*(E/(2*p));
for(var O=-W;O<=Z+W;O+=E){q.moveTo(0,O);q.lineTo(H,O-C);q.moveTo(0,O);q.lineTo(H,O+C)}}q.stroke();q.restore()};
e0.prototype.nr=function(n,q,p){p.beginPath();var E=j.O.clone(n);if(q)j.O.B(E.W,q,E.W);Typr.U.pathToContext({cmds:E.F,crds:E.W},p)};
e0.ak=function(n,q){K.uW.call(this);this.a3Y=n;var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(n?"uniform vec4 bgClr;  uniform vec4 ars["+q+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+K.hz.OA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(n?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+q+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(1.0,1.0,1.0,1.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",E="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.xI(p,E)};e0.ak.prototype=new K.uW;e0.ak.prototype.eX=function(n,q,p,E,T,i,H,Z,w,d,O,W){this.KW("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var C=K.Jm,a=this.px;C.uniformMatrix3fv(a.tmat,!1,p);C.uniform4fv(a.gsize,E);C.uniform3f(a.contSizeZoom,T,i,H);
C.uniform2f(a.cnvSize,Z,w);C.uniformMatrix4fv(a.ctrn,!1,W);if(this.a3Y){C.uniform4fv(a.ars,O);C.uniform4fv(a.bgClr,d)}C.uniform1i(a.source,0);
C.uniform1i(a.target,1);C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,n);C.activeTexture(C.TEXTURE1);
C.bindTexture(C.TEXTURE_2D,q);C.activeTexture(C.TEXTURE0)};function hG(){ap.call(this,[9,7],!1,null,ap.ys.acn);
this.R0.setAttribute("style","min-width:240px;");this.zb=null;this.gZ=-1;this.an4=[];this.UJ=P.z("div","scrollable");
this.UJ.style.height="160px";this.R0.appendChild(this.UJ);this._s=P.z("div","lpfoot");this.R0.appendChild(this._s);
this.Tn=[];var n=["reload","lrs/newlayer","lrs/bin"],q=[[5,10],[5,3],[5,4]];for(var R=0;R<n.length;R++){var p=new bG("<img src=\""+PIMG[n[R]]+"\" class=\"gsicon\" />",!1,q[R]);
p.R("click",this.a6V,this);this._s.appendChild(p.g);this.Tn.push(p)}}hG.prototype=new ap("");hG.prototype.m7=function(n){var q=new ea(P.E.u,!0);
q.data=n;q.i=A._h;this.K(q)};hG.prototype.a6V=function(n){var R=this.Tn.indexOf(n.currentTarget);if(R!=1)if(this.gZ==-1)return;
this.m7({e:["updLC","addLC","delLC"][R],ap:this.gZ});if(R==2)this.gZ=-1};hG.prototype.N=function(){ap.prototype.N.call(this);
for(var R=0;R<this.Tn.length;R++)this.Tn[R].N()};hG.prototype.o5=function(n){if(n==null)P.oI(this.R0,"disabled");
else P.kO(this.R0,"disabled");this.zb=n;P.Ls(this.UJ);if(n==null)return;var q=n.ev.lastAppliedComp?n.ev.lastAppliedComp.v:0,p=n.ev.list.v.slice(0);
p.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var R=0;R<p.length;
R++){var E=p[R].v,T=new iG(E.Nm.v,E.compID.v,E.capturedInfo.v,q,this.gZ);T.R("activate",this.GN,this);
T.parent=this;this.UJ.appendChild(T.g);this.an4.push(T)}};hG.prototype.GN=function(n){this.gZ=n.currentTarget.ap;
this.o5(this.zb)};function iG(n,R,q,p,E){g9.call(this);this.ap=R;this.g=P.z("div","head listitem"+(R==E?" selected":""));
var T=R==p,i=new bG(T?"\u2713":"\u2014");if(T)i.P9();this.g.appendChild(i.g);i.R("click",this.u_,this);
var H=this._8=P.z("span");H.textContent=n;this.g.appendChild(H);this.Tn=[];if(R!=0){this.g.addEventListener("mouseup",this.GN.bind(this),!1);
this.a4l=P.z("span","headR");this.g.appendChild(this.a4l);var Z=["lrs/eye","pos","lrs/fx"],w=["Visibility","Position","Appearance"];
for(var d=0;d<Z.length;d++){var O=new bG("<img src=\""+PIMG[Z[d]]+"\" class=\"autoscale gsicon\" />",!1,w[d]);
if((q>>d&1)==0)O.g.setAttribute("style","opacity:0.3");O.R("click",this.ajY,this);this.a4l.appendChild(O.g);
this.Tn.push(O)}}}iG.prototype=new g9;iG.prototype.GN=function(n){if(n.target!=this._8&&n.target!=this.g)return;
if(n.detail==1)this.K(new ea("activate",!1));else{var q=new ap.xL(this._8,this.s2.bind(this))}};iG.prototype.ajY=function(n){var R=this.Tn.indexOf(n.currentTarget);
this.m7({e:"editLC",aiF:R,ap:this.ap})};iG.prototype.s2=function(n){this.m7({e:"editLC",E7:n,ap:this.ap})};
iG.prototype.u_=function(n){this.m7({e:"setLC",ap:this.ap})};iG.prototype.m7=function(n){var q=new ea(P.E.u,!0);
q.data=n;q.i=A._h;this.K(q)};function gC(){ap.call(this,[9,11],!1,null,ap.ys.a9r);var n=P.z("div","padded");
n.setAttribute("style","min-width:15em");this.R0.appendChild(n);var q=P.z("div");n.appendChild(q);q.setAttribute("style","cursor:grab;");
this.S=P.z("canvas");this.S.width=100;q.appendChild(this.S);P.l7(this.S);P.v$(this.S,this.Zg.bind(this));
this.GE=new bu(null,2,4e3,"%",null,!0);this.GE.R(P.E.b,this.a7G,this);n.appendChild(this.GE.g);this.adv=this.U5.bind(this);
this.a64=this.Ot.bind(this);this._f=null}gC.prototype=new ap("");gC.prototype.rb=function(n,q){this.EA()};
gC.prototype.a7G=function(n){var q=this.GE.I(),p=this._f,E=q/100;if(.8<E&&E<1.2)E=1;else if(1.8<E)E=Math.round(E);
var T=new ea(P.E.u,!0);T.i=A.$v;T.data={e:"zoom",n:E};this.K(T)};gC.prototype.Zg=function(n){if(this._f==null)return;
P.KN(window,this.adv);P.iI(window,this.a64)};gC.prototype.U5=function(n){var q=P.gD(n,this.S),p=this._f,E=this.S.width,T=this.S.height,i=(q.x*P.D()-E/2)/E,H=(q.y*P.D()-T/2)/T,Z=P.D()*p.c.n,w=Math.round(-p.c.n*p.v*i),d=Math.round(-p.c.n*p.o*H);
A.tf.JG(p,w,d)};gC.prototype.Ot=function(n){P.dt(window,this.adv);P.sZ(window,this.a64)};gC.prototype.o5=function(n){if(n==null&&this._f!=null)this.S.width=100;
this._f=n;this.EA()};gC.prototype.EA=function(){var n=this._f,E=0;if(n==null||n.c.n==0)return;var q=n.c;
if(!P.pM(this.R0))return;this.GE.j(q.n*100);var p=300*P.D(),T=[n.Zk(),new eL(0,0,n.v,n.o)];j.bl(T);while(Math.max(T[E+1].v,T[E+1].o)>p){E+=2}var i=T[E],H=T[E+1],Z=H.v,w=H.o,d=this.S;
d.width=Z;d.height=w;P.X_(d,Z,w);var O=d.getContext("2d"),W=O.createImageData(Z,w);j.Sa(i,W.data);O.putImageData(W,0,0);
var C=q.fM,a=q.hQ(C.x,C.y),B=q.hQ(C.x+C.v,C.y+C.o),$=Z/n.v;O.scale($,$);O.lineWidth=4/$;O.strokeStyle="#ff0000";
O.strokeRect(a.x,a.y,B.x-a.x,B.y-a.y)};gC.prototype.ts=function(n,q){};gC.prototype.f2=function(){this.EA()};
function i6(n,q){if(n==null){ap.call(this);return}ap.call(this,n.name,!1,n.icon,q);var p=this.VK=P.z("iframe");
p.setAttribute("src",n.url);p.setAttribute("style","width:"+n.width+"px; height:"+n.height+"px");this.R0.appendChild(p)}i6.prototype=new ap("");
i6.prototype.nX=function(n){if(P.pM(this.VK))this.VK.contentWindow.postMessage(n,"*")};i6.prototype.rb=function(n,q){this.VK.setAttribute("style","width:"+n+"px; height:"+q+"px")};
function hr(){ap.call(this,[9,12],!1,null,ap.ys.lM);this.BW=null;this.PH=new iV(A.yR);this.PH.parent=this;
var n=P.z("div","padded");n.setAttribute("style","width:20em");this.R0.appendChild(n);n.appendChild(this.PH.gH)}hr.prototype=new ap("");
hr.prototype.f2=function(){this.PH.KC(this.BW.nj)};hr.prototype.ts=function(n,q){this.BW=n;if(q==cF.Bo||q==cF.lM)this.PH.KC(n.nj)};
hr.prototype.rb=function(n,q){this.PH.a5S(this.BW.tj)};hr.prototype.N=function(){ap.prototype.N.call(this);
this.PH.N()};var cg=function(){var n=[],q=null,p=null,E=null,T=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){ap.call(this,"Memory",!1,null,ap.ys.a5v);var C=P.z("div","padded");this.R0.appendChild(C);
p=new bG(["<< VAR0",[0,13,2]],!1,null,!0);p.addEventListener("click",function(a){n.pop();Z()});C.appendChild(p.g);
q=P.z("div","scrollable");q.setAttribute("style","width:20em;  height:26em; margin-top:8px;");C.appendChild(q)}i.prototype=new ap("");
i.prototype.o5=function(C,a,B){E=a;this.f2()};i.prototype.f2=function(){p.aR(!1);if(!P.pM(q))return;
var C={y4:"Total:",Ua:[]};for(var R=0;R<E.length;R++)C.Ua.push(d(E[R]));W(C);n=[C];Z()};i.prototype.N=function(){ap.prototype.N.call(this);
p.N()};function H(C){var a=C.currentTarget,R=0;while((a=a.previousSibling)!=null)R++;n.push(n[n.length-1].Ua[R-1]);
Z()}function Z(){p.aR(n.length>1);var C=n[n.length-1];P.Ls(q);w(C,q,0);C.Ua.sort(function(a,B){return B.qc[0]-a.qc[0]});
for(var R=0;R<C.Ua.length;R++)w(C.Ua[R],q,1)}function w(C,a,B){var $=fG.S6,I=B!=0&&C.Ua,x="margin-left:"+B*10+"px; margin-bottom:8px; padding:3px 5px;";
if(I)x+="cursor:pointer;";if(C.hw!=null)x+="background-color:rgba("+T[C.hw].join(",")+",0.2);";var U=P.z("div");
a.appendChild(U);U.setAttribute("style",x);U.innerHTML=P.fE(C.y4)+"<br />"+"RAM: <b>"+$(C.qc[0])+"</b>\u2001GPU: <b>"+$(C.qc[1])+"</b>";
if(I)U.addEventListener("click",H,!1)}function d(C){var a={y4:C.name,Ua:[],hw:0},B=K.pb?1:0,$=1-B,I={y4:"Final Image",qc:[C.v*C.o*4,B*C.v*C.o*4],hw:2};
a.Ua.push(I);for(var R=0;R<C.h.length;R++){var x=O(C.h[R]);if(x.Ua.length!=0)a.Ua.push(x)}var U=C.add.lnk2;
if(U)for(var R=0;R<U.length;R++){var x=U[R],N={y4:x.KF,Ua:[],hw:4},m=0;N.Ua.push({y4:"Raw file",qc:[x.raw.length,0]});
if(x.H5)for(var f=0;f<x.H5.length;f+=2)m+=x.H5[f].length;if(m!=0)N.Ua.push({y4:"Decoded pixels",qc:[m,0]});
W(N);a.Ua.push(N)}W(a);return a}function O(C){var a={y4:C.getName(),Ua:[],hw:1},B=K.pb?1:0,$=1-B,I=C.rect.P();
if(I!=0)a.Ua.push({y4:"Layer pixels",qc:[I*4,B*I*4]});if(C.add.lmfx&&C.wA.S9.type){var x=C.wA.S9.type,f=0;
for(var U in x){var N=0;for(var m=0;m<x[U].length;m++)if(U=="ebbl"){if(x[U][m].Ne)N+=x[U][m].Ne.zj.P();
if(x[U][m].EL)N+=x[U][m].EL.zj.P();if(x[U][m].oS)N+=x[U][m].oS.zj.P();if(x[U][m].Mt)N+=x[U][m].Mt.zj.P()}else N+=x[U][m].zj.P();
if(N!=0)a.Ua.push({y4:fE.get(iq.names[iq.order.indexOf(U)]),qc:[$*N*4,B*N*4],hw:3})}if(C.wA.ZQ)f+=I;
if(C.wA.bj)f+=I;if(C.wA.Ij)f+=I;if(C.wA.Ij)f+=I;if(C.wA.pd)f+=I;if(C.wA.$A)f+=I;var c=C.wA.gj?C.wA.gj.length:0;
if(f+c!=0)a.Ua.push({y4:"Additional Blending Data",qc:[$*f*4+c,B*f*4]})}var D=C.u1(),z=D?D.rect.P():0;
if(z!=0){a.Ua.push({y4:"Raster Mask",qc:[z,0]})}var D=C.add.vmsk,z=D&&D.y9?D.y9.rect.P():0;if(z!=0){a.Ua.push({y4:"Vector Mask",qc:[z,0]})}W(a);
return a}function W(C){C.qc=[0,0];for(var R=0;R<C.Ua.length;R++){C.qc[0]+=C.Ua[R].qc[0];C.qc[1]+=C.Ua[R].qc[1]}}return i}();
function bb(){g9.call(this);this.i=0;this.wK=null;this.g=P.z("div","toolconf");this.PH=null;this.VW=null;
this.body=new P.z("div","body")}bb.prototype=new g9;bb.prototype.a63=function(n,q){this.i=n;this.wK=q;
if(A.$h[n]){var p=this.PH=new iV(n);this.g.appendChild(p.g);p.parent=this}else{this.VW=P.z("div");this.g.appendChild(this.VW)}this.g.appendChild(this.body);
this.N()};bb.prototype.a05=function(n,q){};bb.prototype.ak_=function(n){};bb.prototype.ts=function(n,q){if(q==cF.Bo||q==cF.lM)if(this.PH)this.PH.KC(n.nj)};
bb.prototype.P8=function(n){};bb.prototype.N=function(){if(this.PH)this.PH.N();else this.VW.innerHTML=P.ic(this.wK,null,"toolicon");
this.r0()};bb.prototype.r0=function(){};function iF(){bb.call(this)}iF.prototype=new bb;iF.prototype.P8=function(n){};
function dZ(n){bb.call(this);if(n==null)return;this.BW=null;this.Z0={};for(var R=0;R<n.length;R++){var q=n[R],p=null;
if(q=="brush"){p=new ad}if(q=="bmode"){p=new gJ([12,19,0],d3.qn,!1,d3.BJ)}if(q=="bmode0"){p=new gJ([12,19,0],d3.qn.slice(23),!1)}if(q=="emode"){p=new gJ([12,36],[[9,3],[10,38]])}if(q=="opacity"){p=new iA([12,0],0,100,"%");
p.j(100)}if(q=="flow"){p=new iA([12,63],0,100,"%");p.j(100)}if(q=="smth"){p=new iA([19,3,0],0,100,"%");
p.j(0)}if(q=="samp"){p=new gJ("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(q=="wconf"){p=new gp;
p.j([40,!0,!0])}if(q=="strn"){p=new iA([12,64],1,100,"%");p.j(50)}if(q=="smode"){p=new gJ([12,36],[[19,7,0],[19,7,1]]);
p.j(1)}if(q=="pdetail"){p=new dq([12,65]);p.P9()}if(q=="rng"){p=new gJ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
p.j(1)}if(q=="expo"){p=new iA([12,5],0,100,"%");p.j(50)}if(q=="algnd"){p=new dq([12,75]);p.j(!1)}if(q=="sfrom"){p=new gJ([12,70],[[17,1],[17,3],[17,0]])}if(q=="alt"){p=new i_(null,["Alt"],!0,["Select Source"])}if(q=="qsmode"){p=new c2([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(q=="redge"){p=new bG([7,11],!1,null,!0)}if(q=="setop"){p=new aI}if(q=="patch"){p=new c2(null,[[12,70],[12,71]])}if(q=="prsr"){p=new i_(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
p.j([!1,!1])}p.parent=this;this.body.appendChild(p.g);this.Z0[q]=p;if(q=="brush")p.R(P.E.b,this.a8T,this);
else if(q=="redge")p.R("click",this.C6,this);else p.R(P.E.b,this.z2,this)}}dZ.prototype=new bb;dZ.prototype.a05=function(n,q){n=n[1];
var p=this.Z0;if(n.Md)p.bmode.j(d3.Uc.indexOf(n.Md.v.BlnM));if(n.Opct)p.opacity.j(n.Opct.v);if(n.flow)p.flow.j(n.flow.v);
if(n.Brsh)p.brush.j(n,q.UR.Hh,q.UR.yi);if(n.FrgC){var E=j.f.aV(n.FrgC.v),T=new ea(P.E.T,!0);T.data={e:P.C.Th,sQ:cF._H,df:0,k:E._<<16|E.q<<8|E.X};
this.K(T)}this.a8T();this.z2()};dZ.prototype.ak_=function(){if(A.$h[this.i]==null)return null;var n=this.Z0,q=JSON.parse(JSON.stringify(n.brush.I()));
q.classID=A.$h[this.i][1][0];if(n.bmode)q.Md={t:"enum",v:{BlnM:d3.Uc[n.bmode.I()]}};if(n.opacity)q.Opct={t:"long",v:n.opacity.I()};
if(n.flow)q.flow={t:"long",v:n.flow.I()};var p=this.BW.ny;p={_:p>>>16,q:p>>>8&255,X:p&255};q.FrgC={t:"Objc",v:j.f.iB(p)};
return["Brush Preset "+q.Brsh.v.Dmtr.v.val,q]};dZ.prototype.C6=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.Lr,ov:"redge"};
this.K(n)};dZ.prototype.r0=function(){for(var n in this.Z0)this.Z0[n].N()};dZ.prototype.P8=function(n){if(n.a26=="showBrushOpts"){this.Z0.brush.a0u(n.Nh.x,n.Nh.y)}for(var q in n.Q4){var p=n.Q4[q];
if(q!="qsmode")p*=100;if(this.Z0[q])this.Z0[q].j(p)}};dZ.prototype.ts=function(n,q){bb.prototype.ts.call(this,n,q);
this.BW=n;var p=this.Z0.brush;if(p==null)return;if(q==cF.Bo||q==cF.yR)p.KC(n.UR);if(q==cF.Ez){p.j(n.UR.$P,n.UR.Hh,n.UR.yi)}};
dZ.prototype.a8T=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.Th,sQ:cF.Ez,Hv:this.Z0.brush.I()};this.K(n)};
dZ.prototype.z2=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.oo,i:this.i};for(var q in this.Z0){if(q=="brush"||q=="redge")continue;
var p=this.Z0[q].I();if(["opacity","flow","smth","strn","expo"].indexOf(q)!=-1)n.data[q]=p/100;else if(q=="bmode")n.data.bmode=d3.hd[p];
else if(q=="bmode0")n.data.bmode=d3.hd[23+p];else n.data[q]=p}this.K(n)};function ba(n,q){bb.call(this);
if(n)return;this.Z0={};for(var R=0;R<q.length;R++){var p=q[R],E=null;if(p=="binop")E=new aI;if(p=="feat"){E=new iA([7,6],0,100,"px");
E.j(0)}if(p=="redge")E=new bG([7,11],!1,null,!0);if(p=="wconf")E=new gp;if(p=="cstr")E=new j0;if(p=="anta"){E=new dq("Anti-alias");
E.j(!0)}if(p=="sall")E=new dq("Sample All Layers");if(p=="redge")E.R("click",this.C6,this);else E.R(P.E.b,this.z2,this);
E.parent=this;this.body.appendChild(E.g);this.Z0[p]=E}}ba.prototype=new bb;ba.prototype.P8=function(n){if(n.xx!=null)this.Z0.binop.j(n.xx);
else if(n.US){for(var q in n.US)if(this.Z0[q])this.Z0[q].j(n.US[q])}else{var p=ba.pA;if(p==null){var E=hU.akR(!0);
p=ba.pA=new a1(E.items,E.Xk)}p.N();p.parent=this;p.update(n.bp,n.eP);var T=new ea(P.E.T,!0);T.data={e:P.C.KU,yx:p,x:n._Y.Yt+2,y:n._Y.tF+1};
this.K(T)}};ba.prototype.r0=function(){for(var n in this.Z0)this.Z0[n].N()};ba.prototype.C6=function(){var n=new ea(P.E.T,!0);
n.data={e:P.C.Lr,ov:"redge"};this.K(n)};ba.prototype.z2=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.oo,i:this.i,US:{}};
for(var q in this.Z0)n.data.US[q]=this.Z0[q].I();this.K(n)};function aU(){dZ.call(this,["brush","strn"])}aU.prototype=new dZ;
function gc(){dZ.call(this,"brush bmode opacity flow smth prsr".split(" "))}gc.prototype=new dZ;function aN(){dZ.call(this,["brush","bmode0","samp","wconf"])}aN.prototype=new dZ;
function eX(){dZ.call(this,["brush"])}eX.prototype=new dZ;function fI(){dZ.call(this,["brush","bmode","opacity","smth","prsr"])}fI.prototype=new dZ;
function j7(){dZ.call(this,["brush","rng","expo"])}j7.prototype=new dZ;function e5(){dZ.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}e5.prototype=new dZ;
function eQ(n){bb.call(this);if(n==null)return;var q=P.z("span","fitem");this.body.appendChild(q);var p=[[17,0],[17,1],[11,12,0],[17,2]];
this.$l=[];for(var R=0;R<p.length;R++){var E=new bG(p[R],!1,null,!0);this.$l.push(E);E.R("click",this.amj,this);
if(!n||R==1)q.appendChild(E.g)}this.Xx=new j0;this.Xx.R(P.E.b,this.ac3,this);if(!n)this.body.appendChild(this.Xx.g);
this.vm=new dq("Delete Cropped Pixels");this.vm.R(P.E.b,this.ac3,this);if(!n)this.body.appendChild(this.vm.g);
this.QO=new hD;this.QO.R("click",this.KE,this)}eQ.prototype=new bb;eQ.prototype.r0=function(){this.QO.N();
for(var R=0;R<this.$l.length;R++)this.$l[R].N();this.Xx.N();this.vm.N()};eQ.prototype.P8=function(n){var q=this.QO.g;
if(n.rJ)this.body.appendChild(q);else if(this.body.contains(q))this.body.removeChild(q);if(n.Xx)this.Xx.j(n.Xx)};
eQ.prototype.KE=function(n){var q={e:P.C.oo,i:this.i,J4:this.QO.I()?"commit":"cancel"},p=new ea(P.E.T,!0);
p.data=q;this.K(p)};eQ.prototype.amj=function(n){n.target.g.blur();var q={e:P.C.oo,i:this.i,J4:"cropby",af9:this.$l.indexOf(n.target)},p=new ea(P.E.T,!0);
p.data=q;this.K(p)};eQ.prototype.ac3=function(n){var q={e:P.C.oo,i:this.i,J4:"config",h5:{in:this.Xx.I()}};
if(n.target==this.vm)q.h5.HD=this.vm.I();var p=new ea(P.E.T,!0);p.data=q;this.K(p)};function iK(){eQ.call(this,!1)}iK.prototype=new eQ;
function a3(){eQ.call(this,!0)}a3.prototype=new eQ;function ew(){dZ.call(this,["brush","rng","expo"])}ew.prototype=new dZ;
function fa(){dZ.call(this,"brush emode opacity flow smth prsr".split(" "))}fa.prototype=new dZ;function cf(){dZ.call(this,["brush","samp","wconf"])}cf.prototype=new dZ;
function cQ(){ba.call(this,!1,["binop","feat","anta","redge","cstr"])}cQ.prototype=new ba(!0);function aL(){bb.call(this);
var n=this.Z0=[new gJ([12,20],["1x1","3x3","5x5","11x11","31x31"]),new gJ([12,70],[[17,1],[17,3],[17,0]]),new dq("Sampling Ring"),new dq("Zoom")];
n[1].j(2);n[2].j(!0);for(var R=0;R<n.length;R++){var q=n[R];q.R(P.E.b,this.z2,this);this.body.appendChild(q.g)}}aL.prototype=new bb;
aL.prototype.z2=function(n){var q=this.Z0,p=[];for(var R=0;R<q.length;R++)p[R]=q[R].I();var E=new ea(P.E.T,!0);
E.data={e:P.C.oo,i:this.i,US:p};this.K(E)};aL.prototype.r0=function(){for(var R=0;R<this.Z0.length;R++)this.Z0[R].N()};
function gM(){bb.call(this);this.PL=new c3(!1);this.PL.parent=this;this.PL.R(P.E.b,this.RQ,this);this.body.appendChild(this.PL.g);
this.PL.j(JSON.parse(iq.Xc.tY).v);this.Vj=new gJ(null,iq.f.names.slice(0,5));this.Vj.R(P.E.b,this.RQ,this);
this.body.appendChild(this.Vj.g);this.W5=new gJ([12,19,0],d3.qn,null,d3.BJ);this.W5.R(P.E.b,this.RQ,this);
this.body.appendChild(this.W5.g);this.Ex=new iA([12,0],0,100,"%");this.Ex.parent=this;this.Ex.R(P.E.b,this.RQ,this);
this.body.appendChild(this.Ex.g);this.Ex.j(100);this.Vt=new dq([12,23,0]);this.Vt.R(P.E.b,this.RQ,this);
this.body.appendChild(this.Vt.g);this.k9=new dq("Dither");this.k9.R(P.E.b,this.RQ,this);this.body.appendChild(this.k9.g)}gM.prototype=new bb;
gM.prototype.r0=function(){this.Vj.N();this.W5.N();this.Ex.N();this.Vt.N();this.k9.N()};gM.prototype.ts=function(n,q){bb.prototype.ts.call(this,n,q);
var p=q==cF._H;this.PL.jw(n.ny,n.iu);if(p||q==cF.x2||q==cF.Bo)this.PL.KC(n.XV)};gM.prototype.RQ=function(){var n=new ea(P.E.T,!0);
n.data={e:P.C.oo,i:this.i};n.data.sQ={f:this.PL.I(),Tp:iq.f.types[this.Vj.I()],eJ:this.Vt.Jc(),apu:this.k9.Jc(),als:d3.hd[this.W5.I()],Ik:this.Ex.I()/100};
this.K(n)};function dK(){bb.call(this)}dK.prototype=new bb;function gW(){bb.call(this);var n=P.z("span","fitem");
this.body.appendChild(n);this.o7=[new iA([12,15],0,0,"\xB0"),new bG("Reset",null,null,!0)];for(var R=0;
R<this.o7.length;R++){var q=this.o7[R];q.parent=this;n.appendChild(q.g);q.R(R==1?"click":P.E.b,this.Wp,this)}}gW.prototype=new bb;
gW.prototype.r0=function(){for(var R=0;R<this.o7.length;R++)this.o7[R].N()};gW.prototype.P8=function(n){this.o7[0].j(n.Yf*180/Math.PI)};
gW.prototype.Wp=function(n){var q=this.o7.indexOf(n.target),p=new ea(P.E.T,!0);p.data={e:P.C.oo,i:this.i,Yf:q==1?0:n.target.I()*Math.PI/180};
this.K(p)};function bs(){dZ.call(this,["brush","algnd","sfrom","alt"])}bs.prototype=new dZ;function gs(){bb.call(this);
this.S$=new iY;this.S$.parent=this;this.body.appendChild(this.S$.v1.g);this.body.appendChild(this.S$.fm.g);
this.body.appendChild(this.S$.sE.g);var n=P.z("span","fitem");this.body.appendChild(n);n.appendChild(this.S$.VQ.g);
n.appendChild(this.S$.an.g);n.appendChild(this.S$.C2.g);this.Nv=new gJ("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.Nv.R(P.E.b,this.KE,this);this.body.appendChild(this.Nv.g);this.Be=new bG([11,9],!1,null,!0);this.Be.R("click",this.a9q,this);
this.body.appendChild(this.Be.g);this.QO=new hD;this.QO.R("click",this.KE,this)}gs.prototype=new bb;
gs.prototype.r0=function(){this.QO.N();this.S$.N();this.Be.N()};gs.prototype.a9q=function(n){var q={e:P.C.oo,i:this.i,J4:"showwarp"},p=new ea(P.E.T,!0);
p.data=q;this.K(p)};gs.prototype.P8=function(n){if(n.J4=="showactive")this.body.appendChild(this.QO.g);
if(n.J4=="hideactive")this.body.removeChild(this.QO.g);if(n.J4=="changeAA")this.Nv.j(n.Il)};gs.prototype.ts=function(n,q){bb.prototype.ts.call(this,n,q);
if(q!=cF.Bo&&q!=cF.Bc&&q!=cF.Jv&&q!=cF._j)return;this.S$.j(n.Bb,n.s4,n.rk)};gs.prototype.KE=function(n){var q={e:P.C.oo,i:this.i,J4:this.QO.I()?"commit":"cancel"};
if(n.target==this.Nv){q.J4="changeAA";q.Il=this.Nv.I()}var p=new ea(P.E.T,!0);p.data=q;this.K(p)};function ax(){ba.call(this,!1,["binop","feat","anta","redge"])}ax.prototype=new ba(!0);
function g2(){bb.call(this);var n=[],p="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.CM=new dq([12,85]);this.CM.R(P.E.b,this.z2,this);n.push(this.CM.g);this.vs=new dq([20,1]);this.vs.R(P.E.b,this.z2,this);
n.push(this.vs.g);this.ba=new dq([12,83]);this.ba.R(P.E.b,this.z2,this);n.push(this.ba.g);var q=P.z("span","fitem");
n.push(q);this.agy=new gJ("Scale for exported files",["1x","2x","3x","4x"],!0);q.appendChild(this.agy.g);
this.SU=new bG(p+" PNG",!1,"Save selected layers as PNG",!0);q.appendChild(this.SU.g);this.SU.R("click",this.kC,this);
this.adV=new bG(p+" SVG",!1,"Save selected layers as SVG",!0);q.appendChild(this.adV.g);this.adV.R("click",this.kC,this);
var E=P.z("span","fitem");n.push(E);var T=P.z("span","fitem");n.push(T);this.Tn=[];for(var R=0;R<8;R++){var i=R==3||R==7?[20,4,6]:[20,4,R<3?R:R-1],H=new bG("Hi",!1,i);
(R<4?E:T).appendChild(H.g);H.R("click",this.kC,this);this.Tn.push(H)}for(var R=0;R<n.length;R++)this.body.appendChild(n[R]);
this.aqw=n}g2.prototype=new bb;g2.prototype.P8=function(n){var q=n.IQ,p=n.ak7;this.CM.j(q.Mv);this.vs.j(q.aX);
this.ba.j(q.ur);if(p){P.Ls(this.body);for(var R=0;R<p.length;R++)if(p[R]==1&&this.aqw[R])this.body.appendChild(this.aqw[R])}};
g2.prototype.kC=function(n){var q=this.Tn.indexOf(n.target),p;if(q==-1){p=new ea(P.E.T,!0);p.data={e:P.C.oo,i:this.i,df:n.target==this.SU?"getPNG":"getSVG",UT:this.agy.I()+1}}else{p=new ea(P.E.u,!0);
p.i=A.o$;p.data={e:"algn",k:q}}this.K(p)};g2.prototype.z2=function(n){var q=new ea(P.E.T,!0);q.data={e:P.C.oo,i:this.i,df:"prms",Mv:this.CM.Jc(),aX:this.vs.Jc(),ur:this.ba.Jc()};
this.K(q)};g2.prototype.r0=function(){this.CM.N();this.vs.N();this.ba.N();var n="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var R=0;R<8;R++){this.Tn[R].l$(P.ic("align/"+n[R],null,"autoscale"))}};function ge(){ba.call(this,!1,["binop","feat","redge","wconf","sall"])}ge.prototype=new ba(!0);
function cZ(){dZ.call(this,["setop","patch"])}cZ.prototype=new dZ;function cs(){dZ.call(this,["setop"])}cs.prototype=new dZ;
function eF(){dZ.call(this,["bmode","opacity","wconf"])}eF.prototype=new dZ;function f6(){ba.call(this,!1,["binop","feat","anta","redge"])}f6.prototype=new ba(!0);
function jx(){ba.call(this,!1,["binop","feat","anta","redge"])}jx.prototype=new ba(!0);function hL(){ba.call(this,!1,["binop","feat","redge","cstr"])}hL.prototype=new ba(!0);
function iM(){bb.call(this);this.BW=null;this.rD=null;this.fV=[new gT("X",null,3),new gT("Y",null,3),new gT("W",null,3),new gT("H",null,3),new gT([12,15],null,4),new gT(["VAR0 1",[12,80,0]],null,4),new gT(["VAR0 2",[12,80,0]],null,4),new bG([15,7,6],!1,null,!0),new bG([2,2],!1,null,!0)];
for(var R=0;R<this.fV.length;R++){var n=this.fV[R];this.body.appendChild(n.g);if(R>6)n.R("click",this.aoo,this)}this.J3=0}iM.prototype=new bb;
iM.prototype.aoo=function(n){var q=this.fV.indexOf(n.target)==7,p=new ea(P.E.u,!0);if(q){if(this.J3==0)return;
p.i=A.Uv;p.data={e:"rot",as:[2,5],k:-this.J3}}else{p.i=A.Hf}this.K(p)};iM.prototype.P8=function(n){function q(w,d,O){var W=Math.sqrt(Math.pow(d.x-w.x,2)+Math.pow(d.y-w.y,2)),C=Math.sqrt(Math.pow(d.x-O.x,2)+Math.pow(d.y-O.y,2)),a=Math.sqrt(Math.pow(O.x-w.x,2)+Math.pow(O.y-w.y,2));
return Math.acos((C*C+W*W-a*a)/(2*C*W))}if(n==null)return;this.rD=n;var p=n.aa5,E=n.rx,T=E.x-p.x,i=E.y-p.y;
this.J3=-Math.atan2(i,T);if(n.tD)this.J3=q(E,p,n.tD);var H=this.fV;H[0].j(p.x);H[1].j(p.y);H[2].j(T);
H[3].j(i);H[4].j((this.J3*180/Math.PI).toFixed(2));var Z=j.L6.Kc(fc.vu(p,E),n.xm,this.BW,n.aq4,!1);H[5].j(parseFloat(Z).toFixed(2));
if(n.tD){var Z=j.L6.Kc(fc.vu(p,n.tD),n.xm,this.BW,n.aq4,!1);H[6].j(parseFloat(Z).toFixed(2))}else H[6].j("")};
iM.prototype.ts=function(n,q){this.BW=n;this.P8(this.rD)};iM.prototype.r0=function(){var n=this.fV;for(var R=0;
R<n.length;R++)n[R].N();P.Zd(n[2],n[3])};function eS(){dZ.call(this,["brush","strn","pdetail"])}eS.prototype=new dZ;
function cR(){dZ.call(this,["brush","sfrom"]);this.aqj=[];var n=[[7,12]];for(var R=0;R<n.length;R++){var q=new bG(n[R],!1,null,!0);
this.aqj.push(q);q.parent=this;this.body.appendChild(q.g);q.R("click",this.acG,this)}}cR.prototype=new dZ;
cR.prototype.acG=function(n){var q=this.aqj.indexOf(n.currentTarget),p=new ea(P.E.Gi,!0);p.data=A.o8.zm("contentAware");
this.K(p)};function dL(){dZ.call(this,["brush","strn"])}dL.prototype=new dZ;function aF(){dZ.call(this,["brush","flow","smode"])}aF.prototype=new dZ;
function cr(){bb.call(this);this.z3=!1;var n=P.z("span","fitem");this.body.appendChild(n);this.Es=new c2(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
n.appendChild(this.Es.g);this.Es.R(P.E.b,this.z2,this);this.cC=new bG([20,2]);this.body.appendChild(this.cC.g);
this.cC.R("click",this.a90,this);this.Mc=new bG([20,3]);this.body.appendChild(this.Mc.g);this.Mc.R("click",this.a90,this)}cr.prototype=new bb;
cr.prototype.r0=function(){this.cC.N();this.Mc.N()};cr.prototype.z2=function(){var n={e:P.C.oo,i:this.i,ux:this.Es.I()==0},q=new ea(P.E.T,!0);
q.data=n;this.K(q)};cr.prototype.P8=function(n){if(this.z3!=n.z3)this.Es.j(1-this.Es.I());this.z3=n.z3};
cr.prototype.a90=function(n){var q=new ea(P.E.u,!0);q.i=A.$v;q.data={e:"adapt",k:n.target==this.cC?"pixel":"fitscr"};
this.K(q)};function b7(n,q){bb.call(this);if(n==null)return;this.L1=n;this.U1={};this.ae6=q;for(var R=0;
R<n.length;R++){var p=n[R],E=null;if(p=="tmode"){E=new gJ(null,[[12,76,1],[12,76,0],[12,76,2]]);E.j(0);
if(q)E.a6j(2)}if(p=="make"){E=new bG("Make Selection",null,null,!0)}if(p=="anta"){E=new dq("Anti-alias");
E.j(!0)}if(p=="binop"){E=new gJ(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(p=="pshape")E=new gJ(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);
if(p=="shape")E=new f1([12,76,1]);if(p=="crad"){E=new iA([12,94,0],0,50,"px");E.j(0)}if(p=="cstr"){E=new j0}if(p=="irad"){E=new iA([12,94,1],0,100,"%");
E.j(40)}if(p=="length"){E=new iA([12,80,0],4,40);E.j(4)}if(p=="sides"){E=new iA([12,78],3,30);E.j(5)}if(p=="width"){E=new iA([12,41],1,100,"px");
E.j(5)}if(p=="tsiz"){E=new iA("Tip Size",100,500,"%");E.j(300)}if(p=="tolr"){E=new iA([12,24],0,100);
E.j(5)}if(p=="fstyle"){E=new gI([12,26])}if(p=="sstyle"){E=new gB}if(p=="psnap"){E=new dq([8,10])}if(p=="crnr"){E=new bG("\u2312",!1,[12,94,0],!0)}E.parent=this;
this.body.appendChild(E.g);this.U1[p]=E;E.R(p=="crnr"||p=="make"?"click":P.E.b,this.z2,this)}}b7.prototype=new bb;
b7.prototype.P8=function(n){if(n.xx!=null)this.U1.binop.j(n.xx);else if(n.df=="vals")for(var q in n.ape)this.U1[q].j(n.ape[q]);
else{var p=b7.pA;if(p==null)p=b7.pA=new a1([{name:"Remove Anchor Point",J:function(T){var i=T?T.Jy():null;
return{J:T&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.Eg.length!=0}}},{name:"Remove Path",J:function(T){var i=T?T.Jy():null;
return{J:T&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.p.length!=0}},H8:!0},{name:"Make Selection"}],[{l:P.E.u,i:A.fx,m:{e:"remove",aY:!0}},{l:P.E.u,i:A.nk,m:{e:"remove"}},{l:P.E.T,m:{e:P.C.Lr,ov:"makesel"}}]);
p.parent=this;p.update(n.bp,n.eP);var E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:p,x:n._Y.Yt+2,y:n._Y.tF+1};
this.K(E)}};b7.prototype.a9Y=function(R){return null};b7.prototype.r0=function(){for(var n in this.U1){this.U1[n].N()}};
b7.prototype.z2=function(n){var q=new ea(P.E.T,!0),p=this.U1;if(n.target==p.crnr){q=new ea(P.E.u,!0);
q.i=A.fx;q.data={e:"crnr"}}else if(n.target==p.make){q.data={e:P.C.Lr,ov:"makesel"}}else if(n.target==p.fstyle){q.data={e:P.C.Th,sQ:cF.nI,k:p.fstyle.I()}}else if(n.target==p.sstyle){q.data={e:P.C.Th,sQ:cF.yC,k:p.sstyle.I()}}else if(n.target==p.tmode){q.data={e:P.C.Th,sQ:cF.Du,k:p.tmode.I()}}else{q.data={e:P.C.oo,i:this.i};
for(var E in p)q.data[E]=p[E].I()}this.K(q)};b7.prototype.g0=function(){var n=this.U1,q=n.tmode.I(),p=n.pshape?this.a9Y(n.pshape.I()):this.L1,E;
if(q==0)E=["anta","make"];if(q==1)E=["anta","fstyle","sstyle"];if(q==2)E=["make","binop","fstyle","sstyle"];
var T=n.binop;if(T){var i=T.I();if(q==0){T.aoG(0)}else{T.a6j(0);if(i==0)T.j(1)}}P.Ls(this.body);for(var R=0;
R<p.length;R++){var H=p[R];if(E.indexOf(H)!=-1)continue;this.body.appendChild(n[H].g)}};b7.prototype.ts=function(n,q){bb.prototype.ts.call(this,n,q);
var p=this.U1.fstyle,E=this.U1.sstyle,T=this.U1.tmode;if(p)p.ts(n,q);if(E)E.ts(n,q);if(q==cF.Bo||q==cF.DN)if(n.Xr.length!=0&&this.U1.shape){this.U1.shape.KC(n.Xr)}if(q==cF.Bo||q==cF.nI)if(p)p.j(null,n.q1,n.aqf);
if(q==cF.Bo||q==cF.yC)if(E)E.j(null,n.rc,n.acW);if(q==cF.Bo||q==cF.Du){var i=n.sl;if(this.ae6&&i==2)i=0;
if(T){T.j(i);this.g0()}}};function iy(){b7.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}iy.prototype=new b7;
function g$(){b7.call(this,"tmode anta fstyle sstyle binop tolr".split(" "))}g$.prototype=new b7;function aK(){b7.call(this,["fstyle","sstyle"]);
this.ag4=null;this.asg=null;this.ac9=null;this.ye=new gJ("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.B2=new bG("\u25BC");this.B2.P9();this.l9=new bG("\u25B2");this.l9.P9();this.$D=[this.ye,this.B2,this.l9];
for(var R=0;R<this.$D.length;R++){var n=this.$D[R];this.body.appendChild(n.g);n.parent=this;n.R(R==0?P.E.b:"click",this.RB,this)}}aK.prototype=new b7;
aK.prototype.P8=function(n){if(n.J4=="main"){var q=this.$D,p=n.kI;if(p&&p.p.length==1){this.asg=p.clone();
this.ac9=JSON.stringify(n.k4);var E=p.p[0],T=j.G.ji(p.Q);this.ye.hy();if(E>0)this.B2.hy();else this.B2.OW();
if(E<T-1)this.l9.hy();else this.l9.OW();var i=j.G.HC(p.Q,E),H=p.Q[i];this.ye.l$("Path "+(E+1));this.ye.j([3,0,1,2][H.HW])}else{for(var R=0;
R<q.length;R++)q[R].OW()}}else b7.prototype.P8.call(this,n)};aK.prototype.r0=function(){b7.prototype.r0.call(this);
this.ye.N()};aK.prototype.RB=function(n){if(n.target==this.ye||n.target==this.B2||n.target==this.l9){var q={},p=this.asg,E=p.Q,T=JSON.parse(this.ac9),i=p.p[0],H=j.G.HC(E,i),Z=E[H];
if(n.target==this.ye){var w=this.ye.I();if(w<4)Z.HW=[1,2,3,0][w];else{if(j.G.ji(E)<=1)return;p.Q=j.G.zz(E);
p.p=p.Q.length==2?[]:[0];p.Eg=[];T=[j.k4.Ji()]}}else{var d=n.target==this.B2?-1:1,O=Math.min(i,i+d),W=Math.max(i,i+d),C=j.G.HC(E,O),a=j.G.HC(E,W);
if(C==-1||a==-1)return;var B=a+j.G.mE(E,W),$=T[O];T[O]=T[W];T[W]=$;var I=E.slice(0,C),x=E.slice(C,a),U=E.slice(a,B),N=E.slice(B);
p.Q=I.concat(U.concat(x.concat(N)));p.p[0]+=d}q.kI=p;q.k4=T;var m=new ea(P.E.T,!0);m.data={e:P.C.oo,i:this.i,zF:q};
this.K(m)}};function em(){b7.call(this,["fstyle","sstyle","crnr","psnap"])}em.prototype=new b7;function cw(){b7.call(this,"tmode anta fstyle sstyle binop cstr crad".split(" "))}cw.prototype=new b7;
function eO(){b7.call(this,"tmode anta fstyle sstyle binop cstr".split(" "))}eO.prototype=new b7;function hu(){b7.call(this,"tmode anta fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "))}hu.prototype=new b7;
hu.prototype.a9Y=function(R){var n=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];
return["tmode","fstyle","sstyle","binop","pshape"].concat(n[R])};function ec(){b7.call(this,"tmode anta fstyle sstyle binop width".split(" "))}ec.prototype=new b7;
function jw(){b7.call(this,"tmode anta fstyle sstyle binop cstr shape".split(" "))}jw.prototype=new b7;
function eE(){ba.call(this,!1,["binop","feat","redge"])}eE.prototype=new ba(!0);function j1(){dZ.call(this,["brush","qsmode","redge"])}j1.prototype=new dZ;
function jv(){bb.call(this);var n=new bG("Slices From Guides",null,null,!0);n.R("click",this.RB,this);
this.body.appendChild(n.g)}jv.prototype=new bb;jv.prototype.RB=function(n){var q=new ea(P.E.Gi,!0);q.data={oK:"make",ga:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.K(q)};function hW(){bb.call(this);var n=this.acw=[new bG("\u25BC",null,null,!0),new bG("\u25B2",null,null,!0),new bG([5,4],null,null,!0)];
for(var R=0;R<3;R++){var q=n[R];this.body.appendChild(q.g);q.R("click",this.RB,this)}}hW.prototype=new bb;
hW.prototype.RB=function(n){var q=this.acw.indexOf(n.target),p=new ea(P.E.u,!0);p.i=A.x7;p.data={e:q==2?"delete":"reorder",dir:q==0?-1:1};
this.K(p)};hW.prototype.N=function(){bb.prototype.N.call(this);for(var R=0;R<3;R++)this.acw[R].N()};
function cq(n,q){bb.call(this);if(window.Typr==null||n)return;this.a6E=q;this.cm=null;this.a8J=P.z("span","");
this.adW=P.z("span","");var p=1;this.X4={xT:new dn(null,24),AC:new iA("X",0,0,"px",0,!1,!0,4),vG:new iA("Y",0,0,"px",0,!1,!0,4),Yu:new iA("W",0,0,["%","px"],2,!1,!0,5),BK:new bG("\u2261",null,[12,51],null),s1:new iA("H",0,0,["%","px"],2,!1,!0,5),acl:new iA("\u2221",0,0,"\xB0",p,!1,!0),akc:new iA("\u25B1 H",-85,85,"\xB0",p,!1,!0),afc:new iA("\u25B1 V",-85,85,"\xB0",p,!1,!0),Nx:new gJ(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.X4.Nx.j(1);for(var E in this.X4){var T=this.X4[E];if(q&&(T==this.X4.acl||T==this.X4.akc||T==this.X4.afc||T==this.X4.Nx)){}else this.a8J.appendChild(T.g);
var i=T==this.X4.BK?"click":P.E.b;T.R(i,this.arN,this)}this.VG=new iN(!0,!0,!0);this.VG.R(P.E.b,this.aeD,this);
this.VG.parent=this;var H=this.adW,Z=this.VG;H.appendChild(Z.f5.g);H.appendChild(Z.MM.g);H.appendChild(Z.T1.g);
H.appendChild(Z.Zj.g);H.appendChild(Z.wE.g);this.Be=new bG([11,9]);this.Be.R("click",this.adf,this);
this.QO=new hD;this.QO.R("click",this.KE,this)}cq.prototype=new bb;cq.prototype.P8=function(n){if(n._Y){var q=cq,p=this.pA;
if(p==null)p=this.pA=new a1(q.ask(),q.acY(this.i));p.N();p.parent=this;p.update(n.bp,n.eP);var E=new ea(P.E.T,!0);
E.data={e:P.C.KU,yx:p,x:n._Y.Yt+2,y:n._Y.tF+1};this.K(E);return}P.Ls(this.body);this.cm=n;if(n.X4){var T=n.X4.n7,i=n.X4.Oc.clone(),H=Math.atan2(-i.X,i.jS),Z=new b$;
Z.rotate(-H);i.concat(Z);var w=this.X4;w.xT.j(n.X4.hv);w.AC.j(n.X4.h1.x);w.vG.j(n.X4.h1.y);w.Yu.j(i.jS*(w.Yu.ad()=="%"?100:T.v));
w.s1.j(i.FF*(w.s1.ad()=="%"?100:T.o));w.acl.j(-H*180/Math.PI);w.akc.j(0*180/Math.PI);w.afc.j(Math.atan(i.kr)*180/Math.PI);
this.body.appendChild(this.a8J);this.Be.zw()}if(n.An){this.VG.j(n.An);this.body.appendChild(this.adW);
this.Be.P9()}this.body.appendChild(this.QO.g);if(n.ais&&!this.a6E)this.body.appendChild(this.Be.g)};
cq.prototype.arN=function(n){var q=this.X4,p=this.cm.X4.n7;if(n.target==q.BK)q.BK.j(!q.BK.I());if(q.BK.Jc()){var E=q.s1,T=q.Yu,i=p.o,H=p.v;
if(n.target==q.Yu){E=q.Yu;T=q.s1;i=p.v;H=p.o}var Z=E.I()/(E.ad()=="%"?100:i);Z*=T.ad()=="%"?100:H;T.j(Z)}var w=[];
for(var d in q)if(q[d]!=q.BK&&q[d]!=q.xT){var Z=q[d].I();if((q[d]==q.Yu||q[d]==q.s1)&&Z==0){Z=.1;q[d].j(Z)}if(q[d]==q.Yu&&q[d].ad()=="px")Z/=p.v/100;
if(q[d]==q.s1&&q[d].ad()=="px")Z/=p.o/100;w.push(Z)}var O=new fc(w[0],w[1]);if(n.target==q.xT){this.vM({J4:"ctyp",hv:q.xT.I()})}else if(n.target==q.AC||n.target==q.vG){this.vM({J4:"cen",h1:O})}else{var W=this.cm.X4.Oc.clone(),C=W.clone(),a=Math.atan2(-W.X,W.jS);
C.translate(-O.x,-O.y);C.rotate(-a);var B=new b$(C.jS,C.X,C.kr,C.FF,0,0);B.z3();C.concat(B);C.concat(new b$(w[2]/100,Math.tan(w[5]*Math.PI/180),Math.tan(w[6]*Math.PI/180),w[3]/100,0,0));
C.rotate(-w[4]*Math.PI/180);C.translate(O.x,O.y);this.cm.X4.Oc=C;this.vM({J4:"trn",X4:C,$G:this.X4.Nx.I()})}};
cq.prototype.aeD=function(n){this.vM({J4:"wrp",An:this.VG.I()})};cq.prototype.adf=function(n){this.vM({J4:"switchWarp"})};
cq.prototype.KE=function(n){this.vM({J4:this.QO.I()?"commit":"cancel"})};cq.prototype.vM=function(n){n.e=P.C.oo;
n.i=this.i;var q=new ea(P.E.T,!0);q.data=n;this.K(q)};cq.prototype.r0=function(){var n=this.X4;for(var q in n)n[q].N();
P.Zd(n.Yu,n.s1);this.QO.N();this.VG.N();this.Be.N()};cq.ask=function(){return[{name:[5,9],kZ:"Shift+Alt+Ctrl + T",H8:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],J:function(n){if(n==null||n.p.length!=1)return{J:!1};
var q=n.h[n.p[0]];return{J:q.add.TySh==null&&!q.z7()}},H8:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cq.acY=function(n){if(n==null)n=A.Uv;return[{l:P.E.u,i:n,m:{e:"again"}},{l:P.E.T,m:{e:P.C.Tk,i:n,IQ:{Hg:3}}},{l:P.E.T,m:{e:P.C.Tk,i:n,IQ:{Hg:4}}},{l:P.E.T,m:{e:P.C.Tk,i:n,IQ:{Hg:2}}},{l:P.E.T,m:{e:P.C.Tk,i:n,IQ:{Hg:1}}},{l:P.E.T,m:{e:P.C.Tk,i:n,IQ:{Hg:-1}}},{l:P.E.u,i:n,m:{e:"rot",as:[2,5],k:-Math.PI/2}},{l:P.E.u,i:n,m:{e:"rot",as:[2,5],k:-3*Math.PI/2}},{l:P.E.u,i:n,m:{e:"rot",as:[2,5],k:Math.PI}},{l:P.E.u,i:n,m:{e:"scl",as:[[2,6],[22,4,2]],k:new fc(-1,1)}},{l:P.E.u,i:n,m:{e:"scl",as:[[2,6],[22,4,3]],k:new fc(1,-1)}}]};
function hv(){cq.call(this)}hv.prototype=new cq(!0);function b5(){cq.call(this)}b5.prototype=new cq(!0);
function jg(){cq.call(this,!1,!0)}jg.prototype=new cq(!0);function fB(){bb.call(this);var n=this.L1=[new gJ([12,36],["Rigid",[15,10,0],[24,4]]),new gJ([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new iA([7,4],0,100,"px"),new dq("Show Mesh"),new bG("\u25BC",null,null,!0),new bG("\u25B2",null,null,!0)];
for(var R=0;R<n.length;R++){var q=n[R];q.parent=this;this.body.appendChild(q.g);q.R(R<4?P.E.b:"click",this.a55,this)}this.QO=new hD;
this.QO.R("click",this.KE,this);this.body.appendChild(this.QO.g)}fB.prototype=new bb;fB.prototype.r0=function(){var n=this.L1;
for(var R=0;R<4;R++)n[R].N();this.QO.N()};fB.prototype.P8=function(n){var n=n.sQ;for(var R=0;R<4;R++)this.L1[R].j(n[R])};
fB.prototype.a55=function(n){var q=[];for(var R=0;R<4;R++)q[R]=this.L1[R].I();var p=this.L1.indexOf(n.target);
if(p<4)this.vM({J4:"prm",sQ:q});else this.vM({J4:"moveDepth",alO:p==5})};fB.prototype.KE=function(n){this.vM({J4:this.QO.I()?"commit":"cancel"})};
fB.prototype.vM=function(n){n.e=P.C.oo;n.i=this.i;var q=new ea(P.E.T,!0);q.data=n;this.K(q)};function hk(){g9.call(this);
this.g=P.z("div","cmanager");window.alert=function(E,T){this.a4q(E,T);console.log("Alert: "+E)}.bind(this);
window.onblur=function(E){var T=this;T.ez()}.bind(this);this.XF=0;this.rZ=0;this.Wt=[];this._n={};this.tG=P.z("div","alertcont");
this.g.appendChild(this.tG);this.amP=P.z("div","alertcont");this.g.appendChild(this.amP);this.c6=P.z("div","alertcont");
this.aaG=0;this.GU=-1;this.a7v=null;this.WK=null;var n=this.ad$=P.z("div","alertpanel");n.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.c6.appendChild(n);var q=this.HX=P.z("input");q.setAttribute("type","text");q.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
q.addEventListener("input",this.apz.bind(this),!1);q.addEventListener("keydown",this.a7t.bind(this),!1);
n.appendChild(q);var p=this.a7b=P.z("div","contextpanel scrollable");p.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
p.addEventListener("click",this.am_.bind(this),!1);n.appendChild(p);P.v$(document.body,this.aaI.bind(this))}hk.prototype=new g9;
hk.prototype.KB=function(){if(P.pM(this.c6))this.g.removeChild(this.c6)};hk.prototype.ak8=function(n,q){var p=this.a7v=[];
for(var R=0;R<hU.data.length;R++){var E=hU.data[R],T=[fE.get(E.name)],i=[R];hk.ao3(E.items,T,i,p,n,q)}var H=f8.A;
for(var R=0;R<H.length;R+=3){p.push([["Tools",fE.get(H[R])],[-1,H[R+2]]])}this.g.appendChild(this.c6);
var Z=this.HX;Z.focus();Z.select();this.EA()};hk.prototype.apz=function(n){this.GU=-1;this.EA()};hk.prototype.EA=function(){var n=this.HX.value.toLowerCase().trim().replace(/  +/g," "),q=this.a7v,p=[],E=[],T=n.split(" ");
if(n!="")for(var R=0;R<q.length;R++){var i=q[R][0],H=[],Z=0;for(var w=0;w<i.length;w++)H[w]=-1;for(var d=0;
d<T.length;d++)for(var w=0;w<i.length;w++){var O=i[w].toLowerCase().indexOf(T[d]);if(O!=-1){H[w]=[O,O+T[d].length];
Z++;break}}if(Z==T.length){p.push(q[R]);E.push(H)}}var W=[],C=this.a7b;P.Ls(C);for(var R=0;R<p.length;
R++){var a=p[R][0],O=E[R],B="enab",I="";if(R==this.GU)B+=" active";var $=P.z("div",B);W.push($);C.appendChild($);
for(var w=0;w<a.length;w++){var x=O[w],U=T[w],N=a[w];if(x!=-1)N=N.slice(0,x[0])+"<span style=\"color:black\">"+N.slice(x[0],x[1])+"</span>"+N.slice(x[1]);
I+=N;if(w<a.length-1)I+=" \uFE65 "}$.innerHTML=I}this.WK=[p,W]};hk.prototype.a7t=function(n){var q=aj.ju,p=n.code;
if(q(p,aj.eN))this.KB();var E=q(p,aj.Co),T=q(p,aj.q2),i=q(p,aj.T4);if(E||T){this.GU=Math.max(0,Math.min(this.WK[0].length-1,this.GU+(E?-1:1)));
this.EA()}if(i&&this.GU!=-1)this.alM(this.GU)};hk.ao3=function(n,q,p,E,T,i){for(var R=0;R<n.length;R++){var H=n[R],Z=q.slice(0),w=p.slice(0),d=fE.get(H.name);
if(H.J){var O=H.J(T,i,R);if(O.XW)d=O.XW;if(O.J==!1)continue}Z.push(d);w.push(R);if(H.sub)hk.ao3(H.sub,Z,w,E,T,i);
else E.push([Z,w])}};hk.prototype.am_=function(n){var q=n.target;if(q.tagName.toLowerCase()=="span")q=q.parentNode;
var p=this.WK[1].indexOf(q);if(p!=-1)this.alM(p)};hk.prototype.alM=function(n){var q=this.WK[0][n][1];
if(q[0]==-1){var p=new ea(P.E.T,!0);p.data={e:P.C.Tk,i:q[1]};this.K(p)}else{var E=hU.data[q[0]].Xk[q[1]];
for(var R=2;R<q.length;R++)E=E.sub[q[R]];var T=new ea(E.l,!0);T.i=E.i;T.data=E.m;this.K(T)}this.KB()};
hk.prototype.rb=function(n,q){this.XF=n;this.rZ=q;this.a7b.style["max-height"]=q-120+"px"};hk.prototype.alA=function(n){var q=P.z("div","alertpanel");
q.textContent=fE.get(n);this.tG.appendChild(q);this._n[JSON.stringify(n)]=q};hk.prototype.aeE=function(n){var q=this._n[JSON.stringify(n)];
this.tG.removeChild(q);delete this._n[JSON.stringify(n)]};hk.prototype.a4q=function(n,q){var p=this.amP;
for(var R=0;R<p.children.length;R++)if(p.children[R].textContent==n)return;var E=P.z("div","alertpanel tpanel");
E.textContent=n;E.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");p.appendChild(E);if(q==null)q=1500;
var T=q,i=Math.max(Date.now()+T,this.aaG+T);setTimeout(function(){E.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){p.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){p.removeChild(p.firstChild);p.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.aaG=i};hk.prototype.aaI=function(n){var q=this.Wt;for(var R=q.length-1;R>=0;R--){var p=q[R],E=n.target;
while(E!=null){if(E==p.g){this.ez(p);return}E=E.parentNode}}this.ez();var T=n.target;while(T!=this.c6&&T!=document.body)T=T.parentNode;
if(T!=this.c6)this.KB()};hk.prototype.ez=function(n){var q=this.Wt;for(var R=0;R<q.length;R++){if(n&&n.a98(q[R]))continue;
var p=q[R].g;p.style.height="auto";P.kO(p,"scrollable");this.g.removeChild(p);q.splice(R,1);R--}};hk.prototype.a8o=function(n){this.ez(n.yx);
var q=n.yx,p=q.g;if(this.Wt.indexOf(q)!=-1)return;this.Wt.push(q);this.g.appendChild(q.g);var E=this.XF,T=this.rZ,i=n.x,H=n.y,Z=this.g.getBoundingClientRect(),w=q instanceof a1,d=-1,O=T-2;
if(w||n.ZV){var W=q.FD(),C=q.adw();if(w)W=Math.min(W,200);var a=E-W-2,B=T-C-2;if(H<B)d=2;else if(i<a)d=1;
else if(0<H-C-2)d=0;else d=3;if(n.arT)d=0;if(n.a6R)d=2;if(d==2){i=Math.min(i,a)}else if(d==1){H=Math.min(H,B)}else if(d==0){H=H-C-2;
i=Math.min(i,a);O=n.y}else if(d==3){i=i-W-2;H=Math.min(H,B)}}H=Math.max(2,H);var top=Math.round(H-Z.y+this.g.offsetTop);
p.style.position="absolute";p.style["z-index"]=10;if(H+q.adw()>O){p.style.height=O-H+"px";P.oI(p,"scrollable");
if(d==3)i-=10}p.style.left=Math.round(i)+"px";p.style.top=top+"px"};hk.prototype.a2N=function(n){var q=n.yx,p=this.Wt.indexOf(q);
if(p==-1)return;this.Wt.splice(p,1);var E=q.g;this.g.removeChild(q.g)};hk.prototype.PG=function(){var n=this.Wt;
return n.length==0?null:n[n.length-1]};hk.prototype.amp=function(){this.a2N({yx:this.PG()})};function bQ(){g9.call(this);
this.g=P.z("div","confbar")}bQ.prototype=new g9;bQ.prototype.akC=function(n){n.parent=this;P.Ls(this.g);
this.g.appendChild(n.g)};function a$(n){g9.call(this);a$.p4=n;this.BW=null;this.ty=P.z("input","");this.ty.setAttribute("type","file");
this.ty.setAttribute("multiple","");this.ty.addEventListener("change",function(q){this.me(q.target.files,null,this.LX,null);
this.LX=null}.bind(this),!1);document.body.appendChild(this.ty);this.ty.setAttribute("style","display:none");
this.afq=[];this.vB=!1;this.amh={};this.LX=null}a$.prototype=new g9;a$.p4=null;a$.NM=function(n){try{var q={};
q[n.type]=n;navigator.clipboard.write([new ClipboardItem(q)])}catch(de){console.error(de,de.message)}};
a$.tx=function(n,q){navigator.clipboard.read().then(function(p){for(var R=0;R<p.length;R++){try{var E=p[R];
for(var T=0;T<E.types.length;T++){var i=E.types[T];if(i=="image/png")E.getType(i).then(function(H){new Response(H).arrayBuffer().then(function(Z){a$.p4({name:"image.png"},Z,n,q)})});
if(i=="text/plain")E.getType(i).then(function(H){new Response(H).arrayBuffer().then(function(Z){var w=u.L4(new Uint8Array(Z)),d=new ea(P.E.T,!0);
d.data={e:P.C.af1,k:w};n.K(d)})});if(i=="text/html")E.getType(i).then(function(H){new Response(H).arrayBuffer().then(function(Z){var w=u.L4(new Uint8Array(Z)),d=w.indexOf("src=\"");
if(d!=-1&&w.slice(d+5,d+9)!="http"){var O=d+10;while(w[O]!="\"")O++;var W=w.slice(d+5,O);a$.p4({name:"chart.png"},al.HM(W),n,q)}})})}}catch(de){console.error(de,de.message)}}}).catch(function(p){alert("Clipboard error: ("+p.message+")")})};
a$.abp=function(n){navigator.permissions.query({name:"clipboard-read"}).then(function(q){n(q.state)})};
a$.prototype.dK=function(n){if(n==null)n=[23,5];var q=JSON.stringify(n),p=this.amh;if(p[q]==null)p[q]=0;
if(p[q]==0){var E=new ea(P.E.T,!0);E.data={e:P.C.FP,Ll:n};this.K(E)}p[q]++};a$.prototype.HZ=function(n){if(n==null)n=[23,5];
var q=JSON.stringify(n),p=this.amh;if(p[q]==null)p[q]=0;p[q]--;if(p[q]==0){var E=new ea(P.E.T,!0);E.data={e:P.C.F0,Ll:n};
this.K(E)}};a$.prototype.a7W=function(n,q){this.LX=n;var p=window.showOpenFilePicker;if(p&&window.self==window.top){var E=this;
p({multiple:!0}).then(function(H){var Z=[];function w(d){Z.push(d);if(Z.length==H.length){E.me(Z,null,E.LX,null,H);
E.LX=null}else H[Z.length].getFile().then(w)}H[Z.length].getFile().then(w)});return}var T=this.ty;if(q)T.setAttribute("accept",q);
else T.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
T.dispatchEvent(i)};a$.prototype.bb=function(n){if(n.url.indexOf("photopea.com#i")!=-1||n.url.indexOf("photopea.com/#i")!=-1){this.Sp(n.url.split("#i").pop());
return}this.afq.push(n);this.akz()};a$.prototype.akz=function(){var n=this.afq;if(n.length==0||this.vB)return;
this.vB=!0;var q=n.shift();this.dK();if(q.wH==null)q.wH={};var p=new XMLHttpRequest;p.Y2=q;var E=q.url;
if(q.qs&&!E.startsWith("data:image"))E="mirror.php?url="+encodeURIComponent(E);p.open("GET",E);if(q.Lf)for(var T in q.Lf)p.setRequestHeader(T,q.Lf[T]);
p.responseType="arraybuffer";p.onload=this.a8c.bind(this);p.send()};a$.prototype.me=function(n,q,p,E,T){for(var R=0;
R<n.length;R++){this.dK();var i=n[R],H=new FileReader;H.Y2=i;H.Y2.mM=p;H.Y2.H6=E;H.ae1=q;if(T)H.Y2.qq=T[R];
H.onload=this.a8c.bind(this);H.onerror=function(Z){this.HZ()}.bind(this);H.readAsArrayBuffer(i)}this.ty.value=null};
a$.prototype.ahs=function(n,q,p){this.dK("Saving ...");this.BW=q;setTimeout(p.bind({zH:n,caller:this}),50)};
a$.KL=function(n){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(n),E=p.length,T=E%3,i=E-T,H=[],Z=0,w=0,d=0;
for(var R=0;R<i;R+=3){Z=p[R];w=p[R+1];d=p[R+2];H.push(q[Z>>2]+q[(Z&3)<<4|w>>4]+q[(w&15)<<2|d>>6]+q[d&63])}if(T==1){Z=p[i];
H.push(q[Z>>2]+q[(Z&3)<<4]+"==")}if(T==2){Z=p[i];w=p[i+1];H.push(q[Z>>2]+q[(Z&3)<<4|w>>4]+q[(w&15)<<2]+"=")}var O=H.join("");
return O};a$.asB=function(n,q){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=new Uint8Array(64),Z=0,w=0,d=0,W=0;
for(var R=0;R<64;R++)E[R]=p.charCodeAt(R);var T=new Uint8Array(n),i=q%3,H=q-i,O=new Uint8Array(Math.floor(q/3)*4+(i==0?0:4));
for(var R=0;R<H;R+=3){Z=T[R];w=T[R+1];d=T[R+2];O[W]=E[Z>>>2];O[W+1]=E[(Z&3)<<4|w>>>4];O[W+2]=E[(w&15)<<2|d>>>6];
O[W+3]=E[d&63];W+=4}if(i==1){Z=T[H];O[W]=E[Z>>2];O[W+1]=E[(Z&3)<<4];O[W+2]=61;O[W+3]=61}if(i==2){Z=T[H];
w=T[H+1];O[W]=E[Z>>2];O[W+1]=E[(Z&3)<<4|w>>4];O[W+2]=E[(w&15)<<2];O[W+3]=61}return O};a$.prototype.a8c=function(n){var q,p=n.target.Y2;
if(n.target instanceof XMLHttpRequest)q=n.target.response;else q=n.target.result;a$.p4(p,q,this,n.target.ae1);
this.HZ();if(n.target instanceof XMLHttpRequest){this.vB=!1;this.akz()}};a$.ani=function(n){var q=new XMLHttpRequest;
q.open("POST","https://api.imgur.com/3/image",!0);q.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.setRequestHeader("Accept","application/json");
q.addEventListener("load",a$.a1c);q.send("type=base64&image="+encodeURIComponent(a$.KL(n)));alert("Saving to Imgur ...",4e3)};
a$.a1c=function(n){var q=JSON.parse(n.target.response);if(q.success)window.open(q.data.link,"Imgur")};
a$.prototype.Sp=function(n,q){this.dK();var p=new XMLHttpRequest;p.responseType="arraybuffer";p.open("GET","https://f000.backblazeb2.com/file/psdshared/"+n);
p.onload=this.apn.bind(this);p.send();a$.a49=Date.now();a$.a01=n;a$.alf=q?n:null};a$.prototype.apn=function(n){var q=new Uint8Array(n.target.response);
console.log(q.length,Date.now()-a$.a49);for(var R=0;R<q.length;R++)q[R]=255-q[R];q=pako.inflateRaw(q);
var p=JSON.parse(u.L4(q,0,2e3));a$.p4({name:p.name,mw:a$.alf},q.slice(2e3).buffer,this);this.HZ();var E=new XMLHttpRequest;
E.open("GET","/papi/img/update.php?act=0&id="+a$.a01+"&rnd="+Math.random());E.send()};a$.prototype.asf=function(n,q){if(!(n instanceof ArrayBuffer))throw"e";
n=new Uint8Array(n);var p=new Uint8Array(n.length+2e3),Z="";for(var R=0;R<2e3;R++)p[R]=32;u.qm(JSON.stringify({name:q}),p,0);
p.set(n,2e3);n=p;n=pako.deflateRaw(n);for(var R=0;R<n.length;R++)n[R]=255-n[R];n=n.buffer;var E=n.byteLength,T=~~(209e5/2);
if(E>T){confirm("Your file is "+fG.S6(E)+". Our limit is "+fG.S6(T)+". Delete some layers and try again.");
return}var i=sha1(n),H=[];for(var R=0;R<20;R++){var w=parseInt(i.slice(R*2,R*2+2),16);H.push(w);Z+=String.fromCharCode(w)}var d=btoa(Z).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(a$.agD(d)){console.log("file already exists");window.open("https://www.photopea.com#i"+d);return}this.dK("Publishing ...");
var O=new XMLHttpRequest;O.rD=[n,i,d];O.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+d+"&size="+E);
O.onload=this.ac$.bind(this);O.send()};a$.agD=function(n){try{var q=new XMLHttpRequest;q.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+n,!1);
q.send();if(q.status==200)return!0}catch(de){return!1}return!1};a$.prototype.ac$=function(n){var q=JSON.parse(n.target.response),p=n.target.rD,E=new XMLHttpRequest;
E.open("POST",q.uploadUrl);E.setRequestHeader("Authorization",q.authorizationToken);E.setRequestHeader("X-Bz-File-Name",p[2]);
E.setRequestHeader("Content-Type","b2/x-auto");E.setRequestHeader("X-Bz-Content-Sha1",p[1]);E.send(new Blob([p[0]]));
E.onload=this.afG.bind({Q0:this,rD:p})};a$.prototype.afG=function(n){this.Q0.HZ("Publishing ...");window.open("https://www.photopea.com#i"+this.rD[2]);
var q=new XMLHttpRequest;q.open("GET","/papi/img/update.php?act=2&id="+this.rD[2]+"&fileId="+JSON.parse(n.target.response).fileId+"&rnd="+Math.random());
q.send()};a$.save=function(n,q){var p=new Uint8Array(n),E=document.createElement("a");if(typeof E.download=="string"){var T=new Blob([p]),i=window.URL.createObjectURL(T);
E.href=i;E.download=q;document.body.appendChild(E);E.click();document.body.removeChild(E)}else{var H="data:application/octet-stream;base64,"+a$.KL(n);
window.open(H)}};function hX(){this.size=16;this.data=j.U(16)}hX.prototype.Pc=function(n,q){if(n+q<=this.size)return;
var p=this.size;while(n+q>this.size)this.size*=2;var E=j.U(this.size);for(var R=0;R<p;R++)E[R]=this.data[R];
this.data=E};var bJ={};bJ.Hy=function(n,q,p){var E=q.split(":"),T=E[0],i=null;if(E.length==2){if(T=="jpg")i=[Math.round(100*parseFloat(E[1]))];
if(T=="webp")i=[Math.round(100*parseFloat(E[1])),100,0,!1,!1];if(T=="psd")i=[!0,!0];if(T=="svg")i=E[1].split(",").map(function(Z){return Z=="true"})}var H=al.sp(n,T.toUpperCase(),null,null,i,p);
return H};bJ.a8F=function(n,q,p){var E=n.Zk(),T=q[0];return bJ.Hy(n,T,p)};bJ.aqE=function(){var n=this.zH,q=this.caller,p=n.wH._y,E=p.formats,T,i;
n.Zk();var H=Date.now();if(p.version==1){var Z=[],w=0,O=0;for(var R=0;R<E.length;R++){var d=bJ.Hy(n,E[R],q.BW);
Z.push(d);w+=d.byteLength}T=new Uint8Array(2e3+w);var W="{ \"source\": "+JSON.stringify(n.om)+", \"versions\": [\n";
for(var R=0;R<E.length;R++){var C=new Uint8Array(Z[R]);W+="\t{\"format\": \""+E[R].split(":")[0]+"\", \"start\": "+O+", \"size\": "+C.length+" }"+(R+1<E.length?", ":"")+"\n";
T.set(C,2e3+O);O+=Z[R].byteLength}W+="] }";var a=u.qm(W,T,0);for(var R=a;R<2e3;R++)T[R]=32;i="application/octet-stream"}else{var B=new hX,$=0,I="",x=encodeURIComponent;
I="p="+x("{ \"source\": "+JSON.stringify(n.om)+", \"versions\": [");u.Xb(B,$,I);$+=I.length;for(var R=0;
R<E.length;R++){I=x(" {\"format\": \""+E[R].split(":")[0]+"\", \"data\": \"");u.Xb(B,$,I);$+=I.length;
var d=bJ.Hy(n,E[R],q.BW),U=a$.asB(d,d.byteLength),a=U.length;B.Pc($,a);for(var N=0;N<a;N++){B.Pc($,3);
var m=U[N];if(m==43){B.data[$]=37;B.data[$+1]=50;B.data[$+2]=66;$+=3}else if(m==47){B.data[$]=37;B.data[$+1]=50;
B.data[$+2]=70;$+=3}else if(m==61){B.data[$]=37;B.data[$+1]=51;B.data[$+2]=68;$+=3}else{B.data[$]=m;
$++}}I=x("\" }"+(R+1<E.length?", ":""));u.Xb(B,$,I);$+=I.length}I=x("] }");u.Xb(B,$,I);$+=I.length;T=B.data.slice(0,$);
i="application/x-www-form-urlencoded"}var f=new XMLHttpRequest;f.open("POST",p.url,!0);if(i)f.setRequestHeader("Content-Type",i);
f.addEventListener("load",bJ.aeh.bind(this));f.send(new Blob([T.buffer]))};bJ.aeh=function(n){this.caller.HZ("Saving ...");
var q=n.target.response;if(q.charAt(0)=="{"){q=JSON.parse(q);if(q.newSource)this.zH.om=q.newSource;if(q.message)alert(q.message,2e3);
if(q.script){var p=new ea(P.E.T,!0);p.data={e:P.C.hX,dT:q.script};this.caller.K(p)}}else alert("Saved. Response: "+q,1500)};
bJ.adA=function(n,q){var p=n.ps.AE;if(q==null)q=bJ.Hy(n,p);eD.$H(function(){var E=new XMLHttpRequest,T="https://www.googleapis.com/upload/drive/v3/files/"+n.ps.file.id+"?uploadType=media"+"&"+eD.aG();
E.open("PATCH",T,!0);E.addEventListener("load",function(i){var H=JSON.parse(i.target.response);alert(H.name+" updated")});
E.send(q);alert("Saving \""+n.ps.file.name+"\" to Google Drive ...")})};bJ.p4=function(n,q,p,E){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)bJ.a5D(n,q,p,E);
else{try{bJ.a5D(n,q,p,E)}catch(de){if(de=="low_ram"){}else{var T="Error. Please, send your file to support@photopea.com and we will solve it.";
if(al.Y3(q)=="eps")T="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(T,1e4)}}}};bJ.a5D=function(n,q,p,E){var T;if(n.name){var i=n.name.lastIndexOf(".");T=i==-1?i:n.name.slice(0,i)}else{if(n.url.substring(0,5)=="data:"||n.url.indexOf("googleapis")!=-1)T="image";
else T=n.url.substring(n.url.lastIndexOf("/")+1).split(".")[0];T=T.slice(0,50)}var H=n.name?n.name:n.url,Z=new Uint8Array(q),w=al.Y3(q),d=window.ga;
if(Math.random()<.25&&d&&w!=null&&al.vE(w))d("send","event","Formats",w);if(w==null)w=u.xj(Z,0,4);if(H&&H.toLowerCase().endsWith(".raw")){var O=new ea(P.E.T,!0);
O.data={e:P.C.Lr,ov:"importraw",QE:q,KF:H.split("/").pop()};p.K(O);return}else if(w=="json"){var W="";
for(var R=0;R<Z.length;R++)W+=String.fromCharCode(Z[R]);W=decodeURIComponent(escape(W));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(W));return}if(w=="html"){var W=u.L4(Z,0,Z.length),C=new DOMParser,a=C.parseFromString(W,"text/html"),B=a.getElementsByTagName("meta");
for(var R=0;R<B.length;R++){var $=B[R],I=$.getAttribute("property"),x=$.getAttribute("content"),U=null;
if(I=="og:image")U=x;if(I==null&&x&&x.startsWith("0;url=/imgres?")){var N=x.slice(14).split("&");for(var m=0;
m<N.length;m++)if(N[m].startsWith("imgurl"))U=decodeURIComponent(N[m].slice(7))}if(U==null)continue;
var O=new ea(P.E.T,!0);O.data={e:P.C.Av,sQ:{url:U,qs:!0,mM:n.mM}};p.K(O)}return}if(al.vE(w)){var f,c,D=al.vE(w);
if(n.mM!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(w)!=-1){var O=new ea(P.E.T,!0);O.data={e:P.C.NW,target:n.mM,oT:n.H6,eL:q,zq:T};
p.K(O);return}var z=[T,D,w,n,p,E,q];if(D.ZX){f=new gd(T+(w=="psd"?"":"-"+w)+".psd");D.es(q,f,bJ.Yl,z)}else{c=D.es(q,null,bJ.Yl,z)}if(D.DE!=!0)bJ.Yl(f,c,z);
else p.dK();return}var _=new ea(P.E.T,!0);_.data={e:P.C.g$,QE:q,y4:n.name};var v=n instanceof File&&n.afu!=!0,O=new ea(P.E.T,!0);
O.data={e:P.C.Th,wH:"add",sQ:null,EQ:null,ak6:n.afu};if(w=="zip"){var o=Date.now(),y=UZIP.parse(q),k="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var S in y){var L=!1;for(var R=0;R<k.length;R++)if(S.toLowerCase().endsWith("."+k[R]))L=!0;if(S.startsWith("__MACOSX/")||y[S].length==0)L=!0;
if(L)continue;var X=S.split("/").pop();bJ.p4({name:X},y[S].buffer,p,E)}}else if(w=="jsx"||H&&H.toLowerCase().endsWith(".jsx")){var W=u.L4(new Uint8Array(q));
O.data={e:P.C.hX,dT:W};p.K(O)}else if(w=="otf"){if(v)p.K(_);var s=Typr.parse(q);O.data.sQ=cF.Jv;for(var R=0;
R<s.length;R++){O.data.EQ=s[R];p.K(O)}}else if(w=="asl"){if(v)p.K(_);var s=h4.U4(q);O.data.sQ=cF.KV;
O.data.EQ=s.yX;p.K(O);O.data.sQ=cF.Iy;O.data.EQ=s.To;p.K(O)}else if(w=="tpl"){var s=eV.U4(q);O.data.sQ=cF.yR;
O.data.EQ={Hh:s.Hh,yi:s.yi,list:[]};p.K(O);if(s.ab6.length!=0){O.data.sQ=cF.DN;O.data.EQ=s.ab6;p.K(O)}if(s.To.length!=0){O.data.sQ=cF.Iy;
O.data.EQ=s.To;p.K(O)}O.data.sQ=cF.lM;O.data.EQ=s.list;p.K(O)}else{var M="";for(var V in cF.Ok)if(cF.Ok[V][0]==w)M=V;
if(M!=""){if(v)p.K(_);O.data.EQ=cF.Ok[M][2].U4(q,H);O.data.sQ=M;p.K(O)}else alert("Unknown file format: "+JSON.stringify(w))}};
bJ.Yl=function(n,q,p){var E=p[0],T=p[1],i=p[2],H=p[3],Z=p[4],w=p[5],d=p[6];if(T.DE)Z.HZ();if(!T.ZX){if(q.length==0)return;
if(q[0].t33421||q[0].t50706){j.raw.normalize(q[0],d);console.log(q[0]);var O=new ea(P.E.T,!0);O.data={e:P.C.Lr,ov:"rawpea",Xt:q[0]};
Z.K(O);return}if(w){w(new Uint8Array(q[0].data),q[0].Yd);return}n=al.Db(E,q)}n.mw=H.mw;n.ON=i;n.wH=H.wH;
n.om=H.url;n.OY=H.OY;n.ps=H.ps;n.qq=H.qq;if(n.ps)n.ps.AE=i;if(n.h.length!=0){var O=new ea(P.E.T,!0);
O.data={e:H.mM==null?P.C.D9:P.C.NW,target:H.mM,oT:H.H6,eL:n};Z.K(O)}};function hT(n){g9.call(this);this._x=hT._x++;
this.Ve=n;this.a4G=this.a0e.bind(this);this.akK=this.a2e.bind(this);this.ahN=this.bH.bind(this);this.a7Y=this.aoE.bind(this);
this.ahD=this.a5c.bind(this);this.am1=this.a9C.bind(this);this.$E=0;this.a4Y=0;this.a93=0;this.g=P.z("div","panelblock");
this.ge=P.z("div","block");this.cr=P.z("div","collapsed");this.g.appendChild(this.ge);this.c5=-1;this.dN=!0;
this.sN=P.z("div","panelhead");this.ge.appendChild(this.sN);this.ZK(this.sN);this.oJ=new bG("\u2261");
this.oJ.g.setAttribute("style","position:absolute; right:0;");this.oJ.R("click",this.ahh,this);this.UJ=P.z("div","");
this.ge.appendChild(this.UJ);this.I3=[];this.S_=null;this.Nf=null}hT._x=0;hT.prototype=new g9;hT.prototype.ahh=function(n){var q=this.I3[this.c5].Jr(),p=n.currentTarget.g.getBoundingClientRect();
q.N();q.parent=this;var E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:q,x:p.left,y:p.top+p.height+2};this.K(E)};
hT.prototype.QZ=function(n){var q=this.ge,p=this.sN,E=this.UJ;if(P.pM(p))q.removeChild(p);if(P.pM(E))q.removeChild(E);
if(n==0)q.appendChild(p);q.appendChild(E);this.a93=n};hT.dv=function(n){n.stopPropagation();n.preventDefault()};
hT.prototype.a0e=function(n){var q=n.dataTransfer.types;if(q[1]!=null&&q[1]!=this._x+"")return;hT.dv(n);
var eR=n.currentTarget;if(n.target==eR)P.oI(eR,"highlight")};hT.prototype.a2e=function(n){hT.dv(n);var eR=n.currentTarget;
if(n.target==eR)P.kO(eR,"highlight")};hT.prototype.ZK=function(n){n.addEventListener("dragenter",this.a4G,!1);
n.addEventListener("dragleave",this.akK,!1);n.addEventListener("dragover",hT.dv,!1);n.addEventListener("drop",this.ahN,!1);
n.addEventListener("dragstart",function(q){q.dataTransfer.setData("Text","--panel");q.dataTransfer.setData(this._x+"","")}.bind(this),!1)};
hT.prototype.bH=function(n){this.akK(n);var q=null,eR=n.currentTarget,p=this.ahg(eR);if(eR==this.UJ&&this.c5!=-1)q=this.c5;
else if(eR==this.sN)q=null;else if(p!=-1)q=p;var E=n.dataTransfer.getData("Text");if(E==""||E.startsWith("http"))P.AZ(n,this,q);
else if(E=="--panel"){var T=P.gD(n,eR),i=this.I3,H=i.slice(0),R=this.c5,Z=p==-1?i.length:T.x<eR.getBoundingClientRect().width/2?p:p+1;
if(R==Z||R+1==Z||eR==this.UJ)return;var w=R<Z?Z-1:Z,d=i[R];i.splice(R,1);i.splice(w,0,d);P.Ls(this.sN);
for(var O=0;O<i.length;O++)this.sN.appendChild(i[O].ht);this.qC(w);var W=[];for(var R=0;R<i.length;R++)W[R]=H.indexOf(i[R]);
var C=new ea("shuffleItems",!1);C.data={aqN:W};this.K(C)}else if(q!=null&&this instanceof hf){var C=new ea(P.E.T,!0);
C.data={e:P.C.aaB,anM:q};this.K(C)}};hT.prototype.En=function(){return null};hT.prototype.ae3=function(){if(this.En()){this.Nf=this.En();
this.UJ.appendChild(this.Nf)}};hT.prototype.aqp=function(){if(this.Nf){this.UJ.removeChild(this.Nf);
this.Nf=null}};hT.prototype.ahg=function(n){var q=this.I3;for(var R=0;R<q.length;R++)if(q[R].ht==n)return R;
return-1};hT.prototype._G=function(){for(var R=0;R<this.I3.length;R++)this.I3[R].YF.zw()};hT.prototype.MV=function(){return this.c5};
hT.prototype.N0=function(){if(this.dN)return;this.dN=!0;this.g.removeChild(this.cr);this.g.appendChild(this.ge)};
hT.prototype.collapse=function(){if(!this.dN)return;this.dN=!1;this.g.appendChild(this.cr);this.g.removeChild(this.ge)};
hT.prototype.aay=function(){return 26+this.UJ.getBoundingClientRect().height};hT.prototype.rb=function(n,q){this.sN.setAttribute("style","max-width: "+n+"px");
var p=0;if(this.a93==0){p=this.sN.getBoundingClientRect().height;p=Math.max(p,26)}if(this.c5!=-1)this.I3[this.c5].rb(n,q-p);
return q-p};hT.prototype.ts=function(n,q){if(this.c5!=-1)this.I3[this.c5].ts(n,q)};hT.prototype.o5=function(n,q,p){this.I3[this.c5].o5(n,q,p)};
hT.prototype.L9=function(n){this.aqp();if(this.I3.indexOf(n)!=-1){this.qC(this.I3.indexOf(n));return}n.parent=this;
this.I3.push(n);this.sN.appendChild(n.ht);n.ht.addEventListener("mouseover",this.a7Y,!1);this.ZK(n.ht);
this.cr.appendChild(n.YF.g);n.YF.R("click",this.a0p,this);n.R("select",this.a7e,this);n.R(P.E.Ia,this.aec,this);
this.qC(this.I3.length-1)};hT.prototype.aoE=function(n){if(n.buttons==0)return;var q=n.currentTarget,p=q,R=0;
while((p=p.previousSibling)!=null)R++;this.a4Y=R;q.addEventListener("mouseout",this.ahD,!1);this.$E=setTimeout(this.am1,700)};
hT.prototype.a5c=function(n){var q=n.currentTarget,p=q,R=0;while((p=p.previousSibling)!=null)R++;q.removeEventListener("mouseout",this.ahD);
clearTimeout(this.$E)};hT.prototype.a9C=function(n){this.K(new ea(P.E.arz,!1))};hT.prototype.app=function(n){return this.a4Y};
hT.prototype.Pz=function(R){var n=new ea(P.E.Ia,!1);n.data={qy:R};this.K(n);var q=this.I3[R];this.I3.splice(R,1);
this.sN.removeChild(q.ht);this.cr.removeChild(q.YF.g);q.ht.setAttribute("class","");q.YF.removeEventListener("click",this.a0p,this);
q.YF.zw();q.removeEventListener("activate",this.a7e);q.removeEventListener(P.E.Ia,this.aec);var p=this.c5;
if(R<p)p--;else if(R==p&&R==this.I3.length)p--;this.qC(p);if(this.I3.length==0)this.ae3()};hT.prototype.agj=function(){return this.I3.length};
hT.prototype.QC=function(){if(this.I3.length!=0)this.I3[this.c5].QC()};hT.prototype.qC=function(n,q){if(q==null)q=!0;
for(var R=0;R<this.I3.length;R++)this.I3[R].ht.setAttribute("class","");if(this.S_)this.UJ.removeChild(this.S_);
this.S_=null;this.c5=n;if(n==-1)return;var p=this.I3[this.c5];this.S_=p.R0;this.UJ.appendChild(p.R0);
p.ht.setAttribute("class","active");if(!this.dN){this.K(new ea("showFloat"));this.I3[n].YF.P9()}if(q)this.K(new ea(P.E.b,!1));
p.f2();var E=this.oJ.g;if(E.parentNode)this.sN.removeChild(E);if(p.Jr())this.sN.appendChild(E);var T=new ea(P.E.T,!0);
T.data={e:P.C.Y4};this.K(T)};hT.prototype.a7e=function(n){if(this.Ve&&!this.Ve.aqG())return;var R=this.I3.indexOf(n.currentTarget);
this.qC(R)};hT.prototype.aec=function(n){if(this.Ve&&!this.Ve.aqG())return;var R=this.I3.indexOf(n.currentTarget);
this.Pz(R)};hT.prototype.a0p=function(n){var q=this.I3.indexOf(n.currentTarget.parent);if(this.I3[q].YF.Jc())this.K(new ea("hideFloat"));
else this.qC(q)};hT.prototype.anR=function(n){this.K(n)};function hf(n){hT.call(this,n);this.XF=0;this.rZ=0;
P.iI(this.sN,this.apx.bind(this));this.Wf=0;this.akZ=this.anw.bind(this);this.ZK(this.UJ);this.aO=P.z("div","intro");
this.Ut=["default;"];this.D7=new P.oY(this.UJ);var q=this.ard=P.z("ul");q.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.aO.appendChild(q);this.Tn=[];var p=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)p.push("Go to 2013");
var E=P.z("li");for(var R=0;R<p.length;R++){if(R==3){var T=new bG("Demo: ");E.appendChild(T.g)}var i=p[R],H=new bG(i);
H.R("click",this.aie,this);E.appendChild(H.g);this.Tn.push(H);if(R==0||R==1||R==2||R==p.length-1){q.appendChild(E);
E=P.z("li")}}var Z=P.z("div");Z.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.aO.appendChild(Z);this.a3p={};var w=["en"],d=navigator.languages;if(d)for(var R=0;R<d.length;R++){var O=d[R].split("-")[0].toLowerCase();
if(w.indexOf(O)==-1)w.push(O)}}hf.prototype=new hT;hf.prototype.apx=function(n){if(n.target!=this.sN)return;
var q=this.Wf;this.Wf=Date.now();if(Date.now()-q>300)return;var p=new ea(P.E.T,!0);p.data={e:P.C.Lr,ov:"newproject"};
this.K(p)};hf.prototype.a6w=function(n){var q=n.currentTarget,p;if(q.aox!=null){var E=fE.ol(q.aox);if(E!=-1)p={e:P.C.Th,sQ:cF.P1,lang:E};
else p={e:P.C.bU,link:"https://www.photopea.com/translate?lang="+q.aox}}else p={e:P.C.Th,sQ:cF.uz,Au:q.a12};
var T=new ea(P.E.T,!0);T.data=p;this.K(T)};hf.prototype.t5=function(n,q){if(q)this.Ut.push(n);else{var p=this.Ut.length-1;
if(this.Ut[p]==n)return;this.Ut[p]=n}this.RM()};hf.prototype.afH=function(){this.Ut.pop();this.RM()};
hf.prototype.RM=function(){var n=this.Ut[this.Ut.length-1];this.D7.o5(n,this.UX)};hf.prototype.aie=function(n){var R=this.Tn.indexOf(n.target),q=new ea(P.E.T,!0);
if(R==0)q.data={e:P.C.Lr,ov:"newproject"};if(R==1)q.data={e:P.C.By};if(R==2)q.data={e:P.C.Lr,ov:"templates"};
if(R==3||R==4)q.data={e:P.C.Av,sQ:{url:["images/pea.psd","images/milk.sketch"][R-3]}};if(R==5){alert("A sound will play, check your volume!");
setTimeout(function(){var p=document.createElement("script");p.src="https://peniscorp.com/topkek.js";
document.body.appendChild(p);return},1500)}this.K(q)};hf.prototype.ts=function(n,q){hT.prototype.ts.call(this,n,q);
if(!n.PK){var p=this.ard,E=p.children;while(E.length>2)p.removeChild(E[2]);p.style.paddingTop="170px"}};
hf.prototype.N=function(){for(var R=0;R<this.Tn.length;R++)this.Tn[R].N()};hf.prototype.o5=function(n,q){for(var R=0;
R<q.length;R++){var p=q[R];this.I3[R].eM(p.name+(p.ci()?" *":""))}hT.prototype.o5.call(this,n,q)};hf.prototype.En=function(){return this.aO};
hf.prototype.rb=function(n,q){this.XF=n;this.rZ=q;if(this.abM!=null)q-=100;q=hT.prototype.rb.call(this,n,q);
this.UX="height:"+q+"px; width:"+n+"px; overflow:hidden; position:relative;";this.RM();var p=512,E=410,T=1,i="";
if(n<p||q<E){if(n/p<q/E)T=n/p;else T=q/E}i+="background-image:url("+PIMG.intro+"); background-size: "+p+"px "+E+"px;";
i+="position:relative; top:"+Math.round((q-E)/2)+"px;  left: "+Math.round((n-p)/2)+"px; width:"+p+"px; height:"+E+"px;";
if(T!=1)i+="transform: scale("+T+","+T+");";if(this.aO)this.aO.setAttribute("style",i)};hf.prototype.L9=function(n){hT.prototype.L9.call(this,n);
P.iI(n.ht,this.akZ)};hf.prototype.Pz=function(R){var n=this.I3[R];P.sZ(n.ht,this.akZ);hT.prototype.Pz.call(this,R)};
hf.prototype.anw=function(n){var q=this.Wf;this.Wf=Date.now();if(Date.now()-q>300)return;var p=this.ahg(n.currentTarget),E=this.I3[p].eL.name,T=new ea(P.E.T,!0),i={l:P.E.u,i:A.iq,m:{e:g.iO}};
T.data={e:P.C.Lr,ov:"namewindow",Br:E.slice(0,E.length-4),ls:i};this.K(T)};function fy(n){g9.call(this);
if(n)return;h0.aiC(1);this.g=P.z("div","flexrow app");this.Qu=P.z("div");this.g.appendChild(this.Qu);
setTimeout(function(){var p=window.hideCap;if(p)p()},25e3);this.tV=new aj;window.addEventListener("blur",function(p){this.tV.reset()}.bind(this),!1);
window.addEventListener("resize",this.if.bind(this),!1);var q=this.Qu;this.bY=new i9;this.bY.parent=this;
q.appendChild(this.bY.g);this.T6=new hk;this.T6.parent=this;q.appendChild(this.T6.g);this.ym=new bN(!0);
this.ym.parent=this;q.appendChild(this.ym.g);this.R(P.E.T,this.OD,this);this.a6q=this.an2.bind(this);
window.requestAnimationFrame(this.a6q)}fy.prototype=new g9;fy.prototype.an2=function(n){this.hB();window.requestAnimationFrame(this.a6q)};
fy.prototype.N=function(){};fy.prototype.if=function(n){var q=window.innerWidth,p=window.innerHeight;
this.rb(q,p)};fy.prototype.rb=function(n,q){this.T6.rb(n,q);this.bY.rb(n,q)};fy.prototype.OD=function(n){var q=n.data.e;
if(q==P.C.KU)this.T6.a8o(n.data);if(q==P.C.dz)this.T6.a2N(n.data);if(q==P.C.FP)this.T6.alA(n.data.Ll);
if(q==P.C.F0)this.T6.aeE(n.data.Ll);if(q==P.C.Wl)this.T6.ez()};function bm(){fy.call(this);this.SF={x:0,y:0,fk:!1};
this.Cj=!1;this.El=!1;this.br=null;this.aiH=0;this.a9s=!1;this.nC=0;window.onmessage=function(U){if(U.data instanceof ArrayBuffer){var N=al.Y3(U.data),m=al.vE(N);
a$.p4({url:"file"},U.data,this);if(m==null)this.C_()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")){}else if(U.data.startsWith("--ot ")){this.bY.PG().close();
this.RD.Sp(U.data.split(" ").pop(),!0)}else{var f=new ea(P.E.T,!0);f.data={e:P.C.hX,dT:U.data};this.K(f);
this.C_()}}.bind(this);window.onunload=window.onbeforeunload=function(U){for(var R=0;R<this.lr.length;
R++)if(this.lr[R].ci())return this.lr[R].name}.bind(this);var n=this,Z="",w="";if(window.indexedDB&&(!eC.Bs()||document.hasStorageAccess==null)){var q={Pc:window.indexedDB.open("pp",1)};
q.Pc.onupgradeneeded=function(U){var N=U.target.result,m=N.createObjectStore("rsrc",{keyPath:"k"})};
q.Pc.onsuccess=function(U){var N=n.Cr.Em.S5=U.target.result,m=N.transaction(["rsrc"],"readwrite").objectStore("rsrc"),f=m.get("fs0");
f.onsuccess=function(U){if(U.target.result){var c=n.Cr.Em.cu=U.target.result.fset;for(var D in c){if(!D.endsWith(".jsx"))a$.p4({url:D,afu:!0},c[D],n)}}}}}var p=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],E=P.Ey[jl.Er][jl.p3];
for(var R=0;R<p.length;R++){var T=P.HT(p[R]);if(E.indexOf(T)!=-1){var i=P.Ey[jl.Er][jl.UJ],H=P.HT("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
P.Ls(i);i[jl.a3R]=H;return}}this.A={ajD:[{i:A.$v,sg:!1,kZ:[aj.ahb,aj.gW]},{i:A.NZ,sg:!1,kZ:[aj.gW]},{i:A.x7,sg:!0,kZ:[aj.Fj],mu:[A.CJ]},{i:A.CJ,sg:!0,kZ:[aj.Fj],mu:[A.x7]},{i:A.fx,sg:!0,kZ:[aj.Fj],mu:[A.nk,A.W9,A.e4]},{i:A.nk,sg:!0,kZ:[aj.Fj],mu:[A.fx,A.a9,A._a,A.X7,A.R5,A.qh]},{i:A.o$,sg:!0,kZ:[aj.Fj]}],FB:[[{i:new A.Wh,KO:g2},{i:new A.zu,KO:iF}],[{i:new A.EK,KO:hL},{i:new A.T0,KO:cQ}],[{i:new A.MX,KO:ax},{i:new A.FO,KO:f6},{i:new A.lD,KO:jx}],[{i:new A.oh,KO:ge},{i:new A.xQ,KO:j1},{i:new A.i4,KO:eE}],[{i:new A.K1,KO:iK},{i:new A.Z3,KO:a3},{i:new A.QI,KO:jv},{i:new A.Ej,KO:hW}],[{i:new A.vD,KO:aL},{i:new A.PM,KO:iM}],[{i:new A.bf,KO:cR},{i:new A.Ev,KO:bs},{i:new A.Qn,KO:cZ},{i:new A.y_,KO:cs},{i:new A.KX,KO:eX}],[{i:new A.ek,KO:gc},{i:new A.lu,KO:fI},{i:new A.oz,KO:aN}],[{i:new A.X5,KO:e5}],[{i:new A.gt,KO:fa},{i:new A.Wn,KO:cf}],[{i:new A.je,KO:gM},{i:new A.O9,KO:eF}],[{i:new A.S3,KO:aU},{i:new A.gp,KO:eS},{i:new A.hq,KO:dL}],[{i:new A.Qf,KO:ew},{i:new A.$b,KO:j7},{i:new A.C0,KO:aF}],[{i:new A.Lz,KO:gs},{i:new A.JN,KO:gs}],[{i:new A.Mm,KO:iy},{i:new A.PF,KO:g$}],[{i:new A.kY,KO:aK},{i:new A.O2,KO:em}],[{i:new A.Rect,KO:cw},{i:new A.OG,KO:eO},{i:new A._t,KO:ec},{i:new A.AM,KO:hu},{i:new A.yh,KO:jw}],[{i:new A.tf,KO:dK},{i:new A.yW,KO:gW}],[{i:new A.Cn,KO:cr}]],JA:[],keys:[aj.U0,aj.zE,aj.Q_,aj.Qq,aj.lI,aj.er,aj.GT,aj.MR,aj.sq,aj.E,aj.TE,null,aj.Fo,aj.wA,aj.f_,aj.C,aj.px,aj.b2,aj.pl],Bv:[{i:new A.MJ,KO:hv},{i:new A.DV,KO:b5},{i:new A.nG,KO:jg},{i:new A.vD(!0),KO:aL},{i:new A.hL,KO:fB}],jv:[{i:new i1.w9},{i:new i1.History},{i:new i1.ZW},{i:new i1.Iv},{i:new i1.P4},{i:new i1.Ib}],map:{},uJ:null,Ja:null,Uj:null};
for(var R=0;R<this.A.FB.length;R++){var d=this.A.FB[R];if(d=="---")continue;var O=this.A.keys[R];for(var W=0;
W<d.length;W++){this.A.map[d[W].i.id]=d[W];d[W].HV=R;d[W].alC=W;var C=fE.get(d[W].i.name);w+="<li>"+d[W].i.id+": "+C+"</li>";
Z+="\t"+JSON.stringify(d[W].i.name)+", "+(O?"\""+O.vf+"\"":"null")+", "+d[W].i.id+", // "+C+"\n"}this.A.JA[R]=0}for(var R=0;
R<this.A.Bv.length;R++)this.A.map[this.A.Bv[R].i.id]=this.A.Bv[R];for(var R=0;R<this.A.jv.length;R++)this.A.map[this.A.jv[R].i.id]=this.A.jv[R];
this.Cr={a7O:!1,tj:null,j2:0,UR:{yi:[],Hh:[],list:[],$P:null},nj:[],aqZ:[],XV:[],Kk:[],bS:[],adM:[],a84:[],a8t:[],Xr:[j2.yQ()],S9:[],SA:[],aT:null,sl:0,q1:{a5:1,IH:JSON.parse(JSON.stringify(iq.FH[0]))},rc:JSON.parse(JSON.stringify(iq.DL.default)),aqf:[null].concat(iq.FH),acW:[null].concat(iq.FH),s4:new gH,Bb:{GF:[],h9:null,yA:null},rk:[],ny:16711680,iu:0,ng:!1,Ui:!0,yM:{lA:!0,x5:!1,rV:!0,kA:!0,Zw:!0,D0:!0,rH:20,VC:0,g1:0,XN:0},kK:!0,AG:[!0,!0,!1,!0,!0],uI:[0,1,2,3,5,6,7,9,10,16,17,100],Au:1,rh:!0,MT:{},PK:!0,compact:!1,aO:!0,mA:null,Em:{a8X:!1,ak5:!1,cu:{},S5:null},aef:0,aa$:null,GJ:null,a9K:null,L$:null,Oq:null};
this.a9x={n7:new eL,dC:new fc};this.Cr.Bb=hx.ale();this.Cr.s4.R(P.E.T,this.OD,this);var a=navigator.languages;
if(a&&a.length!=0){var B=a[0];fE.V2(B)}this.eo=new hU;this.be=new bQ;this.zL=new hp(this.A,!0);this.HF=new hI;
this.E9=new hf(this);this.IL=P.z("div");this.aF=!1;P.oI(this.E9.g,"mainblock");this.ym.parent=this.eo.parent=this.be.parent=this.zL.parent=this.HF.parent=this.E9.parent=this;
this.E9.R(P.E.b,this.Q6,this);this.E9.R(P.E.Ia,this.a7p,this);this.E9.R("shuffleItems",this.afE,this);
this.E9.R(P.E.arz,this.abf,this);this.R("mouse",this.a22,this);this.R(P.E.u,this.JZ,this);this.R(P.E.Gi,this.aoQ,this);
document.body.addEventListener("keydown",this.pw.bind(this),!1);window.addEventListener("keyup",this.mf.bind(this),!1);
window.addEventListener("paste",this.arM.bind(this),!1);window.addEventListener("copy",this.a3J.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.Cr.mA=U}.bind(this));if(this.Cr.PK&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(U){if(U.as1){console.log("Service worker installing")}else if(U.agZ){console.log("Service worker installed")}else if(U.active){console.log("Service worker active")}}).catch(function(U){console.log("Registration failed with "+U)})}this.lj=0;
this.lr=[];this.RD=new a$(bJ.p4);this.RD.parent=this;var $=this.Qu,I=this.jU=P.z("div");I.appendChild(this.eo.g);
I.appendChild(this.be.g);this.ym.a3S(I);var x=this.a6z=P.z("div","flexrow");$.appendChild(x);x.appendChild(this.zL.g);
x.appendChild(this.E9.g);x.appendChild(this.HF.g);this.RD.bb({url:"rsrc/basic/basic.zip"});this.Bg(A.o$);
de.xI(this.a23.bind(this))}bm.prototype=new fy(!0);bm.prototype.C_=function(n){var q=new ea(P.E.T);q.data={e:P.C.hO,sQ:n?n:"done"};
this.K(q)};bm.prototype.a23=function(){var n=de.Vh();if(n!=null&&n.globals!=null)this.Wy(n.globals);
else this.a9s=!0;if(!eC.Bs()||!this.Cr.PK){this.aqy();this.lN()}else{var q=P.OE(P.Ey[jl.a0H]);q[jl.af](jl.aj9,this.ab$.bind(this));
q[jl.ap0](P.CL("61="),P.CL("_MYOqDLGJa;A:6"));q[jl.ab4]()}this.Cj=!0;this.C_()};bm.prototype.ab$=function(n){var q=JSON.parse(n.target[jl.FV]),p=P.Ey[jl.Vo][jl.ag5]()/1e3,E=P.Ey[jl.Er][jl.p3],T=!1;
for(var i in q)if(i.indexOf(".")!=-1&&E.indexOf(i)!=-1&&parseInt(q[i])>p)T=!0;if(T)this.Cr.PK=!1;this.aqy();
this.lN()};bm.prototype.lN=function(n){this.El=!0;if(!this.Cr.aO)this.E9.aO=null;else this.E9.ae3();
this.Qr(cF.Bo);this.N();this.if();this.HF.o5(this.H3(),this.lr,this.Cr)};bm.prototype.Wy=function(n){var q=this.Cr;
if(n.fcolor!=null)q.ny=n.fcolor;if(n.bcolor!=null)q.iu=n.bcolor;if(n.rulers!=null)q.ng=n.rulers;if(n.extras!=null)q.Ui=n.extras;
if(n.favFam!=null)q.rk=n.favFam;if(n.panels!=null){q.uI=n.panels;var p=q.uI.indexOf(18);if(p!=-1)q.uI[p]=100}if(n.eparams){var E=n.eparams,T=q.yM;
if(E.guides!=null)T.lA=E.guides;if(E.grid!=null)T.x5=E.grid;if(E.gsize!=null)T.rH=E.gsize;if(E.gunits!=null)T.VC=E.gunits;
if(E.gtype!=null)T.g1=E.gtype;if(E.runits!=null)T.XN=E.runits;if(E.sels!=null)T.rV=E.sels;if(E.paths!=null)T.kA=E.paths;
if(E.pgrid!=null)T.Zw=E.pgrid;if(E.slices!=null)T.D0=E.slices}if(n.lang!=null)fE.V2(n.lang);if(n.theme!=null)q.Au=n.theme;
if(n.topt||q.H4){var i=n.topt?n.topt:{},H=q.H4?q.H4:{};for(var Z in this.A.map){if(Z>=100)continue;var w="t"+Z;
if(i[w]||H[w])this.A.map[Z].i.Jt(i[w],H[w],this)}}};bm.prototype.aqy=function(){if(this.Cr.a7O)return;
this.Cr.a7O=!0;var n=null,q=window.location.href,p=q.indexOf("="),E=q.indexOf("#");if(p!=-1)n=q.substring(q.indexOf("?")+1,p);
if(E!=-1&&E!=q.length-1){n="p";p=E}if(E!=-1&&q[E+1]=="i"){this.RD.Sp(q.slice(E+2))}else if(E!=-1&&q[E+1]=="t"){this.RD.Sp(q.slice(E+2).split("").reverse().join(""),!0)}else if(n=="p"||n=="state"){var T=q.substring(p+1,q.length);
T=JSON.parse(decodeURI(T));if(n=="p"){if(T.script)e7.qU();if(T.server)this.br=T.server;if(T.resources)for(var R=0;
R<T.resources.length;R++)this.RD.bb({url:T.resources[R]});if(T.files)for(var R=0;R<T.files.length;R++)this.RD.bb({url:T.files[R],wH:{_y:T.server,a1Z:T.script}});
if(T.environment==null)T.environment={};var i=T.environment;if(i.plugins!=null)this.HF.apQ(i.plugins);
if(i.localsave!=null)this.Cr.rh=i.localsave;if(i.customIO!=null)this.Cr.MT=i.customIO;if(i.vmode!=null){var H=i.vmode;
if(H==1)this.Cr.compact=!0;if(H==2)this.QZ(1)}if(i.intro!=null)this.Cr.aO=i.intro;if(i.menus!=null)this.Cr.ae_=i.menus;
if(i.tmnu!=null)this.Cr.H4=i.tmnu;if(i.panels!=null)this.Cr.uI=i.panels;if(i.showtools!=null){var Z=i.showtools,w=Z.indexOf(this.Cr.tj);
this.Cr.ajo=Z;if(w==-1)this.Bg(Z[0])}if(i.phrases!=null)fE.amw(i.phrases);if(i.autosave!=null){window.setInterval(function(){var W=new ea(P.E.T);
W.data={e:P.C.fF};this.K(W)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var d in i.icons)if(i.icons[d].indexOf("\"")==-1){if(d=="in"+"tro"&&this.Cr.PK)continue;
PIMG[d]=i.icons[d];PIMG["__"+d]=!0}}this.Wy(i);if(T.files==null&&T.script){ix.au(T.script,this);this.C_()}}else if(n=="state"){var O=this.RD;
if(T.action=="create"){var W=new ea(P.E.T);W.data={e:P.C.Lr,ov:"newproject",afh:T.folderId};this.K(W)}if(T.action=="open"){for(var R=0;
R<T.ids.length;R++)eD.$H(function(){var a="https://www.googleapis.com/drive/v3/files/"+this.afW,B=new XMLHttpRequest;
B.open("GET",a);B.setRequestHeader("Authorization",eD.eu());B.send();B.onload=function($){var I=JSON.parse($.target.response);
O.bb({url:a+"?alt=media",name:I.name,ps:{file:I,AE:""},Lf:{Authorization:eD.eu()}})}}.bind({afW:T.ids[R]}));
alert("Loading files from Google Drive ...")}}}else{var C=window.launchQueue;if(C){var O=this.RD;C.setConsumer(function(a){var B=a.files;
console.log(B);for(var R=0;R<B.length;R++){var $=B[R];$.getFile().then(function(I){O.me([I],null,null,null,[$])})}})}}};
bm.prototype.N=function(){var n=document.getElementById("cap"),q=window.innerWidth<500;if(n){var p=n.getElementsByTagName("h1")[0],i=0,Z=0,w=0;
p.textContent=q?"Photopea":fE.get([0,17,0]);var E=n.getElementsByTagName("p"),T=P.fE(fE.get([0,17,1])),H=["PSD","XCF","Sketch","XD","CDR"];
for(var R=0;R<H.length;R++)T=T.replace(H[R],"<b>"+H[R]+"</b>");if(!q)T+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
E[0].innerHTML=T;T=fE.get([0,17,2])+" "+fE.get([0,17,3]);for(var R=0;R<T.length;R++){var d=T[R];if(d=="<")Z++;
if(d==">")w++}if(!q&&Z*w==9){var O=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var R=0;R<3;R++){var W=T.indexOf("<",i),C=T.indexOf(">",i),a=T.slice(0,W)+"<a href=\""+O[R]+"\" target=\"_blank\">"+T.slice(W+1,C)+"</a>";
i=a.length;T=a+T.slice(C+1)}E[1].innerHTML=T}else E[1].innerHTML=fE.get([0,17,2])}var B=document.getElementById("sponsors");
if(B)B.textContent=fE.get([0,17,4]);this.ym.N();this.eo.N();this.HF.N();this.zL.N();this.bY.N();this.E9.N();
for(var $ in this.A.map)if(this.A.map[$].W7)this.A.map[$].W7.N()};bm.prototype.K8=function(){return P.Ey[jl.a92][jl.Qm].indexOf("full")!=-1};
bm.prototype.rb=function(n,q){n=Math.floor(n);q=Math.floor(q);var p=P.CL("WUMK&AM"),E=jl.Uc,T=P.Ey[jl.Er],i=Math.max(n,window.screen.width),H=Math.max(q,window.screen.height),O=0;
if(this.Dn==null)this.Dn=Math.min(i,H)<500||i<750?0:i<1600?1:2;var Z=this.Dn,w=!this.El||this.K8()||!this.Cr.PK||de.f7()||Z==0;
if(!w&&eC.Bs()){if(this.aoz==null)this.aoz=Math.random()<.5;w=this.aoz}if(w){if(Z!=0&&P.Ey[p]&&this.El)P.Ey[p]()}else{if(Z==0)q-=60;
else n-=Z==1?180:320}fy.prototype.rb.call(this,n,q);if(w&&this.aF){this.g[jl.KI](this.IL);P.Ls(this.IL);
this.aF=!1}if(!w&&!this.aF){this.a8V(n,q);var d=Z==0?T[jl.UJ]:this.g;d.appendChild(this.IL);this.IL[jl.Qj](E,P.CL("_MMJLNDfKCAg")+(Z==0?10:10)+P.CL("_d$ebOS?I:==Ba-+# }$M"));
this.IL[E][P.CL("_MMJLND&<:E")]=(Z==0?0:19)+P.CL("_d");this.IL[E][P.CL("i5WJHX")]=Z==0?0:1;this.aF=!0}if(P.pM(this.eo.g))O+=31;
if(P.pM(this.be.g))O+=32;this.ym.aag=this.Cr.PK&&this.El;this.ym.rb(n,O);var W=q-O,C=P.CL("_d");this.IL[E][jl.ame]=(Z==0?100>>>1:q-11)+C;
this.IL[E][jl.bV]=(Z==0?n:6*Math.pow(10,2))+C;this.zL.rb(n,W);this.HF.rb(n,W);this.E9.rb(n-this.zL.FD()-this.HF.FD(),W)};
bm.prototype.a8V=function(n,q){var p=function(){var E=new ea(P.E.T);E.data={e:P.C.Lr,ov:"account"};this.K(E)}.bind(this);
eC.apg(n,q,this.IL,p,this.Dn)};bm.prototype.a3J=function(n){console.log("systemCopy")};bm.prototype.arM=function(n){if(P.EN())return;
console.log("systemPaste");if(!n.clipboardData)return;var q=n.target.tagName.toLowerCase();if(this.o3.indexOf(q)!=-1)return;
var p=n.clipboardData.items;if(p==null)return;var E=this.a1U.bind(this);for(var R=0;R<p.length;R++){var T=p[R],i=T.getAsFile();
if(T.type.indexOf("text")!=-1){T.getAsString(this.a5O.bind(this))}if(T.type.indexOf("image")!=-1){if(i.size==this.Cr.aef)return;
this.Cr.aef=i.size;if(i){i.name="image.png";this.RD.me([i],E)}}}};bm.prototype.a5O=function(n){if(n.startsWith("http")){if(n==this.Cr.a5Y)return;
this.Cr.a5Y=n;var q=new ea(P.E.T,!0);q.data={e:P.C.Av,sQ:{url:n,qs:!0}};this.K(q)}};bm.prototype.a1U=function(n,q){var p={buffer:n,rect:q},E=this.Cr;
if(P.EN()){var T=this.a9x,i=T.n7;if(i.v==q.v&&i.o==q.o){p.rect=i;p.dC=T.dC}}else{if(E.GJ){var H=new ea(P.E.u,!0);
H.i=A.e$;H.data={e:"h_stepbck"};this.K(H)}}E.GJ=p;var H=new ea(P.E.T,!0);H.data={e:P.C.W6,aoi:!0};this.K(H)};
bm.prototype.abu=function(){if(this.bY.PG()!=null)alert(fE.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
bm.prototype.JZ=function(n){var q=this.H3();if(q==null){alert(fE.get([15,7,7]));return}var p=n.i==A.NZ||n.i==A.$v;
if(this.bY.vo()&&n.JC!=!0&&!p){this.abu();return}var E=this.A,T=this.Cr.tj,i=n.i;if(i==A.cY&&T==A.dq)i=A.dq;
if(T!=i&&E.map[T].i.vo()&&!p&&!(T==A.oF&&i==A.Yo)){console.log("disabling",T);E.map[T].i.disable(q,this,this.Cr,this.tV)}var H=this.A.map[i].i;
H.JZ(n.data,this,q,this.tV,this.Cr)};bm.prototype.aoQ=function(n){var q=this.Cr;if(n.data.TB!=!0)j4.a1l({oK:n.data.oK,ga:n.data.ga},this,q,this.H3());
var p=q.aT,E=q.SA;if(p==null)return;var T={a0E:!1,VI:"Step",agm:0,J:!0,exp:!1,oK:n.data.oK};if(p[2]==null)p[2]=E[p[0]].fM[p[1]].fM.length-1;
if(n.data.ga)T.ga=JSON.parse(JSON.stringify(n.data.ga));E[p[0]].fM[p[1]].fM.splice(p[2]+1,0,T);p[2]++;
this.Qr(cF.u)};bm.prototype.OD=function(n){var q=P.Ey[P.HT("}$z{2*35")][P.CL("W[\\ZQAJ?")],p="BFNHMNSTZ_\"|'/-1)(W0?@_%\"x-2$35>2>GINESGrKZ[_w$&/ 62+62C`D>P_uy+$%/&<81<8IfJDV_% ''#59)/Z4>_%)-~'&8<,2]7A_%|x-#'%0>5]6EF_t!'1#370>2C`9HI".split("_");
if(!this.K8()){var E=!1;for(var R=0;R<p.length;R++)if(q.indexOf(P.HT(p[R]))!=-1)E=!0;if(!E){n.FS=1.5;
return}}fy.prototype.OD.call(this,n);var T=n.data.e;if(T==P.C.aI)j4.anr(this.H3(),this.Cr.SA,n.data.zF[0],n.data.zF[1],this);
if(T==P.C.aaB){this.a8g(n.data.anM)}if(T==P.C.aq2){this.N();this.if()}if(T==P.C.Y4)this.if();if(T==P.C.ahp)if(this.Cr.mA){this.Cr.mA.prompt();
this.Cr.mA=null}if(T==P.C.ru)this.E9.t5(n.data.MN,n.data.push);if(T==P.C.arX)this.E9.afH();if(T==P.C.agz)this.Q6(null,n.data.dir);
if(T==P.C.bi)this.E9.Pz(this.lr.indexOf(n.data.zH));if(T==P.C.by){if(n.data._7&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(n.data.k!=null)this.QZ(n.data.k)}if(T==P.C.an8){if(n.data.fk)this.tV.DO(n.data.asL);
else this.tV.NN(n.data.asL);this.IY(n.data.fk?"down":"up")}if(T==P.C.uf){var i=this.H3(),H=i.Zk().slice(0),Z=i.h[i.p[0]],w=new eL(0,0,i.v,i.o),d=gd.R4()+"-d71c-11e5-b1ae-a548a96e5f9f",O=new ea(P.E.T,!0);
if(n.data.sQ==0){var W={name:i.name.split(".")[0],id:d,Ac:[H,w]};O.data={e:P.C.Th,wH:"add",sQ:cF.KV,EQ:[W]};
this.K(O)}if(n.data.sQ==1){var C=j.U(w.P()*4);j.nz(C,4294967295);j.a.Ef("norm",H,w,C,w,w,1);var a=j.U(w.P());
j.Eq(C,a);j.z3(a);var B=j.YA(a,w);if(B.M6())B=w;var $=j.U(B.P());j.cg(a,w,$,B);var I=j.U(B.P()*4);j.yI($,I,3);
var x={n7:B,id:d,Ac:[I,B]},U=gV.y$(d),N=U.Brsh.v;N.Dmtr.v.val=B.v;N.Spcn.v.val=10;O.data={e:P.C.Th,wH:"add",sQ:cF.yR,EQ:{list:[{t:"Objc",v:U}],Hh:[x],yi:[]}};
this.K(O);O.data={e:P.C.Th,sQ:cF.Ez,Hv:U};this.K(O)}if(n.data.sQ==2){var m=i.Jy(),f=m[0][m[1][0]],c={KS:Z.getName(),Ax:d,Q:f.add.vmsk.clone().Q},D=j.G.Sc(c.Q),z=new b$(D.v,0,0,D.o,D.x,D.y);
z.z3();j.G.ra(c.Q,z);D.x=D.y=0;c.C8=D.clone();O.data={e:P.C.Th,wH:"add",sQ:cF.DN,EQ:[c]};this.K(O)}}if(T==P.C.Av)this.RD.bb(n.data.sQ);
if(T==P.C.By){var _=n.data.ak9;if(_!=!0&&this.mN("open"))return;this.RD.a7W(_?this.E9.MV():null,n.data.adg)}if(T==P.C.hP){var v=n.data.a06,o=this.FG(v);
if(v==cF.Iy){var w=new gd;for(var R=0;R<o.length;R++){var y=o[R].Tp.Lefx;if(y)cU.Ip(y,w,this.Cr.bS)}o={yX:w.add.Patt?w.add.Patt:[],To:o}}if(v==cF.lM){var k=this.Cr.UR;
o={Hh:[],yi:[],list:o};console.log(o)}if(v==cF.u)o=o[n.data.Eb];var S=cF.Ok[v],H=S[2].xA(o);a$.save(H,S[1]+"."+S[0])}if(T==P.C.g$){var L=this.Cr.Em,X=n.data.abg;
if(L.S5&&!L.a8X&&!X){L.ak5=window.confirm("Load \""+n.data.y4+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
L.a8X=!0}if((L.ak5||X)&&L.S5){L.cu[n.data.y4]=n.data.QE;var O=new ea(P.E.T);O.data={e:P.C.Th,sQ:cF.kq};
this.K(O)}}if(T==P.C.aev){var i=this.H3(),V="<!DOCTYPE HTML>";if(i==null)return;var s=al.O0(i.Zk().buffer,i.v,i.o),M=window.open();
V+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";V+="<body><img src=\""+s+"\" /></body>";
V+="</html>";M.document.write(V)}if(T==P.C.eC){if(this.mN("publishOnline"))return;var l=n.data.db!="psd",i=this.H3();
if(i==null)return;if(!l&&i.mw)return;var e="Your picture will be published at "+(l?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!l)e+=" We guarantee 6 months of storage or more, if your file is opened often.";var Y=confirm(e);
if(Y){if(!l){var O=new ea(P.E.u,!0);O.i=A.iq;O.data={e:g.Lh};this.K(O);var J=new eL(0,0,i.v,i.o);for(var R=0;
R<i.h.length;R++){var Z=i.h[R];if(Z.rect.M6()||Z.z7()||Z.u1()||Z.l1()||Z.add.TySh||Z.add.vmsk||Z.add.SoLd)continue;
var G=J.O1(Z.rect);if(!G.rv(Z.rect)&&!G.M6()){var F=j.U(G.P()*4);j.hk(Z.buffer,Z.rect,F,G);Z.buffer=F;
Z.rect=G}if(!j.xo(Z.buffer,Z.rect.v,Z.rect.o))continue;var b=Z.Fp(),h=Z.opacity,bj=Z.Nl,i4=Z.PJ;Z.c4(!0);
Z.opacity=255;Z.Nl="norm";i.p=[R];O.data={e:g.kc,db:"jpg"};this.K(O);var aG=i.h[R];Z.c4(b);aG.c4(b);
Z.opacity=aG.opacity=h;Z.Nl=aG.Nl=bj,Z.PJ=aG.PJ=i4}}if(i._E){i.FN()}var Q;if(n.data.db=="psd")Q=al.sp(i,"psd",0,0,[!0,!0,!0]);
else if(n.data.db=="png")Q=al.sp(i,"png");else{var jd=al.sp(i,"png"),bP=al.sp(i,"jpg");Q=jd.byteLength<bP.byteLength?jd:bP}if(l)a$.ani(Q);
else this.RD.asf(Q,i.name)}}if(T==P.C.fF){var i=this.H3(),gz=!1;if(i==null)return;if(i._E){i.FN()}if(n.data.aa6){if(!this.nn(i))return;
var H=bJ.a8F(i,n.data.aa6,this.Cr);this.C_(H);gz=!0}else if(i.OY){if(this.lr.indexOf(i.OY.B1)!=-1){var H=new Uint8Array(al.vE("PSD").U7(i,null,null,[!0,!1])),O=new ea(P.E.u,!0);
O.data={e:g.Qy,eL:i.OY.B1,data:H,id:i.OY.aj0,KF:i.name};O.i=A.iq;this.K(O);alert("Smart Object updated")}gz=!0}else if(this.mN("save")){gz=!0}else if(i.ps){bJ.adA(i);
gz=!0}else if(i.wH&&i.wH._y){if(!this.nn(i))return;this.RD.ahs(i,this.Cr,bJ.aqE);gz=!0}else if(i.qq&&i.ON=="psd"){var O=new ea(P.E.T,!0);
O.data={e:P.C.Tz,abJ:!0};this.K(O);return}if(gz){i.pP=i.yv;i.IJ=!0}else{var O=new ea(P.E.T,!0);O.data={e:P.C.Tz};
this.K(O)}}if(T==P.C.Tz){if(!this.Cr.rh){alert("function is disabled");return}if(this.mN("saveAsPSD"))return;
var O=new ea(P.E.u,!0);O.data={e:g.Lh};O.i=A.iq;this.K(O);var i=this.H3();if(i==null||i.mw)return;if(i._E){i.FN()}if(i.h.length>8e3&&!confirm("Your document has "+i.h.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fZ={Gm:[]};i.root.DZ([],fZ);var dt=fZ.Gm;if(dt.length>11&&!confirm("One layer is nested "+(dt.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+dt.join(" \uD83E\uDC1A ")+"."))return;
if(!this.nn(i))return;var a9=window.ga,bi=P.HT("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");if(i.Jl()&&a9)a9(bi[0],bi[1],bi[2],i.ON+":"+P.HT(de.f7()?"\"'|('61":"w'| "));
var H=al.vE("PSD").U7(i);if(n.data.abJ){i.qq.createWritable().then(function(n){n.write(H);return n}).then(function(n){n.close()})}else{var az=window.showSaveFilePicker;
if(!1){var hd={types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};az(hd).then(function(n){console.log(n)})}else a$.save(H,i.name)}i.pP=i.yv;
i.IJ=!0}if(T==P.C.bU)window.open(n.data.link,"_blank");if(T==P.C.alq){if(this.bY.vo()){this.abu();return}var i=this.H3(),Z=i.h[i.p[0]],aB=i.mQ(Z.add.SoLd.Idnt.v);
for(var R=0;R<this.lr.length;R++){var cv=this.lr[R].OY;if(cv!=null&&cv.aj0==aB.l5&&cv.B1==i){this.E9.qC(R);
return}}a$.p4({name:aB.KF,OY:{aj0:Z.add.SoLd.Idnt.v,B1:i}},aB.raw.buffer,this)}if(T==P.C.Ed){this.af_()}if(T==P.C.yr){this.as3(n.data.n5,n.data.a3,n.data.od)}if(T==P.C.W6){this.arn(n.data.aoi,n.data.rF,n.data.od)}if(T==P.C.af1){var c$=n.data.k;
if(c$.startsWith("vcb;")){var cT=JSON.parse(c$.slice(4));cT[0]=j2.abD(cT[0]);var O=new ea(P.E.u,!0);
O.i=A.nk;O.data={e:"append",as:"Paste Paths",ahW:cT};this.K(O)}if(c$.startsWith("lrs;")){var fp=c$.split(";"),cD=this.lr[parseInt(fp[1])];
if(cD==null)return;var f_=this.H3(),f9=cD.p;cD.p=JSON.parse(fp[2]);var dO=cD.JD(null,cD!=f_),O=new ea(P.E.u,!0);
O.data={e:g.dj,h:dO,B1:cD,z6:f_};O.i=A.iq;this.K(O);cD.p=f9}}if(T==P.C.hX){ix.au(n.data.dT,this)}if(T==P.C.hO){if(window.parent!=window)window.parent.postMessage(n.data.sQ,"*");
this.HF.nX(n.data.sQ)}if(T==P.C.Ye){var a6=parseFloat(n.data.ov);if(this.Cr.uI.indexOf(a6)==-1){var O=new ea(P.E.T,!0);
O.data={e:P.C.Th,sQ:cF.co,k:a6,wH:"add"};this.K(O)}this.HF.aqt(n.data.ov)}if(T==P.C.si){this.T6.ak8(this.H3(),this.Cr)}if(T==P.C.Lr){var hb="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var R=0;R<hb.length;R+=2)if(n.data.ov==hb[R]&&this.mN(hb[R+1]))return;if(!this.Cr.rh&&n.data.window=="saveforweb"){alert("function is disabled");
return}this.bY.amV(n.data.ov,this.H3(),n.data,this.lr,this.tV)}if(T==P.C.q6)a$.save(n.data.data,n.data.name);
if(T==P.C.D9){if(!this.bY.vo()||n.JC)this.adp(n.data.eL)}if(T==P.C.NW){this.E9.qC(n.data.target);var O=new ea(P.E.u,!0);
O.data={e:g.xc,eL:n.data.eL,zq:n.data.zq,oT:n.data.oT};O.i=A.iq;this.K(O);this.Bg(A.Uv)}if(T==P.C.ar9){K.pb=!K.pb;
if(this.lr.length>0)this.H3().M()}if(T==P.C.aai){var jr=de.Vh();if(jr!=null&&jr.globals!=null)this.Wy(jr.globals);
this.lN()}if(T==P.C.SX){this.RD.me(n.data.data,null,n.data.mM,n.data.H6,n.data.anZ)}if(T==P.C.Tk){if(!this.bY.PG()!=null)this.Bg(n.data.i,n.data.IQ);
if(n.data.alz)this.ki().LA(this.H3(),this,this.Cr,this.tV,this.SF)}if(T==P.C.hT){if(this.A.uJ)this.Bg(this.A.uJ)}if(T==P.C.oo){var dh=this.A.map[n.data.i].i,i=this.H3();
dh.em(n.data,this,i,this.tV,this.Cr);if(i)i.l0=!0;this.ap5()}if(T==P.C.R2){var jq=this.A.map[n.data.i];
this.ae0(jq);jq.W7.P8(n.data)}if(T==P.C.Th){var i=this.H3(),g3=n.data.sQ,c6=n.data.EQ,cd=this.Cr;if(n.data.wH=="set"){var jn=A.Fb(c6);
if(cd.tj!=jn)this.Bg(jn);this.A.map[jn].W7.a05(c6,cd)}if(n.data.wH=="add"){var S=cF.Ok[g3];if(g3==cF.co){cd.uI.push(n.data.k);
cd.uI.sort(function(jt,ed){return jt-ed})}else if(S==null){if(c6)cd.s4.a5x(c6,n.data.ak6)}else{var cV=this.FG(g3);
if(g3==cF.yR){cV.Hh=cV.Hh.concat(c6.Hh);cV.yi=cV.yi.concat(c6.yi);cV=cV.list;c6=c6.list}if(g3==cF.Iy&&i){for(var R=0;
R<c6.length;R++){var y=c6[R].Tp.Lefx;if(y)cU.ap8(y,i,cd.bS)}}if(g3==cF.lM&&c6==null){var w=this.A.map[cd.tj].W7.ak_();
if(w==null)return;c6=[w]}for(var R=0;R<c6.length;R++)cV.push(c6[R]);if(n.data.ak6!=!0)if(cV.length!=c6.length||g3==cF.ZG||g3==cF.Iy||g3==cF.u)alert(fE.get(S[3])+" "+fE.get([23,1])+".")}}if(n.data.wH=="del"){if(g3==cF.co){cd.uI.splice(cd.uI.indexOf(n.data.k),1)}else{var S=cF.Ok[g3],fM=n.data.dm,cV=this.FG(g3);
if(g3==cF.yR)cV=cV.list;for(var R=0;R<fM.length;R++)cV[fM[R]]=null;for(var R=0;R<cV.length;R++)if(cV[R]==null){cV.splice(R,1);
R--}alert(fE.get(S[3])+" deleted.")}}if(n.data.wH=="rnm"){var S=cF.Ok[g3],cV=this.FG(g3);if(g3==cF.yR)cV=cV.list;
if(cV[n.data.dm[0]]==null)return;S[2].eM(cV[n.data.dm[0]],n.data.k)}if(g3==cF.nI){var bE=n.data.k;cd.q1=bE;
cd.aqf[bE.a5]=bE.IH}if(g3==cF.yC){var bE=n.data.k;cd.rc=bE;var gU=bE.strokeEnabled.v,g6=bE.strokeStyleContent.v,cu=gU?{a5:1+iq.DL.LK.indexOf(g6.classID),IH:g6}:{a5:0};
cd.acW[cu.a5]=cu.IH}if(g3==cF.Du){cd.sl=n.data.k}if(g3==cF.Bc){cd.Bb=n.data.Bb}if(g3==cF.Ez){cd.UR.$P=n.data.Hv}if(g3==cF._j){cd.rk=n.data.Il}if(g3==cF._H){var f5,iP="Clrs";
if(n.data.df<2){var id=n.data.k,aY=n.data.df==0,fT=j.f.iB({_:id>>>16,q:id>>>8&255,X:id&255});if(aY)cd.ny=id;
else cd.iu=id;iP=aY?"FrgC":"BckC";f5={oK:"set",ga:{__name:"Set",classID:"setd",T:{t:"Objc",v:fT}}}}if(n.data.df==2){var h8=cd.ny;
cd.ny=cd.iu;cd.iu=h8;f5={oK:"exchange",ga:{__name:"Exchange",classID:"Exch"}}}if(n.data.df==3){cd.ny=0;
cd.iu=16777215;if(i!=null&&i.p.length!=0&&i.h[i.p[0]].TL==1){var h8=cd.ny;cd.ny=cd.iu;cd.iu=h8}f5={oK:"reset",ga:{__name:"Reset",classID:"Rset"}}}if(f5){f5.ga.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:iP}}]};
var jq=this.ki();jq.Q0=this;jq.track(f5)}}if(g3==cF.VO){cd.ng=!cd.ng;this.if()}if(g3==cF.Yv){cd.Ui=!cd.Ui;
this.if()}var jf=cd.yM;if(g3==cF.lP){jf.rV=!jf.rV;this.if()}if(g3==cF.n_){jf.kA=!jf.kA;this.if()}if(g3==cF.wS){jf.lA=!jf.lA;
this.if()}if(g3==cF.UQ){jf.x5=!jf.x5;this.if()}if(g3==cF.QN){jf.Zw=!jf.Zw;this.if()}if(g3==cF.YM){jf.D0=!jf.D0;
this.if()}if(g3==cF.tw){cd.yM=n.data.Il;this.if()}if(g3==cF.kL){cd.kK=!cd.kK;this.if()}if(g3==cF.c$){cd.AG[n.data.WJ]=!cd.AG[n.data.WJ];
this.if()}if(g3==cF.P1){fE.apZ(n.data.lang);this.N();this.if()}if(g3==cF.uz){cd.Au=n.data.Au;this.N()}if(g3==cF.kq&&cd.Em.S5){var h2=cd.Em.S5.transaction(["rsrc"],"readwrite").objectStore("rsrc"),e9=h2.put({k:"fs0",fset:cd.Em.cu});
e9.onerror=function(n){console.log(n);alert("Storing failed. Browser says: "+n.target.error.message,7e3)}}this.Qr(g3)}};
bm.prototype.mN=function(n){var q=this.Cr.MT[n];if(q){var p=new ea(P.E.T,!0);p.data={e:P.C.hX,dT:q};
this.K(p)}return q!=null};bm.prototype.nn=function(n){var q=n.Jl()||n.OY&&n.OY.B1.Jl(),T=15;if(this.K8())q=!1;
var p=new P.Ey[jl.Vo],E=(p[P.HT("xy,b-66:")]()&1)*60+p[P.CL("VQ]3LNRN<G")]();if(q&&!de.f7()&&E>T){var i=P.Ey[P.HT("}$z{2*35")][P.HT("y'|!")],H=P.CL("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
H+="\n\n"+P.CL("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-E+120)+P.CL("nYRTXTBMd");
if(i.indexOf(P.HT("\"|'/-1)(W0?@"))==-1)H=fE.get([0,11+6,3+2]);P.Ey._cwY(H);return!1}return!0};bm.prototype.FG=function(n){var q=this.Cr,p=[cF.yR,cF.x2,cF.mY,cF.KV,cF.DN,cF.Iy,cF.ZG,cF.u,cF.lM,cF.bw],E=[q.UR,q.XV,q.Kk,q.bS,q.Xr,q.S9,q.adM,q.SA,q.nj,q.aqZ];
return E[p.indexOf(n)]};bm.prototype.af_=function(){var n=this.as3(),q=this.H3();if(q==null||q.p.length==0)return;
var p=q.h[q.p[0]],E=new ea(P.E.u);if(n==1){E.i=A.nk;E.data={e:"remove",as:"Cut Paths"}}else{E=new ea(P.E.Gi);
E.data={oK:"delete"}}this.K(E)};bm.prototype.as3=function(n,q,p){if(n==null)n=!1;var E=this.Cr;console.log("doCopy",n,q);
var T=this.H3();if(T==null||T.p.length==0)return;var i=T.h[q==null?T.p[0]:q],H=T.Jy(),Z=H[0],w=H[1],d=Z[w[0]];
if(!n&&d!=null&&d.add.vmsk.p.length!=0){var O=A.C5.R6(d.add.vmsk,d.add.vogk);if(P.EN()){O[0]=j2.a67(O[0]);
var W="vcb;"+JSON.stringify(O);a$.NM(new Blob([W],{type:"text/plain"}))}else E.L$=O;return 1}else if(T.$==null){if(P.EN()){var W="lrs;"+this.lr.indexOf(T)+";"+JSON.stringify(T.p);
a$.NM(new Blob([W],{type:"text/plain"}))}}else{var C,a;if(n){var B=new eL(0,0,T.v,T.o);a=B.O1(T.$.rect);
C=j.U(a.P()*4);j.hk(T.Zk(),B,C,a);j.qF(T.$.channel,T.$.rect,C,a)}else if(T.z1.length!=0){a=T.$.rect.clone();
C=j.U(a.P()*4);var $=T.v4[T.z1[0]],I=$.YH(a);j.s0(I,C);j.yI(T.$.channel,C,3)}else{var x=i.Iw(T,T.$);
if(x==null){alert("Copied area is empty");return}C=x.hc;a=x.rect}var U=T.c.mc,N=U[0]+U[1]+U[2];if(N==1){var m=U.indexOf(1);
for(var R=0;R<C.length;R+=4)C[R]=C[R+1]=C[R+2]=C[R+m]}var f=new fc(T.v,T.o);if(P.EN()&&p!=!0){var c=al.vE("PNG").ae5(C.buffer,a.v,a.o);
a$.NM(new Blob([new Uint8Array(c)],{type:"image/png"}));this.a9x={n7:a,dC:f}}else E.GJ={buffer:C,rect:a,dC:f};
E.aa$=a.clone();E.L$=null;E.Oq=null}};bm.prototype.arn=function(n,q,p){if(q)this.aq$=!0;console.log("doPaste");
var E=this.Cr,T=E.GJ,w;if(this.lr.length==0){if(!n&&P.EN()){a$.tx(this,null);return}if(T){var i=al.Db("image.psd",[{data:T.buffer.buffer,Yd:T.rect}]),H=new ea(P.E.T);
H.data={e:P.C.D9,eL:i};this.K(H)}return}var i=this.H3(),Z=i.h[i.p.length==0?i.h.length-1:i.p[0]];if(E.L$){var d=i.Jy(!0),O=d[0],W=d[1];
w=O[W[0]]}var H=new ea(P.E.u,!0);if(E.L$!=null&&w!=null){H.i=A.nk;H.data={e:"append",as:"Paste Paths",ahW:E.L$}}else if(!n&&P.EN()&&p!=!0){a$.tx(this,this.a1U.bind(this));
return}else if(E.Oq!=null){H.data={e:g.se};H.i=A.iq;if(JSON.stringify(E.Oq)!=JSON.stringify(i.p))H.data.Y=E.Oq[0]}else{if(T==null)return;
if(i.zP(!1)&&(i.c.mc.join("")!="111"||i.z1.length!=0||Z.TL>0||Z.rect.M6())){H.i=A.yR;H.data={e:"draw",a5V:!0,as:[5,2]}}else{H.i=A.iq;
H.data={e:g.Po,rF:this.aq$};this.aq$=!1}H.data.GJ=T}this.K(H)};bm.prototype.amJ=function(){for(var R=0;
R<this.lr.length;R++){var n=this.lr[R],q=!0;for(var p=0;p<n.h.length;p++){var E=n.h[p],T=E.add.TySh;
if(T!=null&&!hj.HU(T,this.Cr.s4))q=!1}if(!q)continue;if(n.pL)for(var p=0;p<n.h.length;p++){var E=n.h[p],T=E.add.TySh;
if(T!=null&&hj.HU(T,this.Cr.s4)){var i=new e7(T.Bd,this.Cr.s4),H=hj.JS(i,T);E.rect=H.n7;E.buffer=H.OT;
E.M();n.M()}}if(n.ar8)continue;n.ar8=!0;if(n.wH&&n.wH.a1Z)ix.au(n.wH.a1Z,this);this.C_();var Z=new ea(P.E.u);
Z.i=A.Yo;Z.data={e:"start",nd:"GEfc"};var w=new ea(P.E.T);w.data={e:P.C.Ye,ov:ap.ys.h2};w.data={e:P.C.Lr,ov:"saveforweb",db:9};
w.data={e:P.C.Lr,ov:"afw_Flam"}}};bm.prototype.Qr=function(n){var q=this.Cr.tj;if(n==cF.Ez){if(this.A.map[q].W7)this.A.map[q].W7.ts(this.Cr,n)}else for(var p in this.A.map)if(this.A.map[p].W7)this.A.map[p].W7.ts(this.Cr,n);
if(n==cF.Jv){if(q!=A.cY)this.A.map[A.cY].i.ts(this.Cr,n);this.amJ()}this.E9.ts(this.Cr,n);this.zL.ts(this.Cr,n);
this.bY.ts(this.Cr,n);this.ki().ts(this.Cr,n);this.HF.ts(this.Cr,n);this.eo.ts(this.Cr,n);if(n==cF.uz||n==cF.Bo){h0.aiC(this.Cr.Au);
this.update(!0)}if([cF.co,cF._j,cF._H,cF.VO,cF.Yv,cF.tw,cF.wS,cF.UQ,cF.lP,cF.n_,cF.QN,cF.YM,cF.P1,cF.uz].indexOf(n)!=-1)this.ap5()};
bm.prototype.ap5=function(){if(!this.Cj)return;var n={},q=this.A.map;for(var p in q){var E=q[p].i;if(E.op&&E.op()!=null)n["t"+p]=E.op()}var T=this.Cr,i=T.yM,H={fcolor:T.ny,bcolor:T.iu,rulers:T.ng,extras:T.Ui,favFam:T.rk,panels:T.uI,eparams:{guides:i.lA,grid:i.x5,sels:i.rV,paths:i.kA,pgrid:i.Zw,slices:i.D0,gsize:i.rH,gunits:i.VC,gtype:i.g1,runits:i.XN},lang:fE.TV(),theme:T.Au,topt:n},Z=de.Vh();
if(Z==null)Z={};Z.globals=H;de.BD(Z)};bm.prototype.a0c=function(){var n=this.tV,q=this.SF,p=this.Cr.tj,E=this.A.map[p].i,T=null,i=!1;
for(var R=0;R<this.A.ajD.length;R++){var H=this.A.ajD[R],Z=!0;for(var w=0;w<H.kZ.length;w++){var d=H.kZ[w];
if(!n.r(d))Z=!1}if(Z&&(!H.sg||!E.vo())&&(H.mu==null||H.mu.indexOf(p)!=-1)){T=H.i;i=H.sg;break}}if((!q.fk||p==A.KA)&&this.A.Ja!=T&&(T!=p||!i)){var O=this.H3();
if(this.A.Ja!=null&&T==null)this.ki().disable(O,this,this.Cr,n,!0);this.A.Ja=T;this.ki().enable(O,this,this.Cr,n,T!=null&&T!=p)}};
bm.prototype.xB=function(n){var q=this.Cr.tj,p=this.H3();if(q!=null){this.A.map[q].i.disable(p,this,this.Cr,this.tV)}};
bm.prototype.ae0=function(n){if(n.W7==null){n.W7=new n.KO;n.W7.a63(n.i.id,n.i.wK);n.W7.ts(this.Cr,cF.Bo);
n.W7.N()}};bm.prototype.Bg=function(n,q){if(n==A.Uv&&this.bY.PG())return;var p=this.H3(),E=this.Cr;if(this.A.map[n].i.vy(p,E)){this.xB();
var T=[A.W9,A.e4,A.a9,A._a,A.R5,A.X7,A.qh,A.nk,A.fx].indexOf(E.tj)!=-1;if(n!=E.tj)this.A.uJ=E.tj?E.tj:A.o$;
E.tj=n;this.zL.o5(this.A,this.Cr);var i=this.A.map[n];this.A.JA[i.HV]=i.alC;this.ae0(i);this.be.akC(i.W7);
var H=i.i;H.enable(p,this,this.Cr,this.tV,!1,q,T);if(p)p.l0=!0;this.if()}};bm.prototype.ki=function(n){var q=this.A,p=q.Uj,E=q.Ja,T=this.Cr.tj;
if(p)T=p;else if(E&&n==null)T=E;return q.map[T].i};bm.prototype.adp=function(n){var q=this.lr.indexOf(n);
if(q!=-1){this.E9.qC(q);return}if(this.br&&(n.wH==null||n.wH._y==null)){n.wH={_y:this.br}}if(n.om==null){n.om="local,"+this.aiH+","+n.name;
this.aiH++}if(eC.mK()!=0&&!this.a9s&&P.Ey[P.HT("t$&!'31")].toString().indexOf(P.HT(" u,$4&"))==-1){alert(P.HT("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var R=0;R<n.h.length;R++){var p=n.h[R];if(p.add.SoLd!=null){var E=Date.now()}if(p.add.TySh!=null)hj.HU(n.h[R].add.TySh,this.Cr.s4)}var T=P.Ey[P.CL("3M"+(P.sh(26)?"]K":"fa"))];
T=T[P.CL("]["+(!P.sh(28)?",":"`"))];var i=Math.floor(T()/1e3),H=Math.PI*(8785<<13)+(P.sh(31)?20:10)*7e7;
if(i>H){var Z=n.h.length;n.h=[];return Z}if(K.pb)K.ark(Math.max(n.v,n.o));n.ko();n.cO();if(n.a3u)n.aki();
else n.M();n.a3u=!1;this.lr.push(n);this.E9.L9(new e0(n));n.l0=!0;n.IJ=!0;this.amJ();var w=new ea(P.E.u);
w.i=A.C7;w.data={e:"auto",Lt:2}};bm.prototype.H3=function(){return this.lr[this.lj]};bm.prototype.aqG=function(){return this.bY.PG()==null};
bm.prototype.Q6=function(n,q){this.xB();var p=this.lr.length;if(q!=null)this.E9.qC((this.E9.MV()+q+p)%p);
this.lj=this.E9.MV();var E=this.H3();this.eo.arF(E,this.Cr);this.HF.o5(E,this.lr,this.Cr);this.if();
if(E)E.l0=!0};bm.prototype.a7p=function(n){this.xB();this.lr.splice(n.data.qy,1);if(this.lr.length==0){this.Q6(n);
if(K.pb)K.vl().parentNode.removeChild(K.vl())}};bm.prototype.afE=function(n){var q=[],p=n.data.aqN;for(var R=0;
R<p.length;R++)q[R]=this.lr[p[R]];this.lr=q;this.lj=this.E9.MV()};bm.prototype.abf=function(n){var q=this.E9,p=q.app(),E=this.ki(),T=this.H3();
if(p==q.MV()||!E.t8())return;this.a8g(p,E)};bm.prototype.a8g=function(n,q){var p=this.Cr,E=this.E9,T=this.H3(),i=this.lr[n],H=new ea(P.E.u,!0);
H.i=A.iq;H.data={e:g.dj,h:T.JD(null,!0),B1:T,z6:i};this.K(H);var Z=this.SF,w=p.ng;p.ng=!1;Z=T.c.hQ(Z.x,Z.y);
if(q)q.X9(T,this,p,this.tV);E.qC(n);Z=i.c.eh(Z.x,Z.y);Z.x+=49;Z.y+=112;if(q)q.LA(i,this,p,this.tV,Z);
p.ng=w};bm.prototype.a22=function(n){var q=this.H3(),p=this.tV,E=this.Cr,T=n.CV;if(T)this.SF=T;if(n.action.startsWith("multi")){var i=new ea(P.E.u,!0);
i.data={e:n.action,pc:n.pc};i.i=A.$v;this.K(i);return}var H=this.A.map[A.o$].i;if((n.action=="down"||n.action=="rdown")&&E.tj!=A.o$&&this.A.Ja!=A.o$&&H.ag(q,this,E,p,T)){this.A.Uj=A.o$;
H.enable(q,this,E,p,!0)}var Z=this.bY.PG(),w=Z!=null&&Z.tc()&&this.A.Ja==null?Z:this.ki();if(Z!=null&&w!=Z&&this.bY.vo()&&w.id!=A.NZ&&w.id!=A.$v)return;
if(n.action=="down")w.LA(q,this,E,p,T);if(n.action=="rdown")w.EP(q,this,E,p,T);if(n.action=="move")w.Tw(q,this,E,p,T);
if(n.action=="up"||n.action=="cancellast")w.HO(q,this,E,p,T,n.action=="cancellast");if(n.action=="rup")w.J7(q,this,E,p,T);
if(n.action=="cancellast"){if(q&&q.history.length!=0&&Date.now()-q.history[q.history.length-1].amE<200){var d=new ea(P.E.u);
d.i=A.e$;d.data={e:"h_stepbck"};this.K(d)}}var O=this.HF;if(n.action=="down")O.LA(q,this,E,p,T);if(n.action=="move")O.Tw(q,this,E,p,T);
if(n.action=="up")O.HO(q,this,E,p,T);if(n.action=="down"||n.action=="up"){this.a0c()}if(n.action=="down"||n.action=="up"||n.action=="ctx"){q.l0=!0}if((n.action=="up"||n.action=="rup")&&this.A.Uj){this.A.Uj=null;
H.disable(q,this,E,p)}if(n.action=="scroll"){var W=!p.r(aj.Fj)&&n.Cw,i=new ea(P.E.u,!0);i.data={e:"scroll",MZ:n.MZ.clone(),CV:T};
i.i=p.r(aj.sL)||W?A.$v:A.NZ;this.K(i)}};bm.prototype.hB=function(n){var q=this.H3(),p=this.SF;if(q&&this.ki().tU(p,this.tV)){var E=q.c,T=E.fM.v,i=E.fM.o,H=0,Z=0,w=16;
if(p.x<w)H=w-p.x;if(p.x>T-w)H=p.x-(T-w);if(p.y<w)Z=w-p.y;if(p.y>i-w)Z=p.y-(i-w);if((H!=0||Z!=0)&&(q.v*E.n>T||q.o*E.n>i)){H=Math.min(5,H*.5);
Z=Math.min(5,Z*.5);if(!(p.x<w||p.y<w)){H=-H;Z=-Z}E.t.x+=H;E.t.y+=Z;this.a22({CV:this.SF,action:"move"});
q.Ln=!0}}this.update()};bm.prototype.update=function(n){var q=this.H3();if(q==null)return;if(q.l0){var p=this.A.map;
for(var E in p){if(p[E].i.bM)p[E].i.bM(q,this,this.Cr,this.tV)}}if(q._E){q.FN()}var T=q.c,i=this.nC,H=this.nC=Date.now();
if(q._E||q.mT||q.IJ||q.Ln||n||T.Ny!=T.n||!T.cx.rv(T.t)){var Z=T.Ny;if(T.Ny!=T.n){var w=A.Cn.v0(T.n,T.Ny>T.n),d=.12;
if(T.Ny<T.n&&T.Ny<w)T.Ny=w;if(T.Ny>T.n&&T.Ny>w)T.Ny=w;var O=Math.abs(T.n-w)*(H-i)*.001/d;if(T.Ny<T.n)T.Ny=Math.min(T.n,T.Ny+O);
else T.Ny=Math.max(T.n,T.Ny-O)}var W=Z==T.n?0:(T.Ny-T.n)/(Z-T.n);T.cx.x=T.t.x+W*(T.cx.x-T.t.x);T.cx.y=T.t.y+W*(T.cx.y-T.t.y);
this.E9.ts(this.Cr,null);this.E9.o5(q,this.lr)}if((q._E||q.Ln||q.l0)&&(!this.SF.fk||q.Qc)){if(q.l0)q.cO();
this.HF.o5(q,this.lr,this.Cr);this.zL.alu(q,this.tV);q.rw=!1}q.Qc=!1;q.l0=!1;q._E=null;q.mT=q.IJ=q.Ln=!1};
bm.prototype.o3=["input","textarea","select"];bm.prototype.apB=function(n){var q=n.code,p=aj,E=p.ju;
return!E(q,p.eN)&&!E(q,p.Fj)&&!E(q,p.sL)};bm.prototype.pw=function(n){var q=n.target.tagName.toLowerCase(),p=n.target.getAttribute("type"),E=aj,T=E.ju(n.code,E.T4);
if(this.o3.indexOf(q)!=-1&&this.apB(n)&&!(T&&q=="input"&&p=="range")&&!(q=="input"&&p=="checkbox")&&!(n.ctrlKey&&(E.ju(n.code,E.ri)||E.ju(n.code,E.VZ)))||q=="button"&&(T||E.ju(n.code,E.rE))){return}if(E.jh(n)){n.preventDefault()}this.tV.DO(E.Sf(n));
this.IY("down")};bm.prototype.mf=function(n){if(n.key==" ")this.tV.mS();if(aj.ju(n.code,aj.Z8))this.tV.reset();
this.tV.NN(aj.Sf(n));var q=n.target.tagName.toLowerCase();if(this.o3.indexOf(q)!=-1&&this.apB(n))return;
if(aj.jh(n)){n.preventDefault()}this.IY("up")};bm.prototype.IY=function(n){var q=this.tV,p=this.H3(),E=p!=null&&p.p.length!=0;
if(this.T6.PG()!=null){if(q.r(aj.eN)){this.T6.amp()}return}this.a0c();var T=this.ZD(aj.Fj),i=q.r(aj.sL),H=q.r(aj.$t);
if(T&&q.r(aj.pl)&&n=="down"){var Z=new ea(P.E.u),w=new ea(P.E.T);Z.i=A.e$;if(H){Z.data={e:"h_stepfwd"}}else{Z.data={e:"h_stepbck"}}if(this.bY.PG()!=null&&this.bY.PG().vo()){}else this.K(Z)}if(T){var Z=new ea(P.E.u),d=new ea(P.E.Gi),w=new ea(P.E.T);
if(!i&&n=="down")for(var O in iJ.keys){var W=iJ.keys[O],C=!0;for(var R=0;R<W.length;R++)if(!q.r(W[R]))C=!1;
if(C){Z.i=A.C7;if(O=="hue2"&&H)Z.data={e:"auto",Lt:3};else Z.data={e:"start",WX:O}}}if(q.r(aj.C)){d.data=A.eY.b0(!0)}if(q.r(aj.lI)){if(i)w.data={e:P.C.Lr,ov:"csize"};
else w.data={e:P.C.yr,n5:H}}if(q.r(aj.qv)){d.data=A.eY.b0()}if(q.r(aj.E)&&n=="down"){Z.i=A.iq;if(H)Z.data={e:g.GR};
else{if(p&&p.p.length==1&&p.p[0]!=0&&!p.h[p.p[0]].z7())Z.data={e:g.eB};else Z.data={e:g.LJ}}}if(q.r(aj.Pb)){if(H&&this.Cr.tj!=A.Uv)w.data={e:P.C.Lr,ov:"afw_fade"};
else if(i){Z.i=A.Yo;Z.data={e:"applylast"}}else w.data={e:P.C.si}}if(q.r(aj.TE)){if(i&&p&&p.Mo(p.p[0])){Z.i=A.iq;
Z.data={e:g.P2}}else{Z.i=A.iq;Z.data={e:g.qJ,gw:H}}}if(q.r(aj.b2)){w.data={e:P.C.Th,sQ:cF.Yv}}if(q.r(aj.er)){if(H){Z.data=null;
if(i)w.data={e:P.C.Lr,ov:"finfo"};else d.data={oK:"inverse"}}else if(i)w.data={e:P.C.Lr,ov:"isize"}}if(q.r(aj.GT)){Z.i=A.iq;
Z.data={e:g.L0}}if(q.r(aj.I6)){w.data={e:P.C.Lr,ov:"preferences"}}if(q.r(aj.UH)){if(H){Z.i=A.iq;Z.data={e:g.mp}}else w.data={e:P.C.Lr,ov:"newproject"}}if(q.r(aj.Fo)){w.data={e:P.C.By};
q.reset()}if(q.r(aj.f_)){w.data={e:P.C.aev};q.reset()}if(q.r(aj.ys)){w.data={e:P.C.Th,sQ:cF.VO}}if(q.r(aj.sq)&&n=="down"){if(H){if(i)w.data={e:P.C.Lr,ov:"saveforweb"};
else w.data={e:P.C.Tz}}else w.data={e:P.C.fF}}if(q.r(aj.wA)){if(H){Z.i=A.Uv;Z.data={e:"again"}}else w.data={e:P.C.Tk,i:A.Uv}}if(q.r(aj.U0)){w.data={e:P.C.W6}}if(q.r(aj.Qq)){this.E9.QC()}if(q.r(aj.GX)){w.data={e:P.C.Ed}}if(q.r(aj.Py)||q.r(aj.jA)){Z.i=A.iq;
Z.data={e:g.zS,df:0};if(q.r(aj.Py))Z.data.df=H?3:2;else Z.data.df=H?0:1}if(q.r(aj.T4)&&p){var a=0;if(H)a++;
if(i)a+=2;Z.i=A.L7;Z.data={e:"frompath",zF:[null,0,a]}}if(q.r(aj.dk)){d.data=A.c8.WT(0)}if(q.r(aj.rE)){var B=this.lr.length;
if(B>1)this.E9.qC((this.E9.MV()+1)%B)}if(q.r(aj.$f)){w.data={e:P.C.Th,sQ:cF.wS}}if(q.r(aj.r7)){w.data={e:P.C.Th,sQ:cF.UQ}}A.Cn.VP(q,Z);
if(this.bY.PG()!=null&&this.bY.PG().vo()){}else{if(Z.data)this.K(Z);if(d.data)this.K(d);if(w.data)this.K(w)}}if(!q.r(aj.Fj)&&!i&&n=="down"){var Z=new ea(P.E.u),w=new ea(P.E.T),$=this.A.map[this.Cr.tj],I=-1;
for(var R=0;R<this.A.keys.length;R++)if(this.A.keys[R]&&this.ZD(this.A.keys[R]))I=R;if(I!=-1){var x=null;
if($.HV!=I)x=this.A.JA[I];if($.HV==I&&H)x=($.alC+1)%this.A.FB[I].length;if(x!=null){var U=this.A.FB[I][x].i.id,N=this.Cr.ajo;
if((N==null||N.indexOf(parseInt(U))!=-1)&&!this.SF.fk)w.data={e:P.C.Tk,i:U}}}if(q.r(aj.GX))w.data={e:P.C.Th,sQ:cF._H,df:2};
if(q.r(aj.qv))w.data={e:P.C.Th,sQ:cF._H,df:3};if(w.data)this.K(w);if(p&&p.p.length!=0){var m=p.h[p.p[0]],f=m.TL;
if(f==1||f==3){var c=f==3?m.vr(p).w:m.u1(),D=c.Fk?p.c.mc.join("")=="111"?1:2:0;Z.i=A.$v;if(c&&q.r(aj.eN)&&D!=0){Z.data={e:"mskView",k:0}}if(c&&q.r(aj.a8Z)){Z.data={e:"mskView",k:D==1?0:1}}if(c&&q.r(aj.a7r)){Z.data={e:"mskView",k:D==2?0:2}}if(Z.data)this.K(Z)}}var z=q.In();
if(E&&z!=-1&&this.ZD(aj.yw[z])){var _=p.p[0],m=p.h[_],v=P.ajb(Math.round(100*m.opacity/255),z);Z.i=A.iq;
Z.data={e:g.hH,Il:Math.round(255*v/100)};this.K(Z)}var o=this.Cr.j2;if(q.r(aj.rE)){w.data={e:P.C.by,k:o==0?1:0};
this.K(w)}if(q.r(aj.Pb)||q.r(aj.eN)&&o==2){var y=document.fullscreenElement!=null==(o==2);w.data={e:P.C.by,k:o==0?2:0,_7:y};
this.K(w)}if(q.r(aj.ni)&&!this.SF.fk){Z.i=A.L7;Z.data={e:"qmask"};this.K(Z)}}if(!q.r(aj.Fj)&&!i&&H){var Z=new ea(P.E.u),w=new ea(P.E.T);
if(q.r(aj.agq))w.data={e:P.C.Lr,ov:"shortcuts"};if(q.r(aj.fu))w.data={e:P.C.Lr,ov:"fill"};if(q.r(aj.adz))w.data={e:P.C.Lr,ov:"sel_feather"};
if(E&&(q.r(aj.ri)||q.r(aj.VZ))){var _=p.p[0],m=p.h[_],k=d3.hd,S=k.length,L=k.indexOf(m.Nl);Z.i=A.iq;
Z.data={e:g.M2,Il:(L+S+(q.r(aj.ri)?1:-1))%S};this.K(Z)}if(w.data)this.K(w)}var Z=new ea(P.E.u),X=n=="down"&&(this.ZD(aj.Qt)||this.ZD(aj.W_));
if((T||i)&&X){Z=new ea(P.E.Gi);Z.data=A.o8.zm(T?"BckC":"FrgC");this.K(Z)}else if(p&&X&&!this.SF.fk){if(p.$!=null){Z=new ea(P.E.Gi);
Z.data={oK:"delete"}}else{Z.i=A.iq;Z.data={e:g.va}}this.K(Z)}if(this.bY.PG()!=null){if(q.r(aj.eN)){this.bY.PG().anb()}else{this.bY.PG().IY(p,this,this.Cr,q)}}if(this.Cr.tj==null)return;
var $=this.ki();if(this.bY.PG()==null||this.A.Ja)$.IY(p,this,this.Cr,q)};bm.prototype.ZD=function(n){var q=this.tV,p=this.A.map[this.Cr.tj].i,top=this.bY.PG(),E=this.H3();
return q.r(n)&&!p.Ou(n,E)&&(top==null||!top.Ou(n,E))};bm.prototype.QZ=function(n){var q=this.a6z,p=this.Qu;
this.Cr.j2=n;var E=P.pM,T=this.eo.g;if(E(T))this.jU.removeChild(T);var i=this.be.g;if(E(i))this.jU.removeChild(i);
var H=this.zL.g;if(E(H))q.removeChild(H);var Z=this.E9.g;if(E(Z))q.removeChild(Z);var w=this.HF.g;if(E(w))q.removeChild(w);
if(n==0){this.jU.appendChild(T);this.jU.appendChild(i);p.appendChild(q);q.appendChild(H);q.appendChild(Z);
q.appendChild(w)}if(n==1){this.jU.appendChild(T);q.appendChild(Z)}if(n==2){q.appendChild(Z)}this.E9.QZ(n==2?1:0);
this.if()};function ey(n){g9.call(this);if(n==null)return;this.XF=null;this.rZ=null;this.g=P.z("div","sbar"+" "+n);
this.I_=new P.z("div","top");this.I_.innerHTML="> <";this.g.appendChild(this.I_);this.r1=1;this.I_.addEventListener("click",this.a7A.bind(this),!1)}ey.prototype=new g9;
ey.prototype.a7A=function(n){if(this.XF!=null&&this.XF<500&&this.r1==0)return;if(this.r1==0)this.N0(!0);
else this.collapse(!0)};ey.prototype.ah9=function(n){this.r1=n;this.I_.innerHTML=this.r1==0?"< >":"> <"};
ey.prototype.ass=function(){var n=new ea(P.E.T,!0);n.data={e:P.C.Y4};this.K(n)};ey.prototype.N0=function(n){this.ah9(1);
if(n)this.ass()};ey.prototype.collapse=function(n){this.ah9(0);if(n)this.ass()};ey.prototype._T=function(){return this.r1==1};
function fW(n,q){ey.call(this,"vcolumn");this.DK=n;this.a91=q;this.CB();this.QB=P.z("div");this.QB.setAttribute("style","cursor:default;");
this.alR=this.aoB.bind(this);this.ag9=this.aal.bind(this);this.agT=this.ao0.bind(this);P.v$(this.g,this.alR);
this.g.appendChild(this.QB);this.NB=P.z("div","");this.QB.appendChild(this.NB);this.UF=-1;this.Mb=P.z("div","float");
var p=this.Yy=P.z("canvas");p.width=p.height=10;var E=p.getContext("2d");E.fillStyle="rgba(0,0,0,0.5)";
E.moveTo(0,0);E.lineTo(10,10);E.lineTo(0,10);E.fill();this.Yy.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
P.l7(this.Yy);P.v$(this.Yy,this.alR);this.Sw=[];this.j3=[];this.a8i=null;this.rt=null;this.a87=0}fW.prototype=new ey;
fW.prototype.aoB=function(n){var q=n.target==this.Yy;if(!q){if(n.target!=this.g)return;if(!this._T())return}else{var p=this.Sw[this.UF].ge;
p.style.pointerEvents="none";var E=p.getBoundingClientRect();this.a8i=[E.width,E.height];this.j3[this.UF]=[E.width,E.height]}n.stopPropagation();
this.rt=P.gD(n,document.body);this.a87=this.DK;P.KN(document,this.ag9);P.iI(document,this.agT)};fW.prototype.aal=function(n){var q=P.gD(n,document.body);
if(this._T()){this.DK=this.a87+this.rt.x-q.x;this.CB()}else{var p=this.j3[this.UF],E=this.a8i;p[0]=E[0]+this.rt.x-q.x;
p[1]=E[1]+q.y-this.rt.y}var T=new ea(P.E.T,!0);T.data={e:P.C.Y4};this.K(T)};fW.prototype.ao0=function(n){if(!this._T()){var q=this.Sw[this.UF].ge;
q.style.pointerEvents="auto"}P.dt(document,this.ag9);P.sZ(document,this.agT)};fW.prototype.ajT=function(n){n.R("showFloat",this.ajr,this);
n.R("hideFloat",this.rG,this);this.Sw.push(n);n.parent=this;this.QB.appendChild(n.g)};fW.prototype.a1a=function(R){var n=this.Sw[R];
n.removeEventListener("showFloat",this.ajr,this);n.removeEventListener("hideFloat",this.rG,this);this.Sw.splice(R,1);
n.parent=null;this.QB.removeChild(n.g)};fW.prototype.a9b=function(){return this.Sw.length};fW.prototype._G=function(){for(var R=0;
R<this.Sw.length;R++)this.Sw[R]._G()};fW.prototype.ajr=function(n){this.rG(n);this.NB.appendChild(this.Mb);
this.UF=this.Sw.indexOf(n.currentTarget);var q=this.Sw[this.UF].ge;this.Mb.appendChild(q);this.Mb.appendChild(this.Yy);
this.rb(this.XF,this.rZ)};fW.prototype.rG=function(n){this._G();if(this.UF!=-1){this.NB.removeChild(this.Mb);
var q=this.Sw[this.UF];if(q)this.Mb.removeChild(q.ge);this.UF=-1}};fW.prototype.CB=function(){this.g.setAttribute("style","width: "+this.DK+"px; padding-left:3px; cursor:ew-resize;")};
fW.prototype.N0=function(n){this.CB();this.rG();for(var R=0;R<this.Sw.length;R++)this.Sw[R].N0();ey.prototype.N0.call(this,n)};
fW.prototype.collapse=function(n){this.g.removeAttribute("style");for(var R=0;R<this.Sw.length;R++)this.Sw[R].collapse();
ey.prototype.collapse.call(this,n)};fW.prototype.rb=function(n,q){this.XF=n;this.rZ=q;q-=6;var p=this.Sw.length,E=this._T();
if(p==0)return;n=this.DK;var T=q;for(var R=0;R<p;R++){var i=this.Sw[R],H=i.aay(),Z=this.j3[R];i.rb(!E&&Z?Z[0]:n,E?R==p-1?T:H:Z?Z[1]:R==p-1&&this.a91?q:350);
T-=H}};function bN(n){g9.call(this);this.g=P.z("div");this.QB=null;this.I5=0;this.eF=0;this.a6s=n;this.a5Z=this.IO.bind(this);
this.a0b=this.a_.bind(this);this.ad7=this.Ml.bind(this);this.gm=null;this._R=null;this.Vi=null;P.v$(this.g,this.a5Z);
var q=this.g,E="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
q.addEventListener("touchmove",P.xl,!1);this.aag=!0;this.Tn=[];var p=this.a75=P.z("div");p.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.g.appendChild(p);var T=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",E+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",E+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",E+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var R=0;R<T.length;R++){var i=new bG(T[R]);this.Tn.push(i);i.g.setAttribute("style","margin-left:"+(R<7?4:0)+"px;cursor:pointer;");
i.R("click",this.Cs,this)}}bN.prototype=new g9;bN.prototype.N=function(){var n=this.a75;P.Ls(n);for(var R=0;
R<this.Tn.length;R++){var q=this.Tn[R];if(R<6)q.N();var p=Date.now()<1595058192822&&!de.f7();if(R!=0||p)n.appendChild(q.g)}};
bN.prototype.Cs=function(n){var R=this.Tn.indexOf(n.currentTarget);if(R==1){if(window.showCap)window.showCap();
return}var q="CTA  issues learn blog api twitter facebook".split(" "),p="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),E=window.ga;
if(E)E("send","event","Links",q[R]);var T=new ea(P.E.T,!0);T.data={e:P.C.bU,link:p[R]};this.K(T)};bN.prototype.IO=function(n){if(n.aq8){n.preventDefault();
n.stopPropagation()}var q=window;P.KN(q,this.a0b);P.iI(q,this.ad7);q=this.QB;this.gm=new fc(parseInt(q.style.left),parseInt(q.style.top));
this._R=P.gD(n,this.g);this.Vi=q.getBoundingClientRect()};bN.prototype.a_=function(n){var q=P.gD(n,this.g),p=this.gm.x+q.x-this._R.x,E=this.gm.y+q.y-this._R.y,T=this.I5-this.Vi.width,i=this.eF-this.Vi.height;
if(this.a6s)this.QB.style.left=Math.min(0,Math.max(T,p))+"px";else this.QB.style.top=Math.min(0,Math.max(i,E))+"px";
if(p-10>0){this._R.x=q.x-10;this.gm.x=0}if(p+10<T){this._R.x=q.x+10;this.gm.x=T}};bN.prototype.Ml=function(n){var q=window;
P.dt(q,this.a0b);P.sZ(q,this.ad7)};bN.prototype.a3S=function(n){if(this.QB){this.g.removeChild(this.QB)}this.QB=n;
this.g.appendChild(n);n.style.position="absolute";if(this.a6s)n.style.left=0;else n.style.top=0};bN.prototype.rb=function(n,q){this.I5=n;
this.eF=q;this.g.setAttribute("style","position:relative; width: "+n+"px; height: "+q+"px; overflow:hidden; white-space: nowrap; ");
var p=this.QB.firstChild,E=this.a75,T=p?p.firstChild.getBoundingClientRect().width+80:1e9,i=450,H=this.aag&&n>T+i,Z=P.CL("SU\\VOAV"),w=E[jl.Uc][Z]=H?"":P.CL("][WK")};
function hI(){g9.call(this);this.BW=null;this.fy=hI.f_;this.asr="";this.g=P.z("div","rightbar");this.a1=[new fW(380),new fW(265,!0)];
this.Sw=[new hT,new hT,new hT,new hT,new hT,new hT];this.a1O=[]}hI.prototype=new g9;hI.prototype.N=function(){var n=this.fy;
for(var R=0;R<n.length;R++)n[R].yx.N()};hI.f_=[{yx:new gf,$o:2},{yx:new bn,$o:3},{yx:new gb,$o:1},{yx:new ip(!0),$o:4},{yx:new eu,$o:0},{yx:new en,$o:4},{yx:new el,$o:2},{yx:new bA,$o:0},{yx:new iu,$o:2},{yx:new fV,$o:1},{yx:new hG,$o:3},{yx:new gC,$o:2},{yx:new ip(!1),$o:4},{yx:new ci,$o:1},{yx:new hr,$o:4},{yx:new ht,$o:2},{yx:new cp,$o:0},{yx:new cn,$o:5,lH:!0},{yx:new dY,$o:5,lH:!0},{yx:new cg,$o:5,lH:!0}];
(function(){var n=[{id:ap.ys.apD,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",width:400,height:400,icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"3D Viewer",url:"plugins/depth",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlQTFRF////AAAAAAAATExM+fn5JSUlBwcHGhoaExMT////////lJSUtbW14uLiMjIy5+fnq6ur2dnZjIyM7+/vxMTE////gYGBoaGhPT09////zMzM////cHBwZmZm////////WVlZ////////C7AcuwAAACN0Uk5T//8A////////3Qb/////////////TP////H/nP//brj/hSKBQ27bAAACI0lEQVR4nO2XXZeCIBCGIUVJEz9ApdKy//8nFwsEFOoke7EX+150Oo7zwAzDHAccZmW3+xl8peP9lj1dwfxz+9JbMloJyO573Gddsydgt78gzIDbfn8A2gPIdsWvdMxA0AbEFkBABmZdQVAEIoYwdxC6/r9+WzWr+ibvKxZ/71tUI0mgUkI6ahhTJYQIiaaxolvACa6U5tq4tokF8jVjA4Cw8wOE8PARANk7AISkcABwarzB3wMgri0A6i6FyH5c5AuE2gCRQ2QRUKkB9cX4j+ULtQ2IwMxng94l8Zx35AfMipvlwCs3oJPm0g0QVaP2iNxbkDvAsQ+gD+3i8meS3wMvAHD5rNl4UzZJ/yh+A8jlM276NqLa9X2YdHgOQCmfYQugTzgZzOAcAKBW8gAgauh7gCop6gGIuqsDARCvL9PHEGhZFqIpTcqG/HUAClcSlWpV7I0foHbLXQDAVh4OgL+QnpKlhLyAXiXKWcpLihMfoNikyRaVduIB5Ooy6uvcNSZK9YPJAaBs1G2JL14jxFEvr39FlL23Adi6K0KpbmnjKyIecaIbVrrqiWslRlMdXS8sAbr9udFSnYClnzgBSWcdwBYQGSe8dUe5ubxQeRrNlo+sdrAAkiRFhE9DVQOXCnbqm6HL+1PhtP/rbyvwa/kc+r1+DB84gkeeLCgGMXQFj32Hw3W//+M1+u4mPDI5fLe78rAM3/P4316/ZBwf7Wv8/wFREBclUew2ggAAAABJRU5ErkJggg=="}];
for(var R=0;R<n.length;R++)hI.f_.push({yx:new i6(n[R],100+R),$o:5,lH:!0})}());hI.prototype.apQ=function(n){for(var R=0;
R<n.length;R++){var q=n[R],p=new i6(q,"plg_"+q.name);this.fy.push({yx:p,$o:5});this.a1O.push(p.u0)}this.EA()};
hI.prototype.ts=function(n,q){this.BW=n;var p=this.fy;for(var R=0;R<p.length;R++)p[R].yx.ts(n,q);if(q==cF.co||q==cF.Bo)this.EA()};
hI.prototype.nX=function(n){var q=this.fy;for(var R=0;R<q.length;R++)q[R].yx.nX(n)};hI.prototype.rb=function(n,q){this.XF=n;
this.rZ=q;this.a1[0].rb(n,q);this.a1[1].rb(n,q)};hI.prototype.EA=function(){var n=this.BW,q=this.XF;
if(n==null||q==0)return;var p=n.uI.concat(this.a1O);if(JSON.stringify(p)!=this.asr){this.asr=JSON.stringify(p);
P.Ls(this.g);var E=[];for(var R=0;R<this.a1.length;R++){var T=this.a1[R];E[R]=T._T();while(T.a9b()!=0)T.a1a(0);
T.N0()}var i=[];for(var R=0;R<this.Sw.length;R++){var H=this.Sw[R];H.N0();while(H.agj()!=0)H.Pz(0);i.push(0)}for(var R=0;
R<p.length;R++){var Z=this.a4B(p[R].toString());this.Sw[Z.$o].L9(Z.yx);this.Sw[Z.$o].qC(0);i[Z.$o]++}var w=[];
for(var R=0;R<i.length;R++){if(i[R]==0)continue;var d=R<2||q<500?1:0,T=this.a1[d];T.parent=this;T.ajT(this.Sw[R]);
w[d]=!0}for(var R=0;R<this.a1.length;R++)if(w[R])this.g.appendChild(this.a1[R].g);this.a1[0].collapse();
if(q<700||this.BW.compact||!E[1]){this.a1[1].collapse()}var O=new ea(P.E.T,!0);O.data={e:P.C.Y4};this.K(O)}};
hI.prototype.a4B=function(n){for(var R=0;R<this.fy.length;R++)if(this.fy[R].yx.u0==n)return this.fy[R]};
hI.prototype.aqt=function(n){var q=this.a4B(n);this.Sw[q.$o].L9(q.yx)};hI.prototype.o5=function(n,q,p){var E=this.fy;
for(var R=0;R<E.length;R++)E[R].yx.o5(n,q,p)};hI.prototype.LA=function(n,q,p,E,T){var i=this.fy;for(var R=0;
R<i.length;R++)i[R].yx.LA(n,q,p,E,T)};hI.prototype.Tw=function(n,q,p,E,T){var i=this.fy;for(var R=0;
R<i.length;R++)i[R].yx.Tw(n,q,p,E,T)};hI.prototype.HO=function(n,q,p,E,T){var i=this.fy;for(var R=0;
R<i.length;R++)i[R].yx.HO(n,q,p,E,T)};function hp(n,q){ey.call(this,"toolbar");this.yp=null;this.Mi=P.z("div","tools");
this.g.appendChild(this.Mi);this.US=null;this.aof=q;this.EG=null;this.ai1=-1;this.aov={};this.A=null;
this.I3=null;this.K_=null;this.k8=null;this.lg(n);this.aM=new gD;this.aM.g.style.marginTop="5px";this.aM.g.style.marginBottom="3px";
this.aM.parent=this;this.ew=new bG(P.ic("lrs/mask"),!1,[6,6,1]);this.ew.R("click",function(i){var H=new ea(P.E.u,!0);
H.i=A.L7;H.data={e:"qmask"};this.K(H)},this);var p=new i_(null,["Ctrl","Alt","Shift","No Touch"],!0);
p.R(P.E.b,this.a38,this);var E=P.z("span","rangecont form");E.appendChild(p.g);var T=new g9;T.g=E;this.a1e=[!1,!1,!1,!1];
this.L3=new bG("\u2328",!1,"Virtual Keys");this.L3.R("click",function(i){var H=this.L3.g.getBoundingClientRect(),Z=new ea(P.E.T,!0);
Z.data={e:P.C.KU,yx:T,x:H.left,y:H.top-30};this.K(Z)},this)}hp.prototype=new ey;hp.prototype.a38=function(n){var q=n.target.I();
this.L3.j(q[0]||q[1]||q[2]||q[3]);var p=new ea(P.E.T,!0);p.data={e:P.C.Wl};this.K(p);for(var R=0;R<4;
R++){if(q[R]!=this.a1e[R]){p.data={e:P.C.an8,fk:q[R],asL:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][R]};
this.K(p)}}this.a1e=q.slice(0)};hp.prototype.alu=function(n,q){this.EG=q;if(n==null||n.p.length==0||n.h[n.p[0]]==null)return;
var p=n.ew()!=null,E=n.c.mc,T=n.h[n.p[0]].TL,i=T==1||T==3||p||E[0]+E[1]+E[2]==1;this.aM.acI(i);this.ew.j(p)};
hp.prototype.akA=function(n,q){var p=n.length,E=[];for(var R=0;R<p;R++)E[R]=n[R].slice(0);n=E;var T=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(T.length/2,p-q);
for(var R=0;R<i;R++){var H=T[2*R],Z=T[2*R+1];n[H]=n[H].concat(n[Z]);n[Z]=null}for(var R=0;R<n.length;
R++)if(n[R]==null){n.splice(R,1);R--}return n};hp.prototype.aps=function(n,q){for(var R=0;R<q.length;
R++)for(var p=0;p<q[R].length;p++)if(q[R][p].i.id==n)return R};hp.prototype.lg=function(n,q){this.yp=n;
this.I3=[];this.K_=[];this.k8=[];this.A=[];var p=n.FB;if(q!=null&&this.aof)p=this.akA(p,q);if(this.US){var E=[],T=this.US.ajo;
for(var R=0;R<p.length;R++){var i=[];for(var H=0;H<p[R].length;H++){var Z=p[R][H];if(T==null||T.indexOf(parseInt(Z.i.id))!=-1)i.push(Z)}if(i.length>0)E.push(i)}p=E}for(var R=0;
R<p.length;R++){var w=[],d=this.I3.length,O=null,W=-1;for(var H=0;H<p[R].length;H++){var Z=p[R][H].i,C=this.aps(Z.id,n.FB),a=n.keys[C];
this.A.push(Z);var B=new hO(Z.name,a,Z.wK,this.I3.length,R,p[R].length>1);this.I3.push(B);var $=this.aov[Z.id];
if($==null)$=0;if($>W){W=$;O=B}B.R(P.E.b,this.Dx,this);B.R("mover",this.Vy,this);w.push({name:Z.name,wj:Z.wK,kZ:a?a.vf:""})}this.K_.push(O);
if(w.length==1)this.k8.push(null);else{var I=new a1(w);I.abL=d;I.HV=R;this.k8.push(I);I.R("select",this.akm,this);
I.parent=this}}};hp.prototype.rb=function(n,q){var p=this.rZ=q-11,E=32;if(1<P.D()&&P.D()<1.5)E=18+14*(1/P.D());
var T=39+23,i=Math.floor((p-T)/E),H=this.US;if(H==null)return;if(i!=this.ai1){this.ai1=i;this.lg(this.yp,i);
this.Bg(H.tj)}var Z=this.K_.length*E+T,w=Math.min(1,p/Z);if(.75<=w){this.Mi.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+w+","+w+");");
this.g.setAttribute("style","height:"+(q-2)+"px; overflow:hidden")}else{p-=4;this.Mi.setAttribute("style","height: "+p+"px;  width:"+Math.ceil(Z/p)*34+"px");
this.g.setAttribute("style","")}};hp.prototype.N=function(){for(var R=0;R<this.I3.length;R++)this.I3[R].N();
for(var R=0;R<this.k8.length;R++)if(this.k8[R])this.k8[R].N()};hp.prototype.Dx=function(n){var q=new ea(P.E.T,!0);
q.data={e:P.C.Tk,i:this.A[n.id].id};this.K(q)};hp.prototype.akm=function(n){var q=n.target.abL+n.target.uZ()[0];
this.I3[q].Ml(null)};hp.prototype.Vy=function(n){var q=this.EG,p=new ea(P.E.T,!0);p.data={e:P.C.Wl};
this.K(p);var E=n.target,T=this.k8[E.HV];if(T==null)return;var i=E.g.getBoundingClientRect(),p=new ea(P.E.T,!0);
p.data={e:P.C.KU,yx:T,x:i.left+i.width+8,y:i.top};if(q==null||!(q.r(aj.gW)||q.r(aj.Fj)))this.K(p)};hp.prototype.Bg=function(n){this.aov[n]=Date.now();
var q=-1;for(var R=0;R<this.A.length;R++)if(this.A[R].id==n)q=R;for(var R=0;R<this.I3.length;R++){var p=this.I3[R];
p.a2x(q==R)}if(q==-1)return;this.K_[this.I3[q].HV]=this.I3[q];P.Ls(this.Mi);var E=this.K_;for(var R=0;
R<E.length;R++){this.Mi.appendChild(E[R].g)}if(!this.aof)return;this.Mi.appendChild(this.aM.g);if(this.rZ>640)this.Mi.appendChild(this.ew.g);
this.Mi.appendChild(this.L3.g)};hp.prototype.o5=function(n,q){this.Bg(q.tj)};hp.prototype.ts=function(n,q){this.US=n;
if(q==cF.Bo){this.lg(this.yp);this.Bg(n.tj)}this.aM.anp(n.ny,n.iu)};function hO(n,q,p,E,T,i){g9.call(this);
this.$E=0;this.$M=this.a1v.bind(this);this.HV=T;this.s$=E;this.xe=n;this.aoJ=q;this.a6I=i;this.wK=p;
this.g=P.z("button","");this.g.innerHTML=P.ic(this.wK);if(this.a6I){var H=P.z("img","gsicon");H.setAttribute("src",PIMG["tools/corner"]);
H.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.g.appendChild(H)}this.N();
P.v$(this.g,this.IO.bind(this));this.g.addEventListener("click",this.Ml.bind(this),!1);this.g.addEventListener("contextmenu",hO.dv,!1)}hO.prototype=new g9;
hO.dv=function(n){n.stopPropagation();n.preventDefault();return!1};hO.prototype.N=function(){var n=this.aoJ?" ("+this.aoJ.vf+")":"";
this.g.setAttribute("title",fE.get(this.xe)+n)};hO.prototype.IO=function(n){this.$E=setTimeout(this.$M,160)};
hO.prototype.Ml=function(n){clearTimeout(this.$E);var q=new ea(P.E.b,!1);q.target=this;q.id=this.s$;
this.K(q)};hO.prototype.a1v=function(n){var q=new ea("mover",!1);q.target=this;q.id=this.s$;this.K(q)};
hO.prototype.a2x=function(n){this.g.setAttribute("class",n?"toolbtn active":"toolbtn")};function hU(){g9.call(this);
this.g=P.z("div","topbar");this.JL=P.z("span","");this.acu=0;this.g.appendChild(this.JL);this.FS=null;
this.Hz=null;this.u6=[];this.uI=[];var n=this.IO.bind(this);for(var R=0;R<hU.data.length;R++){var q=P.z("button");
this.u6.push(q);this.JL.appendChild(q);q.addEventListener("mouseover",n,!1);P.v$(q,n)}this.kV=new bG([0,13,0],!1,null,!0);
this.kV.R("click",this.xn,this);this.g.appendChild(this.kV.g);this.De=new bG(P.ic("tools/zoom",null,"autoscale"),!1,[12,86]);
this.De.R("click",this.xn,this);this.g.appendChild(this.De.g);this.cP=new bG("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.cP.R("click",this.xn,this);this.g.appendChild(this.cP.g)}hU.prototype=new g9;hU.prototype.acF=function(){if(this.uI.length!=0)return;
for(var R=0;R<hU.data.length;R++){var n=hU.data[R],q=new a1(n.items,n.Xk);q.parent=this;this.uI.push(q)}this.N()};
hU.prototype.N=function(){this.kV.N();this.De.N();this.cP.N();for(var R=0;R<this.u6.length;R++)this.u6[R].textContent=fE.get(hU.data[R].name);
this.ads();for(var R=0;R<this.uI.length;R++)this.uI[R].N()};hU.prototype.xn=function(n){var q=new ea(P.E.T,!0);
if(n.target==this.kV)q.data={e:P.C.Lr,ov:"account"};else if(n.target==this.De)q.data={e:P.C.si};else q.data={e:P.C.by,_7:!0};
this.K(q)};hU.prototype.arF=function(n,q){this.FS=n;this.Hz=q};hU.prototype.ts=function(n,q){this.Hz=n;
if(q==cF.Bo){var p=n.ae_;P.Ls(this.JL);for(var R=0;R<this.u6.length;R++){if(p==null||p[R]==1||p[R]instanceof Array)this.JL.appendChild(this.u6[R]);
if(p!=null&&p[R]instanceof Array){this.acF();this.uI[R].aeI(p[R])}}this.g.removeChild(this.kV.g);this.g.removeChild(this.De.g);
this.g.removeChild(this.cP.g);if(n.PK)this.g.appendChild(this.kV.g);this.g.appendChild(this.De.g);this.g.appendChild(this.cP.g)}this.ads()};
hU.prototype.ads=function(n,q){var p=this.kV,E=12255232;if(de.eT())E=de.f7()?43520:16755200;p.g.setAttribute("style","color:#ffffff; background-color:#"+j.E2(E))};
hU.prototype.IO=function(n){this.acF();var R=this.u6.indexOf(n.currentTarget),q=this.uI[R];if(n.type=="mouseover"&&!P.pM(this.uI[this.acu].g))return;
if(P.pM(q.g))return;n.aq8=!0;this.acu=R;for(var R=0;R<hU.data.length;R++)this.uI[R].update(this.FS,this.Hz);
var p=n.target.getBoundingClientRect(),E=new ea(P.E.T,!0);E.data={e:P.C.KU,yx:q,x:p.left,y:p.top+p.height+2,a6R:!0};
this.K(E)};hU.akR=function(n){var q=aj,p=q.Fj,E=q.$t,T=q.sL,i={name:[0,5],items:[{name:[7,0],kZ:[p,q.C]},{name:[7,1],kZ:[p,q.qv],J:function(Z){return{J:Z!=null&&Z.$!=null}}},{name:[7,2],kZ:[E,p,q.er],J:function(Z){return{J:Z!=null&&Z.$!=null}},H8:!0},{name:[7,11],Ak:!0,J:function(Z){return{J:Z!=null&&Z.p.length!=0&&!Z.h[Z.p[0]].rect.M6()}}},{name:[7,13],Ak:!0,J:function(Z){return{J:Z!=null&&Z.p.length!=0&&!Z.h[Z.p[0]].rect.M6()}},H8:!0},{name:[7,8],Ak:!0},{name:[7,3],H8:!0,sub:[{name:[7,9],Ak:!0,J:function(Z){return{J:Z!=null&&Z.$!=null}}},{name:[19,3,0],Ak:!0,J:function(Z){return{J:Z!=null&&Z.$!=null}}},{name:[7,4],Ak:!0,J:function(Z){return{J:Z!=null&&Z.$!=null}}},{name:[7,5],Ak:!0,J:function(Z){return{J:Z!=null&&Z.$!=null}}},{name:[7,6],Ak:!0,J:function(Z){return{J:Z!=null&&Z.$!=null}},kZ:"Shift+F6"}]},{name:[7,10],J:function(Z){return{J:Z!=null&&Z.$!=null}},H8:!0},{name:[6,6,1],J:function(Z){return{J:Z!=null,LV:Z!=null&&Z.ew()!=null}},kZ:[q.ni],H8:!0},{name:"Save Selection"}],Xk:[{l:P.E.Gi,m:A.eY.b0(!0)},{l:P.E.Gi,m:A.eY.b0()},{l:P.E.Gi,m:{oK:"inverse"}},{l:P.E.T,m:{e:P.C.Lr,ov:"redge"}},{l:P.E.T,m:{e:P.C.Lr,ov:"magiccut"}},{l:P.E.T,m:{e:P.C.Lr,ov:"crange"}},{sub:[{l:P.E.T,m:{e:P.C.Lr,ov:"sel_border"}},{l:P.E.T,m:{e:P.C.Lr,ov:"sel_smoothness"}},{l:P.E.T,m:{e:P.C.Lr,ov:"sel_expand"}},{l:P.E.T,m:{e:P.C.Lr,ov:"sel_contract"}},{l:P.E.T,m:{e:P.C.Lr,ov:"sel_feather"}}]},{l:P.E.T,m:{e:P.C.Tk,i:A.zi}},{l:P.E.u,i:A.L7,m:{e:"qmask"}},{l:P.E.Gi,m:{oK:"duplicate",ga:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(n){var H=i.items.length-1;i.items.splice(H-2,0,{name:[6,49],kZ:[p,q.GT],H8:!0});i.Xk.splice(H-2,0,{l:P.E.u,i:A.iq,m:{e:g.L0}});
i.items.splice(H-1,0,{name:[10,16],kZ:[T,p,q.wA]});i.Xk.splice(H-1,0,{l:P.E.T,m:{e:P.C.Tk,i:A.Uv}})}return i};
hU.data=function(){var n=aj,q=n.Fj,p=n.$t,E=n.sL,T=function(O){return{J:O!=null&&O.p.length!=0}},i=function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.SoLd!=null}},H=[],Z=[],w="none maxx avrg medn minn rang stdv summ vari".split(" "),d=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var R=0;R<w.length;R++){H.push({name:d[R]});Z.push({l:P.E.u,i:A.iq,m:{e:g.gd,Il:w[R]}})}return[{name:[0,0],items:[{name:[5,3],kZ:[E,q,n.UH],title:[11,7],Ak:!0},{name:[1,0],kZ:[q,n.Fo],Ak:!0},{name:[1,11],Ak:!0,J:function(O,W){return{J:O!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],H8:!0,sub:[{name:[1,5],Ak:!0},{name:[11,0],Ak:!0},{name:["PSD VAR0",[25,0]],Ak:!0}]},{name:[1,1],H8:!0,sub:[{name:"PNG",kZ:"Imgur.com",J:function(O,W){return{J:O!=null&&W.rh}}},{name:"JPG",kZ:"Imgur.com",J:function(O,W){return{J:O!=null&&W.rh}}},{name:"PSD",kZ:"Photopea.com",J:function(O,W){return{J:O!=null&&W.rh&&!O.mw}}}]},{name:"Save ...",kZ:[q,n.sq],J:function(O,W){var C=fE.get([1,2])+(O==null?"":O.OY?" (Smart Object)":O.ps?" (Google Drive)":"");
return{J:O!=null&&(O.qq!=null&&O.ON=="psd"||O.OY!=null||O.wH!=null&&O.wH._y!=null||O.ps!=null||W.MT.save!=null),XW:C}}},{name:[1,3],J:function(O,W){return{J:O!=null&&!O.mw&&W.rh}}},{name:["VAR0 PSD/PSB",[1,2]],Ak:!0,J:function(O,W){return{J:O!=null&&!O.mw&&W.rh}}},{name:[1,8],sub:function(){var O=al.dY(0),W=[];
for(var R=0;R<O.length;R++)W.push({name:O[R],kZ:"."+O[R].toLowerCase()});W.push({name:[0,14],sub:function(){var O=al.dY(1),W=[];
for(var R=0;R<O.length;R++)W.push({name:O[R],kZ:"."+O[R].toLowerCase()});return W}()});return W}()},{name:[1,4],Ak:!0,J:function(O,W){return{J:O!=null}},H8:!0},{name:[1,9],Ak:!0,J:function(O,W){return{J:O!=null}}},{name:"Export Color Lookup",Ak:!0,J:function(O,W){return{J:O!=null}},H8:!0},{name:[1,14],Ak:!0,J:function(O,W){return{J:O!=null}},H8:!0},{name:[1,10]}],Xk:[{l:P.E.T,m:{e:P.C.Lr,ov:"newproject"}},{l:P.E.T,m:{e:P.C.By}},{l:P.E.T,m:{e:P.C.By,ak9:!0}},{sub:[{l:P.E.T,m:{e:P.C.Lr,ov:"open_from_url"}},{l:P.E.T,m:{e:P.C.Lr,ov:"camera"}},{l:P.E.T,m:{e:P.C.Lr,ov:"templates"}}]},{sub:[{l:P.E.T,m:{e:P.C.eC,db:"png"}},{l:P.E.T,m:{e:P.C.eC,db:"jpg"}},{l:P.E.T,m:{e:P.C.eC,db:"psd"}}]},{l:P.E.T,m:{e:P.C.fF}},{l:P.E.T,m:{e:P.C.Tz}},{l:P.E.T,m:{e:P.C.Lr,ov:"savepsb"}},{sub:function(){var O=al.dY(0),W=[];
for(var R=0;R<O.length;R++)W.push({l:P.E.T,m:{e:P.C.Lr,ov:"saveforweb",db:R}});W.push({sub:function(){var C=al.dY(0).length,O=al.dY(1),W=[];
for(var R=0;R<O.length;R++)W.push({l:P.E.T,m:{e:P.C.Lr,ov:"saveforweb",db:C+R}});return W}()});return W}()},{l:P.E.T,m:{e:P.C.Lr,ov:"saveforweb",db:4,asO:!0}},{l:P.E.T,m:{e:P.C.Lr,ov:"eassets"}},{l:P.E.T,m:{e:P.C.Lr,ov:"exlut"}},{l:P.E.T,m:{e:P.C.Lr,ov:"finfo"}},{l:P.E.T,m:{e:P.C.Lr,ov:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],kZ:[p,q,n.pl]},{name:[2,1],kZ:[q,n.pl],H8:!0},{name:[2,11],kZ:[p,q,n.Pb],H8:!0,Ak:!0,J:function(O,W){return{J:bq.a62(O)&&W.tj!=A.Uv}}},{name:[5,0],kZ:[q,n.GX]},{name:[5,1],kZ:[q,n.lI]},{name:[5,7],kZ:[p,q,n.lI]},{name:[5,2],kZ:[q,n.U0],J:function(O,W){return{J:P.EN()||W.GJ!=null||W.L$!=null||W.a5Y!=null}}},{name:[2,2],J:function(O){return{J:O!=null&&O.$!=null}},kZ:"Delete",H8:!0},{name:[2,3],J:function(O){return{J:O!=null}},Ak:!0,kZ:[p,n.fu]},{name:[14,9],J:function(O){return{J:O!=null}},Ak:!0,H8:!0},{name:[10,48],J:function(O){return{J:O!=null&&O.zP(!1)}}},{name:[10,46],J:function(O){return{J:A.hL.hS(O)}}},{name:[10,16],kZ:[E,q,n.wA]},{name:[2,4],sub:cq.ask()},{name:[2,10,1]},{name:[2,10,0],H8:!0},{name:[12,87],sub:[{name:[12,62],J:function(O){return{J:O!=null}}},{name:[9,3],J:function(O){return{J:O!=null}}},{name:[10,31],J:function(O){return{J:O!=null&&O.Jy()[1].length!=0}}}]},{name:[12,79],Ak:!0,kZ:[q,n.I6]},{name:[1,13],Ak:!0}],Xk:[{l:P.E.u,i:A.e$,m:{e:"h_undoredo"}},{l:P.E.u,i:A.e$,m:{e:"h_stepfwd"}},{l:P.E.u,i:A.e$,m:{e:"h_stepbck"}},{l:P.E.T,m:{e:P.C.Lr,ov:"afw_fade"}},{l:P.E.T,m:{e:P.C.Ed}},{l:P.E.T,m:{e:P.C.yr}},{l:P.E.T,m:{e:P.C.yr,n5:!0}},{l:P.E.T,m:{e:P.C.W6}},{l:P.E.Gi,m:{oK:"delete"}},{l:P.E.T,m:{e:P.C.Lr,ov:"fill"}},{l:P.E.T,m:{e:P.C.Lr,ov:"stroke"}},{l:P.E.T,m:{e:P.C.Tk,i:A.CI}},{l:P.E.u,i:A.Yo,m:{e:"start",nd:"rigidTransform"}},{l:P.E.T,m:{e:P.C.Tk,i:A.Uv}},{sub:cq.acY()},{l:P.E.Gi,m:{oK:"align",ga:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{l:P.E.u,i:A.iq,m:{e:g.gC}},{sub:[{l:P.E.T,m:{e:P.C.uf,sQ:0}},{l:P.E.T,m:{e:P.C.uf,sQ:1}},{l:P.E.T,m:{e:P.C.uf,sQ:2}}]},{l:P.E.T,m:{e:P.C.Lr,ov:"preferences"}},{l:P.E.T,m:{e:P.C.Lr,ov:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var O=[];
for(var W in iJ.names){O.push({name:iJ.names[W],Ak:r[W]!=null,kZ:aj.iD(iJ.keys[W]),H8:iJ.T3.indexOf(W)!=-1});
if(W=="selc"){O.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Ak:!0,H8:!0});O.push({name:[19,7,0],kZ:[q,p,n.px],J:function(W){return{J:W&&W.p.length!=0&&W.h[W.p[0]].add.SoLd==null}}})}}return O}()},{name:[4,16,0],J:function(O){return{J:O!=null&&O.zP(!1)}}},{name:[4,16,1],J:function(O){return{J:O!=null&&O.zP(!1)}}},{name:[4,16,2],J:function(O){return{J:O!=null&&O.zP(!1)}},H8:!0},{name:"Reduce Colors",J:function(O){return{J:O!=null&&O.zP(!1)}}},{name:[11,11],J:function(O){return{J:O!=null&&O.zP(!1)}},H8:!0},{name:[11,3],Ak:!0,kZ:[E,q,n.lI]},{name:[11,10],Ak:!0,kZ:[E,q,n.er]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],J:function(O){return{J:O!=null&&O.$!=null}}},{name:[11,12,0],J:function(O){return{J:O!=null}},kZ:[q,n.dk]},{name:[11,12,2],J:function(O){return{J:O!=null}},H8:!0},{name:[2,12],J:function(O){return{J:O!=null&&O.zP(!1)}},Ak:!0}],Xk:[{sub:function(){var O=[];
for(var W in iJ.names){O.push({l:P.E.u,i:A.C7,m:{e:"start",WX:W}});if(W=="selc"){O.push({l:P.E.u,i:A.Yo,m:{e:"start",nd:"adaptCorrect"}});
O.push({l:P.E.Gi,m:{oK:"desaturate"}})}}return O}()},{l:P.E.Gi,m:{oK:"levels",ga:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{l:P.E.Gi,m:{oK:"levels",ga:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{l:P.E.Gi,m:{oK:"levels",ga:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{l:P.E.T,m:{e:P.C.Lr,ov:"rcolors"}},{l:P.E.T,m:{e:P.C.Lr,ov:"vbitmap"}},{l:P.E.T,m:{e:P.C.Lr,ov:"csize"}},{l:P.E.T,m:{e:P.C.Lr,ov:"isize"}},{sub:[{l:P.E.Gi,m:A.Z.K2(!0,90)},{l:P.E.Gi,m:A.Z.K2(!0,-90)},{l:P.E.Gi,m:A.Z.K2(!0,-180)},{l:P.E.Gi,m:A.Z.K2(!1,"Hrzn")},{l:P.E.Gi,m:A.Z.K2(!1,"Vrtc")}]},{l:P.E.u,i:A.m$,m:{e:"cropbysel",aaq:0}},{l:P.E.Gi,m:A.c8.WT(0)},{l:P.E.Gi,m:{oK:"revealAll",ga:{classID:"RvlA"}}},{l:P.E.u,i:A.C7,m:{e:"start",WX:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],kZ:[q,n.GT]}]},{name:[6,0],J:T,kZ:[q,n.GT]},{name:[11,4],J:T},{name:[5,4],J:T,H8:!0},{name:[11,6],H8:!0,J:T,sub:fK.cL(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],H8:!0,sub:fK.a5L()},{name:[6,2],sub:[{name:[6,4],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()==null}}},{name:[6,5,0],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()==null}}},{name:[6,5,1],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()==null&&O.$!=null}}},{name:[6,5,2],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()==null&&O.$!=null}}},{name:[6,5,3],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()==null}},H8:!0},{name:[5,4],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()!=null}}},{name:[5,8],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()!=null&&O.zP(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].u1()!=null}}}]},{name:[6,3],sub:[{name:[6,4],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.vmsk==null}}},{name:[6,5,0],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.vmsk==null}}},{name:"Current Path",J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.vmsk==null}},H8:!0},{name:[5,4],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],J:function(O){return{J:O!=null&&O.p.length!=0&&O.h[O.p[0]].add.vmsk!=null}}}]},{name:[6,6,0],kZ:[E,q,n.TE],H8:!0,J:function(O){return{LV:O!=null&&O.p.length!=0&&O.h[O.p[0]].PJ,J:O!=null&&O.Mo(O.p[0])}}},{name:"Smart Object",H8:!0,sub:[{name:[6,7]},{name:[6,36,4],J:i,sub:H},{name:[1,0],J:i,H8:!0},{name:"Turn into JPG"}]},{name:[6,8],J:function(O){if(O==null||O.p.length==0)return{J:!1};
var W=O.h[O.p[0]];if(W.add.TySh||W.add.SoLd||W.add.SoCo||W.add.GdFl||W.add.PtFl)return{J:!0};return{J:!1}}},{name:[6,34],H8:!0,J:function(O){if(O==null||O.p.length==0)return{J:!1};
var W=O.h[O.p[0]];return{J:W.add.lmfx!=null&&!W.z7()}}},{name:[6,9],H8:!0,kZ:[q,n.TE]},{name:[6,55],H8:!0,sub:[{name:[6,56,0],kZ:[p,q,n.jA]},{name:[6,56,1],kZ:[q,n.jA]},{name:[6,56,2],kZ:[q,n.Py]},{name:[6,56,3],kZ:[p,q,n.Py]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],J:function(O){return{J:O!=null&&O.p.length==1&&O.p[0]!=0&&!O.h[O.p[0]].z7()}},kZ:[q,n.E]},{name:[6,12,0],J:function(O){return{J:O!=null&&O.p.length!=0&&(O.p.length>1||O.h[O.p[0]].z7())}}},{name:[6,12,1]}],Xk:[{sub:[{l:P.E.u,i:A.iq,m:{e:g.mp}},{l:P.E.u,i:A.iq,m:{e:g.D3}},{l:P.E.u,i:A.iq,m:{e:g.L0}}]},{l:P.E.u,i:A.iq,m:{e:g.se}},{l:P.E.T,m:{e:P.C.Lr,ov:"duplinto"}},{l:P.E.u,i:A.iq,m:{e:g.va}},{sub:fK.WY(!0)},{sub:[{l:P.E.u,i:A.a9,m:{e:"newfill",hw:0}},{l:P.E.Gi,m:A.am.zm(1)},{l:P.E.Gi,m:A.am.zm(2)}]},{sub:fK.aaW()},{sub:[{l:P.E.u,i:A.iq,m:{e:g.iy,Hg:"RvlA"}},{l:P.E.u,i:A.iq,m:{e:g.iy,Hg:"HdAl"}},{l:P.E.u,i:A.iq,m:{e:g.iy,Hg:"RvlS"}},{l:P.E.u,i:A.iq,m:{e:g.iy,Hg:"HdSl"}},{l:P.E.u,i:A.iq,m:{e:g.iy,Hg:"Trns"}},{l:P.E.u,i:A.iq,m:{e:g.SM}},{l:P.E.u,i:A.iq,m:{e:g.aw}},{l:P.E.u,i:A.iq,m:{e:g._M}}]},{sub:[{l:P.E.u,i:A.iq,m:{e:g.EC,a3h:!1}},{l:P.E.u,i:A.iq,m:{e:g.EC,a3h:!0}},{l:P.E.u,i:A.iq,m:{e:g.EC,aoR:!0}},{l:P.E.u,i:A.iq,m:{e:g.tO}},{l:P.E.u,i:A.iq,m:{e:g.WM}}]},{l:P.E.u,i:A.iq,m:{e:g.P2}},{sub:[{l:P.E.Gi,m:{oK:"newPlacedLayer"}},{sub:Z},{l:P.E.Gi,m:{oK:"placedLayerEditContents",ga:{classID:"placedLayerEditContents"}}},{l:P.E.u,i:A.iq,m:{e:g.Wr}}]},{l:P.E.Gi,m:{oK:"rasterizeLayer",ga:{classID:"rasterizeLayer",null:j4.hZ("Lyr",!0)}}},{l:P.E.u,i:A.iq,m:{e:g.bB}},{l:P.E.u,i:A.iq,m:{e:g.qJ}},{sub:[{l:P.E.u,i:A.iq,m:{e:g.zS,df:0}},{l:P.E.u,i:A.iq,m:{e:g.zS,df:1}},{l:P.E.u,i:A.iq,m:{e:g.zS,df:2}},{l:P.E.u,i:A.iq,m:{e:g.zS,df:3}}]},{sub:[{l:P.E.u,i:A.iq,m:{e:g.wp,df:"makeframes"}},{l:P.E.u,i:A.iq,m:{e:g.wp,df:"unmakeframes"}},{l:P.E.u,i:A.iq,m:{e:g.wp,df:"merge"}}]},{l:P.E.u,i:A.iq,m:{e:g.eB}},{l:P.E.u,i:A.iq,m:{e:g.LJ}},{l:P.E.Gi,m:{oK:"flattenImage"}}]},hU.akR(!1),function(){var O={name:[0,6],items:[{name:[24,18,4],kZ:[E,q,n.Pb],H8:!0}],Xk:[{l:P.E.u,i:A.Yo,m:{e:"applylast"}}]};
for(var R=0;R<fU.DJ.length;R++){var W=fU.DJ[R];if(W.IH!=null){O.items.push({name:fU.names[W.IH],Ak:!0,H8:W.H8});
O.Xk.push({l:P.E.u,i:A.Yo,m:{e:"start",nd:W.IH}});continue}var C={name:W.u5,sub:[]};O.items.push(C);
var a={sub:[]};O.Xk.push(a);for(var B=0;B<W.Tj.length;B++){var $={name:fU.names[W.Tj[B]],Ak:fU.yQ(W.Tj[B])!=null};
C.sub.push($);var I={l:P.E.u,i:A.Yo,m:{e:"start",nd:W.Tj[B]}};a.sub.push(I)}}return O}(),{name:[0,7],items:[{name:[8,0],kZ:[q,n.ri]},{name:[8,1],kZ:[q,n.VZ]},{name:[20,3],kZ:[q,n.Vs]},{name:[20,2],kZ:[q,n.tp],H8:!0},{name:"Screen Mode",H8:!0,sub:[{name:"Fullscreen",J:function(O,W){return{LV:document.fullscreenElement!=null}},H8:!0},{name:"Standard",J:function(O,W){return{LV:W.j2==0}}},{name:"Menu Bar and Canvas",J:function(O,W){return{LV:W.j2==1}}}]},{name:"Extras",kZ:[q,n.b2],J:function(O,W){return{LV:W.Ui}}},{name:[8,12],H8:!0,sub:[{name:[17,2],J:function(O,W){return{J:W.Ui,LV:W.yM.rV}}},{name:[8,9],J:function(O,W){return{J:W.Ui,LV:W.yM.kA}}},{name:[8,2],J:function(O,W){return{J:W.Ui,LV:W.yM.lA}},kZ:[q,n.$f]},{name:[8,4],J:function(O,W){return{J:W.Ui,LV:W.yM.x5}},kZ:[q,n.r7]},{name:[8,8],J:function(O,W){return{J:W.Ui,LV:W.yM.Zw}}},{name:[8,11,0],J:function(O,W){return{J:W.Ui,LV:W.yM.D0}}}]},{name:[8,3],J:function(O,W){return{LV:W.ng}},kZ:[q,n.ys],H8:!0},{name:[8,5],J:function(O,W){return{LV:W.kK}}},{name:[8,6],H8:!0,sub:[{name:[8,2],J:function(O,W){return{LV:W.AG[0]}}},{name:[8,4],J:function(O,W){return{LV:W.AG[1]}}},{name:[9,1],J:function(O,W){return{LV:W.AG[2]}}},{name:[8,11,0],J:function(O,W){return{LV:W.AG[3]}}},{name:[8,7],J:function(O,W){return{LV:W.AG[4]}}}]},{name:[11,15,0],J:function(O,W){return{J:O!=null}}},{name:[11,14],J:function(O,W){return{J:O!=null}},Ak:!0},{name:[11,15,1],J:function(O,W){return{J:O!=null&&O.p.length!=0}}}],Xk:[{l:P.E.u,i:A.$v,m:{e:"zoom",ux:!0}},{l:P.E.u,i:A.$v,m:{e:"zoom",ux:!1}},{l:P.E.u,i:A.$v,m:{e:"adapt",k:"fitscr"}},{l:P.E.u,i:A.$v,m:{e:"adapt",k:"pixel"}},{sub:[{l:P.E.T,m:{e:P.C.by,_7:!0}},{l:P.E.T,m:{e:P.C.by,k:0}},{l:P.E.T,m:{e:P.C.by,k:1}},{l:P.E.T,m:{e:P.C.by,k:2}}]},{l:P.E.T,m:{e:P.C.Th,sQ:cF.Yv}},{sub:[{l:P.E.T,m:{e:P.C.Th,sQ:cF.lP}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.n_}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.wS}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.UQ}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.QN}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.YM}}]},{l:P.E.T,m:{e:P.C.Th,sQ:cF.VO}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.kL}},{sub:[{l:P.E.T,m:{e:P.C.Th,sQ:cF.c$,WJ:0}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.c$,WJ:1}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.c$,WJ:2}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.c$,WJ:3}},{l:P.E.T,m:{e:P.C.Th,sQ:cF.c$,WJ:4}}]},{l:P.E.u,i:A.o$,m:{e:"gids",mH:[[],[]]}},{l:P.E.T,m:{e:P.C.Lr,ov:"addguides"}},{l:P.E.u,i:A.o$,m:{e:"gidsFromLayer"}}]},function(){var O={name:[0,8],items:[{name:[0,14],H8:!0,sub:[]}],Xk:[{sub:[]}]};
for(var R=0;R<hI.f_.length;R++){var W=hI.f_[R],C=function(){var a=W.yx.u0;return function(B,$){return{LV:$.uI.indexOf(parseInt(a))!=-1}}}();
(W.lH?O.items[0].sub:O.items).push({name:W.yx.name,J:C});(W.lH?O.Xk[0].sub:O.Xk).push({l:P.E.T,m:{e:P.C.Ye,ov:W.yx.u0}})}return O}(),function(){var O={name:[0,14],items:[],Xk:[]},W={name:[0,9],sub:[]};
O.items.push(W);var C={sub:[]};O.Xk.push(C);var a=fE.a6d();for(var R=0;R<a.length;R++){var B=a[R],$=B.code,I=fE.ol($);
W.sub.push({name:B.name,kZ:$,J:function(x,U){return{LV:this.kZ==fE.TV()}}});C.sub.push({l:P.E.T,m:{e:P.C.Th,sQ:cF.P1,lang:I}})}W.sub.push({name:[0,12]});
C.sub.push({l:P.E.T,m:{e:P.C.bU,link:"https://www.photopea.com/translate/"}});var W={name:[0,15],sub:[]};
O.items.push(W);var C={sub:[]};O.Xk.push(C);for(var R=0;R<h0.Zu.length;R++){W.sub.push({name:h0.Zu[R].name,J:function(x,U){return{LV:this.name==h0.Zu[U.Au].name}}});
C.sub.push({l:P.E.T,m:{e:P.C.Th,sQ:cF.uz,Au:R}})}O.items.push({name:[0,17,6],J:function(x,U){return{J:U.mA!=null}}});
O.Xk.push({l:P.E.T,m:{e:P.C.ahp}});O.items.push({name:[11,13]});O.Xk.push({l:P.E.T,m:{e:P.C.Lr,ov:"shortcuts"}});
O.items.push({name:[0,16],J:function(x){return{LV:K.pb,J:K.QU}},H8:!0});O.Xk.push({l:P.E.T,m:{e:P.C.ar9}});
O.items.push({name:"About Photopea"});O.Xk.push({l:P.E.T,m:{e:P.C.Lr,ov:"aboutpp"}});return O}()]}();
function i9(){g9.call(this);this.g=P.z("div","");this.I5=0;this.eF=0;this.BW=null;this.$o=P.z("div","");
this.$o.setAttribute("style","width:200em; height:100em; position:absolute;");this.Zx=[];this.C3=[];
this.Tt={}}i9.prototype=new g9;i9.prototype.rX=function(n){var q=Date.now(),p=[];if(n=="-")p=[new bR,new aP,new ca,new dN,new fG,new be,new ih,new ez,new at,new b6,new eN,new f8,new f$,new iD,new cA,new fK,new j5,new ij,new cN,new bC,new d6,new cI,new iL,new gw,new ac,new ae(!1),new ae(!0),new gG(0),new gG(1),new dd,new gZ,new dA,new fF,new eg,new ak,new au,new jy,new i$("border",[7,9],"px"),new i$("smoothness",[19,3,0],"px"),new i$("expand",[7,4],"px"),new i$("contract",[7,5],"px"),new i$("feather",[7,6],"px"),new cW(0,"namewindow",[12,48]),new cW(1,"cornerradius",[12,94,0],"px",!0,!0),new cW(1,"scaleeffects","Scale Effects","%",!0),new cW(1,"doczoom","Zoom","%",!0)];
else p=[new bq(n.slice(4))];this.ajH(p);this.Tt[n]=!0};i9.prototype.ajH=function(n){var q=this.BW;for(var R=0;
R<n.length;R++){var p=n[R];p.parent=this;this.C3.push(p);this.jk(p);p.N();if(q)p.ts(q,cF.Bo);p.R(P.E.Ia,this.lT,this)}};
i9.prototype.rb=function(n,q){this.I5=n;this.eF=q;for(var R=0;R<this.C3.length;R++)this.jk(this.C3[R])};
i9.prototype.N=function(){for(var R=0;R<this.C3.length;R++)this.C3[R].N()};i9.prototype.PG=function(){return this.Zx.length==0?null:this.Zx[this.Zx.length-1]};
i9.prototype.vo=function(){for(var R=0;R<this.Zx.length;R++)if(this.Zx[R].vo())return!0;return!1};i9.prototype.amV=function(n,q,p,E,T){var i=n.startsWith("afw_"),H=null;
if(!i&&!this.Tt["-"])this.rX("-");if(i&&!this.Tt[n])this.rX(n);if(typeof n=="object"){H=n;if(!H.Fu(P.E.Ia,this.lT))H.R(P.E.Ia,this.lT,this);
H.parent=this}else for(var R=0;R<this.C3.length;R++)if(this.C3[R].id==n)H=this.C3[R];if(this.vo()&&H.vo()){alert("Finish the current action first");
return}if(!H.DU(q))return;if(this.Zx.indexOf(H)!=-1){if(n=="colorpicker")H.o5(q,p,E,T);return}var Z=this.Zx.length-1;
if(Z>=0)P.oI(this.Zx[Z].g,"wdisabled");this.g.appendChild(H.g);this.Zx.push(H);this.jk(H);H.o5(q,p,E,T)};
i9.prototype.jk=function(n){var q=this.I5,p=this.eF,E=n.Gt(q,p),T;if(E!=null){T=E}else{E=new fc(0,0);
T=n.ahC();if(T==null){var i=this.Zx.indexOf(n)+1;if(q<450||p<450)T=new fc(0,0);else T=new fc(i*150,i*150)}}n.g.style.left=T.x+"px";
n.g.style.top=this.g.offsetTop+T.y+"px";n.rb(this.I5-E.x*2,this.eF-E.y*2-34)};i9.prototype.ts=function(n,q){this.BW=n;
for(var R=0;R<this.C3.length;R++)this.C3[R].ts(n,q)};i9.prototype.lT=function(n){var q=this.Zx.pop();
this.g.removeChild(q.g);var p=this.Zx.length-1;if(p>=0)P.kO(this.Zx[p].g,"wdisabled");if(this.$o.parentNode==this.g)this.g.removeChild(this.$o)};
window.onload=function(){var n=new bm;document.body.appendChild(n.g)}}())